<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9429: JavaScript Session Establishment Protocol (JSEP)</title>
<meta content="Justin Uberti" name="author"/>
<meta content="Cullen Jennings" name="author"/>
<meta content="Eric Rescorla" name="author"/>
<meta content="
       This document describes the mechanisms for allowing a
      JavaScript application to control the signaling plane of a
      multimedia session via the interface specified in the W3C
      RTCPeerConnection API and discusses how this relates to existing
      signaling protocols. 
       This specification obsoletes RFC 8829. 
    " name="description"/>
<meta content="xml2rfc 3.21.0" name="generator"/>
<meta content="webrtc" name="keyword"/>
<meta content="sdp" name="keyword"/>
<meta content="negotiation" name="keyword"/>
<meta content="signaling" name="keyword"/>
<meta content="peerconnection" name="keyword"/>
<meta content="api" name="keyword"/>
<meta content="ice" name="keyword"/>
<meta content="rtp" name="keyword"/>
<meta content="offer" name="keyword"/>
<meta content="answer" name="keyword"/>
<meta content="9429" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.21.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9429.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-uberti-rtcweb-rfc8829bis-05" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9429" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9429</td>
<td class="center">JSEP</td>
<td class="right">April 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Uberti, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9429">9429</a></dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc8829">8829</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2024-04">April 2024</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Uberti</div>
</div>
<div class="author">
      <div class="author-name">C. Jennings</div>
<div class="org">Cisco</div>
</div>
<div class="author">
      <div class="author-name">E. Rescorla, <span class="editor">Ed.</span>
</div>
<div class="org">Windy Hill Systems, LLC</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9429</h1>
<h1 id="title">JavaScript Session Establishment Protocol (JSEP)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document describes the mechanisms for allowing a
      JavaScript application to control the signaling plane of a
      multimedia session via the interface specified in the W3C
      RTCPeerConnection API and discusses how this relates to existing
      signaling protocols.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">This specification obsoletes RFC 8829.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9429">https://www.rfc-editor.org/info/rfc9429</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-general-design-of-jsep">General Design of JSEP</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="auto internal xref" href="#section-1.2">1.2</a>.  <a class="internal xref" href="#name-other-approaches-considered">Other Approaches Considered</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p class="keepWithNext" id="section-toc.1-1.1.2.3.1"><a class="auto internal xref" href="#section-1.3">1.3</a>.  <a class="internal xref" href="#name-changes-from-rfc-8829">Changes from RFC 8829</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-semantics-and-syntax">Semantics and Syntax</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-signaling-model">Signaling Model</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-session-descriptions-and-st">Session Descriptions and State Machine</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="auto internal xref" href="#section-3.3">3.3</a>.  <a class="internal xref" href="#name-session-description-format">Session Description Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="auto internal xref" href="#section-3.4">3.4</a>.  <a class="internal xref" href="#name-session-description-control">Session Description Control</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a class="auto internal xref" href="#section-3.4.1">3.4.1</a>.  <a class="internal xref" href="#name-rtptransceivers">RtpTransceivers</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.2">
                    <p id="section-toc.1-1.3.2.4.2.2.1"><a class="auto internal xref" href="#section-3.4.2">3.4.2</a>.  <a class="internal xref" href="#name-rtpsenders">RtpSenders</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.3">
                    <p id="section-toc.1-1.3.2.4.2.3.1"><a class="auto internal xref" href="#section-3.4.3">3.4.3</a>.  <a class="internal xref" href="#name-rtpreceivers">RtpReceivers</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a class="auto internal xref" href="#section-3.5">3.5</a>.  <a class="internal xref" href="#name-ice">ICE</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.1">
                    <p id="section-toc.1-1.3.2.5.2.1.1"><a class="auto internal xref" href="#section-3.5.1">3.5.1</a>.  <a class="internal xref" href="#name-ice-gathering-overview">ICE Gathering Overview</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.2">
                    <p id="section-toc.1-1.3.2.5.2.2.1"><a class="auto internal xref" href="#section-3.5.2">3.5.2</a>.  <a class="internal xref" href="#name-ice-candidate-trickling">ICE Candidate Trickling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.2.2.1">
                        <p id="section-toc.1-1.3.2.5.2.2.2.1.1"><a class="auto internal xref" href="#section-3.5.2.1">3.5.2.1</a>.  <a class="internal xref" href="#name-ice-candidate-format">ICE Candidate Format</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.3">
                    <p id="section-toc.1-1.3.2.5.2.3.1"><a class="auto internal xref" href="#section-3.5.3">3.5.3</a>.  <a class="internal xref" href="#name-ice-candidate-policy">ICE Candidate Policy</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.4">
                    <p id="section-toc.1-1.3.2.5.2.4.1"><a class="auto internal xref" href="#section-3.5.4">3.5.4</a>.  <a class="internal xref" href="#name-ice-candidate-pool">ICE Candidate Pool</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.5">
                    <p id="section-toc.1-1.3.2.5.2.5.1"><a class="auto internal xref" href="#section-3.5.5">3.5.5</a>.  <a class="internal xref" href="#name-ice-versions">ICE Versions</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a class="auto internal xref" href="#section-3.6">3.6</a>.  <a class="internal xref" href="#name-video-size-negotiation">Video Size Negotiation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6.2.1">
                    <p id="section-toc.1-1.3.2.6.2.1.1"><a class="auto internal xref" href="#section-3.6.1">3.6.1</a>.  <a class="internal xref" href="#name-creating-an-imageattr-attri">Creating an imageattr Attribute</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6.2.2">
                    <p id="section-toc.1-1.3.2.6.2.2.1"><a class="auto internal xref" href="#section-3.6.2">3.6.2</a>.  <a class="internal xref" href="#name-interpreting-imageattr-attr">Interpreting imageattr Attributes</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a class="auto internal xref" href="#section-3.7">3.7</a>.  <a class="internal xref" href="#name-simulcast">Simulcast</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.8">
                <p id="section-toc.1-1.3.2.8.1"><a class="auto internal xref" href="#section-3.8">3.8</a>.  <a class="internal xref" href="#name-interactions-with-forking">Interactions with Forking</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.8.2.1">
                    <p id="section-toc.1-1.3.2.8.2.1.1"><a class="auto internal xref" href="#section-3.8.1">3.8.1</a>.  <a class="internal xref" href="#name-sequential-forking">Sequential Forking</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.8.2.2">
                    <p id="section-toc.1-1.3.2.8.2.2.1"><a class="auto internal xref" href="#section-3.8.2">3.8.2</a>.  <a class="internal xref" href="#name-parallel-forking">Parallel Forking</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-interface">Interface</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-peerconnection">PeerConnection</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a class="auto internal xref" href="#section-4.1.1">4.1.1</a>.  <a class="internal xref" href="#name-constructor">Constructor</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a class="auto internal xref" href="#section-4.1.2">4.1.2</a>.  <a class="internal xref" href="#name-addtrack">addTrack</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a class="auto internal xref" href="#section-4.1.3">4.1.3</a>.  <a class="internal xref" href="#name-removetrack">removeTrack</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.4">
                    <p id="section-toc.1-1.4.2.1.2.4.1"><a class="auto internal xref" href="#section-4.1.4">4.1.4</a>.  <a class="internal xref" href="#name-addtransceiver">addTransceiver</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.5">
                    <p id="section-toc.1-1.4.2.1.2.5.1"><a class="auto internal xref" href="#section-4.1.5">4.1.5</a>.  <a class="internal xref" href="#name-onaddtrack-event">onaddtrack Event</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.6">
                    <p id="section-toc.1-1.4.2.1.2.6.1"><a class="auto internal xref" href="#section-4.1.6">4.1.6</a>.  <a class="internal xref" href="#name-createdatachannel">createDataChannel</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.7">
                    <p id="section-toc.1-1.4.2.1.2.7.1"><a class="auto internal xref" href="#section-4.1.7">4.1.7</a>.  <a class="internal xref" href="#name-ondatachannel-event">ondatachannel Event</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.8">
                    <p id="section-toc.1-1.4.2.1.2.8.1"><a class="auto internal xref" href="#section-4.1.8">4.1.8</a>.  <a class="internal xref" href="#name-createoffer">createOffer</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.9">
                    <p id="section-toc.1-1.4.2.1.2.9.1"><a class="auto internal xref" href="#section-4.1.9">4.1.9</a>.  <a class="internal xref" href="#name-createanswer">createAnswer</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.10">
                    <p id="section-toc.1-1.4.2.1.2.10.1"><a class="auto internal xref" href="#section-4.1.10">4.1.10</a>. <a class="internal xref" href="#name-sessiondescriptiontype">SessionDescriptionType</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.10.2.1">
                        <p id="section-toc.1-1.4.2.1.2.10.2.1.1"><a class="auto internal xref" href="#section-4.1.10.1">4.1.10.1</a>.  <a class="internal xref" href="#name-use-of-provisional-answers">Use of Provisional Answers</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.10.2.2">
                        <p id="section-toc.1-1.4.2.1.2.10.2.2.1"><a class="auto internal xref" href="#section-4.1.10.2">4.1.10.2</a>.  <a class="internal xref" href="#name-rollback">Rollback</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.11">
                    <p id="section-toc.1-1.4.2.1.2.11.1"><a class="auto internal xref" href="#section-4.1.11">4.1.11</a>. <a class="internal xref" href="#name-setlocaldescription">setLocalDescription</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.12">
                    <p id="section-toc.1-1.4.2.1.2.12.1"><a class="auto internal xref" href="#section-4.1.12">4.1.12</a>. <a class="internal xref" href="#name-setremotedescription">setRemoteDescription</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.13">
                    <p id="section-toc.1-1.4.2.1.2.13.1"><a class="auto internal xref" href="#section-4.1.13">4.1.13</a>. <a class="internal xref" href="#name-currentlocaldescription">currentLocalDescription</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.14">
                    <p id="section-toc.1-1.4.2.1.2.14.1"><a class="auto internal xref" href="#section-4.1.14">4.1.14</a>. <a class="internal xref" href="#name-pendinglocaldescription">pendingLocalDescription</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.15">
                    <p id="section-toc.1-1.4.2.1.2.15.1"><a class="auto internal xref" href="#section-4.1.15">4.1.15</a>. <a class="internal xref" href="#name-currentremotedescription">currentRemoteDescription</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.16">
                    <p id="section-toc.1-1.4.2.1.2.16.1"><a class="auto internal xref" href="#section-4.1.16">4.1.16</a>. <a class="internal xref" href="#name-pendingremotedescription">pendingRemoteDescription</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.17">
                    <p id="section-toc.1-1.4.2.1.2.17.1"><a class="auto internal xref" href="#section-4.1.17">4.1.17</a>. <a class="internal xref" href="#name-cantrickleicecandidates">canTrickleIceCandidates</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.18">
                    <p id="section-toc.1-1.4.2.1.2.18.1"><a class="auto internal xref" href="#section-4.1.18">4.1.18</a>. <a class="internal xref" href="#name-setconfiguration">setConfiguration</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.19">
                    <p id="section-toc.1-1.4.2.1.2.19.1"><a class="auto internal xref" href="#section-4.1.19">4.1.19</a>. <a class="internal xref" href="#name-addicecandidate">addIceCandidate</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.20">
                    <p id="section-toc.1-1.4.2.1.2.20.1"><a class="auto internal xref" href="#section-4.1.20">4.1.20</a>. <a class="internal xref" href="#name-onicecandidate-event">onicecandidate Event</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-rtptransceiver">RtpTransceiver</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a class="auto internal xref" href="#section-4.2.1">4.2.1</a>.  <a class="internal xref" href="#name-stop">stop</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a class="auto internal xref" href="#section-4.2.2">4.2.2</a>.  <a class="internal xref" href="#name-stopped">stopped</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a class="auto internal xref" href="#section-4.2.3">4.2.3</a>.  <a class="internal xref" href="#name-setdirection">setDirection</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.4">
                    <p id="section-toc.1-1.4.2.2.2.4.1"><a class="auto internal xref" href="#section-4.2.4">4.2.4</a>.  <a class="internal xref" href="#name-direction">direction</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.5">
                    <p id="section-toc.1-1.4.2.2.2.5.1"><a class="auto internal xref" href="#section-4.2.5">4.2.5</a>.  <a class="internal xref" href="#name-currentdirection">currentDirection</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.6">
                    <p id="section-toc.1-1.4.2.2.2.6.1"><a class="auto internal xref" href="#section-4.2.6">4.2.6</a>.  <a class="internal xref" href="#name-setcodecpreferences">setCodecPreferences</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-sdp-interaction-procedures">SDP Interaction Procedures</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-requirements-overview">Requirements Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a class="auto internal xref" href="#section-5.1.1">5.1.1</a>.  <a class="internal xref" href="#name-usage-requirements">Usage Requirements</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a class="auto internal xref" href="#section-5.1.2">5.1.2</a>.  <a class="internal xref" href="#name-profile-names-and-interoper">Profile Names and Interoperability</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-constructing-an-offer">Constructing an Offer</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a class="auto internal xref" href="#section-5.2.1">5.2.1</a>.  <a class="internal xref" href="#name-initial-offers">Initial Offers</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a class="auto internal xref" href="#section-5.2.2">5.2.2</a>.  <a class="internal xref" href="#name-subsequent-offers">Subsequent Offers</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a class="auto internal xref" href="#section-5.2.3">5.2.3</a>.  <a class="internal xref" href="#name-options-handling">Options Handling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3.2.1">
                        <p id="section-toc.1-1.5.2.2.2.3.2.1.1"><a class="auto internal xref" href="#section-5.2.3.1">5.2.3.1</a>.  <a class="internal xref" href="#name-icerestart">IceRestart</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.3.2.2">
                        <p id="section-toc.1-1.5.2.2.2.3.2.2.1"><a class="auto internal xref" href="#section-5.2.3.2">5.2.3.2</a>.  <a class="internal xref" href="#name-voiceactivitydetection">VoiceActivityDetection</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="auto internal xref" href="#section-5.3">5.3</a>.  <a class="internal xref" href="#name-generating-an-answer">Generating an Answer</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a class="auto internal xref" href="#section-5.3.1">5.3.1</a>.  <a class="internal xref" href="#name-initial-answers">Initial Answers</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a class="auto internal xref" href="#section-5.3.2">5.3.2</a>.  <a class="internal xref" href="#name-subsequent-answers">Subsequent Answers</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.3">
                    <p id="section-toc.1-1.5.2.3.2.3.1"><a class="auto internal xref" href="#section-5.3.3">5.3.3</a>.  <a class="internal xref" href="#name-options-handling-2">Options Handling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.3.2.1">
                        <p id="section-toc.1-1.5.2.3.2.3.2.1.1"><a class="auto internal xref" href="#section-5.3.3.1">5.3.3.1</a>.  <a class="internal xref" href="#name-voiceactivitydetection-2">VoiceActivityDetection</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="auto internal xref" href="#section-5.4">5.4</a>.  <a class="internal xref" href="#name-modifying-an-offer-or-answe">Modifying an Offer or Answer</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a class="auto internal xref" href="#section-5.5">5.5</a>.  <a class="internal xref" href="#name-processing-a-local-descript">Processing a Local Description</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a class="auto internal xref" href="#section-5.6">5.6</a>.  <a class="internal xref" href="#name-processing-a-remote-descrip">Processing a Remote Description</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a class="auto internal xref" href="#section-5.7">5.7</a>.  <a class="internal xref" href="#name-processing-a-rollback">Processing a Rollback</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8">
                <p id="section-toc.1-1.5.2.8.1"><a class="auto internal xref" href="#section-5.8">5.8</a>.  <a class="internal xref" href="#name-parsing-a-session-descripti">Parsing a Session Description</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8.2.1">
                    <p id="section-toc.1-1.5.2.8.2.1.1"><a class="auto internal xref" href="#section-5.8.1">5.8.1</a>.  <a class="internal xref" href="#name-session-level-parsing">Session-Level Parsing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8.2.2">
                    <p id="section-toc.1-1.5.2.8.2.2.1"><a class="auto internal xref" href="#section-5.8.2">5.8.2</a>.  <a class="internal xref" href="#name-media-section-parsing">Media Section Parsing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8.2.3">
                    <p id="section-toc.1-1.5.2.8.2.3.1"><a class="auto internal xref" href="#section-5.8.3">5.8.3</a>.  <a class="internal xref" href="#name-semantics-verification">Semantics Verification</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9">
                <p id="section-toc.1-1.5.2.9.1"><a class="auto internal xref" href="#section-5.9">5.9</a>.  <a class="internal xref" href="#name-applying-a-local-descriptio">Applying a Local Description</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.10">
                <p id="section-toc.1-1.5.2.10.1"><a class="auto internal xref" href="#section-5.10">5.10</a>. <a class="internal xref" href="#name-applying-a-remote-descripti">Applying a Remote Description</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.11">
                <p id="section-toc.1-1.5.2.11.1"><a class="auto internal xref" href="#section-5.11">5.11</a>. <a class="internal xref" href="#name-applying-an-answer">Applying an Answer</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-processing-rtp-rtcp">Processing RTP/RTCP</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-examples">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-simple-example">Simple Example</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-detailed-example">Detailed Example</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="auto internal xref" href="#section-7.3">7.3</a>.  <a class="internal xref" href="#name-early-transport-warmup-exam">Early Transport Warmup Example</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="auto internal xref" href="#section-10.1">10.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="auto internal xref" href="#section-10.2">10.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-sdp-abnf-syntax">SDP ABNF Syntax</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sec.introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">This document describes how the W3C Web Real-Time Communication (WebRTC) RTCPeerConnection
      interface
      <span>[<a class="cite xref" href="#W3C.webrtc">W3C.webrtc</a>]</span> is used to control the setup,
      management, and teardown of a multimedia session.<a class="pilcrow" href="#section-1-1">¶</a></p>
<div id="sec.general-design-of-jsep">
<section id="section-1.1">
        <h3 id="name-general-design-of-jsep">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-general-design-of-jsep">General Design of JSEP</a>
        </h3>
<p id="section-1.1-1">WebRTC call setup has been designed to focus on controlling
        the media plane, leaving signaling-plane behavior up to the
        application as much as possible. The rationale is that
        different applications may prefer to use different protocols,
        such as the existing SIP call signaling protocol, or something
        custom to the particular application, perhaps for a novel use
        case. In this approach, the key information that needs to be
        exchanged is the multimedia session description, which
        specifies the transport and media configuration
        information necessary to establish the media plane.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">With these considerations in mind, this document describes
        the JavaScript Session Establishment Protocol (JSEP), which
        allows for full control of the signaling state machine from
        JavaScript. As described above, JSEP assumes a model in which a
        JavaScript application executes inside a runtime containing
        WebRTC APIs (the "JSEP implementation"). The JSEP
        implementation is almost entirely divorced from the core
        signaling flow, which is instead handled by the JavaScript
        making use of two interfaces: (1) passing in local and remote
        session descriptions and (2) interacting with the Interactive
        Connectivity Establishment (ICE) state
        machine <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>]</span>. The combination of the JSEP implementation and the
        JavaScript application is referred to throughout this document
        as a "JSEP endpoint".<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<p id="section-1.1-3">In this document, the use of JSEP is described as if it
        always occurs between two JSEP endpoints. Note, though, that in many
        cases it will actually be between a JSEP endpoint and some kind
        of server, such as a gateway or Multipoint Control Unit (MCU). This distinction is
        invisible to the JSEP endpoint; it just follows the
        instructions it is given via the API.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
<p id="section-1.1-4">JSEP's handling of session descriptions is simple and
        straightforward. Whenever an offer/answer exchange is needed,
        the initiating side creates an offer by calling a createOffer
        API. The application then uses that offer to set up its local
        configuration via the setLocalDescription API. The offer is finally
        sent off to the remote side over its preferred signaling
        mechanism (e.g., WebSockets); upon receipt of that offer, the
        remote party installs it using the setRemoteDescription
        API.<a class="pilcrow" href="#section-1.1-4">¶</a></p>
<p id="section-1.1-5">To complete the offer/answer exchange, the remote party uses
        the createAnswer API to generate an appropriate answer,
        applies it using the setLocalDescription API, and sends the
        answer back to the initiator over the signaling channel. When
        the initiator gets that answer, it installs it using the
        setRemoteDescription API, and initial setup is complete. This
        process can be repeated for additional offer/answer
        exchanges.<a class="pilcrow" href="#section-1.1-5">¶</a></p>
<p id="section-1.1-6">Regarding ICE
        <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>]</span>, JSEP decouples the ICE state
        machine from the overall signaling state machine. The ICE
        state machine must remain in the JSEP implementation because
        only the implementation has the necessary knowledge of
        candidates and other transport information. Performing this
        separation provides additional flexibility in protocols that
        decouple session descriptions from transport. For instance, in
        traditional SIP, each offer or answer is self-contained,
        including both the session descriptions and the transport
        information. However,
        <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>]</span> allows SIP to
        be used with Trickle ICE
        <span>[<a class="cite xref" href="#RFC8838">RFC8838</a>]</span>, in which the session
        description can be sent immediately and the transport
        information can be sent when available. Sending transport
        information separately can allow for faster ICE and DTLS
        startup, since ICE checks can start as soon as any transport
        information is available rather than waiting for all of it.
        JSEP's decoupling of the ICE and signaling state machines
        allows it to accommodate either model.<a class="pilcrow" href="#section-1.1-6">¶</a></p>
<p id="section-1.1-7">Although it abstracts signaling, the JSEP approach
        requires that the application be aware of the signaling process.
        While the application does not need to understand the contents
        of session descriptions to set up a call, the application must
        call the right APIs at the right times, convert the session
        descriptions and ICE information into the defined messages of
        its chosen signaling protocol, and perform the reverse
        conversion on the messages it receives from the other side.<a class="pilcrow" href="#section-1.1-7">¶</a></p>
<p id="section-1.1-8">One way to make life easier for the application is to
        provide a JavaScript library that hides this complexity from
        the developer; said library would implement a given signaling
        protocol along with its state machine and serialization code,
        presenting a higher-level call-oriented interface to the
        application developer. For example, libraries exist to provide
        implementations of the SIP <span>[<a class="cite xref" href="#RFC3261">RFC3261</a>]</span> and Extensible Messaging
        and Presence Protocol (XMPP) <span>[<a class="cite xref" href="#RFC6120">RFC6120</a>]</span> signaling
        protocols atop the JSEP API.
        Thus, JSEP
        provides greater control for the experienced developer without
        forcing any additional complexity on the novice developer.<a class="pilcrow" href="#section-1.1-8">¶</a></p>
</section>
</div>
<div id="sec.other-approaches-consider">
<section id="section-1.2">
        <h3 id="name-other-approaches-considered">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-other-approaches-considered">Other Approaches Considered</a>
        </h3>
<p id="section-1.2-1">One approach that was considered instead of JSEP was to
        include a lightweight signaling protocol. Instead of providing
        session descriptions to the API, the API would produce and
        consume messages from this protocol. While providing a more
        high-level API, this put more control of signaling within the
        JSEP implementation, forcing it to have to understand and
        handle concepts like signaling glare (see
        <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-4">Section 4</a></span>).<a class="pilcrow" href="#section-1.2-1">¶</a></p>
<p id="section-1.2-2">A second approach that was considered but not chosen was to
        decouple the management of the media control objects from
        session descriptions, instead offering APIs that would control
        each component directly. This was rejected based on the
        argument that requiring exposure of this level of complexity to
        the application programmer would not be beneficial; it would
        (1) result in an API where even a simple example would require a
        significant amount of code to orchestrate all the needed
        interactions and (2) create a large API surface that
        would need to be agreed upon and documented.
        In addition, these API
        points could be called in any order, resulting in a more
        complex set of interactions with the media subsystem than the
        JSEP approach, which specifies how session descriptions are to
        be evaluated and applied.<a class="pilcrow" href="#section-1.2-2">¶</a></p>
<p id="section-1.2-3">One variation on JSEP that was considered was to keep the
        basic session-description-oriented API but to move the
        mechanism for generating offers and answers out of the JSEP
        implementation. Instead of providing createOffer/createAnswer
        methods within the implementation, this approach would instead
        expose a getCapabilities API, which would provide the
        application with the information it needed in order to generate
        its own session descriptions. This increases the amount of work
        that the application needs to do; it needs to know how to
        generate session descriptions from capabilities, and especially
        how to generate the correct answer from an arbitrary offer and
        the supported capabilities. While this could certainly be
        addressed by using a library like the one mentioned above, it
        basically forces the use of said library even for a simple
        example. Providing createOffer/createAnswer avoids this
        problem.<a class="pilcrow" href="#section-1.2-3">¶</a></p>
</section>
</div>
<section id="section-1.3">
        <h3 id="name-changes-from-rfc-8829">
<a class="section-number selfRef" href="#section-1.3">1.3. </a><a class="section-name selfRef" href="#name-changes-from-rfc-8829">Changes from RFC 8829</a>
        </h3>
<p id="section-1.3-1">
          When <span>[<a class="cite xref" href="#RFC8829">RFC8829</a>]</span> was published, inconsistencies regarding BUNDLE
          <span>[<a class="cite xref" href="#RFC8843">RFC8843</a>]</span> operation were identified with regard to
          both the specification text and implementation behavior. The
          former concern was addressed via an update to BUNDLE (see <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>]</span>).
          For the latter concern, it was observed that some implementations
          implemented the "max-bundle" bundle policy defined in <span>[<a class="cite xref" href="#RFC8829">RFC8829</a>]</span>
          by assuming that bundling had already been negotiated, rather than marking "m=" sections
          as bundle-only as indicated by the BUNDLE specification.
          In order to prevent unexpected changes to applications relying
          on the pre-standard behavior, the decision
          was made to deprecate "max-bundle" and instead
          introduce an identically defined "must-bundle" policy that, when selected,
          provides the behavior originally specified by <span>[<a class="cite xref" href="#RFC8829">RFC8829</a>]</span>.<a class="pilcrow" href="#section-1.3-1">¶</a></p>
</section>
</section>
</div>
<div id="sec.terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
     "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
     "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
     "<span class="bcp14">SHOULD NOT</span>",
     "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
     "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
     are to be interpreted as described in BCP 14
     <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> when, and only
     when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2-1">¶</a></p>
</section>
</div>
<div id="sec.semantics-and-syntax">
<section id="section-3">
      <h2 id="name-semantics-and-syntax">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-semantics-and-syntax">Semantics and Syntax</a>
      </h2>
<div id="sec.signaling-model">
<section id="section-3.1">
        <h3 id="name-signaling-model">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-signaling-model">Signaling Model</a>
        </h3>
<p id="section-3.1-1">JSEP does not specify a particular signaling model or state
        machine, other than the generic need to exchange session
        descriptions in the fashion described by
        <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>]</span> (offer/answer) in order for both
        sides of the session to know how to conduct the session. JSEP
        provides mechanisms to create offers and answers, as well as to
        apply them to a session. However, the JSEP implementation is
        totally decoupled from the actual mechanism by which these
        offers and answers are communicated to the remote side,
        including addressing, retransmission, forking, and glare
        handling. These issues are left entirely up to the application;
        the application has complete control over which offers and
        answers get handed to the implementation, and when.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<span id="name-jsep-signaling-model"></span><div id="fig-sigModel">
<figure id="figure-1">
          <div class="alignLeft art-ascii-art art-text artwork" id="section-3.1-2.1">
<pre>      +-----------+                               +-----------+
      |  Web App  |&lt;--- App-Specific Signaling --&gt;|  Web App  |
      +-----------+                               +-----------+
            ^                                            ^
            |  SDP                                       |  SDP
            V                                            V
      +-----------+                                +-----------+
      |   JSEP    |&lt;----------- Media ------------&gt;|   JSEP    |
      |   Impl.   |                                |   Impl.   |
      +-----------+                                +-----------+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-jsep-signaling-model">JSEP Signaling Model</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="sec.session-descriptions-and-state-machine">
<section id="section-3.2">
        <h3 id="name-session-descriptions-and-st">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-session-descriptions-and-st">Session Descriptions and State Machine</a>
        </h3>
<p id="section-3.2-1">In order to establish the media plane, the JSEP
        implementation needs specific parameters to indicate what to
        transmit to the remote side, as well as how to handle the media
        that is received. These parameters are determined by the
        exchange of session descriptions in offers and answers, and
        there are certain details to this process that must be handled
        in the JSEP APIs.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">Whether a session description applies to the local side or
        the remote side affects the meaning of that description. For
        example, the list of codecs sent to a remote party indicates
        what the local side is willing to receive, which, when
        intersected with the set of codecs the remote side supports,
        specifies what the remote side should send. However, not all
        parameters follow this rule; some parameters are declarative,
        and the remote side must either accept them or reject them
        altogether. An example of such a parameter is the TLS
        fingerprints <span>[<a class="cite xref" href="#RFC8122">RFC8122</a>]</span>
        as used in the context of DTLS <span>[<a class="cite xref" href="#RFC6347">RFC6347</a>]</span> <span>[<a class="cite xref" href="#RFC9147">RFC9147</a>]</span>;
        these fingerprints are calculated based on
        the local certificate(s) offered and are not subject to
        negotiation.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">In addition, various RFCs put different conditions on the
        format of offers versus answers. For example, an offer may
        propose an arbitrary number of "m=" sections (i.e., media
        descriptions as described in
        <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.14">Section 5.14</a></span>), but an answer must
        contain the exact same number as the offer.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">Lastly, while the exact media parameters are known only
        after an offer and an answer have been exchanged, the offerer
        may receive ICE checks, and possibly media (e.g., in the case
        of a re-offer after a connection has been established) before
        it receives an answer. To properly process incoming media in
        this case, the offerer's media handler must be aware of the
        details of the offer before the answer arrives.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<p id="section-3.2-5">Therefore, in order to handle session descriptions properly,
        the JSEP implementation needs:<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<ol class="normal type-1" id="section-3.2-6" start="1" type="1">
          <li id="section-3.2-6.1">To know if a session description pertains to the local or
          remote side.<a class="pilcrow" href="#section-3.2-6.1">¶</a>
</li>
          <li id="section-3.2-6.2">To know if a session description is an offer or an
          answer.<a class="pilcrow" href="#section-3.2-6.2">¶</a>
</li>
          <li id="section-3.2-6.3">To allow the offer to be specified independently of the
          answer.<a class="pilcrow" href="#section-3.2-6.3">¶</a>
</li>
        </ol>
<p id="section-3.2-7">JSEP addresses this by adding both setLocalDescription
        and setRemoteDescription methods and having session description
        objects contain a type field indicating the type of session
        description being supplied. This satisfies the requirements
        listed above for both the offerer, who first calls
        setLocalDescription(sdp [offer]) and then later
        setRemoteDescription(sdp [answer]), and the
        answerer, who first calls setRemoteDescription(sdp [offer]) and
        then later setLocalDescription(sdp [answer]).<a class="pilcrow" href="#section-3.2-7">¶</a></p>
<p id="section-3.2-8">During the offer/answer exchange, the outstanding offer is
        considered to be "pending" at the offerer and the answerer, as
        it may be either accepted or rejected. If this is a re-offer,
        each side will also have "current" local and remote
        descriptions, which reflect the result of the last offer/answer
        exchange. Sections
        <a class="auto internal xref" href="#sec.pendinglocaldescription">4.1.14</a>,
        <a class="auto internal xref" href="#sec.pendingremotedescription">4.1.16</a>,
        <a class="auto internal xref" href="#sec.currentlocaldescription">4.1.13</a>, and
        <a class="auto internal xref" href="#sec.currentremotedescription">4.1.15</a> provide more
        detail on pending and current descriptions.<a class="pilcrow" href="#section-3.2-8">¶</a></p>
<p id="section-3.2-9">JSEP also allows for an answer to be treated as provisional
        by the application. Provisional answers provide a way for an
        answerer to communicate initial session parameters back to the
        offerer, in order to allow the session to begin, while allowing
        a final answer to be specified later. This concept of a final
        answer is important to the offer/answer model; when such an
        answer is received, any extra resources allocated by the caller
        can be released, now that the exact session configuration is
        known. These "resources" can include things like extra ICE
        components, Traversal Using Relays around NAT (TURN) candidates, or video decoders. Provisional
        answers, on the other hand, do no such deallocation; as a
        result, multiple dissimilar provisional answers, with their own
        codec choices, transport parameters, etc., can be received and
        applied during call setup. Note that the final answer itself
        may be different than any received provisional answers.<a class="pilcrow" href="#section-3.2-9">¶</a></p>
<p id="section-3.2-10">In
        <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>]</span>, the constraint at the signaling
        level is that only one offer can be outstanding for a given
        session, but at the JSEP level, a new offer can be
        generated at any point. For example, when using SIP for
        signaling, if one offer is sent and is then canceled using a SIP
        CANCEL, another offer can be generated even though no answer
        was received for the first offer. To support this, the JSEP
        media layer can provide an offer via the createOffer method
        whenever the JavaScript application needs one for the
        signaling. The answerer can send back zero or more provisional
        answers and then finally end the offer/answer exchange by sending a
        final answer. The state machine for this is as follows:<a class="pilcrow" href="#section-3.2-10">¶</a></p>
<span id="name-jsep-state-machine"></span><div id="fig-state-machine">
<figure id="figure-2">
          <div class="alignLeft art-ascii-art art-text artwork" id="section-3.2-11.1">
<pre>                    setRemote(OFFER)               setLocal(PRANSWER)
                        /-----\                               /-----\
                        |     |                               |     |
                        v     |                               v     |
         +---------------+    |                +---------------+    |
         |               |----/                |               |----/
         |  have-        | setLocal(PRANSWER)  | have-         |
         |  remote-offer |------------------- &gt;| local-pranswer|
         |               |                     |               |
         |               |                     |               |
         +---------------+                     +---------------+
              ^   |                                   |
              |   | setLocal(ANSWER)                  |
setRemote(OFFER)  |                                   |
              |   V                  setLocal(ANSWER) |
         +---------------+                            |
         |               |                            |
         |               |&lt;---------------------------+
         |    stable     |
         |               |&lt;---------------------------+
         |               |                            |
         +---------------+          setRemote(ANSWER) |
              ^   |                                   |
              |   | setLocal(OFFER)                   |
setRemote(ANSWER) |                                   |
              |   V                                   |
         +---------------+                     +---------------+
         |               |                     |               |
         |  have-        | setRemote(PRANSWER) |have-          |
         |  local-offer  |------------------- &gt;|remote-pranswer|
         |               |                     |               |
         |               |----\                |               |----\
         +---------------+    |                +---------------+    |
                        ^     |                               ^     |
                        |     |                               |     |
                        \-----/                               \-----/
                    setLocal(OFFER)               setRemote(PRANSWER)</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-jsep-state-machine">JSEP State Machine</a>
          </figcaption></figure>
</div>
<p id="section-3.2-12">Aside from these state transitions, there is no other
        difference between the handling of provisional ("pranswer") and
        final ("answer") answers.<a class="pilcrow" href="#section-3.2-12">¶</a></p>
</section>
</div>
<div id="sec.session-description-forma">
<section id="section-3.3">
        <h3 id="name-session-description-format">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-session-description-format">Session Description Format</a>
        </h3>
<p id="section-3.3-1">JSEP's session descriptions use Session Description Protocol (SDP) syntax for their
        internal representation. While this format is not optimal for
        manipulation from JavaScript, it is widely accepted and is
        frequently updated with new features; any alternate encoding of
        session descriptions would have to keep pace with the changes
        to SDP, at least until the time that this new encoding eclipsed
        SDP in popularity.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<p id="section-3.3-2">However, to provide for future flexibility, the SDP syntax
        is encapsulated within a SessionDescription object, which can
        be constructed from SDP and be serialized out to SDP. If
        future specifications agree on a JSON format for session
        descriptions, this object could be enhanced to generate
        and consume that JSON.<a class="pilcrow" href="#section-3.3-2">¶</a></p>
<p id="section-3.3-3">As detailed below, most applications should be able to treat
        the SessionDescriptions produced and consumed by these various
        API calls as opaque blobs; that is, the application will not
        need to parse or understand them.<a class="pilcrow" href="#section-3.3-3">¶</a></p>
</section>
</div>
<div id="sec.session-description-ctrl">
<section id="section-3.4">
        <h3 id="name-session-description-control">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-session-description-control">Session Description Control</a>
        </h3>
<p id="section-3.4-1">In order to give the application control over various common
        session parameters, JSEP provides control surfaces that tell
        the JSEP implementation how to generate session descriptions.
        In most cases, this removes the need for applications to modify session
        descriptions after they are created.<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<p id="section-3.4-2">Changes to these objects result in changes to the session
        descriptions generated by subsequent createOffer/createAnswer
        calls.<a class="pilcrow" href="#section-3.4-2">¶</a></p>
<div id="sec.rtptransceivers">
<section id="section-3.4.1">
          <h4 id="name-rtptransceivers">
<a class="section-number selfRef" href="#section-3.4.1">3.4.1. </a><a class="section-name selfRef" href="#name-rtptransceivers">RtpTransceivers</a>
          </h4>
<p id="section-3.4.1-1">RtpTransceivers allow the application to control the RTP
          media associated with one "m=" section. Each RtpTransceiver has
          an RtpSender and an RtpReceiver, which an application can use
          to control the sending and receiving of RTP media. The
          application may also modify the RtpTransceiver directly, for
          instance, by stopping it.<a class="pilcrow" href="#section-3.4.1-1">¶</a></p>
<p id="section-3.4.1-2">RtpTransceivers generally have a 1:1 mapping with "m="
          sections, although there may be more RtpTransceivers than "m="
          sections when RtpTransceivers are created but not yet
          associated with an "m=" section, or if RtpTransceivers have been
          stopped and disassociated from "m=" sections. An RtpTransceiver
          is said to be associated with an "m=" section if its
          mid property is non-null, i.e., set to a valid Media Identification
          (MID) value; otherwise, it is said to be
          disassociated. The associated "m=" section is determined using
          a mapping between transceivers and "m=" section indices, formed
          when creating an offer or applying a remote offer.<a class="pilcrow" href="#section-3.4.1-2">¶</a></p>
<p id="section-3.4.1-3">An RtpTransceiver is never associated with more than one
          "m=" section, and once a session description is applied, an "m="
          section is always associated with exactly one RtpTransceiver.
          However, in certain cases where an "m=" section has been
          rejected, as discussed in
          <a class="auto internal xref" href="#sec.subsequent-offers">Section 5.2.2</a> below, that "m=" section
          will be "recycled" and associated with a new RtpTransceiver
          with a new MID value.<a class="pilcrow" href="#section-3.4.1-3">¶</a></p>
<p id="section-3.4.1-4">RtpTransceivers can be created explicitly by the
          application or implicitly by calling setRemoteDescription
          with an offer that adds new "m=" sections.<a class="pilcrow" href="#section-3.4.1-4">¶</a></p>
</section>
</div>
<div id="sec.rtpsenders">
<section id="section-3.4.2">
          <h4 id="name-rtpsenders">
<a class="section-number selfRef" href="#section-3.4.2">3.4.2. </a><a class="section-name selfRef" href="#name-rtpsenders">RtpSenders</a>
          </h4>
<p id="section-3.4.2-1">RtpSenders allow the application to control how RTP media
          is sent. An RtpSender is conceptually responsible for the
          outgoing RTP stream(s) described by an "m=" section. This
          includes encoding the attached MediaStreamTrack, sending RTP
          media packets, and generating/processing the RTP Control Protocol (RTCP) for the
          outgoing RTP streams(s).<a class="pilcrow" href="#section-3.4.2-1">¶</a></p>
</section>
</div>
<div id="sec.rtpreceivers">
<section id="section-3.4.3">
          <h4 id="name-rtpreceivers">
<a class="section-number selfRef" href="#section-3.4.3">3.4.3. </a><a class="section-name selfRef" href="#name-rtpreceivers">RtpReceivers</a>
          </h4>
<p id="section-3.4.3-1">RtpReceivers allow the application to inspect how RTP
          media is received. An RtpReceiver is conceptually responsible
          for the incoming RTP stream(s) described by an "m=" section.
          This includes processing received RTP media packets, decoding
          the incoming stream(s) to produce a remote MediaStreamTrack,
          and generating/processing RTCP for the incoming RTP
          stream(s).<a class="pilcrow" href="#section-3.4.3-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.ice">
<section id="section-3.5">
        <h3 id="name-ice">
<a class="section-number selfRef" href="#section-3.5">3.5. </a><a class="section-name selfRef" href="#name-ice">ICE</a>
        </h3>
<div id="sec.ice-gather-overview">
<section id="section-3.5.1">
          <h4 id="name-ice-gathering-overview">
<a class="section-number selfRef" href="#section-3.5.1">3.5.1. </a><a class="section-name selfRef" href="#name-ice-gathering-overview">ICE Gathering Overview</a>
          </h4>
<p id="section-3.5.1-1">JSEP gathers ICE candidates as needed by the application.
          Collection of ICE candidates is referred to as a gathering
          phase, and this is triggered either by the addition of a new
          or recycled "m=" section to the local session description or by
          new ICE credentials in the description, indicating an ICE
          restart. Use of new ICE credentials can be triggered
          explicitly by the application or implicitly by the JSEP
          implementation in response to changes in the ICE
          configuration.<a class="pilcrow" href="#section-3.5.1-1">¶</a></p>
<p id="section-3.5.1-2">When the ICE configuration changes in a way that requires
          a new gathering phase, a 'needs-ice-restart' bit is set. When
          this bit is set, calls to the createOffer API will generate
          new ICE credentials. This bit is cleared by a call to the
          setLocalDescription API with new ICE credentials from either
          an offer or an answer, i.e., from either a locally or
          remotely initiated ICE restart.<a class="pilcrow" href="#section-3.5.1-2">¶</a></p>
<p id="section-3.5.1-3">When a new gathering phase starts, the ICE agent will
          notify the application that gathering is occurring through a state
          change event. Then, when each new ICE candidate becomes available,
          the ICE agent will supply it to the application via an
          onicecandidate event; these candidates will also automatically be
          added to the current and/or pending local session
          description. Finally, when all candidates have been gathered,
          a final onicecandidate event will be dispatched to signal that the
          gathering process is complete.<a class="pilcrow" href="#section-3.5.1-3">¶</a></p>
<p id="section-3.5.1-4">Note that gathering phases only gather the candidates
          needed by new/recycled/restarting "m=" sections; other "m="
          sections continue to use their existing candidates. Also, if
          an "m=" section is bundled (either by a successful bundle
          negotiation or by being marked as bundle-only), then
          candidates will be gathered and exchanged for that "m=" section
          if and only if its MID item is a BUNDLE-tag, as described in
          <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>]</span>.<a class="pilcrow" href="#section-3.5.1-4">¶</a></p>
</section>
</div>
<div id="sec.ice-candidate-trickling">
<section id="section-3.5.2">
          <h4 id="name-ice-candidate-trickling">
<a class="section-number selfRef" href="#section-3.5.2">3.5.2. </a><a class="section-name selfRef" href="#name-ice-candidate-trickling">ICE Candidate Trickling</a>
          </h4>
<p id="section-3.5.2-1">Candidate trickling is a technique through which a caller
          may incrementally provide candidates to the callee after the
          initial offer has been dispatched; the semantics of "Trickle
          ICE" are defined in
          <span>[<a class="cite xref" href="#RFC8838">RFC8838</a>]</span>. This process
          allows the callee to begin acting upon the call and setting
          up the ICE (and perhaps DTLS) connections immediately,
          without having to wait for the caller to gather all possible
          candidates. This results in faster media setup in cases where
          gathering is not performed prior to initiating the call.<a class="pilcrow" href="#section-3.5.2-1">¶</a></p>
<p id="section-3.5.2-2">JSEP supports optional candidate trickling by providing
          APIs, as described above, that provide control and feedback
          on the ICE candidate gathering process. Applications that
          support candidate trickling can send the initial offer
          immediately and send individual candidates when they get
          notified of a new candidate; applications that do not support
          this feature can simply wait for the indication that
          gathering is complete, and then create and send their offer,
          with all the candidates, at that time.<a class="pilcrow" href="#section-3.5.2-2">¶</a></p>
<p id="section-3.5.2-3">Upon receipt of trickled candidates, the receiving
          application will supply them to its ICE agent. This triggers
          the ICE agent to start using the new remote candidates for
          connectivity checks.<a class="pilcrow" href="#section-3.5.2-3">¶</a></p>
<div id="sec.ice-candidate-format">
<section id="section-3.5.2.1">
            <h5 id="name-ice-candidate-format">
<a class="section-number selfRef" href="#section-3.5.2.1">3.5.2.1. </a><a class="section-name selfRef" href="#name-ice-candidate-format">ICE Candidate Format</a>
            </h5>
<p id="section-3.5.2.1-1">In JSEP, ICE candidates are abstracted by an
            IceCandidate object, and as with session descriptions, SDP
            syntax is used for the internal representation.<a class="pilcrow" href="#section-3.5.2.1-1">¶</a></p>
<p id="section-3.5.2.1-2">The candidate details are specified in an IceCandidate
            field, using the same SDP syntax as the
            "candidate-attribute" field defined in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.1">Section 5.1</a></span>. Note that this
            field does not contain an "a=" prefix, as indicated in the
            following example:<a class="pilcrow" href="#section-3.5.2.1-2">¶</a></p>
<div class="lang-sdp sourcecode" id="section-3.5.2.1-3">
<pre>candidate:1 1 UDP 1694498815 192.0.2.33 10000 typ host</pre><a class="pilcrow" href="#section-3.5.2.1-3">¶</a>
</div>
<p id="section-3.5.2.1-4">The IceCandidate object contains a field to indicate
            which ICE username fragment (ufrag) it is associated with, as defined in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a></span>. This value is used
            to determine which session description (and thereby which
            gathering phase) this IceCandidate belongs to, which helps
            resolve ambiguities during ICE restarts. If this field is
            absent in a received IceCandidate (perhaps when
            communicating with a non-JSEP endpoint), the most recently
            received session description is assumed.<a class="pilcrow" href="#section-3.5.2.1-4">¶</a></p>
<p id="section-3.5.2.1-5">The IceCandidate object also contains fields to indicate
            which "m=" section it is associated with, which can be
            identified in one of two ways: either by an "m=" section
            index or by a MID. The "m=" section index is a zero-based
            index, with index N referring to the N+1th "m=" section in
            the session description referenced by this IceCandidate.
            The MID is a "media stream identification" value, as
            defined in
            <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-4">Section 4</a></span>, which provides a
            more robust way to identify the "m=" section in the session
            description, using the MID of the associated RtpTransceiver
            object (which may have been locally generated by the
            answerer when interacting with a non-JSEP endpoint that
            does not support the MID attribute, as discussed in
            <a class="auto internal xref" href="#sec.applying-a-remote-desc">Section 5.10</a> below). If the
            MID field is present in a received IceCandidate, it <span class="bcp14">MUST</span> be
            used for identification; otherwise, the "m=" section index is
            used instead.<a class="pilcrow" href="#section-3.5.2.1-5">¶</a></p>
<p id="section-3.5.2.1-6">Other than the "m=" section index, all IceCandidate fields are optional, and
            implementations <span class="bcp14">MUST NOT</span> reject a candidate simply because
            an optional field is missing.<a class="pilcrow" href="#section-3.5.2.1-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.ice-candidate-policy">
<section id="section-3.5.3">
          <h4 id="name-ice-candidate-policy">
<a class="section-number selfRef" href="#section-3.5.3">3.5.3. </a><a class="section-name selfRef" href="#name-ice-candidate-policy">ICE Candidate Policy</a>
          </h4>
<p id="section-3.5.3-1">Typically, when gathering ICE candidates, the JSEP
          implementation will gather all possible forms of initial
          candidates -- host, server-reflexive, and relay.
          However, in
          certain cases, applications may want to have more specific
          control over the gathering process, due to privacy or related
          concerns. For example, one may want to only use relay
          candidates, to leak as little location information as
          possible (keeping in mind that this choice comes with
          corresponding operational costs). To accomplish this, JSEP
          allows the application to restrict which ICE candidates are
          used in a session. Note that this filtering is applied on top
          of any restrictions the implementation chooses to enforce
          regarding which IP addresses are permitted for the
          application, as discussed in
          <span>[<a class="cite xref" href="#RFC8828">RFC8828</a>]</span>.<a class="pilcrow" href="#section-3.5.3-1">¶</a></p>
<p id="section-3.5.3-2">There may also be cases where the application wants to
          change which types of candidates are used while the session
          is active. A prime example is where a callee may initially
          want to use only relay candidates, to avoid leaking location
          information to an arbitrary caller, but then change to use
          all candidates (for lower operational cost) once the user has
          indicated that they want to take the call. For this scenario, the
          JSEP implementation <span class="bcp14">MUST</span> allow the candidate policy to be
          changed in mid-session, subject to the aforementioned
          interactions with local policy.<a class="pilcrow" href="#section-3.5.3-2">¶</a></p>
<p id="section-3.5.3-3">To administer the ICE candidate policy, the JSEP
          implementation will determine the current setting at the
          start of each gathering phase. Then, during the gathering
          phase, the implementation <span class="bcp14">MUST NOT</span> expose candidates
          disallowed by the current policy to the application, use them
          as the source of connectivity checks, or indirectly expose
          them via other fields, such as the raddr/rport attributes for
          other ICE candidates. Later, if a different policy is
          specified by the application, the application can apply it by
          kicking off a new gathering phase via an ICE restart.<a class="pilcrow" href="#section-3.5.3-3">¶</a></p>
</section>
</div>
<div id="sec.ice-candidate-pool">
<section id="section-3.5.4">
          <h4 id="name-ice-candidate-pool">
<a class="section-number selfRef" href="#section-3.5.4">3.5.4. </a><a class="section-name selfRef" href="#name-ice-candidate-pool">ICE Candidate Pool</a>
          </h4>
<p id="section-3.5.4-1">JSEP applications typically inform the JSEP implementation
          to begin ICE gathering via the information supplied to
          setLocalDescription, as the local description indicates the
          number of ICE components that will be needed and for which
          candidates must be gathered. However, to accelerate cases
          where the application knows the number of ICE components to
          use ahead of time, it may ask the implementation to gather a
          pool of potential ICE candidates to help ensure rapid media
          setup.<a class="pilcrow" href="#section-3.5.4-1">¶</a></p>
<p id="section-3.5.4-2">When setLocalDescription is eventually called and the
          JSEP implementation prepares to gather the needed ICE candidates,
          it <span class="bcp14">SHOULD</span> start by checking if any candidates are available
          in the pool. If there are candidates in the pool, they <span class="bcp14">SHOULD</span>
          be handed to the application immediately via the ICE
          candidate event. If the pool becomes depleted, either because
          a larger-than-expected number of ICE components are used or
          because the pool has not had enough time to gather
          candidates, the remaining candidates are gathered as usual.
          This only occurs for the first offer/answer exchange, after
          which the candidate pool is emptied and no longer used.<a class="pilcrow" href="#section-3.5.4-2">¶</a></p>
<p id="section-3.5.4-3">One example of where this concept is useful is an
          application that expects an incoming call at some point in
          the future, and wants to minimize the time it takes to
          establish connectivity, to avoid clipping of initial media.
          By pre-gathering candidates into the pool, it can exchange
          and start sending connectivity checks from these candidates
          almost immediately upon receipt of a call. Note, though, that
          by holding on to these pre-gathered candidates, which will be
          kept alive as long as they may be needed, the application
          will consume resources on the STUN/TURN servers it is
          using. ("STUN" stands for "Session Traversal Utilities for NAT".)<a class="pilcrow" href="#section-3.5.4-3">¶</a></p>
</section>
</div>
<section id="section-3.5.5">
          <h4 id="name-ice-versions">
<a class="section-number selfRef" href="#section-3.5.5">3.5.5. </a><a class="section-name selfRef" href="#name-ice-versions">ICE Versions</a>
          </h4>
<p id="section-3.5.5-1">While this specification formally relies on <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>]</span>, at the time of its publication, the
          majority of WebRTC implementations support the version
          of ICE described in <span>[<a class="cite xref" href="#RFC5245">RFC5245</a>]</span>. The "ice2" attribute defined in <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>]</span>
          can be used to detect the version in use by a remote endpoint
          and to provide a smooth transition from the older specification
          to the newer one.  Implementations <span class="bcp14">MUST</span> be able to accept remote
          descriptions that do not have the "ice2" attribute.<a class="pilcrow" href="#section-3.5.5-1">¶</a></p>
</section>
</section>
</div>
<div id="sec.imageattr">
<section id="section-3.6">
        <h3 id="name-video-size-negotiation">
<a class="section-number selfRef" href="#section-3.6">3.6. </a><a class="section-name selfRef" href="#name-video-size-negotiation">Video Size Negotiation</a>
        </h3>
<p id="section-3.6-1">Video size negotiation is the process through which a
        receiver can use the "a=imageattr" SDP attribute
        <span>[<a class="cite xref" href="#RFC6236">RFC6236</a>]</span> to indicate what video frame sizes it
        is capable of receiving. A receiver may have hard limits on
        what its video decoder can process, or it may have some maximum
        set by policy. By specifying these limits in an "a=imageattr"
        attribute, JSEP endpoints can attempt to ensure that the remote
        sender transmits video at an acceptable resolution. However,
        when communicating with a non-JSEP endpoint that does not
        understand this attribute, any signaled limits may be exceeded,
        and the JSEP implementation <span class="bcp14">MUST</span> handle this gracefully, e.g.,
        by discarding the video.<a class="pilcrow" href="#section-3.6-1">¶</a></p>
<p id="section-3.6-2">Note that certain codecs support transmission of samples
        with aspect ratios other than 1.0 (i.e., non-square pixels).
        JSEP implementations will not transmit non-square pixels but
        <span class="bcp14">SHOULD</span> receive and render such video with the correct aspect
        ratio. However, sample aspect ratio has no impact on the size
        negotiation described below; all dimensions are measured in
        pixels, whether square or not.<a class="pilcrow" href="#section-3.6-2">¶</a></p>
<div id="sec.creating-imageattr">
<section id="section-3.6.1">
          <h4 id="name-creating-an-imageattr-attri">
<a class="section-number selfRef" href="#section-3.6.1">3.6.1. </a><a class="section-name selfRef" href="#name-creating-an-imageattr-attri">Creating an imageattr Attribute</a>
          </h4>
<p id="section-3.6.1-1">The receiver will first combine any known local limits
          (e.g., hardware decoder capabilities or local policy) to
          determine the absolute minimum and maximum sizes it can
          receive. If there are no known local limits, the
          "a=imageattr" attribute <span class="bcp14">SHOULD</span> be omitted. If these local
          limits preclude receiving any video, i.e., the degenerate
          case of no permitted resolutions, the "a=imageattr" attribute
          <span class="bcp14">MUST</span> be omitted, and the "m=" section <span class="bcp14">MUST</span> be marked as
          "sendonly"/"inactive", as appropriate.<a class="pilcrow" href="#section-3.6.1-1">¶</a></p>
<p id="section-3.6.1-2">Otherwise, an "a=imageattr" attribute is created with a
          "recv" direction, and the resulting resolution space formed
          from the aforementioned intersection is used to specify its
          minimum and maximum "x=" and "y=" values.<a class="pilcrow" href="#section-3.6.1-2">¶</a></p>
<p id="section-3.6.1-3">The rules here express a single set of preferences, and
          therefore, the "a=imageattr" "q=" value is not important. It
          <span class="bcp14">SHOULD</span> be set to "1.0".<a class="pilcrow" href="#section-3.6.1-3">¶</a></p>
<p id="section-3.6.1-4">The "a=imageattr" field is payload type specific. When all
          video codecs supported have the same capabilities, use of a
          single attribute, with the wildcard payload type (*), is
          <span class="bcp14">RECOMMENDED</span>. However, when the supported video codecs have
          different limitations, specific "a=imageattr" attributes <span class="bcp14">MUST</span>
          be inserted for each payload type.<a class="pilcrow" href="#section-3.6.1-4">¶</a></p>
<p id="section-3.6.1-5">As an example, consider a system with a multiformat video
          decoder, which is capable of decoding any resolution from
          48x48 to 720p. In this case, the implementation would
          generate this attribute:<a class="pilcrow" href="#section-3.6.1-5">¶</a></p>
<p id="section-3.6.1-6">a=imageattr:* recv [x=[48:1280],y=[48:720],q=1.0]<a class="pilcrow" href="#section-3.6.1-6">¶</a></p>
<p id="section-3.6.1-7">This declaration indicates that the receiver is capable of
          decoding any image resolution from 48x48 up to 1280x720
          pixels.<a class="pilcrow" href="#section-3.6.1-7">¶</a></p>
</section>
</div>
<div id="sec.interpreting-imageattr">
<section id="section-3.6.2">
          <h4 id="name-interpreting-imageattr-attr">
<a class="section-number selfRef" href="#section-3.6.2">3.6.2. </a><a class="section-name selfRef" href="#name-interpreting-imageattr-attr">Interpreting imageattr Attributes</a>
          </h4>
<p id="section-3.6.2-1">
          <span>[<a class="cite xref" href="#RFC6236">RFC6236</a>]</span> defines "a=imageattr" to be an
          advisory field. This means that it does not absolutely
          constrain the video formats that the sender can use but
          gives an indication of the preferred values.<a class="pilcrow" href="#section-3.6.2-1">¶</a></p>
<p id="section-3.6.2-2">This specification prescribes behavior that is more specific. When
          a MediaStreamTrack, which is producing video of a certain
          resolution (the "track resolution"), is attached to an
          RtpSender, which is encoding the track video at the same or
          lower resolution(s) (the "encoder resolutions"), and a remote
          description is applied that references the sender and
          contains valid "a=imageattr recv" attributes, it <span class="bcp14">MUST</span> follow
          the rules below to ensure that the sender does not transmit a
          resolution that would exceed the size criteria specified in
          the attributes. These rules <span class="bcp14">MUST</span> be followed as long as the
          attributes remain present in the remote description,
          including cases in which the track changes its resolution or
          is replaced with a different track.<a class="pilcrow" href="#section-3.6.2-2">¶</a></p>
<p id="section-3.6.2-3">Depending on how the RtpSender is configured, it may be
          producing a single encoding at a certain resolution or, if
          simulcast
          (<a class="auto internal xref" href="#sec.simulcast">Section 3.7</a>) has been negotiated, multiple
          encodings, each at their own specific resolution. In
          addition, depending on the configuration, each encoding may
          have the flexibility to reduce resolution when needed or may
          be locked to a specific output resolution.<a class="pilcrow" href="#section-3.6.2-3">¶</a></p>
<p id="section-3.6.2-4">For each encoding being produced by the RtpSender, the set
          of "a=imageattr recv" attributes in the corresponding "m="
          section of the remote description is processed to determine
          what should be transmitted. Only attributes that reference
          the media format selected for the encoding are considered;
          each such attribute is evaluated individually, starting with
          the attribute with the highest "q=" value. If multiple
          attributes have the same "q=" value, they are evaluated in
          the order they appear in their containing "m=" section. Note
          that while JSEP endpoints will include at most one
          "a=imageattr recv" attribute per media format, JSEP endpoints
          may receive session descriptions from non-JSEP endpoints with
          "m=" sections that contain multiple such attributes.<a class="pilcrow" href="#section-3.6.2-4">¶</a></p>
<p id="section-3.6.2-5">For each "a=imageattr recv" attribute, the following rules
          are applied. If this processing is successful, the encoding
          is transmitted accordingly, and no further attributes are
          considered for that encoding. Otherwise, the next attribute
          is evaluated, in the aforementioned order. If none of the
          supplied attributes can be processed successfully, the
          encoding <span class="bcp14">MUST NOT</span> be transmitted, and an error <span class="bcp14">SHOULD</span> be
          raised to the application.<a class="pilcrow" href="#section-3.6.2-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.6.2-6.1">The limits from the attribute are compared to the
            encoder resolution. Only the specific limits mentioned
            below are considered; any other values, such as picture
            aspect ratio, <span class="bcp14">MUST</span> be ignored. When considering a
            MediaStreamTrack that is producing rotated video, the
            unrotated resolution <span class="bcp14">MUST</span> be used for the checks. This is
            required regardless of whether the receiver supports
            performing receive-side rotation (e.g., through Coordination of
            Video Orientation (CVO)
            <span>[<a class="cite xref" href="#TS26.114">TS26.114</a>]</span>), as it significantly simplifies
            the matching logic.<a class="pilcrow" href="#section-3.6.2-6.1">¶</a>
</li>
            <li class="normal" id="section-3.6.2-6.2">If the attribute includes a "sar=" (sample aspect ratio)
            value set to something other than "1.0", indicating that the
            receiver wants to receive non-square pixels, this cannot be
            satisfied and the attribute <span class="bcp14">MUST NOT</span> be used.<a class="pilcrow" href="#section-3.6.2-6.2">¶</a>
</li>
            <li class="normal" id="section-3.6.2-6.3">If the encoder resolution exceeds the maximum size
            permitted by the attribute and the encoder is allowed to
            adjust its resolution, the encoder <span class="bcp14">SHOULD</span> apply downscaling
            in order to satisfy the limits. Downscaling <span class="bcp14">MUST NOT</span> change
            the picture aspect ratio of the encoding, ignoring any
            trivial differences due to rounding. For example, if the
            encoder resolution is 1280x720 and the attribute specified
            a maximum of 640x480, the expected output resolution would
            be 640x360. If downscaling cannot be applied, the attribute
            <span class="bcp14">MUST NOT</span> be used.<a class="pilcrow" href="#section-3.6.2-6.3">¶</a>
</li>
            <li class="normal" id="section-3.6.2-6.4">If the encoder resolution is less than the minimum size
            permitted by the attribute, the attribute <span class="bcp14">MUST NOT</span> be used;
            the encoder <span class="bcp14">MUST NOT</span> apply upscaling. JSEP implementations
            <span class="bcp14">SHOULD</span> avoid this situation by allowing receipt of
            arbitrarily small resolutions, perhaps via fallback to a
            software decoder.<a class="pilcrow" href="#section-3.6.2-6.4">¶</a>
</li>
            <li class="normal" id="section-3.6.2-6.5">If the encoder resolution is within the maximum and
            minimum sizes, no action is needed.<a class="pilcrow" href="#section-3.6.2-6.5">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="sec.simulcast">
<section id="section-3.7">
        <h3 id="name-simulcast">
<a class="section-number selfRef" href="#section-3.7">3.7. </a><a class="section-name selfRef" href="#name-simulcast">Simulcast</a>
        </h3>
<p id="section-3.7-1">JSEP supports simulcast transmission of a MediaStreamTrack,
        where multiple encodings of the source media can be transmitted
        within the context of a single "m=" section. The current JSEP API
        is designed to allow applications to send simulcasted media but
        only to receive a single encoding. This allows for multi-user
        scenarios where each sending client sends multiple encodings to
        a server, which then, for each receiving client, chooses the
        appropriate encoding to forward.<a class="pilcrow" href="#section-3.7-1">¶</a></p>
<p id="section-3.7-2">Applications request support for simulcast by configuring
        multiple encodings on an RtpSender. Upon generation of an offer
        or answer, these encodings are indicated via SDP markings on
        the corresponding "m=" section, as described below. Receivers
        that understand simulcast and are willing to receive it will
        also include SDP markings to indicate their support, and JSEP
        endpoints will use these markings to determine whether
        simulcast is permitted for a given RtpSender. If simulcast
        support is not negotiated, the RtpSender will only use the
        first configured encoding.<a class="pilcrow" href="#section-3.7-2">¶</a></p>
<p id="section-3.7-3">Note that the exact simulcast parameters are up to the
        sending application. While the aforementioned SDP markings are
        provided to ensure that the remote side can receive and demux
        multiple simulcast encodings, the specific resolutions and
        bitrates to be used for each encoding are purely a send-side
        decision in JSEP.<a class="pilcrow" href="#section-3.7-3">¶</a></p>
<p id="section-3.7-4">JSEP currently does not provide a mechanism to configure
        receipt of simulcast. This means that if simulcast is offered
        by the remote endpoint, the answer generated by a JSEP endpoint
        will not indicate support for receipt of simulcast, and as such
        the remote endpoint will only send a single encoding per "m="
        section.<a class="pilcrow" href="#section-3.7-4">¶</a></p>
<p id="section-3.7-5">In addition, JSEP does not provide a mechanism to handle an
        incoming offer requesting simulcast from the JSEP endpoint.
        This means that setting up simulcast in the case where the JSEP
        endpoint receives the initial offer requires out-of-band
        signaling or SDP inspection. However, in the case where the
        JSEP endpoint sets up simulcast in its initial offer, any
        established simulcast streams will continue to work upon
        receipt of an incoming re-offer. Future versions of this
        specification may add additional APIs to handle the incoming
        initial offer scenario.<a class="pilcrow" href="#section-3.7-5">¶</a></p>
<p id="section-3.7-6">When using JSEP to transmit multiple encodings from an
        RtpSender, the techniques from
        <span>[<a class="cite xref" href="#RFC8853">RFC8853</a>]</span> and
        <span>[<a class="cite xref" href="#RFC8851">RFC8851</a>]</span> are used. Specifically,
        when multiple encodings have been configured for an RtpSender,
        the "m=" section for the RtpSender will include an "a=simulcast"
        attribute, as defined in
        <span>[<a class="cite xref" href="#RFC8853">RFC8853</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8853#section-5.1">Section 5.1</a></span>,
        with a "send" simulcast stream description that lists each
        desired encoding, and no "recv" simulcast stream description.
        The "m=" section will also include an "a=rid" attribute for each
        encoding, as specified in
        <span>[<a class="cite xref" href="#RFC8851">RFC8851</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8851#section-4">Section 4</a></span>; the use of
        Restriction Identifiers (RIDs, also called rid-ids or RtpStreamIds)
        allows the individual encodings to be
        disambiguated even though they are all part of the same "m="
        section.<a class="pilcrow" href="#section-3.7-6">¶</a></p>
</section>
</div>
<div id="sec.interactions-with-forking">
<section id="section-3.8">
        <h3 id="name-interactions-with-forking">
<a class="section-number selfRef" href="#section-3.8">3.8. </a><a class="section-name selfRef" href="#name-interactions-with-forking">Interactions with Forking</a>
        </h3>
<p id="section-3.8-1">Some call signaling systems allow various types of forking
        where an SDP offer may be provided to more than one device. For
        example, SIP
        <span>[<a class="cite xref" href="#RFC3261">RFC3261</a>]</span> defines both a "parallel search"
        and "sequential search". Although these are primarily signaling-level issues that are outside the scope of JSEP, they do have
        some impact on the configuration of the media plane that is
        relevant. When forking happens at the signaling layer, the
        JavaScript application responsible for the signaling needs to
        make the decisions about what media should be sent or received
        at any point in time, as well as which remote endpoint it
        should communicate with; JSEP is used to make sure the media
        engine can make the RTP and media perform as required by the
        application. The basic operations that the applications can
        have the media engine do are as follows:<a class="pilcrow" href="#section-3.8-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.8-2.1">Start exchanging media with a given remote peer, but keep
          all the resources reserved in the offer.<a class="pilcrow" href="#section-3.8-2.1">¶</a>
</li>
          <li class="normal" id="section-3.8-2.2">Start exchanging media with a given remote peer, and free
          any resources in the offer that are not being used.<a class="pilcrow" href="#section-3.8-2.2">¶</a>
</li>
        </ul>
<div id="sec.sequential-forking">
<section id="section-3.8.1">
          <h4 id="name-sequential-forking">
<a class="section-number selfRef" href="#section-3.8.1">3.8.1. </a><a class="section-name selfRef" href="#name-sequential-forking">Sequential Forking</a>
          </h4>
<p id="section-3.8.1-1">Sequential forking involves a call being dispatched to
          multiple remote callees, where each callee can accept the
          call, but only one active session ever exists at a time; no
          mixing of received media is performed.<a class="pilcrow" href="#section-3.8.1-1">¶</a></p>
<p id="section-3.8.1-2">JSEP handles sequential forking well, allowing the
          application to easily control the policy for selecting the
          desired remote endpoint. When an answer arrives from one of
          the callees, the application can choose to apply it as either
          (1) a provisional answer, leaving open the possibility of using a
          different answer in the future or (2) a final
          answer, ending the setup flow.<a class="pilcrow" href="#section-3.8.1-2">¶</a></p>
<p id="section-3.8.1-3">In a "first-one-wins" situation, the first answer will be
          applied as a final answer, and the application will reject
          any subsequent answers. In SIP parlance, this would be ACK +
          BYE.<a class="pilcrow" href="#section-3.8.1-3">¶</a></p>
<p id="section-3.8.1-4">In a "last-one-wins" situation, all answers would be
          applied as provisional answers, and any previous call leg
          will be terminated. At some point, the application will end
          the setup process, perhaps with a timer; at this point, the
          application could reapply the pending remote description as a
          final answer.<a class="pilcrow" href="#section-3.8.1-4">¶</a></p>
</section>
</div>
<div id="sec.parallel-forking">
<section id="section-3.8.2">
          <h4 id="name-parallel-forking">
<a class="section-number selfRef" href="#section-3.8.2">3.8.2. </a><a class="section-name selfRef" href="#name-parallel-forking">Parallel Forking</a>
          </h4>
<p id="section-3.8.2-1">Parallel forking involves a call being dispatched to
          multiple remote callees, where each callee can accept the
          call and multiple simultaneous active signaling sessions can
          be established as a result. If multiple callees send media at
          the same time, the possibilities for handling this are
          described in
          <span>[<a class="cite xref" href="#RFC3960">RFC3960</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3960#section-3.1">Section 3.1</a></span>. Most SIP devices
          today only support exchanging media with a single device at a
          time and do not try to mix multiple early media audio
          sources, as that could result in a confusing situation. For
          example, consider having a European ringback tone mixed
          together with the North American ringback tone -- the
          resulting sound would not be like either tone and would
          confuse the user. If the signaling application wishes to only
          exchange media with one of the remote endpoints at a time,
          then from a media engine point of view, this is exactly like
          the sequential forking case.<a class="pilcrow" href="#section-3.8.2-1">¶</a></p>
<p id="section-3.8.2-2">In the parallel forking case where the JavaScript
          application wishes to simultaneously exchange media with
          multiple peers, the flow is slightly more complex, but the
          JavaScript application can follow the strategy that
          <span>[<a class="cite xref" href="#RFC3960">RFC3960</a>]</span> describes, using UPDATE. The
          UPDATE approach allows the signaling to set up a separate
          media flow for each peer that it wishes to exchange media
          with. In JSEP, this offer used in the UPDATE would be formed
          by simply creating a new PeerConnection (see
          <a class="auto internal xref" href="#sec.peerconnection">Section 4.1</a>) and making sure that
          the same local media streams have been added into this new
          PeerConnection. Then the new PeerConnection object would
          produce an SDP offer that could be used by the signaling to
          perform the UPDATE strategy discussed in
          <span>[<a class="cite xref" href="#RFC3960">RFC3960</a>]</span>.<a class="pilcrow" href="#section-3.8.2-2">¶</a></p>
<p id="section-3.8.2-3">As a result of sharing the media streams, the application
          will end up with N parallel PeerConnection sessions, each
          with a local and remote description and their own local and
          remote addresses. The media flow from these sessions can be
          managed using setDirection (see
          <a class="auto internal xref" href="#sec.transceiver-set-direction">Section 4.2.3</a>), or the
          application can choose to play out the media from all
          sessions mixed together. Of course, if the application wants
          to only keep a single session, it can simply terminate the
          sessions that it no longer needs.<a class="pilcrow" href="#section-3.8.2-3">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec.interface">
<section id="section-4">
      <h2 id="name-interface">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-interface">Interface</a>
      </h2>
<p id="section-4-1">This section details the basic operations that must be present
      to implement JSEP functionality. The actual API exposed in the
      W3C API may have somewhat different syntax but should map easily
      to these concepts.<a class="pilcrow" href="#section-4-1">¶</a></p>
<div id="sec.peerconnection">
<section id="section-4.1">
        <h3 id="name-peerconnection">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-peerconnection">PeerConnection</a>
        </h3>
<div id="sec.pc-constructor">
<section id="section-4.1.1">
          <h4 id="name-constructor">
<a class="section-number selfRef" href="#section-4.1.1">4.1.1. </a><a class="section-name selfRef" href="#name-constructor">Constructor</a>
          </h4>
<p id="section-4.1.1-1">The PeerConnection constructor allows the application to
          specify global parameters for the media session, such as the
          STUN/TURN servers and credentials to use when gathering
          candidates, as well as the initial ICE candidate policy and
          pool size, and also the bundle policy to use.<a class="pilcrow" href="#section-4.1.1-1">¶</a></p>
<p id="section-4.1.1-2">If an ICE candidate policy is specified, it functions as
          described in
          <a class="auto internal xref" href="#sec.ice-candidate-policy">Section 3.5.3</a>, causing the JSEP
          implementation to only surface the permitted candidates
          (including any implementation-internal filtering) to the
          application and only use those candidates for connectivity
          checks. The set of available policies is as follows:<a class="pilcrow" href="#section-4.1.1-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.1-3">
            <dt id="section-4.1.1-3.1">all:</dt>
            <dd id="section-4.1.1-3.2" style="margin-left: 1.5em">All candidates permitted by
            implementation policy will be gathered and used.<a class="pilcrow" href="#section-4.1.1-3.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-3.3">relay:</dt>
            <dd id="section-4.1.1-3.4" style="margin-left: 1.5em">All candidates except relay candidates
            will be filtered out. This obfuscates the location
            information that might be ascertained by the remote peer
            from the received candidates. Depending on how the
            application deploys and chooses relay servers, this could
            obfuscate location to a metro or possibly even global
            level.<a class="pilcrow" href="#section-4.1.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.1-4">The default ICE candidate policy <span class="bcp14">MUST</span> be set to "all", as
          this is generally the desired policy and also typically
          reduces the use of application TURN server resources
          significantly.<a class="pilcrow" href="#section-4.1.1-4">¶</a></p>
<p id="section-4.1.1-5">If a size is specified for the ICE candidate pool, this
          indicates the number of ICE components to pre-gather
          candidates for. Because pre‑gathering results in utilizing
          STUN/TURN server resources for potentially long periods of
          time, this <span class="bcp14">MUST</span> only occur upon application request, and
          therefore the default candidate pool size <span class="bcp14">MUST</span> be zero.<a class="pilcrow" href="#section-4.1.1-5">¶</a></p>
<p id="section-4.1.1-6">The application can specify its preferred policy regarding
          the use of BUNDLE, the multiplexing mechanism defined in
          <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>]</span>. Regardless of policy, the application will always
          try to negotiate bundle onto a single transport and will
          offer a single bundle group across all "m=" sections; use of
          this single transport is contingent upon the answerer
          accepting bundle. However, by specifying a policy from the
          list below, the application can control exactly how
          aggressively it will try to bundle media streams together,
          which affects how it will interoperate with a
          non-bundle-aware endpoint. When negotiating with a
          non-bundle-aware endpoint, only the streams not marked as
          bundle-only streams will be established.<a class="pilcrow" href="#section-4.1.1-6">¶</a></p>
<p id="section-4.1.1-7">The set of available policies is as follows:<a class="pilcrow" href="#section-4.1.1-7">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.1-8">
            <dt id="section-4.1.1-8.1">balanced:</dt>
            <dd id="section-4.1.1-8.2" style="margin-left: 1.5em">The first "m=" section of each type
            (audio, video, or application) will contain transport
            parameters, which will allow an answerer to unbundle that
            section. The second and any subsequent "m=" sections of each
            type will be marked as bundle-only. The result is that if
            there are N distinct media types, then candidates will be
            gathered for N media streams. This policy balances the
            desire to multiplex with the need to ensure that basic audio and
            video can still be negotiated in legacy cases. When acting
            as answerer, if there is no bundle group in the offer, the
            implementation will reject all but the first "m=" section of
            each type.<a class="pilcrow" href="#section-4.1.1-8.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-8.3">max-compat:</dt>
            <dd id="section-4.1.1-8.4" style="margin-left: 1.5em">All "m=" sections will contain
            transport parameters; none will be marked as bundle-only.
            This policy makes no assumptions about the remote endpoint and
            as such will allow all streams to be received by
            non-bundle-aware endpoints, but as a result requires separate
            candidates to be gathered for each media stream.<a class="pilcrow" href="#section-4.1.1-8.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-8.5">must-bundle:</dt>
            <dd id="section-4.1.1-8.6" style="margin-left: 1.5em">Only the first "m=" section will
            contain transport parameters; all streams other than the
            first will be marked as bundle-only. This policy presumes that
            the remote endpoint supports multiplexing and accordingly aims to
            minimize candidate gathering, at
            the cost of less compatibility with legacy endpoints. When
            acting as answerer, the implementation will reject any "m="
            sections other than the first "m=" section, unless they are
            in the same bundle group as that "m=" section.<a class="pilcrow" href="#section-4.1.1-8.6">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.1-9">As it provides the best trade-off between performance and
          compatibility with legacy endpoints, the default bundle
          policy <span class="bcp14">MUST</span> be set to "balanced".<a class="pilcrow" href="#section-4.1.1-9">¶</a></p>
<p id="section-4.1.1-10"><span>[<a class="cite xref" href="#RFC8829">RFC8829</a>]</span> defined a policy
          known as "max-bundle", which, while defined identically to the
          "must-bundle" policy described above, was implemented
          by some implementations according to an earlier, pre-standard definition
          (in which, for example, no "m=" sections were marked as bundle-only).
          As a result, "max-bundle" is considered deprecated, and implementations
          compliant with this specification <span class="bcp14">SHOULD</span> ignore attempts by the application to select
          this bundle policy (although some phase-out period may be necessary
          to avoid application breakage).<a class="pilcrow" href="#section-4.1.1-10">¶</a></p>
<p id="section-4.1.1-11">The application can specify its preferred policy regarding the
          use of RTP/RTCP multiplexing
          <span>[<a class="cite xref" href="#RFC5761">RFC5761</a>]</span> using one of the following
          policies:<a class="pilcrow" href="#section-4.1.1-11">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.1-12">
            <dt id="section-4.1.1-12.1">negotiate:</dt>
            <dd id="section-4.1.1-12.2" style="margin-left: 1.5em">The JSEP implementation will
            gather both RTP and RTCP candidates but also will offer
            "a=rtcp-mux", thus allowing for compatibility with either
            multiplexing or non-multiplexing endpoints.<a class="pilcrow" href="#section-4.1.1-12.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-12.3">require:</dt>
            <dd id="section-4.1.1-12.4" style="margin-left: 1.5em">The JSEP implementation will only
            gather RTP candidates and will insert an "a=rtcp-mux-only"
            indication into any new "m=" sections in offers it generates.
            This halves the number of candidates that the offerer needs
            to gather. Applying a description with an "m=" section that
            does not contain an "a=rtcp-mux" attribute will cause an
            error to be returned.<a class="pilcrow" href="#section-4.1.1-12.4">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.1-13">The default multiplexing policy <span class="bcp14">MUST</span> be set to "require".
          Implementations <span class="bcp14">MAY</span> choose to reject attempts by the
          application to set the multiplexing policy to
          "negotiate".<a class="pilcrow" href="#section-4.1.1-13">¶</a></p>
</section>
</div>
<div id="sec.addTrack">
<section id="section-4.1.2">
          <h4 id="name-addtrack">
<a class="section-number selfRef" href="#section-4.1.2">4.1.2. </a><a class="section-name selfRef" href="#name-addtrack">addTrack</a>
          </h4>
<p id="section-4.1.2-1">The addTrack method adds a MediaStreamTrack to the
          PeerConnection, using the MediaStream argument to associate
          the track with other tracks in the same MediaStream, so that
          they can be added to the same "LS" (Lip Synchronization) group when creating an
          offer or answer. Adding tracks to the same "LS" group
          indicates that the playback of these tracks should be
          synchronized for proper lip sync, as described in
          <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-7">Section 7</a></span>.  addTrack attempts
          to minimize the number of transceivers as follows: if the
          PeerConnection is in the "have‑remote-offer" state, the track
          will be attached to the first compatible transceiver that was
          created by the most recent call to setRemoteDescription and
          does not have a local track. Otherwise, a new transceiver
          will be created, as described in
          <a class="auto internal xref" href="#sec.addTransceiver">Section 4.1.4</a>.<a class="pilcrow" href="#section-4.1.2-1">¶</a></p>
</section>
</div>
<div id="sec.removeTrack">
<section id="section-4.1.3">
          <h4 id="name-removetrack">
<a class="section-number selfRef" href="#section-4.1.3">4.1.3. </a><a class="section-name selfRef" href="#name-removetrack">removeTrack</a>
          </h4>
<p id="section-4.1.3-1">The removeTrack method removes a MediaStreamTrack from the
          PeerConnection, using the RtpSender argument to indicate
          which sender should have its track removed. The sender's
          track is cleared, and the sender stops sending. Future calls
          to createOffer will mark the "m=" section associated with the
          sender as "recvonly" (if transceiver.direction is "sendrecv") or
          as "inactive" (if transceiver.direction is "sendonly").<a class="pilcrow" href="#section-4.1.3-1">¶</a></p>
</section>
</div>
<div id="sec.addTransceiver">
<section id="section-4.1.4">
          <h4 id="name-addtransceiver">
<a class="section-number selfRef" href="#section-4.1.4">4.1.4. </a><a class="section-name selfRef" href="#name-addtransceiver">addTransceiver</a>
          </h4>
<p id="section-4.1.4-1">The addTransceiver method adds a new RtpTransceiver to the
          PeerConnection. If a MediaStreamTrack argument is provided,
          then the transceiver will be configured with that media type
          and the track will be attached to the transceiver. Otherwise,
          the application <span class="bcp14">MUST</span> explicitly specify the type; this mode
          is useful for creating "recvonly" transceivers as well as for
          creating transceivers to which a track can be attached at
          some later point.<a class="pilcrow" href="#section-4.1.4-1">¶</a></p>
<p id="section-4.1.4-2">At the time of creation, the application can also specify
          a transceiver direction attribute, a set of MediaStreams
          that the transceiver is associated with (allowing "LS" group
          assignments), and a set of encodings for the media (used for
          simulcast as described in
          <a class="auto internal xref" href="#sec.simulcast">Section 3.7</a>).<a class="pilcrow" href="#section-4.1.4-2">¶</a></p>
</section>
</div>
<div id="sec.onaddtrack">
<section id="section-4.1.5">
          <h4 id="name-onaddtrack-event">
<a class="section-number selfRef" href="#section-4.1.5">4.1.5. </a><a class="section-name selfRef" href="#name-onaddtrack-event">onaddtrack Event</a>
          </h4>
<p id="section-4.1.5-1">The onaddtrack event is dispatched to the application when a new
          remote track has been signaled as a result of a setRemoteDescription
          call. The new track is supplied as a MediaStreamTrack object in the
          event, along with the MediaStream(s) the track is part of.<a class="pilcrow" href="#section-4.1.5-1">¶</a></p>
</section>
</div>
<div id="sec.createDataChannel">
<section id="section-4.1.6">
          <h4 id="name-createdatachannel">
<a class="section-number selfRef" href="#section-4.1.6">4.1.6. </a><a class="section-name selfRef" href="#name-createdatachannel">createDataChannel</a>
          </h4>
<p id="section-4.1.6-1">The createDataChannel method creates a new data channel
          and attaches it to the PeerConnection. If no data channel
          currently exists for this PeerConnection, then a new
          offer/answer exchange is required. All data channels on a
          given PeerConnection share the same SCTP/DTLS association ("SCTP" stands
          for "Stream Control Transmission Protocol") and
          therefore the same "m=" section, so subsequent creation of data
          channels does not have any impact on the JSEP state.<a class="pilcrow" href="#section-4.1.6-1">¶</a></p>
<p id="section-4.1.6-2">The createDataChannel method also includes a number of
          arguments that are used by the PeerConnection (e.g.,
          maxPacketLifetime) but are not reflected in the SDP and do
          not affect the JSEP state.<a class="pilcrow" href="#section-4.1.6-2">¶</a></p>
</section>
</div>
<div id="sec.ondatachannel">
<section id="section-4.1.7">
          <h4 id="name-ondatachannel-event">
<a class="section-number selfRef" href="#section-4.1.7">4.1.7. </a><a class="section-name selfRef" href="#name-ondatachannel-event">ondatachannel Event</a>
          </h4>
<p id="section-4.1.7-1">The ondatachannel event is dispatched to the application when a
          new data channel has been negotiated by the remote side, which can
          occur at any time after the underlying SCTP/DTLS association has been
          established. The new data channel object is supplied in the event.<a class="pilcrow" href="#section-4.1.7-1">¶</a></p>
</section>
</div>
<div id="sec.createoffer">
<section id="section-4.1.8">
          <h4 id="name-createoffer">
<a class="section-number selfRef" href="#section-4.1.8">4.1.8. </a><a class="section-name selfRef" href="#name-createoffer">createOffer</a>
          </h4>
<p id="section-4.1.8-1">The createOffer method generates a blob of SDP that
          contains an offer per <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>]</span> with the
          configurations for the session that are supported by the application, including descriptions of the
          media added to this PeerConnection, the codec, RTP, and RTCP
          options supported by this implementation, and any candidates
          that have been gathered by the ICE agent. An options
          parameter may be supplied to provide additional control over
          the generated offer. This options parameter allows an
          application to trigger an ICE restart, for the purpose of
          reestablishing connectivity.<a class="pilcrow" href="#section-4.1.8-1">¶</a></p>
<p id="section-4.1.8-2">In the initial offer, the generated SDP will contain all
          desired functionality for the session (functionality that is
          supported but not desired by default may be omitted); for
          each SDP line, the generation of the SDP will follow the
          process defined for generating an initial offer from the
          specification that defines the given SDP line. The exact
          handling of initial offer generation is detailed in
          <a class="auto internal xref" href="#sec.initial-offers">Section 5.2.1</a> below.<a class="pilcrow" href="#section-4.1.8-2">¶</a></p>
<p id="section-4.1.8-3">In the event createOffer is called after the session is
          established, createOffer will generate an offer to modify the
          current session based on any changes that have been made to
          the session, e.g., adding or stopping RtpTransceivers, or
          requesting an ICE restart. For each existing stream, the
          generation of each SDP line <span class="bcp14">MUST</span> follow the process defined
          for generating an updated offer from the specification that defines
          the given SDP line. For each new stream, the generation of
          the SDP <span class="bcp14">MUST</span> follow the process of generating an initial
          offer, as mentioned above. The exact handling of subsequent
          offer generation is detailed in
          <a class="auto internal xref" href="#sec.subsequent-offers">Section 5.2.2</a> below.<a class="pilcrow" href="#section-4.1.8-3">¶</a></p>
<p id="section-4.1.8-4">Session descriptions generated by createOffer <span class="bcp14">MUST</span> be
          immediately usable by setLocalDescription; if a system has
          limited resources (e.g., a finite number of decoders),
          createOffer <span class="bcp14">SHOULD</span> return an offer that reflects the current
          state of the system, so that setLocalDescription will succeed
          when it attempts to acquire those resources.<a class="pilcrow" href="#section-4.1.8-4">¶</a></p>
<p id="section-4.1.8-5">Calling this method may do things such as generating new
          ICE credentials, but it does not change the PeerConnection
          state, trigger candidate gathering, or cause media to start
          or stop flowing. Specifically, the offer is not applied, and
          does not become the pending local description, until
          setLocalDescription is called.<a class="pilcrow" href="#section-4.1.8-5">¶</a></p>
</section>
</div>
<div id="sec.createanswer">
<section id="section-4.1.9">
          <h4 id="name-createanswer">
<a class="section-number selfRef" href="#section-4.1.9">4.1.9. </a><a class="section-name selfRef" href="#name-createanswer">createAnswer</a>
          </h4>
<p id="section-4.1.9-1">The createAnswer method generates a blob of SDP that
          contains an SDP answer per <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>]</span> with the supported
          configuration for the session that is compatible with the
          parameters supplied in the most recent call to
          setRemoteDescription; setRemoteDescription <span class="bcp14">MUST</span> have been called prior to
          calling createAnswer. Like createOffer, the returned blob
          contains descriptions of the media added to this
          PeerConnection; the codec, RTP, and RTCP options supported by the application; and any candidates that have been gathered by
          the ICE agent. An options parameter may be supplied to
          provide additional control over the generated answer.<a class="pilcrow" href="#section-4.1.9-1">¶</a></p>
<p id="section-4.1.9-2">As an answer, the generated SDP will contain a specific
          configuration that specifies how the media plane should be
          established; for each SDP line, the generation of the SDP
          <span class="bcp14">MUST</span> follow the process defined for generating an answer from
          the specification that defines the given SDP line. The exact
          handling of answer generation is detailed in
          <a class="auto internal xref" href="#sec.generating-an-answer">Section 5.3</a> below.<a class="pilcrow" href="#section-4.1.9-2">¶</a></p>
<p id="section-4.1.9-3">Session descriptions generated by createAnswer <span class="bcp14">MUST</span> be
          immediately usable by setLocalDescription; like createOffer,
          the returned description <span class="bcp14">SHOULD</span> reflect the current state of
          the system.<a class="pilcrow" href="#section-4.1.9-3">¶</a></p>
<p id="section-4.1.9-4">Calling this method may do things such as generating new
          ICE credentials, but it does not change the PeerConnection
          state, trigger candidate gathering, or cause a media state
          change. Specifically, the answer is not applied, and does not
          become the current local description, until
          setLocalDescription is called.<a class="pilcrow" href="#section-4.1.9-4">¶</a></p>
</section>
</div>
<div id="sec.sessiondescriptiontype">
<section id="section-4.1.10">
          <h4 id="name-sessiondescriptiontype">
<a class="section-number selfRef" href="#section-4.1.10">4.1.10. </a><a class="section-name selfRef" href="#name-sessiondescriptiontype">SessionDescriptionType</a>
          </h4>
<p id="section-4.1.10-1">Session description objects (RTCSessionDescription) may be
          of type "offer", "pranswer", "answer", or "rollback". These
          types provide information as to how the description parameter
          should be parsed and how the media state should be
          changed.<a class="pilcrow" href="#section-4.1.10-1">¶</a></p>
<p id="section-4.1.10-2">"offer" indicates that a description <span class="bcp14">MUST</span> be parsed as
          an offer; said description may include many possible media
          configurations. A description used as an "offer" may be
          applied any time the PeerConnection is in a "stable" state or
          applied as an update to a previously supplied but unanswered
          "offer".<a class="pilcrow" href="#section-4.1.10-2">¶</a></p>
<p id="section-4.1.10-3">"pranswer" indicates that a description <span class="bcp14">MUST</span> be parsed
          as an answer, but not a final answer, and so <span class="bcp14">MUST NOT</span>
          result in the freeing of allocated resources. It may result
          in the start of media transmission, if the answer does not
          specify an "inactive" media direction. A description used as a
          "pranswer" may be applied as a response to an "offer" or as an
          update to a previously sent "pranswer".<a class="pilcrow" href="#section-4.1.10-3">¶</a></p>
<p id="section-4.1.10-4">"answer" indicates that a description <span class="bcp14">MUST</span> be parsed as
          an answer, the offer/answer exchange <span class="bcp14">MUST</span> be considered
          complete, and any resources (decoders, candidates) that are
          no longer needed <span class="bcp14">SHOULD</span> be released. A description used as an
          "answer" may be applied as a response to an "offer" or as an
          update to a previously sent "pranswer".<a class="pilcrow" href="#section-4.1.10-4">¶</a></p>
<p id="section-4.1.10-5">The only difference between a provisional and final answer
          is that the final answer results in the freeing of any unused
          resources that were allocated as a result of the offer. As
          such, the application can use some discretion on whether an
          answer should be applied as provisional or final and can
          change the type of the session description as needed. For
          example, in a serial forking scenario, an application may
          receive multiple "final" answers, one from each remote
          endpoint. The application could choose to accept the initial
          answers as provisional answers and only apply an answer as
          final when it receives one that meets its criteria (e.g., a
          live user instead of voicemail).<a class="pilcrow" href="#section-4.1.10-5">¶</a></p>
<p id="section-4.1.10-6">"rollback" is a special session description type indicating
          that the state machine <span class="bcp14">MUST</span> be rolled back to the previous
          "stable" state, as described in
          <a class="auto internal xref" href="#sec.rollback">Section 4.1.10.2</a>. The contents <span class="bcp14">MUST</span> be
          empty.<a class="pilcrow" href="#section-4.1.10-6">¶</a></p>
<div id="sec.use-of-provisional-answer">
<section id="section-4.1.10.1">
            <h5 id="name-use-of-provisional-answers">
<a class="section-number selfRef" href="#section-4.1.10.1">4.1.10.1. </a><a class="section-name selfRef" href="#name-use-of-provisional-answers">Use of Provisional Answers</a>
            </h5>
<p id="section-4.1.10.1-1">Most applications will not need to create answers using
            the "pranswer" type. While it is good practice to send an
            immediate response to an offer, in order to warm up the
            session transport and prevent media clipping, the preferred
            handling for a JSEP application is to create and send a
            "sendonly" final answer with a null MediaStreamTrack
            immediately after receiving the offer, which will prevent
            media from being sent by the caller and allow media to be
            sent immediately upon answer by the callee. Later, when the
            callee actually accepts the call, the application can plug
            in the real MediaStreamTrack and create a new "sendrecv"
            offer to update the previous offer/answer pair and start
            bidirectional media flow.  While this could also be done
            with a "sendonly" pranswer followed by a "sendrecv"
            answer, the initial pranswer leaves the offer/answer
            exchange open, which means that the caller cannot send an
            updated offer during this time.<a class="pilcrow" href="#section-4.1.10.1-1">¶</a></p>
<p id="section-4.1.10.1-2">As an example, consider a typical JSEP application that
            wants to set up audio and video as quickly as possible.
            When the callee receives an offer with audio and video
            MediaStreamTracks, it will send an immediate answer
            accepting these tracks as "sendonly" (meaning that the caller
            will not send the callee any media yet, and because the
            callee has not yet added its own MediaStreamTracks, the
            callee will not send any media either). It will then ask
            the user to accept the call and acquire the needed local
            tracks. Upon acceptance by the user, the application will
            plug in the tracks it has acquired, which, because ICE handshaking
            and DTLS handshaking have likely completed by this point, can
            start transmitting immediately. The application will also
            send a new offer to the remote side indicating call
            acceptance and moving the audio and video to be two-way
            media. A detailed example flow along these lines is shown
            in
            <a class="auto internal xref" href="#sec.warmup-example">Section 7.3</a>.<a class="pilcrow" href="#section-4.1.10.1-2">¶</a></p>
<p id="section-4.1.10.1-3">Of course, some applications may not be able to perform
            this double offer/answer exchange, particularly ones that
            are attempting to gateway to legacy signaling protocols. In
            these cases, pranswer can still provide the application
            with a mechanism to warm up the transport.<a class="pilcrow" href="#section-4.1.10.1-3">¶</a></p>
</section>
</div>
<div id="sec.rollback">
<section id="section-4.1.10.2">
            <h5 id="name-rollback">
<a class="section-number selfRef" href="#section-4.1.10.2">4.1.10.2. </a><a class="section-name selfRef" href="#name-rollback">Rollback</a>
            </h5>
<p id="section-4.1.10.2-1">In certain situations, it may be desirable to "undo" a
            change made to setLocalDescription or setRemoteDescription.
            Consider a case where a call is ongoing and one side wants
            to change some of the session parameters; that side
            generates an updated offer and then calls
            setLocalDescription. However, the remote side, either
            before or after setRemoteDescription, decides it does not
            want to accept the new parameters and sends a reject
            message back to the offerer. Now, the offerer, and possibly
            the answerer as well, needs to return to a "stable" state and
            the previous local/remote description. To support this,
            this specification introduces the concept of "rollback", which discards any
            proposed changes to the session, returning the state
            machine to the "stable" state. A rollback is performed by
            supplying a session description of type "rollback" with
            empty contents to either setLocalDescription or
            setRemoteDescription.<a class="pilcrow" href="#section-4.1.10.2-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.setlocaldescription">
<section id="section-4.1.11">
          <h4 id="name-setlocaldescription">
<a class="section-number selfRef" href="#section-4.1.11">4.1.11. </a><a class="section-name selfRef" href="#name-setlocaldescription">setLocalDescription</a>
          </h4>
<p id="section-4.1.11-1">The setLocalDescription method instructs the
          PeerConnection to apply the supplied session description as
          its local configuration. The type field indicates whether the
          description should be processed as an offer, provisional
          answer, final answer, or rollback; offers and answers are
          checked differently, using the various rules that exist for
          each SDP line.<a class="pilcrow" href="#section-4.1.11-1">¶</a></p>
<p id="section-4.1.11-2">This API changes the local media state; among other
          things, it sets up local resources for receiving and decoding
          media. In order to successfully handle scenarios where the
          application wants to offer to change from one media format to
          a different, incompatible format, the PeerConnection <span class="bcp14">MUST</span> be
          able to simultaneously support use of both the current and
          pending local descriptions (e.g., support the codecs that
          exist in either description). This dual processing begins
          when the PeerConnection enters the "have-local-offer" state,
          and it continues until setRemoteDescription is called with
          either (1) a final answer, at which point the PeerConnection can
          fully adopt the pending local description or (2) a rollback,
          which results in a revert to the current local
          description.<a class="pilcrow" href="#section-4.1.11-2">¶</a></p>
<p id="section-4.1.11-3">This API indirectly controls the candidate gathering
          process. When a local description is supplied and the number
          of transports currently in use does not match the number of
          transports needed by the local description, the
          PeerConnection will create transports as needed and begin
          gathering candidates for each transport, using ones from the
          candidate pool if available.<a class="pilcrow" href="#section-4.1.11-3">¶</a></p>
<p id="section-4.1.11-4">If (1) setRemoteDescription was previously called with an
          offer, (2) setLocalDescription is called with an answer
          (provisional or final), (3) the media directions are
          compatible, and (4) media is available to send, this will result
          in the starting of media transmission.<a class="pilcrow" href="#section-4.1.11-4">¶</a></p>
</section>
</div>
<div id="sec.setremotedescription">
<section id="section-4.1.12">
          <h4 id="name-setremotedescription">
<a class="section-number selfRef" href="#section-4.1.12">4.1.12. </a><a class="section-name selfRef" href="#name-setremotedescription">setRemoteDescription</a>
          </h4>
<p id="section-4.1.12-1">The setRemoteDescription method instructs the
          PeerConnection to apply the supplied session description as
          the desired remote configuration. As in setLocalDescription,
          the type field of the description indicates how it should be
          processed.<a class="pilcrow" href="#section-4.1.12-1">¶</a></p>
<p id="section-4.1.12-2">This API changes the local media state; among other
          things, it sets up local resources for sending and encoding
          media.<a class="pilcrow" href="#section-4.1.12-2">¶</a></p>
<p id="section-4.1.12-3">If (1) setLocalDescription was previously called with an
          offer, (2) setRemoteDescription is called with an answer
          (provisional or final), (3) the media directions are
          compatible, and (4) media is available to send, this will result
          in the starting of media transmission.<a class="pilcrow" href="#section-4.1.12-3">¶</a></p>
</section>
</div>
<div id="sec.currentlocaldescription">
<section id="section-4.1.13">
          <h4 id="name-currentlocaldescription">
<a class="section-number selfRef" href="#section-4.1.13">4.1.13. </a><a class="section-name selfRef" href="#name-currentlocaldescription">currentLocalDescription</a>
          </h4>
<p id="section-4.1.13-1">The currentLocalDescription method returns the current
          negotiated local description -- i.e., the local description
          from the last successful offer/answer exchange -- in addition
          to any local candidates that have been generated by the ICE
          agent since the local description was set.<a class="pilcrow" href="#section-4.1.13-1">¶</a></p>
<p id="section-4.1.13-2">A null object will be returned if an offer/answer exchange
          has not yet been completed.<a class="pilcrow" href="#section-4.1.13-2">¶</a></p>
</section>
</div>
<div id="sec.pendinglocaldescription">
<section id="section-4.1.14">
          <h4 id="name-pendinglocaldescription">
<a class="section-number selfRef" href="#section-4.1.14">4.1.14. </a><a class="section-name selfRef" href="#name-pendinglocaldescription">pendingLocalDescription</a>
          </h4>
<p id="section-4.1.14-1">The pendingLocalDescription method returns a copy of the
          local description currently in negotiation -- i.e., a local
          offer set without any corresponding remote answer -- in
          addition to any local candidates that have been generated by
          the ICE agent since the local description was set.<a class="pilcrow" href="#section-4.1.14-1">¶</a></p>
<p id="section-4.1.14-2">A null object will be returned if the state of the
          PeerConnection is "stable" or "have-remote-offer".<a class="pilcrow" href="#section-4.1.14-2">¶</a></p>
</section>
</div>
<div id="sec.currentremotedescription">
<section id="section-4.1.15">
          <h4 id="name-currentremotedescription">
<a class="section-number selfRef" href="#section-4.1.15">4.1.15. </a><a class="section-name selfRef" href="#name-currentremotedescription">currentRemoteDescription</a>
          </h4>
<p id="section-4.1.15-1">The currentRemoteDescription method returns a copy of the
          current negotiated remote description -- i.e., the remote
          description from the last successful offer/answer exchange --
          in addition to any remote candidates that have been supplied
          via processIceMessage since the remote description was
          set.<a class="pilcrow" href="#section-4.1.15-1">¶</a></p>
<p id="section-4.1.15-2">A null object will be returned if an offer/answer exchange
          has not yet been completed.<a class="pilcrow" href="#section-4.1.15-2">¶</a></p>
</section>
</div>
<div id="sec.pendingremotedescription">
<section id="section-4.1.16">
          <h4 id="name-pendingremotedescription">
<a class="section-number selfRef" href="#section-4.1.16">4.1.16. </a><a class="section-name selfRef" href="#name-pendingremotedescription">pendingRemoteDescription</a>
          </h4>
<p id="section-4.1.16-1">The pendingRemoteDescription method returns a copy of the
          remote description currently in negotiation -- i.e., a remote
          offer set without any corresponding local answer -- in
          addition to any remote candidates that have been supplied via
          processIceMessage since the remote description was set.<a class="pilcrow" href="#section-4.1.16-1">¶</a></p>
<p id="section-4.1.16-2">A null object will be returned if the state of the
          PeerConnection is "stable" or "have-local-offer".<a class="pilcrow" href="#section-4.1.16-2">¶</a></p>
</section>
</div>
<div id="sec.cantrickle">
<section id="section-4.1.17">
          <h4 id="name-cantrickleicecandidates">
<a class="section-number selfRef" href="#section-4.1.17">4.1.17. </a><a class="section-name selfRef" href="#name-cantrickleicecandidates">canTrickleIceCandidates</a>
          </h4>
<p id="section-4.1.17-1">The canTrickleIceCandidates property indicates whether the
          remote side supports receiving trickled candidates. There are
          three potential values:<a class="pilcrow" href="#section-4.1.17-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.17-2">
            <dt id="section-4.1.17-2.1">null:</dt>
            <dd id="section-4.1.17-2.2" style="margin-left: 1.5em">No SDP has been received from the other
            side, so it is not known if it can handle trickle. This is
            the initial value before setRemoteDescription is
            called.<a class="pilcrow" href="#section-4.1.17-2.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.17-2.3">true:</dt>
            <dd id="section-4.1.17-2.4" style="margin-left: 1.5em">SDP has been received from the other
            side indicating that it can support trickle.<a class="pilcrow" href="#section-4.1.17-2.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.17-2.5">false:</dt>
            <dd id="section-4.1.17-2.6" style="margin-left: 1.5em">SDP has been received from the other
            side indicating that it cannot support trickle.<a class="pilcrow" href="#section-4.1.17-2.6">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.17-3">As described in
          <a class="auto internal xref" href="#sec.ice-candidate-trickling">Section 3.5.2</a>, JSEP
          implementations always provide candidates to the application
          individually, consistent with what is needed for Trickle ICE.
          However, applications can use the canTrickleIceCandidates
          property to determine whether their peer can actually do
          Trickle ICE, i.e., whether it is safe to send an initial
          offer or answer followed later by candidates as they are
          gathered. As "true" is the only value that definitively
          indicates remote Trickle ICE support, an application that
          compares canTrickleIceCandidates against "true" will by
          default attempt half trickle on initial offers and full
          trickle on subsequent interactions with a Trickle
          ICE-compatible agent.<a class="pilcrow" href="#section-4.1.17-3">¶</a></p>
</section>
</div>
<div id="sec.setconfiguration">
<section id="section-4.1.18">
          <h4 id="name-setconfiguration">
<a class="section-number selfRef" href="#section-4.1.18">4.1.18. </a><a class="section-name selfRef" href="#name-setconfiguration">setConfiguration</a>
          </h4>
<p id="section-4.1.18-1">The setConfiguration method allows the global
          configuration of the PeerConnection, which was initially set
          by constructor parameters, to be changed during the session.
          The effects of calling this method depend on when it is invoked,
          and they will differ, depending on which specific parameters are
          changed:<a class="pilcrow" href="#section-4.1.18-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.18-2.1">Any changes to the STUN/TURN servers to use affect the
              next gathering phase. If an ICE gathering phase has
              already started or completed, the 'needs-ice-restart' bit
              mentioned in
              <a class="auto internal xref" href="#sec.ice-gather-overview">Section 3.5.1</a> will be set.
              This will cause the next call to createOffer to generate
              new ICE credentials, for the purpose of forcing an ICE
              restart and kicking off a new gathering phase, in which
              the new servers will be used. If the ICE candidate pool
              has a nonzero size and a local description has not yet
              been applied, any existing candidates will be discarded,
              and new candidates will be gathered from the new
              servers.<a class="pilcrow" href="#section-4.1.18-2.1">¶</a>
</li>
            <li class="normal" id="section-4.1.18-2.2">Any change to the ICE candidate policy affects the
              next gathering phase. If an ICE gathering phase has
              already started or completed, the 'needs-ice-restart' bit
              will be set. Either way, changes to the policy have no
              effect on the candidate pool, because pooled candidates
              are not made available to the application until a
              gathering phase occurs, and so any necessary filtering
              can still be done on any pooled candidates.<a class="pilcrow" href="#section-4.1.18-2.2">¶</a>
</li>
            <li class="normal" id="section-4.1.18-2.3">The ICE candidate pool size <span class="bcp14">MUST NOT</span> be changed after
              applying a local description. If a local description has
              not yet been applied, any changes to the ICE candidate
              pool size take effect immediately; if increased,
              additional candidates are pre-gathered; if decreased, the
              now-superfluous candidates are discarded.<a class="pilcrow" href="#section-4.1.18-2.3">¶</a>
</li>
            <li class="normal" id="section-4.1.18-2.4">The bundle and RTCP-multiplexing policies <span class="bcp14">MUST NOT</span> be
              changed after the construction of the PeerConnection.<a class="pilcrow" href="#section-4.1.18-2.4">¶</a>
</li>
          </ul>
<p id="section-4.1.18-3">Calling this method may result in a change to the state of the ICE
          agent.<a class="pilcrow" href="#section-4.1.18-3">¶</a></p>
</section>
</div>
<div id="sec.addicecandidate">
<section id="section-4.1.19">
          <h4 id="name-addicecandidate">
<a class="section-number selfRef" href="#section-4.1.19">4.1.19. </a><a class="section-name selfRef" href="#name-addicecandidate">addIceCandidate</a>
          </h4>
<p id="section-4.1.19-1">The addIceCandidate method provides an update to the ICE
          agent via an IceCandidate object
          (<a class="auto internal xref" href="#sec.ice-candidate-format">Section 3.5.2.1</a>). If the
          IceCandidate's candidate field is non-null, the IceCandidate
          is treated as a new remote ICE candidate, which will be added
          to the current and/or pending remote description according to
          the rules defined for Trickle ICE. Otherwise, the
          IceCandidate is treated as an end-of-candidates indication,
          as defined in
          <span>[<a class="cite xref" href="#RFC8838">RFC8838</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8838#section-14">Section 14</a></span>.<a class="pilcrow" href="#section-4.1.19-1">¶</a></p>
<p id="section-4.1.19-2">In either case, the "m=" section index, MID, and ufrag
          fields from the supplied IceCandidate are used to determine
          which "m=" section and ICE candidate generation the
          IceCandidate belongs to, as described in
          <a class="auto internal xref" href="#sec.ice-candidate-format">Section 3.5.2.1</a> above. In the case
          of an end-of-candidates indication, null values for the
          "m=" section index and MID fields are interpreted to mean that
          the indication applies to all "m=" sections in the specified
          ICE candidate generation. However, if both fields are null
          for a new remote candidate, this <span class="bcp14">MUST</span> be treated as an
          invalid condition, as specified below.<a class="pilcrow" href="#section-4.1.19-2">¶</a></p>
<p id="section-4.1.19-3">If any IceCandidate fields contain invalid values or an
          error occurs during the processing of the IceCandidate
          object, the supplied IceCandidate <span class="bcp14">MUST</span> be ignored and an
          error <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-4.1.19-3">¶</a></p>
<p id="section-4.1.19-4">Otherwise, the new remote candidate or end-of-candidates
          indication is supplied to the ICE agent. In the case of a new
          remote candidate, connectivity checks will be sent to the new
          candidate, assuming that setLocalDescription has already been
          called to initialize the ICE gathering process.<a class="pilcrow" href="#section-4.1.19-4">¶</a></p>
</section>
</div>
<div id="sec.onicecandidate">
<section id="section-4.1.20">
          <h4 id="name-onicecandidate-event">
<a class="section-number selfRef" href="#section-4.1.20">4.1.20. </a><a class="section-name selfRef" href="#name-onicecandidate-event">onicecandidate Event</a>
          </h4>
<p id="section-4.1.20-1">The onicecandidate event is dispatched to the application in two
          situations: (1) when the ICE agent has discovered a new allowed local
          ICE candidate during ICE gathering, as outlined in
          <a class="auto internal xref" href="#sec.ice-gather-overview">Section 3.5.1</a> and
          subject to the restrictions discussed in
          <a class="auto internal xref" href="#sec.ice-candidate-policy">Section 3.5.3</a>, or
          (2) when an ICE gathering phase completes. The event contains a single
          IceCandidate object, as defined in
          <a class="auto internal xref" href="#sec.ice-candidate-format">Section 3.5.2.1</a>.<a class="pilcrow" href="#section-4.1.20-1">¶</a></p>
<p id="section-4.1.20-2">In the first case, the newly discovered candidate is reflected
          in the IceCandidate object, and all of its fields <span class="bcp14">MUST</span> be non-null.
          This candidate will also be added to the current and/or pending local
          description according to the rules defined for Trickle ICE.<a class="pilcrow" href="#section-4.1.20-2">¶</a></p>
<p id="section-4.1.20-3">In the second case, the event's IceCandidate object
          <span class="bcp14">MUST</span> have its candidate field set to null to indicate
          that the current gathering phase is complete, i.e., there will be no
          further onicecandidate events in this phase. However, the
          IceCandidate's ufrag field <span class="bcp14">MUST</span> be specified to
          indicate which ICE candidate generation is ending. The IceCandidate's
          "m=" section index and MID fields <span class="bcp14">MAY</span> be specified to indicate that
          the event applies to a specific "m=" section, or set to null to
          indicate that it applies to all "m=" sections in the current ICE candidate
          generation. This event can be used by the application to generate an
          end-of-candidates indication, as defined in
          <span>[<a class="cite xref" href="#RFC8838">RFC8838</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8838#section-13">Section 13</a></span>.<a class="pilcrow" href="#section-4.1.20-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.transceiver">
<section id="section-4.2">
        <h3 id="name-rtptransceiver">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-rtptransceiver">RtpTransceiver</a>
        </h3>
<div id="sec.transceiver-stop">
<section id="section-4.2.1">
          <h4 id="name-stop">
<a class="section-number selfRef" href="#section-4.2.1">4.2.1. </a><a class="section-name selfRef" href="#name-stop">stop</a>
          </h4>
<p id="section-4.2.1-1">The stop method stops an RtpTransceiver. This will cause
          future calls to createOffer to generate a zero port for the
          associated "m=" section. See below for more details.<a class="pilcrow" href="#section-4.2.1-1">¶</a></p>
</section>
</div>
<div id="sec.transceiver-stopped">
<section id="section-4.2.2">
          <h4 id="name-stopped">
<a class="section-number selfRef" href="#section-4.2.2">4.2.2. </a><a class="section-name selfRef" href="#name-stopped">stopped</a>
          </h4>
<p id="section-4.2.2-1">The stopped property indicates whether the transceiver has
          been stopped, either by a call to stop or by
          applying an answer that rejects the associated "m=" section. In
          either of these cases, it is set to "true" and otherwise
          will be set to "false".<a class="pilcrow" href="#section-4.2.2-1">¶</a></p>
<p id="section-4.2.2-2">A stopped RtpTransceiver does not send any outgoing RTP or
          RTCP or process any incoming RTP or RTCP. It cannot be
          restarted.<a class="pilcrow" href="#section-4.2.2-2">¶</a></p>
</section>
</div>
<div id="sec.transceiver-set-direction">
<section id="section-4.2.3">
          <h4 id="name-setdirection">
<a class="section-number selfRef" href="#section-4.2.3">4.2.3. </a><a class="section-name selfRef" href="#name-setdirection">setDirection</a>
          </h4>
<p id="section-4.2.3-1">The setDirection method sets the direction of a
          transceiver, which affects the direction property of the
          associated "m=" section on future calls to createOffer and
          createAnswer. The permitted values for direction are
          "recvonly", "sendrecv", "sendonly", and "inactive", mirroring
          the identically named direction attributes defined in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span>.<a class="pilcrow" href="#section-4.2.3-1">¶</a></p>
<p id="section-4.2.3-2">When creating offers, the transceiver direction is
          directly reflected in the output, even for re-offers. When
          creating answers, the transceiver direction is intersected
          with the offered direction, as explained in
          <a class="auto internal xref" href="#sec.generating-an-answer">Section 5.3</a> below.<a class="pilcrow" href="#section-4.2.3-2">¶</a></p>
<p id="section-4.2.3-3">Note that while setDirection sets the direction property
          (<a class="auto internal xref" href="#sec.transceiver-direction">Section 4.2.4</a>) of the transceiver immediately, this property
          does not immediately affect whether the transceiver's
          RtpSender will send or its RtpReceiver will receive. The
          direction in effect is represented by the currentDirection
          property, which is only updated when an answer is
          applied.<a class="pilcrow" href="#section-4.2.3-3">¶</a></p>
</section>
</div>
<div id="sec.transceiver-direction">
<section id="section-4.2.4">
          <h4 id="name-direction">
<a class="section-number selfRef" href="#section-4.2.4">4.2.4. </a><a class="section-name selfRef" href="#name-direction">direction</a>
          </h4>
<p id="section-4.2.4-1">The direction property indicates the last value passed
          into setDirection. If setDirection has never been called, it
          is set to the direction the transceiver was initialized
          with.<a class="pilcrow" href="#section-4.2.4-1">¶</a></p>
</section>
</div>
<div id="sec.transceiver-current-direction">
<section id="section-4.2.5">
          <h4 id="name-currentdirection">
<a class="section-number selfRef" href="#section-4.2.5">4.2.5. </a><a class="section-name selfRef" href="#name-currentdirection">currentDirection</a>
          </h4>
<p id="section-4.2.5-1">The currentDirection property indicates the last
          negotiated direction for the transceiver's associated "m="
          section. More specifically, it indicates the
          direction attribute <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>]</span> of the
          associated "m=" section in the last applied answer (including
          provisional answers), with the direction
          reversed if it was a remote answer.  For example, if the
          direction attribute for the associated "m=" section in a
          remote answer is "recvonly", currentDirection is set to
          "sendonly".<a class="pilcrow" href="#section-4.2.5-1">¶</a></p>
<p id="section-4.2.5-2">If an answer that references this transceiver has not yet
          been applied or if the transceiver is stopped,
          currentDirection is set to null.<a class="pilcrow" href="#section-4.2.5-2">¶</a></p>
</section>
</div>
<div id="sec.transceiver-set-codec-preferences">
<section id="section-4.2.6">
          <h4 id="name-setcodecpreferences">
<a class="section-number selfRef" href="#section-4.2.6">4.2.6. </a><a class="section-name selfRef" href="#name-setcodecpreferences">setCodecPreferences</a>
          </h4>
<p id="section-4.2.6-1">The setCodecPreferences method sets the codec preferences
          of a transceiver, which in turn affect the presence and order
          of codecs of the associated "m=" section on future calls to
          createOffer and createAnswer. Note that setCodecPreferences
          does not directly affect which codec the implementation
          decides to send. It only affects which codecs the
          implementation indicates that it prefers to receive, via the
          offer or answer. Even when a codec is excluded by
          setCodecPreferences, it still may be used to send until the
          next offer/answer exchange discards it.<a class="pilcrow" href="#section-4.2.6-1">¶</a></p>
<p id="section-4.2.6-2">The codec preferences of an RtpTransceiver can cause
          codecs to be excluded by subsequent calls to createOffer and
          createAnswer, in which case the corresponding media formats
          in the associated "m=" section will be excluded. The codec
          preferences cannot add media formats that would otherwise not
          be present.<a class="pilcrow" href="#section-4.2.6-2">¶</a></p>
<p id="section-4.2.6-3">The codec preferences of an RtpTransceiver can also
          determine the order of codecs in subsequent calls to
          createOffer and createAnswer, in which case the order of the
          media formats in the associated "m=" section will follow the
          specified preferences.<a class="pilcrow" href="#section-4.2.6-3">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec.sdp-interaction-procedure">
<section id="section-5">
      <h2 id="name-sdp-interaction-procedures">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-sdp-interaction-procedures">SDP Interaction Procedures</a>
      </h2>
<p id="section-5-1">This section describes the specific procedures to be followed
      when creating and parsing SDP objects.<a class="pilcrow" href="#section-5-1">¶</a></p>
<div id="sec.requirements-overview">
<section id="section-5.1">
        <h3 id="name-requirements-overview">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-requirements-overview">Requirements Overview</a>
        </h3>
<p id="section-5.1-1">JSEP implementations <span class="bcp14">MUST</span> comply with the specifications
        listed below that govern the creation and processing of offers
        and answers.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<div id="sec.usage-requirements">
<section id="section-5.1.1">
          <h4 id="name-usage-requirements">
<a class="section-number selfRef" href="#section-5.1.1">5.1.1. </a><a class="section-name selfRef" href="#name-usage-requirements">Usage Requirements</a>
          </h4>
<p id="section-5.1.1-1">All session descriptions handled by JSEP implementations,
          both local and remote, <span class="bcp14">MUST</span> indicate support for the
          following specifications. If any of these are absent, this
          omission <span class="bcp14">MUST</span> be treated as an error.<a class="pilcrow" href="#section-5.1.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.1-2.1">ICE, as specified in
            <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>]</span>, <span class="bcp14">MUST</span> be used. Note that the
            remote endpoint may use a lite implementation;
            implementations <span class="bcp14">MUST</span> properly handle remote endpoints that
            use ICE-lite. The remote endpoint may also use
an older version of ICE; implementations <span class="bcp14">MUST</span> properly handle remote endpoints that use ICE
as specified in <span>[<a class="cite xref" href="#RFC5245">RFC5245</a>]</span>.<a class="pilcrow" href="#section-5.1.1-2.1">¶</a>
</li>
            <li class="normal" id="section-5.1.1-2.2">DTLS
            <span>[<a class="cite xref" href="#RFC6347">RFC6347</a>]</span> <span>[<a class="cite xref" href="#RFC9147">RFC9147</a>]</span> or DTLS-SRTP
            <span>[<a class="cite xref" href="#RFC5763">RFC5763</a>]</span> <span class="bcp14">MUST</span> be used, as
            appropriate for the media type, as specified in
            <span>[<a class="cite xref" href="#RFC8827">RFC8827</a>]</span>.
            Note: RFC 8827 requires implementations to support
DTLS 1.2 <span>[<a class="cite xref" href="#RFC6347">RFC6347</a>]</span> and permits the use of DTLS 1.3 <span>[<a class="cite xref" href="#RFC9147">RFC9147</a>]</span>.<a class="pilcrow" href="#section-5.1.1-2.2">¶</a>
</li>
          </ul>
<p id="section-5.1.1-3">The SDP security descriptions mechanism for Secure Real-time Transport Protocol (SRTP) keying
          <span>[<a class="cite xref" href="#RFC4568">RFC4568</a>]</span> <span class="bcp14">MUST NOT</span> be used, as discussed in
          <span>[<a class="cite xref" href="#RFC8827">RFC8827</a>]</span>.<a class="pilcrow" href="#section-5.1.1-3">¶</a></p>
</section>
</div>
<div id="sec.profile-names">
<section id="section-5.1.2">
          <h4 id="name-profile-names-and-interoper">
<a class="section-number selfRef" href="#section-5.1.2">5.1.2. </a><a class="section-name selfRef" href="#name-profile-names-and-interoper">Profile Names and Interoperability</a>
          </h4>
<p id="section-5.1.2-1">For media "m=" sections, JSEP implementations <span class="bcp14">MUST</span> support
          the "UDP/TLS/RTP/SAVPF" profile specified in
          <span>[<a class="cite xref" href="#RFC5764">RFC5764</a>]</span> as well as the "TCP/DTLS/RTP/SAVPF"
          profile specified in <span>[<a class="cite xref" href="#RFC7850">RFC7850</a>]</span> and <span class="bcp14">MUST</span> indicate
          one of these profiles for each media "m=" line they produce in an offer.
          For data "m=" sections, implementations <span class="bcp14">MUST</span> support the
          "UDP/DTLS/SCTP" profile as well as the "TCP/DTLS/SCTP" profile and
          <span class="bcp14">MUST</span> indicate one of these profiles for each data "m=" line they produce
          in an offer. The exact profile to use is determined by the protocol
          associated with the current default or selected ICE candidate, as
          described in
          <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-4.2.1.2">Section 4.2.1.2</a></span>.<a class="pilcrow" href="#section-5.1.2-1">¶</a></p>
<p id="section-5.1.2-2">Unfortunately, in an attempt at compatibility, some
          endpoints generate other profile strings even when they mean
          to support one of these profiles. For instance, an endpoint
          might generate "RTP/AVP" but supply "a=fingerprint" and
          "a=rtcp-fb" attributes, indicating its willingness to support
          "UDP/TLS/RTP/SAVPF" or "TCP/DTLS/RTP/SAVPF". In order to
          simplify compatibility with such endpoints, JSEP
          implementations <span class="bcp14">MUST</span> follow the following rules when
          processing the media "m=" sections in a received offer:<a class="pilcrow" href="#section-5.1.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.2-3.1">
              <p id="section-5.1.2-3.1.1">Any profile in the offer matching one of the following
              <span class="bcp14">MUST</span> be accepted:<a class="pilcrow" href="#section-5.1.2-3.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.2-3.1.2.1">"RTP/AVP" (defined in
                <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-8.2.2">Section 8.2.2</a></span>)<a class="pilcrow" href="#section-5.1.2-3.1.2.1">¶</a>
</li>
                <li class="normal" id="section-5.1.2-3.1.2.2">"RTP/AVPF" (defined in
                <span>[<a class="cite xref" href="#RFC4585">RFC4585</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4585#section-9">Section 9</a></span>)<a class="pilcrow" href="#section-5.1.2-3.1.2.2">¶</a>
</li>
                <li class="normal" id="section-5.1.2-3.1.2.3">"RTP/SAVP" (defined in
                <span>[<a class="cite xref" href="#RFC3711">RFC3711</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3711#section-12">Section 12</a></span>)<a class="pilcrow" href="#section-5.1.2-3.1.2.3">¶</a>
</li>
                <li class="normal" id="section-5.1.2-3.1.2.4">"RTP/SAVPF" (defined in
                <span>[<a class="cite xref" href="#RFC5124">RFC5124</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5124#section-6">Section 6</a></span>)<a class="pilcrow" href="#section-5.1.2-3.1.2.4">¶</a>
</li>
                <li class="normal" id="section-5.1.2-3.1.2.5">"TCP/DTLS/RTP/SAVP" (defined in
                <span>[<a class="cite xref" href="#RFC7850">RFC7850</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7850#section-3.4">Section 3.4</a></span>)<a class="pilcrow" href="#section-5.1.2-3.1.2.5">¶</a>
</li>
                <li class="normal" id="section-5.1.2-3.1.2.6">"TCP/DTLS/RTP/SAVPF" (defined in
                <span>[<a class="cite xref" href="#RFC7850">RFC7850</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7850#section-3.5">Section 3.5</a></span>)<a class="pilcrow" href="#section-5.1.2-3.1.2.6">¶</a>
</li>
                <li class="normal" id="section-5.1.2-3.1.2.7">"UDP/TLS/RTP/SAVP" (defined in
                <span>[<a class="cite xref" href="#RFC5764">RFC5764</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5764#section-9">Section 9</a></span>)<a class="pilcrow" href="#section-5.1.2-3.1.2.7">¶</a>
</li>
                <li class="normal" id="section-5.1.2-3.1.2.8">"UDP/TLS/RTP/SAVPF" (defined in
                <span>[<a class="cite xref" href="#RFC5764">RFC5764</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5764#section-9">Section 9</a></span>)<a class="pilcrow" href="#section-5.1.2-3.1.2.8">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.1.2-3.2">The profile in any "m=" line in any generated answer
              <span class="bcp14">MUST</span> exactly match the profile provided in the offer.<a class="pilcrow" href="#section-5.1.2-3.2">¶</a>
</li>
            <li class="normal" id="section-5.1.2-3.3">Because DTLS-SRTP is <span class="bcp14">REQUIRED</span>, the choice of SAVP or
              AVP has no effect; support for DTLS-SRTP is determined by
              the presence of one or more "a=fingerprint" attributes.
              Note that lack of an "a=fingerprint" attribute will lead
              to negotiation failure.<a class="pilcrow" href="#section-5.1.2-3.3">¶</a>
</li>
            <li class="normal" id="section-5.1.2-3.4">The use of AVPF or AVP simply controls the timing
              rules used for RTCP feedback. If AVPF is provided or an
              "a=rtcp-fb" attribute is present, assume AVPF timing,
              i.e., a default value of "trr-int=0". Otherwise, assume
              that AVPF is being used in an AVP-compatible mode and use
              a value of "trr-int=4000".<a class="pilcrow" href="#section-5.1.2-3.4">¶</a>
</li>
            <li class="normal" id="section-5.1.2-3.5">For data "m=" sections, implementations <span class="bcp14">MUST</span> support
              receiving the "UDP/DTLS/SCTP", "TCP/DTLS/SCTP", or
              "DTLS/SCTP" (for backwards compatibility) profiles.<a class="pilcrow" href="#section-5.1.2-3.5">¶</a>
</li>
          </ul>
<p id="section-5.1.2-4">Note that re-offers by JSEP implementations <span class="bcp14">MUST</span> use the
          correct profile strings even if the initial offer/answer
          exchange used an (incorrect) older profile string. This
          simplifies JSEP behavior, with minimal downside, as any
          remote endpoint that fails to handle such a re-offer will
          also fail to handle a JSEP endpoint's initial offer.<a class="pilcrow" href="#section-5.1.2-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec-create-offer">
<section id="section-5.2">
        <h3 id="name-constructing-an-offer">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-constructing-an-offer">Constructing an Offer</a>
        </h3>
<p id="section-5.2-1">When createOffer is called, a new SDP description <span class="bcp14">MUST</span> be
        created that includes the functionality specified in
        <span>[<a class="cite xref" href="#RFC8834">RFC8834</a>]</span>. The exact
        details of this process are explained below.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<div id="sec.initial-offers">
<section id="section-5.2.1">
          <h4 id="name-initial-offers">
<a class="section-number selfRef" href="#section-5.2.1">5.2.1. </a><a class="section-name selfRef" href="#name-initial-offers">Initial Offers</a>
          </h4>
<p id="section-5.2.1-1">When createOffer is called for the first time, the result
          is known as the initial offer.<a class="pilcrow" href="#section-5.2.1-1">¶</a></p>
<p id="section-5.2.1-2">The first step in generating an initial offer is to
          generate session-level attributes, as specified in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5">Section 5</a></span>. Specifically:<a class="pilcrow" href="#section-5.2.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-3.1">The first SDP line <span class="bcp14">MUST</span> be "v=0" as defined in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.1">Section 5.1</a></span>.<a class="pilcrow" href="#section-5.2.1-3.1">¶</a>
</li>
            <li class="normal" id="section-5.2.1-3.2">The second SDP line <span class="bcp14">MUST</span> be an "o=" line as defined
            in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.2">Section 5.2</a></span>.
            The value of
            the &lt;username&gt; field <span class="bcp14">SHOULD</span> be "-". The &lt;sess-id&gt; <span class="bcp14">MUST</span>
            be representable by a 64-bit signed integer, and the
            value <span class="bcp14">MUST</span> be less than (2<sup>63</sup>)-1.
            This is to ensure that the &lt;sess-id&gt; value, when expressed as a string, is always
            a non-negative integer, as some SDP parsers may fail to parse a negative
            &lt;sess-id&gt;.
            It is <span class="bcp14">RECOMMENDED</span> that the
            &lt;sess-id&gt; be constructed by generating a 64-bit quantity with
            the highest bit set to zero and the remaining 63
            bits being cryptographically random. The value of the
            &lt;nettype&gt; &lt;addrtype&gt; &lt;unicast-address&gt;
            tuple <span class="bcp14">SHOULD</span> be set to a non-meaningful address, such as IN
            IP4 0.0.0.0, to prevent leaking a local IP address in this
            field; this problem is discussed in
            <span>[<a class="cite xref" href="#RFC8828">RFC8828</a>]</span>. As mentioned in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>, the entire "o=" line needs to
            be unique, but selecting a random number for
            &lt;sess-id&gt; is sufficient to accomplish this.<a class="pilcrow" href="#section-5.2.1-3.2">¶</a>
</li>
            <li class="normal" id="section-5.2.1-3.3">The third SDP line <span class="bcp14">MUST</span> be a "s=" line as defined in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.3">Section 5.3</a></span>; to match the
            "o=" line, a single dash <span class="bcp14">SHOULD</span> be used as the session
            name, e.g., "s=-". Note that this differs from the advice in

            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>, which proposes a single space, but
            as both "o=" and "s=" are meaningless in JSEP, having the
            same meaningless value seems clearer.<a class="pilcrow" href="#section-5.2.1-3.3">¶</a>
</li>
            <li class="normal" id="section-5.2.1-3.4">Session Information ("i="), URI ("u="), Email Address
            ("e="), Phone Number ("p="), Repeat Times ("r="), and Time
            Zones ("z=") lines are not useful in this context and
            <span class="bcp14">SHOULD NOT</span> be included.<a class="pilcrow" href="#section-5.2.1-3.4">¶</a>
</li>
            <li class="normal" id="section-5.2.1-3.5">Encryption Keys ("k=") lines do not provide sufficient
            security and <span class="bcp14">MUST NOT</span> be included.<a class="pilcrow" href="#section-5.2.1-3.5">¶</a>
</li>
            <li class="normal" id="section-5.2.1-3.6">A "t=" line <span class="bcp14">MUST</span> be added, as specified in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.9">Section 5.9</a></span>; both
            &lt;start-time&gt; and &lt;stop-time&gt; <span class="bcp14">SHOULD</span> be set to
            zero, e.g., "t=0 0".<a class="pilcrow" href="#section-5.2.1-3.6">¶</a>
</li>
            <li class="normal" id="section-5.2.1-3.7">An "a=ice-options" line with the "trickle" and "ice2"
            options <span class="bcp14">MUST</span> be added, as specified in <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-4.1.1">Section 4.1.1</a></span> and
            <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8445#section-10">Section 10</a></span>.<a class="pilcrow" href="#section-5.2.1-3.7">¶</a>
</li>
            <li class="normal" id="section-5.2.1-3.8">If WebRTC identity is being used, an "a=identity" line
            <span class="bcp14">MUST</span> be added, as described in
            <span>[<a class="cite xref" href="#RFC8827">RFC8827</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8827#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.2.1-3.8">¶</a>
</li>
          </ul>
<p id="section-5.2.1-4">The next step is to generate "m=" sections, as specified in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.14">Section 5.14</a></span>. An "m=" section is
          generated for each RtpTransceiver that has been added to the
          PeerConnection, excluding any stopped RtpTransceivers; this
          is done in the order the RtpTransceivers were added to the
          PeerConnection. If there are no such RtpTransceivers, no "m="
          sections are generated; more can be added later, as discussed
          in
          <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.2.1-4">¶</a></p>
<p id="section-5.2.1-5">For each "m=" section generated for an RtpTransceiver,
          establish a mapping between the transceiver and the index of
          the generated "m=" section.<a class="pilcrow" href="#section-5.2.1-5">¶</a></p>
<p id="section-5.2.1-6">Each "m=" section, provided it is not marked as bundle-only,
          <span class="bcp14">MUST</span> contain a unique set of ICE credentials and
          a unique set of ICE candidates. Bundle-only "m=" sections
          <span class="bcp14">MUST NOT</span> contain any ICE credentials and <span class="bcp14">MUST NOT</span> gather any
          candidates.<a class="pilcrow" href="#section-5.2.1-6">¶</a></p>
<p id="section-5.2.1-7">For DTLS, all "m=" sections <span class="bcp14">MUST</span> use any and all certificates
          that have been specified for the PeerConnection; as a result,
          they <span class="bcp14">MUST</span> all have the same fingerprint value or values
          <span>[<a class="cite xref" href="#RFC8122">RFC8122</a>]</span>, or these
          values <span class="bcp14">MUST</span> be session-level attributes.<a class="pilcrow" href="#section-5.2.1-7">¶</a></p>
<p id="section-5.2.1-8">Each "m=" section <span class="bcp14">MUST</span> be generated as specified in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.14">Section 5.14</a></span>. For the "m=" line
          itself, the following rules <span class="bcp14">MUST</span> be followed:<a class="pilcrow" href="#section-5.2.1-8">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-9.1">If the "m=" section is marked as bundle-only, then the
            &lt;port&gt; value <span class="bcp14">MUST</span> be set to zero. Otherwise, the &lt;port&gt; value is
            set to the port of the default ICE candidate for this "m="
            section, but given that no candidates are available yet,
            the default &lt;port&gt; value of 9 (Discard) <span class="bcp14">MUST</span> be used, as
            indicated in
            <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-4.1.1">Section 4.1.1</a></span>.<a class="pilcrow" href="#section-5.2.1-9.1">¶</a>
</li>
            <li class="normal" id="section-5.2.1-9.2">To properly indicate use of DTLS, the &lt;proto&gt;
            field <span class="bcp14">MUST</span> be set to "UDP/TLS/RTP/SAVPF", as specified in
            <span>[<a class="cite xref" href="#RFC5764">RFC5764</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5764#section-8">Section 8</a></span>.<a class="pilcrow" href="#section-5.2.1-9.2">¶</a>
</li>
            <li class="normal" id="section-5.2.1-9.3">If codec preferences have been set for the associated
            transceiver, media formats <span class="bcp14">MUST</span> be generated in the
            corresponding order and <span class="bcp14">MUST</span> exclude any codecs not
            present in the codec preferences.<a class="pilcrow" href="#section-5.2.1-9.3">¶</a>
</li>
            <li class="normal" id="section-5.2.1-9.4">Unless excluded by the above restrictions, the media
            formats <span class="bcp14">MUST</span> include the mandatory audio/video codecs as
            specified in
            <span>[<a class="cite xref" href="#RFC7874">RFC7874</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7874#section-3">Section 3</a></span> and
            <span>[<a class="cite xref" href="#RFC7742">RFC7742</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7742#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.2.1-9.4">¶</a>
</li>
          </ul>
<p id="section-5.2.1-10">The "m=" line <span class="bcp14">MUST</span> be followed immediately by a "c=" line,
          as specified in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.7">Section 5.7</a></span>. Again, as no
          candidates are available yet, the "c=" line <span class="bcp14">MUST</span> contain the
          default value "IN IP4 0.0.0.0", as defined in
          <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-4.1.1">Section 4.1.1</a></span>.<a class="pilcrow" href="#section-5.2.1-10">¶</a></p>
<p id="section-5.2.1-11">
          <span>[<a class="cite xref" href="#RFC8859">RFC8859</a>]</span> groups
          SDP attributes into different categories. To avoid
          unnecessary duplication when bundling, attributes of category
          IDENTICAL or TRANSPORT <span class="bcp14">MUST NOT</span> be repeated in bundled "m="
          sections, repeating the guidance from
          <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-7.1.3">Section 7.1.3</a></span>.
          This includes "m=" sections for which bundling has
          been negotiated and is still desired, as well as "m=" sections
          marked as bundle-only.<a class="pilcrow" href="#section-5.2.1-11">¶</a></p>
<p id="section-5.2.1-12">The following attributes, which are of a category other
          than IDENTICAL or TRANSPORT, <span class="bcp14">MUST</span> be included in each "m="
          section:<a class="pilcrow" href="#section-5.2.1-12">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-13.1">An "a=mid" line, as specified in
              <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-4">Section 4</a></span>. All MID values
              <span class="bcp14">MUST</span> be generated in a fashion that does not leak user
              information, e.g., randomly or using a per-PeerConnection
              counter, and <span class="bcp14">SHOULD</span> be 3 bytes or less, to allow them to
              efficiently fit into the RTP header extension defined in
              <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-15.2">Section 15.2</a></span>.
              Note that this does not set the
              RtpTransceiver mid property, as that only occurs when the
              description is applied. The generated MID value can be
              considered a "proposed" MID at this point.<a class="pilcrow" href="#section-5.2.1-13.1">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.2">A direction attribute that is the same as that of the
              associated transceiver.<a class="pilcrow" href="#section-5.2.1-13.2">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.3">For each media format on the "m=" line, "a=rtpmap" and "a=fmtp" lines, as specified in
              <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span> and
              <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-5.1">Section 5.1</a></span>.<a class="pilcrow" href="#section-5.2.1-13.3">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.4">For each primary codec where RTP retransmission should
              be used, a corresponding "a=rtpmap" line indicating "rtx"
              with the clock rate of the primary codec and an "a=fmtp"
              line that references the payload type of the primary
              codec, as specified in
              <span>[<a class="cite xref" href="#RFC4588">RFC4588</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4588#section-8.1">Section 8.1</a></span>.<a class="pilcrow" href="#section-5.2.1-13.4">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.5">For each Forward Error Correction (FEC) mechanism supported by the application, "a=rtpmap" and
              "a=fmtp" lines, as specified in
              <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span>. The FEC
              mechanisms that <span class="bcp14">MUST</span> be supported are specified in
              <span>[<a class="cite xref" href="#RFC8854">RFC8854</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8854#section-7">Section 7</a></span>,
              and specific usage for each media type is outlined in
              Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc8854#section-4">4</a> and <a class="relref" href="https://rfc-editor.org/rfc/rfc8854#section-5">5</a> of <span>[<a class="cite xref" href="#RFC8854">RFC8854</a>]</span>.<a class="pilcrow" href="#section-5.2.1-13.5">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.6">If this "m=" section is for media with configurable
              durations of media per packet, e.g., audio, an
              "a=maxptime" line, indicating the maximum amount of
              media, specified in milliseconds, that can be
              encapsulated in each packet, as specified in
              <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span>. This value is
              set to the smallest of the maximum duration values across
              all the codecs included in the "m=" section.<a class="pilcrow" href="#section-5.2.1-13.6">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.7">If this "m=" section is for video media and there are
              known limitations on the size of images that can be
              decoded, an "a=imageattr" line, as specified in
              <a class="auto internal xref" href="#sec.imageattr">Section 3.6</a>.<a class="pilcrow" href="#section-5.2.1-13.7">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.8">For each RTP header extension supported by the application, an "a=extmap"
              line, as specified in
              <span>[<a class="cite xref" href="#RFC5285">RFC5285</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5285#section-5">Section 5</a></span>.
              The list of
              header extensions that <span class="bcp14">SHOULD</span>/<span class="bcp14">MUST</span> be supported is
              specified in
              <span>[<a class="cite xref" href="#RFC8834">RFC8834</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8834#section-5.2">Section 5.2</a></span>. Any header extensions that require encryption <span class="bcp14">MUST</span>
              be specified as indicated in
              <span>[<a class="cite xref" href="#RFC6904">RFC6904</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6904#section-4">Section 4</a></span>.<a class="pilcrow" href="#section-5.2.1-13.8">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.9">For each RTCP feedback mechanism supported by the application, an
              "a=rtcp-fb" line, as specified in
              <span>[<a class="cite xref" href="#RFC4585">RFC4585</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4585#section-4.2">Section 4.2</a></span>. The list of
              RTCP feedback mechanisms that <span class="bcp14">SHOULD</span>/<span class="bcp14">MUST</span> be supported is
              specified in
              <span>[<a class="cite xref" href="#RFC8834">RFC8834</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8834#section-5.1">Section 5.1</a></span>.<a class="pilcrow" href="#section-5.2.1-13.9">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.10">
              <p id="section-5.2.1-13.10.1">If the RtpTransceiver has a "sendrecv" or "sendonly"
              direction:<a class="pilcrow" href="#section-5.2.1-13.10.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-13.10.2.1">For each MediaStream that was associated with the
                transceiver when it was created via addTrack or
                addTransceiver, an "a=msid" line, as specified in
                <span>[<a class="cite xref" href="#RFC8830">RFC8830</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8830#section-2">Section 2</a></span>,
                but omitting the "appdata" field.<a class="pilcrow" href="#section-5.2.1-13.10.2.1">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.2.1-13.11">If the RtpTransceiver has a "sendrecv" or "sendonly"
              direction, and the application has specified a rid-id for an encoding,
              or has specified more than one encoding in the
              RtpSenders's parameters, an "a=rid" line for each
              encoding specified. The "a=rid" line is specified in
              <span>[<a class="cite xref" href="#RFC8851">RFC8851</a>]</span>, and its
              direction <span class="bcp14">MUST</span> be "send". If the application has chosen a
              rid-id, it <span class="bcp14">MUST</span> be used;
              otherwise, a rid-id <span class="bcp14">MUST</span> be generated by the
              implementation.  rid-ids <span class="bcp14">MUST</span> be generated in a fashion
              that does not leak user information, e.g., randomly or
              using a per-PeerConnection counter (see guidance at the end
              of <span>[<a class="cite xref" href="#RFC8852">RFC8852</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8852#section-3.3">Section 3.3</a></span>), and <span class="bcp14">SHOULD</span> be 3 bytes
              or less, to allow them to efficiently fit into the RTP
              header extensions defined in
              <span>[<a class="cite xref" href="#RFC8852">RFC8852</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8852#section-3.3">Section 3.3</a></span>.
              If no encodings have been specified, or only one encoding is
              specified but without a rid-id, then no "a=rid" lines
              are generated.<a class="pilcrow" href="#section-5.2.1-13.11">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.12">If the RtpTransceiver has a "sendrecv" or "sendonly"
              direction and more than one "a=rid" line has been
              generated, an "a=simulcast" line, with direction "send",
              as defined in
              <span>[<a class="cite xref" href="#RFC8853">RFC8853</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8853#section-5.1">Section 5.1</a></span>. The associated set of rid-ids <span class="bcp14">MUST</span>
              include all of the rid-ids used in the "a=rid" lines for this "m="
              section.<a class="pilcrow" href="#section-5.2.1-13.12">¶</a>
</li>
            <li class="normal" id="section-5.2.1-13.13">If (1) the bundle policy for this PeerConnection is set to
              "must-bundle" and this is not the first "m=" section or (2)
              the bundle policy is set to "balanced" and this is not
              the first "m=" section for this media type, an
              "a=bundle-only" line.<a class="pilcrow" href="#section-5.2.1-13.13">¶</a>
</li>
          </ul>
<p id="section-5.2.1-14">The following attributes, which are of category IDENTICAL
          or TRANSPORT, <span class="bcp14">MUST</span> appear only in "m=" sections that either
          have a unique address or are associated with the
          BUNDLE-tag. (In initial offers, this means those "m="
          sections that do not contain an "a=bundle-only"
          attribute.)<a class="pilcrow" href="#section-5.2.1-14">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-15.1">"a=ice-ufrag" and "a=ice-pwd" lines, as specified in
              <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a></span>.<a class="pilcrow" href="#section-5.2.1-15.1">¶</a>
</li>
            <li class="normal" id="section-5.2.1-15.2">For each desired digest algorithm, one or more
              "a=fingerprint" lines for each of the endpoint's
              certificates, as specified in
              <span>[<a class="cite xref" href="#RFC8122">RFC8122</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8122#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.2.1-15.2">¶</a>
</li>
            <li class="normal" id="section-5.2.1-15.3">An "a=setup" line, as specified in
              <span>[<a class="cite xref" href="#RFC4145">RFC4145</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4145#section-4">Section 4</a></span> and clarified
              for use in DTLS-SRTP scenarios in
              <span>[<a class="cite xref" href="#RFC5763">RFC5763</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5763#section-5">Section 5</a></span>. The role value
              in the offer <span class="bcp14">MUST</span> be "actpass".<a class="pilcrow" href="#section-5.2.1-15.3">¶</a>
</li>
            <li class="normal" id="section-5.2.1-15.4">An "a=tls-id" line, as specified in
              <span>[<a class="cite xref" href="#RFC8842">RFC8842</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8842#section-5.2">Section 5.2</a></span>.<a class="pilcrow" href="#section-5.2.1-15.4">¶</a>
</li>
            <li class="normal" id="section-5.2.1-15.5">An "a=rtcp" line, as specified in
              <span>[<a class="cite xref" href="#RFC3605">RFC3605</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3605#section-2.1">Section 2.1</a></span>, containing
              the default value "9 IN IP4 0.0.0.0", because no candidates
              have yet been gathered.<a class="pilcrow" href="#section-5.2.1-15.5">¶</a>
</li>
            <li class="normal" id="section-5.2.1-15.6">An "a=rtcp-mux" line, as specified in
              <span>[<a class="cite xref" href="#RFC5761">RFC5761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5761#section-5.1.3">Section 5.1.3</a></span>.<a class="pilcrow" href="#section-5.2.1-15.6">¶</a>
</li>
            <li class="normal" id="section-5.2.1-15.7">If the RTP/RTCP multiplexing policy is "require", an
              "a=rtcp-mux-only" line, as specified in
              <span>[<a class="cite xref" href="#RFC8858">RFC8858</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8858#section-4">Section 4</a></span>.<a class="pilcrow" href="#section-5.2.1-15.7">¶</a>
</li>
            <li class="normal" id="section-5.2.1-15.8">An "a=rtcp-rsize" line, as specified in
              <span>[<a class="cite xref" href="#RFC5506">RFC5506</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5506#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.2.1-15.8">¶</a>
</li>
          </ul>
<p id="section-5.2.1-16">Lastly, if a data channel has been created, an "m=" section
          <span class="bcp14">MUST</span> be generated for data. The &lt;media&gt; field <span class="bcp14">MUST</span> be
          set to "application", and the &lt;proto&gt; field <span class="bcp14">MUST</span> be set
          to "UDP/DTLS/SCTP"
          <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>]</span>. The &lt;fmt&gt;
          value <span class="bcp14">MUST</span> be set to "webrtc-datachannel" as specified in
          <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-4.4.2">Section 4.4.2</a></span>.<a class="pilcrow" href="#section-5.2.1-16">¶</a></p>
<p id="section-5.2.1-17">Within the data "m=" section, an "a=mid" line <span class="bcp14">MUST</span> be
          generated and included as described above, along with an
          "a=sctp-port" line referencing the SCTP port number, as
          defined in
          <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-5.1">Section 5.1</a></span>;
          and, if appropriate, an "a=max-message-size" line, as defined
          in
          <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-6.1">Section 6.1</a></span>.<a class="pilcrow" href="#section-5.2.1-17">¶</a></p>
<p id="section-5.2.1-18">As discussed above, the following attributes of category
          IDENTICAL or TRANSPORT are included only if the data "m="
          section either has a unique address or is associated with the
          BUNDLE-tag (e.g., if it is the only "m=" section):<a class="pilcrow" href="#section-5.2.1-18">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-19.1">"a=ice-ufrag"<a class="pilcrow" href="#section-5.2.1-19.1">¶</a>
</li>
            <li class="normal" id="section-5.2.1-19.2">"a=ice-pwd"<a class="pilcrow" href="#section-5.2.1-19.2">¶</a>
</li>
            <li class="normal" id="section-5.2.1-19.3">"a=fingerprint"<a class="pilcrow" href="#section-5.2.1-19.3">¶</a>
</li>
            <li class="normal" id="section-5.2.1-19.4">"a=setup"<a class="pilcrow" href="#section-5.2.1-19.4">¶</a>
</li>
            <li class="normal" id="section-5.2.1-19.5">"a=tls-id"<a class="pilcrow" href="#section-5.2.1-19.5">¶</a>
</li>
          </ul>
<p id="section-5.2.1-20">Once all "m=" sections have been generated, a session-level
          "a=group" attribute <span class="bcp14">MUST</span> be added as specified in
          <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>]</span>. This attribute <span class="bcp14">MUST</span> have
          semantics "BUNDLE" and <span class="bcp14">MUST</span> include the MID identifiers of
          each "m=" section. The effect of this is that the JSEP
          implementation offers all "m=" sections as one bundle group.
          However, whether the "m=" sections are bundle-only or not
          depends on the bundle policy.<a class="pilcrow" href="#section-5.2.1-20">¶</a></p>
<p id="section-5.2.1-21">The next step is to generate session-level lip sync groups
          as defined in
          <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-7">Section 7</a></span>. For each MediaStream
          referenced by more than one RtpTransceiver (by passing those
          MediaStreams as arguments to the addTrack and addTransceiver
          methods), a group of type "LS" <span class="bcp14">MUST</span> be added that contains
          the MID values for each RtpTransceiver.<a class="pilcrow" href="#section-5.2.1-21">¶</a></p>
<p id="section-5.2.1-22">Attributes that SDP permits to be at either the session
          level or the media level <span class="bcp14">SHOULD</span> generally be at the media
          level even if they are identical. This assists development
          and debugging by making it easier to understand individual
          media sections, especially if one of a set of initially
          identical attributes is subsequently changed. However,
          implementations <span class="bcp14">MAY</span> choose to aggregate attributes at the
          session level, and JSEP implementations <span class="bcp14">MUST</span> be prepared to
          receive attributes in either location.<a class="pilcrow" href="#section-5.2.1-22">¶</a></p>
<p id="section-5.2.1-23">Attributes other than the ones specified above <span class="bcp14">MAY</span> be
          included, except for the following attributes, which are
          specifically incompatible with the requirements of
          <span>[<a class="cite xref" href="#RFC8834">RFC8834</a>]</span> and <span class="bcp14">MUST NOT</span> be included:<a class="pilcrow" href="#section-5.2.1-23">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-24.1">"a=crypto"<a class="pilcrow" href="#section-5.2.1-24.1">¶</a>
</li>
            <li class="normal" id="section-5.2.1-24.2">"a=key-mgmt"<a class="pilcrow" href="#section-5.2.1-24.2">¶</a>
</li>
            <li class="normal" id="section-5.2.1-24.3">"a=ice-lite"<a class="pilcrow" href="#section-5.2.1-24.3">¶</a>
</li>
          </ul>
<p id="section-5.2.1-25">Note that when bundle is used, any additional attributes
          that are added <span class="bcp14">MUST</span> follow the advice in
          <span>[<a class="cite xref" href="#RFC8859">RFC8859</a>]</span> on
          how those attributes interact with bundle.<a class="pilcrow" href="#section-5.2.1-25">¶</a></p>
<p id="section-5.2.1-26">Note that these requirements are in some cases stricter
          than those of SDP. Implementations <span class="bcp14">MUST</span> be prepared to accept
          compliant SDP even if it would not conform to the
          requirements for generating SDP in this specification.<a class="pilcrow" href="#section-5.2.1-26">¶</a></p>
</section>
</div>
<div id="sec.subsequent-offers">
<section id="section-5.2.2">
          <h4 id="name-subsequent-offers">
<a class="section-number selfRef" href="#section-5.2.2">5.2.2. </a><a class="section-name selfRef" href="#name-subsequent-offers">Subsequent Offers</a>
          </h4>
<p id="section-5.2.2-1">When createOffer is called a second (or later) time or is
          called after a local description has already been installed,
          the processing is somewhat different than for an initial
          offer.<a class="pilcrow" href="#section-5.2.2-1">¶</a></p>
<p id="section-5.2.2-2">If the previous offer was not applied using
          setLocalDescription, meaning the PeerConnection is still in
          the "stable" state, the steps for generating an initial offer
          <span class="bcp14">MUST</span> be followed, subject to the following restriction:<a class="pilcrow" href="#section-5.2.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-3.1">The fields of the "o=" line <span class="bcp14">MUST</span> stay the same except
            for the &lt;session-version&gt; field, which <span class="bcp14">MUST</span> increment
            by one on each call to createOffer if the offer might
            differ from the output of the previous call to createOffer;
            implementations <span class="bcp14">MAY</span> opt to increment
            &lt;session-version&gt; on every call. The value of the
            generated &lt;session-version&gt; is independent of the
            &lt;session-version&gt; of the current local description;
            in particular, in the case where the current version is N,
            an offer is created and applied with version N+1, and then
            that offer is rolled back so that the current version is
            again N, the next generated offer will still have version
            N+2.<a class="pilcrow" href="#section-5.2.2-3.1">¶</a>
</li>
          </ul>
<p id="section-5.2.2-4">Note that if the application creates an offer by reading
          currentLocalDescription instead of calling createOffer, the
          returned SDP may be different than when setLocalDescription
          was originally called, due to the addition of gathered ICE
          candidates, but the &lt;session-version&gt; will not have
          changed. There are no known scenarios in which this causes
          problems, but if this is a concern, the solution is simply to
          use createOffer to ensure a unique
          &lt;session-version&gt;.<a class="pilcrow" href="#section-5.2.2-4">¶</a></p>
<p id="section-5.2.2-5">If the previous offer was applied using
          setLocalDescription, but a corresponding answer from the
          remote side has not yet been applied, meaning the
          PeerConnection is still in the "have-local-offer" state, an
          offer is generated by following the steps in the "stable"
          state above, along with these exceptions:<a class="pilcrow" href="#section-5.2.2-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-6.1">The "s=" and "t=" lines <span class="bcp14">MUST</span> stay the same.<a class="pilcrow" href="#section-5.2.2-6.1">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.2">If any RtpTransceiver has been added and there exists
            an "m=" section with a zero port in the current local
            description or the current remote description, that "m="
            section <span class="bcp14">MUST</span> be recycled by generating an "m=" section for
            the added RtpTransceiver as if the "m=" section were being
            added to the session description (including a new MID
            value) and placing it at the same index as the "m=" section
            with a zero port.<a class="pilcrow" href="#section-5.2.2-6.2">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.3">If an RtpTransceiver is stopped and is not associated
            with an "m=" section, an "m=" section <span class="bcp14">MUST NOT</span> be generated for
            it. This prevents adding back RtpTransceivers whose "m="
            sections were recycled and used for a new RtpTransceiver in
            a previous offer/ answer exchange, as described above.<a class="pilcrow" href="#section-5.2.2-6.3">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.4">If an RtpTransceiver has been stopped and is associated
            with an "m=" section, and the "m=" section is not being
            recycled as described above, an "m=" section <span class="bcp14">MUST</span> be
            generated for it with the port set to zero and all "a=msid"
            lines removed.<a class="pilcrow" href="#section-5.2.2-6.4">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.5">For RtpTransceivers that are not stopped, the "a=msid"
            line or lines <span class="bcp14">MUST</span> stay the same if they are present in the
            current description, regardless of changes to the
            transceiver's direction or track. If no "a=msid" line is
            present in the current description, "a=msid" line(s) <span class="bcp14">MUST</span>
            be generated according to the same rules as for an initial
            offer.<a class="pilcrow" href="#section-5.2.2-6.5">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.6">Each "m=" and "c=" line <span class="bcp14">MUST</span> be filled in with the port,
            relevant RTP profile, and address of the default candidate for the
            "m=" section, as described in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-4.2.1.2">Section 4.2.1.2</a></span> and clarified in
            <a class="auto internal xref" href="#sec.profile-names">Section 5.1.2</a>.
            If no RTP candidates have yet been gathered, default
            values <span class="bcp14">MUST</span> still be used, as described above.<a class="pilcrow" href="#section-5.2.2-6.6">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.7">Each "a=mid" line <span class="bcp14">MUST</span> stay the same.<a class="pilcrow" href="#section-5.2.2-6.7">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.8">Each "a=ice-ufrag" and "a=ice-pwd" line <span class="bcp14">MUST</span> stay the
            same, unless the ICE configuration has changed (e.g., changes to
            either the supported STUN/TURN servers or the ICE
            candidate policy) or the IceRestart option
            (<a class="auto internal xref" href="#sec.icerestart">Section 5.2.3.1</a>) was specified.
            If the "m="
            section is bundled into another "m=" section, it still <span class="bcp14">MUST NOT</span> contain any ICE credentials.<a class="pilcrow" href="#section-5.2.2-6.8">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.9">If the "m=" section is not bundled into another "m="
            section, its "a=rtcp" attribute line <span class="bcp14">MUST</span> be filled in with
            the port and address of the default RTCP candidate, as
            indicated in
            <span>[<a class="cite xref" href="#RFC5761">RFC5761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5761#section-5.1.3">Section 5.1.3</a></span>. If no RTCP
            candidates have yet been gathered, default values <span class="bcp14">MUST</span> be
            used, as described in <a class="auto internal xref" href="#sec.initial-offers">Section 5.2.1</a> above.<a class="pilcrow" href="#section-5.2.2-6.9">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.10">If the "m=" section is not bundled into another "m="
            section, for each candidate that has been gathered during
            the most recent gathering phase (see
            <a class="auto internal xref" href="#sec.ice-gather-overview">Section 3.5.1</a>), an
            "a=candidate" line <span class="bcp14">MUST</span> be added, as defined in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.1">Section 5.1</a></span>.
            If candidate gathering for the section has completed, an
            "a=end-of-candidates" attribute <span class="bcp14">MUST</span> be added, as described
            in
            <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-8.2">Section 8.2</a></span>.
            If the "m=" section is bundled into another "m=" section, both
            "a=candidate" and "a=end-of-candidates" <span class="bcp14">MUST</span> be
            omitted.<a class="pilcrow" href="#section-5.2.2-6.10">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.11">For RtpTransceivers that are still present, the "a=rid"
            lines <span class="bcp14">MUST</span> stay the same.<a class="pilcrow" href="#section-5.2.2-6.11">¶</a>
</li>
            <li class="normal" id="section-5.2.2-6.12">For RtpTransceivers that are still present, any
            "a=simulcast" line <span class="bcp14">MUST</span> stay the same.<a class="pilcrow" href="#section-5.2.2-6.12">¶</a>
</li>
          </ul>
<p id="section-5.2.2-7">If the previous offer was applied using
          setLocalDescription, and a corresponding answer from the
          remote side has been applied using setRemoteDescription,
          meaning the PeerConnection is in the "have-remote-pranswer"
          state or the "stable" state, an offer is generated based on the
          negotiated session descriptions by following the steps
          mentioned for the "have-local-offer" state above.<a class="pilcrow" href="#section-5.2.2-7">¶</a></p>
<p id="section-5.2.2-8">In addition, for each existing, non-recycled, non-rejected
          "m=" section in the new offer, the following adjustments are
          made based on the contents of the corresponding "m=" section in
          the current local or remote description, as appropriate:<a class="pilcrow" href="#section-5.2.2-8">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-9.1">The "m=" line and corresponding "a=rtpmap" and "a=fmtp"
            lines <span class="bcp14">MUST</span> only include media formats that have not been
            excluded by the codec preferences of the associated
            transceiver and also <span class="bcp14">MUST</span> include all currently available
            formats. Media formats that were previously offered but are
            no longer available (e.g., a shared hardware codec) <span class="bcp14">MAY</span> be
            excluded.<a class="pilcrow" href="#section-5.2.2-9.1">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.2">Unless codec preferences have been set for the
            associated transceiver, the media formats on the "m=" line
            <span class="bcp14">MUST</span> be generated in the same order as in the most recent
            answer. Any media formats that were not present in the most
            recent answer <span class="bcp14">MUST</span> be added after all existing formats.<a class="pilcrow" href="#section-5.2.2-9.2">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.3">The RTP header extensions <span class="bcp14">MUST</span> only include those that
            are supported by the application on the associated transceiver.<a class="pilcrow" href="#section-5.2.2-9.3">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.4">The RTCP feedback mechanisms <span class="bcp14">MUST</span> only include those
            that are supported by the application on the associated transceiver.<a class="pilcrow" href="#section-5.2.2-9.4">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.5">The "a=rtcp" line <span class="bcp14">MUST NOT</span> be added if the most recent
            answer included an "a=rtcp-mux" line.<a class="pilcrow" href="#section-5.2.2-9.5">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.6">The "a=rtcp-mux" line <span class="bcp14">MUST</span> be the same as that in the
            most recent answer.<a class="pilcrow" href="#section-5.2.2-9.6">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.7">The "a=rtcp-mux-only" line <span class="bcp14">MUST NOT</span> be added.<a class="pilcrow" href="#section-5.2.2-9.7">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.8">The "a=rtcp-rsize" line <span class="bcp14">MUST NOT</span> be added unless present
            in the most recent answer.<a class="pilcrow" href="#section-5.2.2-9.8">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.9">An "a=bundle-only" line, as defined in
            <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-6">Section 6</a></span>,
            <span class="bcp14">MUST NOT</span> be added.
            Instead, JSEP implementations <span class="bcp14">MUST</span> simply omit
            parameters in the IDENTICAL and TRANSPORT categories for
            bundled "m=" sections, as described in
            <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-7.1.3">Section 7.1.3</a></span>.<a class="pilcrow" href="#section-5.2.2-9.9">¶</a>
</li>
            <li class="normal" id="section-5.2.2-9.10">Note that if media "m=" sections are bundled into a data
            "m=" section, then certain TRANSPORT and IDENTICAL attributes
            may appear in the data "m=" section even if they would
            otherwise only be appropriate for a media "m=" section (e.g.,
            "a=rtcp-mux"). This cannot happen in initial offers because
            in the initial offer JSEP implementations always list media
            "m=" sections (if any) before the data "m=" section (if any),
            and at least one of those media "m=" sections will not have
            the "a=bundle-only" attribute. Therefore, in initial
            offers, any "a=bundle-only" "m=" sections will be bundled
            into a preceding non-bundle-only media "m=" section.<a class="pilcrow" href="#section-5.2.2-9.10">¶</a>
</li>
          </ul>
<p id="section-5.2.2-10">The "a=group:BUNDLE" attribute <span class="bcp14">MUST</span> include the MID
          identifiers specified in the bundle group in the most recent
          answer, minus any "m=" sections that have been marked as
          rejected, plus any newly added or re-enabled "m=" sections. In
          other words, the bundle attribute <span class="bcp14">MUST</span> contain all "m="
          sections that were previously bundled, as long as they are
          still alive, as well as any new "m=" sections.<a class="pilcrow" href="#section-5.2.2-10">¶</a></p>
<p id="section-5.2.2-11">Note that if bundling has been negotiated, unbundling is no longer
          possible, and media sections will not be marked as bundle-only. Although this is
          by design, it could cause issues in the rare case of sending a
          subsequent offer as an initial offer to a non-bundle-aware endpoint
          via Third Party Call Control (3PCC), as discussed in <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-7.6">Section 7.6</a></span>.<a class="pilcrow" href="#section-5.2.2-11">¶</a></p>
<p id="section-5.2.2-12">"a=group:LS" attributes are generated in the same way as
          for initial offers, with the additional stipulation that any
          lip sync groups that were present in the most recent answer
          <span class="bcp14">MUST</span> continue to exist and <span class="bcp14">MUST</span> contain any previously
          existing MID identifiers, as long as the identified "m="
          sections still exist and are not rejected, and the group
          still contains at least two MID identifiers. This ensures
          that any synchronized "recvonly" "m=" sections continue to be
          synchronized in the new offer.<a class="pilcrow" href="#section-5.2.2-12">¶</a></p>
</section>
</div>
<div id="sec.options-handling1">
<section id="section-5.2.3">
          <h4 id="name-options-handling">
<a class="section-number selfRef" href="#section-5.2.3">5.2.3. </a><a class="section-name selfRef" href="#name-options-handling">Options Handling</a>
          </h4>
<p id="section-5.2.3-1">The createOffer method takes as a parameter an
          RTCOfferOptions object. Special processing is performed when
          generating an SDP description if the following options are
          present.<a class="pilcrow" href="#section-5.2.3-1">¶</a></p>
<div id="sec.icerestart">
<section id="section-5.2.3.1">
            <h5 id="name-icerestart">
<a class="section-number selfRef" href="#section-5.2.3.1">5.2.3.1. </a><a class="section-name selfRef" href="#name-icerestart">IceRestart</a>
            </h5>
<p id="section-5.2.3.1-1">If the IceRestart option is specified, with a value of
            "true", the offer <span class="bcp14">MUST</span> indicate an ICE restart by
            generating new ICE ufrag and pwd attributes, as specified
            in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-4.4.1.1.1">Section 4.4.1.1.1</a></span>. If this
            option is specified on an initial offer, it has no effect
            (since a new ICE ufrag and pwd are already generated).
            Similarly, if the ICE configuration has changed, this
            option has no effect, since new ufrag and pwd attributes
            will be generated automatically. This option is primarily
            useful for reestablishing connectivity in cases where
            failures are detected by the application.<a class="pilcrow" href="#section-5.2.3.1-1">¶</a></p>
</section>
</div>
<div id="sec.voiceactivitydetection1">
<section id="section-5.2.3.2">
            <h5 id="name-voiceactivitydetection">
<a class="section-number selfRef" href="#section-5.2.3.2">5.2.3.2. </a><a class="section-name selfRef" href="#name-voiceactivitydetection">VoiceActivityDetection</a>
            </h5>
<p id="section-5.2.3.2-1">Silence suppression, also known as discontinuous
            transmission ("DTX"), can reduce the bandwidth used for
            audio by switching to a special encoding when voice
            activity is not detected, at the cost of some fidelity.<a class="pilcrow" href="#section-5.2.3.2-1">¶</a></p>
<p id="section-5.2.3.2-2">If the VoiceActivityDetection option is specified,
            with a value of "true", the offer <span class="bcp14">MUST</span> indicate support for
            silence suppression in the audio it receives by including
            comfort noise ("CN") codecs for each offered audio codec,
            as specified in
            <span>[<a class="cite xref" href="#RFC3389">RFC3389</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3389#section-5.1">Section 5.1</a></span>, except for
            codecs that have their own internal silence suppression
            support. For codecs that have their own internal silence
            suppression support, the appropriate fmtp parameters for
            each such codec <span class="bcp14">MUST</span> be specified to indicate that silence
            suppression for received audio is desired. For example,
            when using the Opus codec
            <span>[<a class="cite xref" href="#RFC6716">RFC6716</a>]</span>, the "usedtx=1" parameter,
            specified in
            <span>[<a class="cite xref" href="#RFC7587">RFC7587</a>]</span>, would be used in the offer.<a class="pilcrow" href="#section-5.2.3.2-2">¶</a></p>
<p id="section-5.2.3.2-3">If the VoiceActivityDetection option is specified,
            with a value of "false", the JSEP implementation <span class="bcp14">MUST NOT</span>
            emit "CN" codecs. For codecs that have their own internal
            silence suppression support, the appropriate fmtp
            parameters for each such codec <span class="bcp14">MUST</span> be specified to indicate
            that silence suppression for received audio is not desired.
            For example, when using the Opus codec, the "usedtx=0"
            parameter would be specified in the offer. In addition, the
            implementation <span class="bcp14">MUST NOT</span> use silence suppression for media
            it generates, regardless of whether the "CN" codecs or
            related fmtp parameters appear in the peer's description.
            The impact of these rules is that silence suppression in
            JSEP depends on mutual agreement of both sides, which
            ensures consistent handling regardless of which codec is
            used.<a class="pilcrow" href="#section-5.2.3.2-3">¶</a></p>
<p id="section-5.2.3.2-4">The VoiceActivityDetection option does not have any
            impact on the setting of the "vad" value in the signaling
            of the client-to-mixer audio level header extension
            described in
            <span>[<a class="cite xref" href="#RFC6464">RFC6464</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6464#section-4">Section 4</a></span>.<a class="pilcrow" href="#section-5.2.3.2-4">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec.generating-an-answer">
<section id="section-5.3">
        <h3 id="name-generating-an-answer">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-generating-an-answer">Generating an Answer</a>
        </h3>
<p id="section-5.3-1">When createAnswer is called, a new SDP description <span class="bcp14">MUST</span> be
        created that is compatible with the supplied remote description
        as well as the requirements specified in
        <span>[<a class="cite xref" href="#RFC8834">RFC8834</a>]</span>. The exact
        details of this process are explained below.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<div id="sec.initial-answers">
<section id="section-5.3.1">
          <h4 id="name-initial-answers">
<a class="section-number selfRef" href="#section-5.3.1">5.3.1. </a><a class="section-name selfRef" href="#name-initial-answers">Initial Answers</a>
          </h4>
<p id="section-5.3.1-1">When createAnswer is called for the first time after a
          remote description has been provided, the result is known as
          the initial answer. If no remote description has been
          installed, an answer cannot be generated, and an error <span class="bcp14">MUST</span>
          be returned.<a class="pilcrow" href="#section-5.3.1-1">¶</a></p>
<p id="section-5.3.1-2">Note that the remote description SDP may not have been
          created by a JSEP endpoint and may not conform to all the
          requirements listed in
          <a class="auto internal xref" href="#sec-create-offer">Section 5.2</a>. For many cases, this
          is not a problem. However, if any mandatory SDP attributes
          are missing or functionality listed as mandatory-to-use
          above is not present, this <span class="bcp14">MUST</span> be treated as an error and
          <span class="bcp14">MUST</span> cause the affected "m=" sections to be marked as
          rejected.<a class="pilcrow" href="#section-5.3.1-2">¶</a></p>
<p id="section-5.3.1-3">The first step in generating an initial answer is to
          generate session-level attributes. The process here is
          identical to that indicated in <a class="auto internal xref" href="#sec.initial-offers">Section 5.2.1</a> above, except that the "a=ice-options" line, with the
          "trickle" option as specified in
          <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-4.1.3">Section 4.1.3</a></span>
          and the "ice2" option as specified in
          <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8445#section-10">Section 10</a></span>, is
          only included if such an option was present in the offer.<a class="pilcrow" href="#section-5.3.1-3">¶</a></p>
<p id="section-5.3.1-4">The next step is to generate session-level lip sync
          groups, as defined in
          <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-7">Section 7</a></span>. For each group of type
          "LS" present in the offer, select the local RtpTransceivers
          that are referenced by the MID values in the specified group,
          and determine which of them either reference a common local
          MediaStream (specified in the calls to
          addTrack/addTransceiver used to create them) or have no
          MediaStream to reference because they were not created by
          addTrack/addTransceiver. If at least two such RtpTransceivers
          exist, a group of type "LS" with the MID values of these
          RtpTransceivers <span class="bcp14">MUST</span> be added. Otherwise, the offered "LS"
          group <span class="bcp14">MUST</span> be ignored and no corresponding group generated in
          the answer.<a class="pilcrow" href="#section-5.3.1-4">¶</a></p>
<p id="section-5.3.1-5">As a simple example, consider the following offer of a
          single audio and single video track contained in the same
          MediaStream. SDP lines not relevant to this example have been
          removed for clarity. As explained in
          <a class="auto internal xref" href="#sec-create-offer">Section 5.2</a>, a group of type "LS" has
          been added that references each track's RtpTransceiver.<a class="pilcrow" href="#section-5.3.1-5">¶</a></p>
<div class="lang-sdp sourcecode" id="section-5.3.1-6">
<pre>          a=group:LS a1 v1
          m=audio 10000 UDP/TLS/RTP/SAVPF 0
          a=mid:a1
          a=msid:ms1
          m=video 10001 UDP/TLS/RTP/SAVPF 96
          a=mid:v1
          a=msid:ms1</pre><a class="pilcrow" href="#section-5.3.1-6">¶</a>
</div>
<p id="section-5.3.1-7">If the answerer uses a single MediaStream when it adds its
          tracks, both of its transceivers will reference this stream,
          and so the subsequent answer will contain a "LS" group
          identical to that in the offer, as shown below:<a class="pilcrow" href="#section-5.3.1-7">¶</a></p>
<div class="lang-sdp sourcecode" id="section-5.3.1-8">
<pre>          a=group:LS a1 v1
          m=audio 20000 UDP/TLS/RTP/SAVPF 0
          a=mid:a1
          a=msid:ms2
          m=video 20001 UDP/TLS/RTP/SAVPF 96
          a=mid:v1
          a=msid:ms2</pre><a class="pilcrow" href="#section-5.3.1-8">¶</a>
</div>
<p id="section-5.3.1-9">However, if the answerer groups its tracks into separate
          MediaStreams, its transceivers will reference different
          streams, and so the subsequent answer will not contain a "LS"
          group.<a class="pilcrow" href="#section-5.3.1-9">¶</a></p>
<div class="lang-sdp sourcecode" id="section-5.3.1-10">
<pre>          m=audio 20000 UDP/TLS/RTP/SAVPF 0
          a=mid:a1
          a=msid:ms2a
          m=video 20001 UDP/TLS/RTP/SAVPF 96
          a=mid:v1
          a=msid:ms2b</pre><a class="pilcrow" href="#section-5.3.1-10">¶</a>
</div>
<p id="section-5.3.1-11">Finally, if the answerer does not add any tracks, its
          transceivers will not reference any MediaStreams, causing the
          preferences of the offerer to be maintained, and so the
          subsequent answer will contain an identical "LS" group.<a class="pilcrow" href="#section-5.3.1-11">¶</a></p>
<div class="lang-sdp sourcecode" id="section-5.3.1-12">
<pre>          a=group:LS a1 v1
          m=audio 20000 UDP/TLS/RTP/SAVPF 0
          a=mid:a1
          a=recvonly
          m=video 20001 UDP/TLS/RTP/SAVPF 96
          a=mid:v1
          a=recvonly</pre><a class="pilcrow" href="#section-5.3.1-12">¶</a>
</div>
<p id="section-5.3.1-13">The example in <a class="auto internal xref" href="#sec.detailed-example">Section 7.2</a> shows a more involved case of "LS" group
          generation.<a class="pilcrow" href="#section-5.3.1-13">¶</a></p>
<p id="section-5.3.1-14">The next step is to generate an "m=" section for each "m="
          section that is present in the remote offer, as specified in
          <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6">Section 6</a></span>. For the purposes
          of this discussion, any session-level attributes in the offer
          that are also valid as media-level attributes are considered
          to be present in each "m=" section. Each offered "m=" section
          will have an associated RtpTransceiver, as described in
          <a class="auto internal xref" href="#sec.applying-a-remote-desc">Section 5.10</a>. If there are
          more RtpTransceivers than there are "m=" sections, the
          unmatched RtpTransceivers will need to be associated in a
          subsequent offer.<a class="pilcrow" href="#section-5.3.1-14">¶</a></p>
<p id="section-5.3.1-15">For each offered "m=" section, if any of the following
          conditions are true, the corresponding "m=" section in the
          answer <span class="bcp14">MUST</span> be marked as rejected by setting the &lt;port&gt; in the
          "m=" line to zero, as indicated in
          <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6">Section 6</a></span>, and further
          processing for this "m=" section can be skipped:<a class="pilcrow" href="#section-5.3.1-15">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.1-16.1">The associated RtpTransceiver has been stopped.<a class="pilcrow" href="#section-5.3.1-16.1">¶</a>
</li>
            <li class="normal" id="section-5.3.1-16.2">There is no offered media format that is both supported
            and, if applicable, allowed by codec preferences.<a class="pilcrow" href="#section-5.3.1-16.2">¶</a>
</li>
            <li class="normal" id="section-5.3.1-16.3">The bundle policy is "must-bundle", and this is not the
            first "m=" section or in the same bundle group as the first
            "m=" section.<a class="pilcrow" href="#section-5.3.1-16.3">¶</a>
</li>
            <li class="normal" id="section-5.3.1-16.4">The bundle policy is "balanced", and this is not the
            first "m=" section for this media type or in the same bundle
            group as the first "m=" section for this media type.<a class="pilcrow" href="#section-5.3.1-16.4">¶</a>
</li>
            <li class="normal" id="section-5.3.1-16.5">This "m=" section is in a bundle group, and the group's
            offerer tagged "m=" section is being rejected due to one of
            the above reasons. This requires all "m=" sections in the
            bundle group to be rejected, as specified in
            <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-7.3.3">Section 7.3.3</a></span>.<a class="pilcrow" href="#section-5.3.1-16.5">¶</a>
</li>
          </ul>
<p id="section-5.3.1-17">Otherwise, each "m=" section in the answer <span class="bcp14">MUST</span> then be
          generated as specified in
          <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6.1">Section 6.1</a></span>. For the "m=" line
          itself, the following rules <span class="bcp14">MUST</span> be followed:<a class="pilcrow" href="#section-5.3.1-17">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.1-18.1">The &lt;port&gt; value would normally be set to the port of the
            default ICE candidate for this "m=" section, but given that
            no candidates are available yet, the default &lt;port&gt; value of
            9 (Discard) <span class="bcp14">MUST</span> be used, as indicated in
            <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-4.1.1">Section 4.1.1</a></span>.<a class="pilcrow" href="#section-5.3.1-18.1">¶</a>
</li>
            <li class="normal" id="section-5.3.1-18.2">The &lt;proto&gt; field <span class="bcp14">MUST</span> be set to exactly match the
            &lt;proto&gt; field for the corresponding "m=" line in the
            offer.<a class="pilcrow" href="#section-5.3.1-18.2">¶</a>
</li>
            <li class="normal" id="section-5.3.1-18.3">If codec preferences have been set for the associated
            transceiver, media formats <span class="bcp14">MUST</span> be generated in the
            corresponding order, regardless of what was offered, and
            <span class="bcp14">MUST</span> exclude any codecs not present in the codec
            preferences.<a class="pilcrow" href="#section-5.3.1-18.3">¶</a>
</li>
            <li class="normal" id="section-5.3.1-18.4">Otherwise, the media formats on the "m=" line <span class="bcp14">MUST</span> be
            generated in the same order as those offered in the current
            remote description, excluding any currently unsupported
            formats. Any currently available media formats that are not
            present in the current remote description <span class="bcp14">MUST</span> be added
            after all existing formats.<a class="pilcrow" href="#section-5.3.1-18.4">¶</a>
</li>
            <li class="normal" id="section-5.3.1-18.5">In either case, the media formats in the answer <span class="bcp14">MUST</span>
            include at least one format that is present in the offer
            but <span class="bcp14">MAY</span> include formats that are locally supported but not
            present in the offer, as mentioned in
            <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6.1">Section 6.1</a></span>. If no common format
            exists, the "m=" section is rejected as described above.<a class="pilcrow" href="#section-5.3.1-18.5">¶</a>
</li>
          </ul>
<p id="section-5.3.1-19">The "m=" line <span class="bcp14">MUST</span> be followed immediately by a "c=" line,
          as specified in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.7">Section 5.7</a></span>. Again, as no
          candidates are available yet, the "c=" line <span class="bcp14">MUST</span> contain the
          default value "IN IP4 0.0.0.0", as defined in
          <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-4.1.3">Section 4.1.3</a></span>.<a class="pilcrow" href="#section-5.3.1-19">¶</a></p>
<p id="section-5.3.1-20">If the offer supports bundle, all "m=" sections to be
          bundled <span class="bcp14">MUST</span> use the same ICE credentials and candidates; all
          "m=" sections not being bundled <span class="bcp14">MUST</span> use unique ICE credentials
          and candidates. Each "m=" section <span class="bcp14">MUST</span> contain the following
          attributes (which are of attribute types other than IDENTICAL
          or TRANSPORT):<a class="pilcrow" href="#section-5.3.1-20">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.1-21.1">If and only if present in the offer, an "a=mid" line, as
            specified in
            <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-9.1">Section 9.1</a></span>. The MID
            value <span class="bcp14">MUST</span> match that specified in the offer.<a class="pilcrow" href="#section-5.3.1-21.1">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.2">A direction attribute, determined by applying the rules
            regarding the offered direction specified in
            <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6.1">Section 6.1</a></span>, and then
            intersecting with the direction of the associated
            RtpTransceiver. For example, in the case where an "m="
            section is offered as "sendonly" and the local transceiver
            is set to "sendrecv", the result in the answer is a
            "recvonly" direction.<a class="pilcrow" href="#section-5.3.1-21.2">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.3">For each media format on the "m=" line, "a=rtpmap" and "a=fmtp" lines, as specified in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span> and
            <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6.1">Section 6.1</a></span>.<a class="pilcrow" href="#section-5.3.1-21.3">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.4">If "rtx" is present in the offer, for each primary codec
            where RTP retransmission should be used, a corresponding
            "a=rtpmap" line indicating "rtx" with the clock rate of the
            primary codec and an "a=fmtp" line that references the
            payload type of the primary codec, as specified in
            <span>[<a class="cite xref" href="#RFC4588">RFC4588</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4588#section-8.1">Section 8.1</a></span>.<a class="pilcrow" href="#section-5.3.1-21.4">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.5">For each FEC mechanism supported by the application, "a=rtpmap" and
            "a=fmtp" lines, as specified in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span>. The FEC
            mechanisms that <span class="bcp14">MUST</span> be supported are specified in
            <span>[<a class="cite xref" href="#RFC8854">RFC8854</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8854#section-7">Section 7</a></span>, and
            specific usage for each media type is outlined in
              Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc8854#section-4">4</a> and <a class="relref" href="https://rfc-editor.org/rfc/rfc8854#section-5">5</a> of <span>[<a class="cite xref" href="#RFC8854">RFC8854</a>]</span>.<a class="pilcrow" href="#section-5.3.1-21.5">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.6">If this "m=" section is for media with configurable
            durations of media per packet, e.g., audio, an "a=maxptime"
            line, as described in
            <a class="auto internal xref" href="#sec-create-offer">Section 5.2</a>.<a class="pilcrow" href="#section-5.3.1-21.6">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.7">If this "m=" section is for video media and there are
            known limitations on the size of images that can be
            decoded, an "a=imageattr" line, as specified in
            <a class="auto internal xref" href="#sec.imageattr">Section 3.6</a>.<a class="pilcrow" href="#section-5.3.1-21.7">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.8">For each RTP header extension supported by the application and present
            in the offer, an "a=extmap" line, as specified in
            <span>[<a class="cite xref" href="#RFC5285">RFC5285</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5285#section-5">Section 5</a></span>. The list of
            header extensions that <span class="bcp14">SHOULD</span>/<span class="bcp14">MUST</span> be supported is
            specified in
            <span>[<a class="cite xref" href="#RFC8834">RFC8834</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8834#section-5.2">Section 5.2</a></span>. Any header extensions that require encryption <span class="bcp14">MUST</span> be
            specified as indicated in
            <span>[<a class="cite xref" href="#RFC6904">RFC6904</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6904#section-4">Section 4</a></span>.<a class="pilcrow" href="#section-5.3.1-21.8">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.9">For each RTCP feedback mechanism supported by the application and
            present in the offer, an "a=rtcp-fb" line, as specified in
            <span>[<a class="cite xref" href="#RFC4585">RFC4585</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4585#section-4.2">Section 4.2</a></span>. The list of
            RTCP feedback mechanisms that <span class="bcp14">SHOULD</span>/<span class="bcp14">MUST</span> be supported is
            specified in
            <span>[<a class="cite xref" href="#RFC8834">RFC8834</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8834#section-5.1">Section 5.1</a></span>.<a class="pilcrow" href="#section-5.3.1-21.9">¶</a>
</li>
            <li class="normal" id="section-5.3.1-21.10">
              <p id="section-5.3.1-21.10.1">If the RtpTransceiver has a "sendrecv" or "sendonly"
            direction:<a class="pilcrow" href="#section-5.3.1-21.10.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.1-21.10.2.1">For each MediaStream that was associated with the
              transceiver when it was created via addTrack or
              addTransceiver, an "a=msid" line, as specified in
              <span>[<a class="cite xref" href="#RFC8830">RFC8830</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8830#section-2">Section 2</a></span>,
              but omitting the "appdata" field.<a class="pilcrow" href="#section-5.3.1-21.10.2.1">¶</a>
</li>
              </ul>
</li>
          </ul>
<p id="section-5.3.1-22">Each "m=" section that is not bundled into another "m="
          section <span class="bcp14">MUST</span> contain the following attributes (which are of
          category IDENTICAL or TRANSPORT):<a class="pilcrow" href="#section-5.3.1-22">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.1-23.1">"a=ice-ufrag" and "a=ice-pwd" lines, as specified in
              <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a></span>.<a class="pilcrow" href="#section-5.3.1-23.1">¶</a>
</li>
            <li class="normal" id="section-5.3.1-23.2">For each desired digest algorithm, one or more
              "a=fingerprint" lines for each of the endpoint's
              certificates, as specified in
              <span>[<a class="cite xref" href="#RFC8122">RFC8122</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8122#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.3.1-23.2">¶</a>
</li>
            <li class="normal" id="section-5.3.1-23.3">An "a=setup" line, as specified in
              <span>[<a class="cite xref" href="#RFC4145">RFC4145</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4145#section-4">Section 4</a></span> and clarified
              for use in DTLS-SRTP scenarios in
              <span>[<a class="cite xref" href="#RFC5763">RFC5763</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5763#section-5">Section 5</a></span>. The role value
              in the answer <span class="bcp14">MUST</span> be "active" or "passive". When the
              offer contains the "actpass" value, as will always be the
              case with JSEP endpoints, the answerer <span class="bcp14">SHOULD</span> use the
              "active" role. Offers from non-JSEP endpoints <span class="bcp14">MAY</span> send
              other values for "a=setup", in which case the answer <span class="bcp14">MUST</span>
              use a value consistent with the value in the offer.<a class="pilcrow" href="#section-5.3.1-23.3">¶</a>
</li>
            <li class="normal" id="section-5.3.1-23.4">An "a=tls-id" line, as specified in
              <span>[<a class="cite xref" href="#RFC8842">RFC8842</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8842#section-5.3">Section 5.3</a></span>.<a class="pilcrow" href="#section-5.3.1-23.4">¶</a>
</li>
            <li class="normal" id="section-5.3.1-23.5">If present in the offer, an "a=rtcp-mux" line, as
              specified in
              <span>[<a class="cite xref" href="#RFC5761">RFC5761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5761#section-5.1.3">Section 5.1.3</a></span>. Otherwise,
              an "a=rtcp" line, as specified in
              <span>[<a class="cite xref" href="#RFC3605">RFC3605</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3605#section-2.1">Section 2.1</a></span>, containing
              the default value "9 IN IP4 0.0.0.0" (because no candidates
              have yet been gathered).<a class="pilcrow" href="#section-5.3.1-23.5">¶</a>
</li>
            <li class="normal" id="section-5.3.1-23.6">If present in the offer, an "a=rtcp-rsize" line, as
              specified in
              <span>[<a class="cite xref" href="#RFC5506">RFC5506</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5506#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.3.1-23.6">¶</a>
</li>
          </ul>
<p id="section-5.3.1-24">If a data channel "m=" section has been offered, an "m="
          section <span class="bcp14">MUST</span> also be generated for data. The &lt;media&gt;
          field <span class="bcp14">MUST</span> be set to "application", and the &lt;proto&gt; and
          &lt;fmt&gt; fields <span class="bcp14">MUST</span> be set to exactly match the fields in
          the offer.<a class="pilcrow" href="#section-5.3.1-24">¶</a></p>
<p id="section-5.3.1-25">Within the data "m=" section, an "a=mid" line <span class="bcp14">MUST</span> be
          generated and included as described above, along with an
          "a=sctp-port" line referencing the SCTP port number, as
          defined in
          <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-5.1">Section 5.1</a></span>;
          and, if appropriate, an "a=max-message-size" line, as defined
          in
          <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-6.1">Section 6.1</a></span>.<a class="pilcrow" href="#section-5.3.1-25">¶</a></p>
<p id="section-5.3.1-26">As discussed above, the following attributes of category
          IDENTICAL or TRANSPORT are included only if the data "m="
          section is not bundled into another "m=" section:<a class="pilcrow" href="#section-5.3.1-26">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.1-27.1">"a=ice-ufrag"<a class="pilcrow" href="#section-5.3.1-27.1">¶</a>
</li>
            <li class="normal" id="section-5.3.1-27.2">"a=ice-pwd"<a class="pilcrow" href="#section-5.3.1-27.2">¶</a>
</li>
            <li class="normal" id="section-5.3.1-27.3">"a=fingerprint"<a class="pilcrow" href="#section-5.3.1-27.3">¶</a>
</li>
            <li class="normal" id="section-5.3.1-27.4">"a=setup"<a class="pilcrow" href="#section-5.3.1-27.4">¶</a>
</li>
            <li class="normal" id="section-5.3.1-27.5">"a=tls-id"<a class="pilcrow" href="#section-5.3.1-27.5">¶</a>
</li>
          </ul>
<p id="section-5.3.1-28">Note that if media "m=" sections are bundled into a data "m="
          section, then certain TRANSPORT and IDENTICAL attributes may
          also appear in the data "m=" section even if they would
          otherwise only be appropriate for a media "m=" section (e.g.,
          "a=rtcp-mux").<a class="pilcrow" href="#section-5.3.1-28">¶</a></p>
<p id="section-5.3.1-29">If "a=group" attributes with semantics "BUNDLE" are
          offered, corresponding session-level "a=group" attributes
          <span class="bcp14">MUST</span> be added as specified in
          <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>]</span>. These attributes <span class="bcp14">MUST</span> have
          semantics "BUNDLE" and <span class="bcp14">MUST</span> include all MID identifiers
          from the offered bundle groups that have not been rejected.
          Note that regardless of the presence of "a=bundle-only" in
          the offer, all "m=" sections in the answer <span class="bcp14">MUST NOT</span> have an
          "a=bundle-only" line.<a class="pilcrow" href="#section-5.3.1-29">¶</a></p>
<p id="section-5.3.1-30">Attributes that are common between all "m=" sections <span class="bcp14">MAY</span> be
          moved to the session level if explicitly defined to be valid at
          the session level.<a class="pilcrow" href="#section-5.3.1-30">¶</a></p>
<p id="section-5.3.1-31">The attributes prohibited in the creation of offers are
          also prohibited in the creation of answers.<a class="pilcrow" href="#section-5.3.1-31">¶</a></p>
</section>
</div>
<div id="sec.subsequent-answers">
<section id="section-5.3.2">
          <h4 id="name-subsequent-answers">
<a class="section-number selfRef" href="#section-5.3.2">5.3.2. </a><a class="section-name selfRef" href="#name-subsequent-answers">Subsequent Answers</a>
          </h4>
<p id="section-5.3.2-1">When createAnswer is called a second (or later) time or
          is called after a local description has already been
          installed, the processing is somewhat different than for an
          initial answer.<a class="pilcrow" href="#section-5.3.2-1">¶</a></p>
<p id="section-5.3.2-2">If the previous answer was not applied using
          setLocalDescription, meaning the PeerConnection is still in
          the "have-remote-offer" state, the steps for generating an
          initial answer <span class="bcp14">MUST</span> be followed, subject to the following
          restriction:<a class="pilcrow" href="#section-5.3.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.2-3.1">The fields of the "o=" line <span class="bcp14">MUST</span> stay the same except
            for the &lt;session-version&gt; field, which <span class="bcp14">MUST</span> increment
            if the session description changes in any way from the
            previously generated answer.<a class="pilcrow" href="#section-5.3.2-3.1">¶</a>
</li>
          </ul>
<p id="section-5.3.2-4">If any session description was previously supplied to
          setLocalDescription, an answer is generated by following the
          steps in the "have-remote-offer" state above, along with
          these exceptions:<a class="pilcrow" href="#section-5.3.2-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.3.2-5.1">The "s=" and "t=" lines <span class="bcp14">MUST</span> stay the same.<a class="pilcrow" href="#section-5.3.2-5.1">¶</a>
</li>
            <li class="normal" id="section-5.3.2-5.2">Each "m=" and "c=" line <span class="bcp14">MUST</span> be filled in with the port
            and address of the default candidate for the "m=" section, as
            described in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-4.2.1.2">Section 4.2.1.2</a></span>. Note that in certain cases, the "m=" line protocol
            may not match that of the default candidate, because the "m=" line
            protocol value <span class="bcp14">MUST</span> match what was supplied in the offer, as
            described above.<a class="pilcrow" href="#section-5.3.2-5.2">¶</a>
</li>
            <li class="normal" id="section-5.3.2-5.3">Each "a=ice-ufrag" and "a=ice-pwd" line <span class="bcp14">MUST</span> stay the
            same, unless the "m=" section is restarting, in which case
            new ICE credentials <span class="bcp14">MUST</span> be created as specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-4.4.1.1.1">Section 4.4.1.1.1</a></span>. If the "m="
            section is bundled into another "m=" section, it still <span class="bcp14">MUST NOT</span> contain any ICE credentials.<a class="pilcrow" href="#section-5.3.2-5.3">¶</a>
</li>
            <li class="normal" id="section-5.3.2-5.4">Each "a=tls-id" line <span class="bcp14">MUST</span> stay the same, unless the
            offerer's "a=tls-id" line changed, in which case a new
            tls-id value <span class="bcp14">MUST</span> be created, as described in
            <span>[<a class="cite xref" href="#RFC8842">RFC8842</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8842#section-5.2">Section 5.2</a></span>.<a class="pilcrow" href="#section-5.3.2-5.4">¶</a>
</li>
            <li class="normal" id="section-5.3.2-5.5">Each "a=setup" line <span class="bcp14">MUST</span> use an "active" or "passive"
            role value consistent with the existing DTLS association,
            if the association is being continued by the offerer.<a class="pilcrow" href="#section-5.3.2-5.5">¶</a>
</li>
            <li class="normal" id="section-5.3.2-5.6">RTCP multiplexing <span class="bcp14">MUST</span> be used, and an "a=rtcp-mux" line
            inserted if and only if the "m=" section previously used RTCP
            multiplexing.<a class="pilcrow" href="#section-5.3.2-5.6">¶</a>
</li>
            <li class="normal" id="section-5.3.2-5.7">If the "m=" section is not bundled into another "m=" section
            and RTCP multiplexing is not active, an "a=rtcp" attribute
            line <span class="bcp14">MUST</span> be filled in with the port and address of the
            default RTCP candidate. If no RTCP candidates have yet been
            gathered, default values <span class="bcp14">MUST</span> be used, as described in
            <a class="auto internal xref" href="#sec.initial-answers">Section 5.3.1</a> above.<a class="pilcrow" href="#section-5.3.2-5.7">¶</a>
</li>
            <li class="normal" id="section-5.3.2-5.8">If the "m=" section is not bundled into another "m="
            section, for each candidate that has been gathered during
            the most recent gathering phase (see
            <a class="auto internal xref" href="#sec.ice-gather-overview">Section 3.5.1</a>), an
            "a=candidate" line <span class="bcp14">MUST</span> be added, as defined in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.1">Section 5.1</a></span>.
            If candidate gathering for the section has completed, an
            "a=end-of-candidates" attribute <span class="bcp14">MUST</span> be added, as described
            in
            <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-8.2">Section 8.2</a></span>.
            If the "m=" section is bundled into another "m=" section, both
            "a=candidate" and "a=end-of-candidates" <span class="bcp14">MUST</span> be
            omitted.<a class="pilcrow" href="#section-5.3.2-5.8">¶</a>
</li>
            <li class="normal" id="section-5.3.2-5.9">For RtpTransceivers that are not stopped, the "a=msid"
            line(s) <span class="bcp14">MUST</span> stay the same, regardless of changes to the
            transceiver's direction or track. If no "a=msid" line is
            present in the current description, "a=msid" line(s) <span class="bcp14">MUST</span>
            be generated according to the same rules as for an initial
            answer.<a class="pilcrow" href="#section-5.3.2-5.9">¶</a>
</li>
          </ul>
</section>
</div>
<div id="sec.options-handling2">
<section id="section-5.3.3">
          <h4 id="name-options-handling-2">
<a class="section-number selfRef" href="#section-5.3.3">5.3.3. </a><a class="section-name selfRef" href="#name-options-handling-2">Options Handling</a>
          </h4>
<p id="section-5.3.3-1">The createAnswer method takes as a parameter an
          RTCAnswerOptions object. The set of parameters for
          RTCAnswerOptions is different than those supported in
          RTCOfferOptions; the IceRestart option is unnecessary, as ICE
          credentials will automatically be changed for all "m=" sections
          where the offerer chose to perform ICE restart.<a class="pilcrow" href="#section-5.3.3-1">¶</a></p>
<p id="section-5.3.3-2">The following option is supported in
          RTCAnswerOptions.<a class="pilcrow" href="#section-5.3.3-2">¶</a></p>
<div id="sec.voiceactivitydetection2">
<section id="section-5.3.3.1">
            <h5 id="name-voiceactivitydetection-2">
<a class="section-number selfRef" href="#section-5.3.3.1">5.3.3.1. </a><a class="section-name selfRef" href="#name-voiceactivitydetection-2">VoiceActivityDetection</a>
            </h5>
<p id="section-5.3.3.1-1">Silence suppression in the answer is handled as
            described in
            <a class="auto internal xref" href="#sec.voiceactivitydetection1">Section 5.2.3.2</a>, with
            one exception: if support for silence suppression was not
            indicated in the offer, the VoiceActivityDetection
            parameter has no effect, and the answer <span class="bcp14">MUST</span> be generated
            as if VoiceActivityDetection was set to "false". This is done
            on a per-codec basis (e.g., if the offerer somehow offered
            support for CN but set "usedtx=0" for Opus, setting
            VoiceActivityDetection to "true" would result in an answer
            with "CN" codecs and "usedtx=0"). The impact of this rule is
            that an answerer will not try to use silence suppression
            with any endpoint that does not offer it, making silence
            suppression support bilateral even with non-JSEP
            endpoints.<a class="pilcrow" href="#section-5.3.3.1-1">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sec.modifying-sdp">
<section id="section-5.4">
        <h3 id="name-modifying-an-offer-or-answe">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-modifying-an-offer-or-answe">Modifying an Offer or Answer</a>
        </h3>
<p id="section-5.4-1">The SDP returned from createOffer or createAnswer <span class="bcp14">MUST NOT</span>
        be changed before passing it to setLocalDescription. If precise
        control over the SDP is needed, the aforementioned
        createOffer/createAnswer options or RtpTransceiver APIs <span class="bcp14">MUST</span> be
        used.<a class="pilcrow" href="#section-5.4-1">¶</a></p>
<p id="section-5.4-2">After calling setLocalDescription with an offer or answer,
        the application <span class="bcp14">MAY</span> modify the SDP to reduce its capabilities
        before sending it to the far side, as long as it follows the
        rules above that define a valid JSEP offer or answer. Likewise,
        an application that has received an offer or answer from a peer
        <span class="bcp14">MAY</span> modify the received SDP, subject to the same constraints,
        before calling setRemoteDescription.<a class="pilcrow" href="#section-5.4-2">¶</a></p>
<p id="section-5.4-3">As always, the application is solely responsible for what it
        sends to the other party, and all incoming SDP will be
        processed by the JSEP implementation to the extent of its
        capabilities. It is an error to assume that all SDP is
        well formed; however, one should be able to assume that any
        implementation of this specification will be able to process,
        as a remote offer or answer, unmodified SDP coming from any
        other implementation of this specification.<a class="pilcrow" href="#section-5.4-3">¶</a></p>
</section>
</div>
<div id="sec.processing-a-local-desc">
<section id="section-5.5">
        <h3 id="name-processing-a-local-descript">
<a class="section-number selfRef" href="#section-5.5">5.5. </a><a class="section-name selfRef" href="#name-processing-a-local-descript">Processing a Local Description</a>
        </h3>
<p id="section-5.5-1">When a SessionDescription is supplied to
        setLocalDescription, the following steps <span class="bcp14">MUST</span> be performed:<a class="pilcrow" href="#section-5.5-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-2.1">If the description is of type "rollback", follow the
          processing defined in
          <a class="auto internal xref" href="#sec.processing-a-rollback">Section 5.7</a> and skip the
          processing described in the rest of this section.<a class="pilcrow" href="#section-5.5-2.1">¶</a>
</li>
          <li class="normal" id="section-5.5-2.2">
            <p id="section-5.5-2.2.1">Otherwise, the type of the SessionDescription is checked
          against the current state of the PeerConnection:<a class="pilcrow" href="#section-5.5-2.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5-2.2.2.1">If the type is "offer", the PeerConnection state <span class="bcp14">MUST</span> be
            either "stable" or "have-local-offer".<a class="pilcrow" href="#section-5.5-2.2.2.1">¶</a>
</li>
              <li class="normal" id="section-5.5-2.2.2.2">If the type is "pranswer" or "answer", the
            PeerConnection state <span class="bcp14">MUST</span> be either "have-remote-offer" or
            "have-local-pranswer".<a class="pilcrow" href="#section-5.5-2.2.2.2">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-5.5-2.3">If the type is not correct for the current state,
          processing <span class="bcp14">MUST</span> stop and an error <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-5.5-2.3">¶</a>
</li>
          <li class="normal" id="section-5.5-2.4">The SessionDescription is then checked to ensure that its
          contents are identical to those generated in the last call to
          createOffer/createAnswer, and thus have not been altered, as
          discussed in
          <a class="auto internal xref" href="#sec.modifying-sdp">Section 5.4</a>; otherwise, processing
          <span class="bcp14">MUST</span> stop and an error <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-5.5-2.4">¶</a>
</li>
          <li class="normal" id="section-5.5-2.5">Next, the SessionDescription is parsed into a data
          structure, as described in
          <a class="auto internal xref" href="#sec.parsing-a-desc">Section 5.8</a> below.<a class="pilcrow" href="#section-5.5-2.5">¶</a>
</li>
          <li class="normal" id="section-5.5-2.6">Finally, the parsed SessionDescription is applied as
          described in
          <a class="auto internal xref" href="#sec.applying-a-local-desc">Section 5.9</a> below.<a class="pilcrow" href="#section-5.5-2.6">¶</a>
</li>
        </ul>
</section>
</div>
<div id="sec.processing-a-remote-desc">
<section id="section-5.6">
        <h3 id="name-processing-a-remote-descrip">
<a class="section-number selfRef" href="#section-5.6">5.6. </a><a class="section-name selfRef" href="#name-processing-a-remote-descrip">Processing a Remote Description</a>
        </h3>
<p id="section-5.6-1">When a SessionDescription is supplied to
        setRemoteDescription, the following steps <span class="bcp14">MUST</span> be performed:<a class="pilcrow" href="#section-5.6-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.6-2.1">If the description is of type "rollback", follow the
          processing defined in
          <a class="auto internal xref" href="#sec.processing-a-rollback">Section 5.7</a> and skip the
          processing described in the rest of this section.<a class="pilcrow" href="#section-5.6-2.1">¶</a>
</li>
          <li class="normal" id="section-5.6-2.2">
            <p id="section-5.6-2.2.1">Otherwise, the type of the SessionDescription is checked
          against the current state of the PeerConnection:<a class="pilcrow" href="#section-5.6-2.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.6-2.2.2.1">If the type is "offer", the PeerConnection state <span class="bcp14">MUST</span> be
            either "stable" or "have-remote-offer".<a class="pilcrow" href="#section-5.6-2.2.2.1">¶</a>
</li>
              <li class="normal" id="section-5.6-2.2.2.2">If the type is "pranswer" or "answer", the
            PeerConnection state <span class="bcp14">MUST</span> be either "have-local-offer" or
            "have-remote-pranswer".<a class="pilcrow" href="#section-5.6-2.2.2.2">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-5.6-2.3">If the type is not correct for the current state,
          processing <span class="bcp14">MUST</span> stop and an error <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-5.6-2.3">¶</a>
</li>
          <li class="normal" id="section-5.6-2.4">Next, the SessionDescription is parsed into a data
          structure, as described in
          <a class="auto internal xref" href="#sec.parsing-a-desc">Section 5.8</a> below. If parsing fails
          for any reason, processing <span class="bcp14">MUST</span> stop and an error <span class="bcp14">MUST</span> be
          returned.<a class="pilcrow" href="#section-5.6-2.4">¶</a>
</li>
          <li class="normal" id="section-5.6-2.5">Finally, the parsed SessionDescription is applied as
          described in
          <a class="auto internal xref" href="#sec.applying-a-remote-desc">Section 5.10</a> below.<a class="pilcrow" href="#section-5.6-2.5">¶</a>
</li>
        </ul>
</section>
</div>
<div id="sec.processing-a-rollback">
<section id="section-5.7">
        <h3 id="name-processing-a-rollback">
<a class="section-number selfRef" href="#section-5.7">5.7. </a><a class="section-name selfRef" href="#name-processing-a-rollback">Processing a Rollback</a>
        </h3>
<p id="section-5.7-1">A rollback may be performed if the PeerConnection is in any
        state except for "stable". This means that both offers and
        provisional answers can be rolled back. Rollback can only be
        used to cancel proposed changes; there is no support for
        rolling back from a "stable" state to a previous "stable" state. If
        a rollback is attempted in the "stable" state, processing <span class="bcp14">MUST</span>
        stop and an error <span class="bcp14">MUST</span> be returned. Note that this implies that
        once the answerer has performed setLocalDescription with its
        answer, this cannot be rolled back.<a class="pilcrow" href="#section-5.7-1">¶</a></p>
<p id="section-5.7-2">The effect of rollback <span class="bcp14">MUST</span> be the same regardless of
        whether setLocalDescription or setRemoteDescription is
        called.<a class="pilcrow" href="#section-5.7-2">¶</a></p>
<p id="section-5.7-3">In order to process rollback, a JSEP implementation abandons
        the current offer/answer transaction, sets the signaling state
        to "stable", and sets the pending local and/or remote
        description (see Sections
        <a class="auto internal xref" href="#sec.pendinglocaldescription">4.1.14</a> and
        <a class="auto internal xref" href="#sec.pendingremotedescription">4.1.16</a>) to null. Any
        resources or candidates that were allocated by the abandoned
        local description are discarded; any media that is received is
        processed according to the previous local and remote
        descriptions.<a class="pilcrow" href="#section-5.7-3">¶</a></p>
<p id="section-5.7-4">A rollback disassociates any RtpTransceivers that were
        associated with "m=" sections by the application of the
        rolled-back session description (see Sections
        <a class="auto internal xref" href="#sec.applying-a-remote-desc">5.10</a> and
        <a class="auto internal xref" href="#sec.applying-a-local-desc">5.9</a>).
        This means that
        some RtpTransceivers that were previously associated will no
        longer be associated with any "m=" section; in such cases, the
        value of the RtpTransceiver's mid property <span class="bcp14">MUST</span> be set to null,
        and the mapping between the transceiver and its "m=" section
        index <span class="bcp14">MUST</span> be discarded. RtpTransceivers that were created by
        applying a remote offer that was subsequently rolled back <span class="bcp14">MUST</span>
        be stopped and removed from the PeerConnection. However, an
        RtpTransceiver <span class="bcp14">MUST NOT</span> be removed if a track was attached to
        the RtpTransceiver via the addTrack method. This is so that an
        application may call addTrack, then call setRemoteDescription
        with an offer, then roll back that offer, then call createOffer
        and have an "m=" section for the added track appear in the
        generated offer.<a class="pilcrow" href="#section-5.7-4">¶</a></p>
</section>
</div>
<div id="sec.parsing-a-desc">
<section id="section-5.8">
        <h3 id="name-parsing-a-session-descripti">
<a class="section-number selfRef" href="#section-5.8">5.8. </a><a class="section-name selfRef" href="#name-parsing-a-session-descripti">Parsing a Session Description</a>
        </h3>
<p id="section-5.8-1">The SDP contained in the session description object consists
        of a sequence of text lines, each containing a key-value
        expression, as described in
        <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5">Section 5</a></span>. The SDP is read,
        line by line, and converted to a data structure that contains
        the deserialized information. However, SDP allows many types of
        lines, not all of which are relevant to JSEP applications. For
        each line, the implementation will first ensure that it is
        syntactically correct according to its defining ABNF, check
        that it conforms to the semantics used in
        <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>]</span> and
        <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>]</span>, and then either parse and
        store or discard the provided value, as described below.<a class="pilcrow" href="#section-5.8-1">¶</a></p>
<p id="section-5.8-2">If any line is not well formed or cannot be parsed as
        described, the parser <span class="bcp14">MUST</span> stop with an error and reject the
        session description, even if the value is to be discarded. This
        ensures that implementations do not accidentally misinterpret
        ambiguous SDP.<a class="pilcrow" href="#section-5.8-2">¶</a></p>
<div id="sec.session-level-parse">
<section id="section-5.8.1">
          <h4 id="name-session-level-parsing">
<a class="section-number selfRef" href="#section-5.8.1">5.8.1. </a><a class="section-name selfRef" href="#name-session-level-parsing">Session-Level Parsing</a>
          </h4>
<p id="section-5.8.1-1">First, the session-level lines are checked and parsed.
          These lines <span class="bcp14">MUST</span> occur in a specific order, and with a
          specific syntax, as defined in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5">Section 5</a></span>. Note that while the
          specific line types (e.g., "v=", "c=") <span class="bcp14">MUST</span> occur in the
          defined order, lines of the same type (typically "a=") can
          occur in any order.<a class="pilcrow" href="#section-5.8.1-1">¶</a></p>
<p id="section-5.8.1-2">The following non-attribute lines are not meaningful in
          the JSEP context and <span class="bcp14">MAY</span> be discarded once they have been
          checked.<a class="pilcrow" href="#section-5.8.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.1-3.1">The "c=" line <span class="bcp14">MUST</span> be checked for syntax, but its value
            is only used for ICE mismatch detection, as defined in
            <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8445#section-5.4">Section 5.4</a></span>. Note that JSEP
            implementations should never encounter this condition
            because ICE is required for WebRTC.<a class="pilcrow" href="#section-5.8.1-3.1">¶</a>
</li>
            <li class="normal" id="section-5.8.1-3.2">The "i=", "u=", "e=", "p=", "t=", "r=", "z=", and "k="
            lines <span class="bcp14">MUST</span> be
            checked for syntax, but their values are not otherwise used.<a class="pilcrow" href="#section-5.8.1-3.2">¶</a>
</li>
          </ul>
<p id="section-5.8.1-4">The remaining non-attribute lines are processed as
          follows:<a class="pilcrow" href="#section-5.8.1-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.1-5.1">The "v=" line <span class="bcp14">MUST</span> have a version of 0, as specified in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.1">Section 5.1</a></span>.<a class="pilcrow" href="#section-5.8.1-5.1">¶</a>
</li>
            <li class="normal" id="section-5.8.1-5.2">The "o=" line <span class="bcp14">MUST</span> be parsed as specified in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.2">Section 5.2</a></span>.<a class="pilcrow" href="#section-5.8.1-5.2">¶</a>
</li>
            <li class="normal" id="section-5.8.1-5.3">The "b=" line, if present, <span class="bcp14">MUST</span> be parsed as specified
            in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.8">Section 5.8</a></span>, and the bwtype and
            bandwidth values stored.<a class="pilcrow" href="#section-5.8.1-5.3">¶</a>
</li>
          </ul>
<p id="section-5.8.1-6">Finally, the attribute lines are processed. Specific
          processing <span class="bcp14">MUST</span> be applied for the following session-level
          attribute ("a=") lines:<a class="pilcrow" href="#section-5.8.1-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.1-7.1">Any "a=group" lines are parsed as specified in
            <span>[<a class="cite xref" href="#RFC5888">RFC5888</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-5">Section 5</a></span>, and the group's
            semantics and MID values are stored.<a class="pilcrow" href="#section-5.8.1-7.1">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.2">If present, a single "a=ice-lite" line is parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.3">Section 5.3</a></span>, and a value
            indicating the presence of an "a=ice-lite" line is stored.<a class="pilcrow" href="#section-5.8.1-7.2">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.3">If present, a single "a=ice-ufrag" line is parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a></span>, and the ufrag value is stored.<a class="pilcrow" href="#section-5.8.1-7.3">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.4">If present, a single "a=ice-pwd" line is parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a></span>, and the password value is stored.<a class="pilcrow" href="#section-5.8.1-7.4">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.5">If present, a single "a=ice-options" line is parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.6">Section 5.6</a></span>, and the set of specified options is stored.<a class="pilcrow" href="#section-5.8.1-7.5">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.6">Any "a=fingerprint" lines are parsed as specified in
            <span>[<a class="cite xref" href="#RFC8122">RFC8122</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8122#section-5">Section 5</a></span>, and the set of
            fingerprint and algorithm values is stored.<a class="pilcrow" href="#section-5.8.1-7.6">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.7">If present, a single "a=setup" line is parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC4145">RFC4145</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4145#section-4">Section 4</a></span>, and the setup value
            is stored.<a class="pilcrow" href="#section-5.8.1-7.7">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.8">If present, a single "a=tls-id" line is parsed as
            specified in <span>[<a class="cite xref" href="#RFC8842">RFC8842</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8842#section-5">Section 5</a></span>, and
            the attribute value is stored.<a class="pilcrow" href="#section-5.8.1-7.8">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.9">Any "a=identity" lines are parsed and the identity
            values stored for subsequent verification, as specified in
            <span>[<a class="cite xref" href="#RFC8827">RFC8827</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8827#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.8.1-7.9">¶</a>
</li>
            <li class="normal" id="section-5.8.1-7.10">Any "a=extmap" lines are parsed as specified in
            <span>[<a class="cite xref" href="#RFC5285">RFC5285</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5285#section-5">Section 5</a></span>, and their values are
            stored.<a class="pilcrow" href="#section-5.8.1-7.10">¶</a>
</li>
          </ul>
<p id="section-5.8.1-8">Other attributes that are not relevant to JSEP may also be
          present, and implementations <span class="bcp14">SHOULD</span> process any that they
          recognize. As required by
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.13">Section 5.13</a></span>, unknown
          attribute lines <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-5.8.1-8">¶</a></p>
<p id="section-5.8.1-9">Once all the session-level lines have been parsed,
          processing continues with the lines in "m=" sections.<a class="pilcrow" href="#section-5.8.1-9">¶</a></p>
</section>
</div>
<div id="sec.media-level-parse">
<section id="section-5.8.2">
          <h4 id="name-media-section-parsing">
<a class="section-number selfRef" href="#section-5.8.2">5.8.2. </a><a class="section-name selfRef" href="#name-media-section-parsing">Media Section Parsing</a>
          </h4>
<p id="section-5.8.2-1">Like the session-level lines, the media section lines <span class="bcp14">MUST</span>
          occur in the specific order and with the specific syntax
          defined in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5">Section 5</a></span>.<a class="pilcrow" href="#section-5.8.2-1">¶</a></p>
<p id="section-5.8.2-2">The "m=" line itself <span class="bcp14">MUST</span> be parsed as described in
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.14">Section 5.14</a></span>, and the &lt;media&gt;, &lt;port&gt;,
          &lt;proto&gt;, and &lt;fmt&gt; values stored.<a class="pilcrow" href="#section-5.8.2-2">¶</a></p>
<p id="section-5.8.2-3">Following the "m=" line, specific processing <span class="bcp14">MUST</span> be
          applied for the following non-attribute lines:<a class="pilcrow" href="#section-5.8.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.2-4.1">As with the "c=" line at the session level, the "c="
            line <span class="bcp14">MUST</span> be parsed according to
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.7">Section 5.7</a></span>, but its value is
            not used.<a class="pilcrow" href="#section-5.8.2-4.1">¶</a>
</li>
            <li class="normal" id="section-5.8.2-4.2">The "b=" line, if present, <span class="bcp14">MUST</span> be parsed as specified
            in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.8">Section 5.8</a></span>, and the bwtype and
            bandwidth values stored.<a class="pilcrow" href="#section-5.8.2-4.2">¶</a>
</li>
          </ul>
<p id="section-5.8.2-5">Specific processing <span class="bcp14">MUST</span> also be applied for the following
          attribute lines:<a class="pilcrow" href="#section-5.8.2-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.2-6.1">If present, a single "a=ice-ufrag" line is parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a></span>, and the ufrag value is stored.<a class="pilcrow" href="#section-5.8.2-6.1">¶</a>
</li>
            <li class="normal" id="section-5.8.2-6.2">If present, a single "a=ice-pwd" line is parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a></span>, and the password value is stored.<a class="pilcrow" href="#section-5.8.2-6.2">¶</a>
</li>
            <li class="normal" id="section-5.8.2-6.3">If present, a single "a=ice-options" line is parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.6">Section 5.6</a></span>,
            and the set of specified options is stored.<a class="pilcrow" href="#section-5.8.2-6.3">¶</a>
</li>
            <li class="normal" id="section-5.8.2-6.4">Any "a=candidate" attributes <span class="bcp14">MUST</span> be parsed as specified
            in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.1">Section 5.1</a></span>, and their values stored.<a class="pilcrow" href="#section-5.8.2-6.4">¶</a>
</li>
            <li class="normal" id="section-5.8.2-6.5">Any "a=remote-candidates" attributes <span class="bcp14">MUST</span> be parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.2">Section 5.2</a></span>, but their values are ignored.<a class="pilcrow" href="#section-5.8.2-6.5">¶</a>
</li>
            <li class="normal" id="section-5.8.2-6.6">If present, a single "a=end-of-candidates" attribute
            <span class="bcp14">MUST</span> be parsed as specified in
            <span>[<a class="cite xref" href="#RFC8840">RFC8840</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8840#section-8.1">Section 8.1</a></span>, and
            its presence or absence flagged and stored.<a class="pilcrow" href="#section-5.8.2-6.6">¶</a>
</li>
            <li class="normal" id="section-5.8.2-6.7">Any "a=fingerprint" lines are parsed as specified in
            <span>[<a class="cite xref" href="#RFC8122">RFC8122</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8122#section-5">Section 5</a></span>, and the set of
            fingerprint and algorithm values is stored.<a class="pilcrow" href="#section-5.8.2-6.7">¶</a>
</li>
          </ul>
<p id="section-5.8.2-7">If the "m=" &lt;proto&gt; value indicates use of RTP, as described
          in
          <a class="auto internal xref" href="#sec.profile-names">Section 5.1.2</a> above, the following
          attribute lines <span class="bcp14">MUST</span> be processed:<a class="pilcrow" href="#section-5.8.2-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.2-8.1">The "m=" &lt;fmt&gt; value <span class="bcp14">MUST</span> be parsed as specified in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.14">Section 5.14</a></span>, and the individual
            values stored.<a class="pilcrow" href="#section-5.8.2-8.1">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.2">Any "a=rtpmap" or "a=fmtp" lines <span class="bcp14">MUST</span> be parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span>, and their values
            stored.<a class="pilcrow" href="#section-5.8.2-8.2">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.3">If present, a single "a=ptime" line <span class="bcp14">MUST</span> be parsed as
            described in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span>, and its value
            stored.<a class="pilcrow" href="#section-5.8.2-8.3">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.4">If present, a single "a=maxptime" line <span class="bcp14">MUST</span> be parsed as
            described in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span>, and its value
            stored.<a class="pilcrow" href="#section-5.8.2-8.4">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.5">If present, a single direction attribute line (e.g.,
            "a=sendrecv") <span class="bcp14">MUST</span> be parsed as described in
            <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a></span>, and its value
            stored.<a class="pilcrow" href="#section-5.8.2-8.5">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.6">Any "a=ssrc" attributes <span class="bcp14">MUST</span> be parsed as specified in
            <span>[<a class="cite xref" href="#RFC5576">RFC5576</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5576#section-4.1">Section 4.1</a></span>, and their values
            stored.<a class="pilcrow" href="#section-5.8.2-8.6">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.7">Any "a=extmap" attributes <span class="bcp14">MUST</span> be parsed as specified in

            <span>[<a class="cite xref" href="#RFC5285">RFC5285</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5285#section-5">Section 5</a></span>, and their values
            stored.<a class="pilcrow" href="#section-5.8.2-8.7">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.8">Any "a=rtcp-fb" attributes <span class="bcp14">MUST</span> be parsed as specified
            in
            <span>[<a class="cite xref" href="#RFC4585">RFC4585</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4585#section-4.2">Section 4.2</a></span>, and their values
            stored.<a class="pilcrow" href="#section-5.8.2-8.8">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.9">If present, a single "a=rtcp-mux" attribute <span class="bcp14">MUST</span> be
            parsed as specified in
            <span>[<a class="cite xref" href="#RFC5761">RFC5761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5761#section-5.1.3">Section 5.1.3</a></span>, and its
            presence or absence flagged and stored.<a class="pilcrow" href="#section-5.8.2-8.9">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.10">If present, a single "a=rtcp-mux-only" attribute <span class="bcp14">MUST</span> be
            parsed as specified in
            <span>[<a class="cite xref" href="#RFC8858">RFC8858</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8858#section-3">Section 3</a></span>,
            and its presence or absence flagged and stored.<a class="pilcrow" href="#section-5.8.2-8.10">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.11">If present, a single "a=rtcp-rsize" attribute <span class="bcp14">MUST</span> be
            parsed as specified in
            <span>[<a class="cite xref" href="#RFC5506">RFC5506</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5506#section-5">Section 5</a></span>, and its presence or
            absence flagged and stored.<a class="pilcrow" href="#section-5.8.2-8.11">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.12">If present, a single "a=rtcp" attribute <span class="bcp14">MUST</span> be parsed
            as specified in
            <span>[<a class="cite xref" href="#RFC3605">RFC3605</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3605#section-2.1">Section 2.1</a></span>, but its value is
            ignored, as this information is superfluous when using
            ICE.<a class="pilcrow" href="#section-5.8.2-8.12">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.13">If present, "a=msid" attributes <span class="bcp14">MUST</span> be parsed as
            specified in
            <span>[<a class="cite xref" href="#RFC8830">RFC8830</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8830#section-3.2">Section 3.2</a></span>, and
            their values stored, ignoring any "appdata" field. If no "a=msid"
            attributes are present, a random msid-id value is generated for a
            "default" MediaStream for the session, if not already present, and
            this value is stored.<a class="pilcrow" href="#section-5.8.2-8.13">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.14">Any "a=imageattr" attributes <span class="bcp14">MUST</span> be parsed as specified
            in
            <span>[<a class="cite xref" href="#RFC6236">RFC6236</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc6236#section-3">Section 3</a></span>, and their values
            stored.<a class="pilcrow" href="#section-5.8.2-8.14">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.15">Any "a=rid" lines <span class="bcp14">MUST</span> be parsed as specified in
            <span>[<a class="cite xref" href="#RFC8851">RFC8851</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8851#section-10">Section 10</a></span>, and
            their values stored.<a class="pilcrow" href="#section-5.8.2-8.15">¶</a>
</li>
            <li class="normal" id="section-5.8.2-8.16">If present, a single "a=simulcast" line <span class="bcp14">MUST</span> be parsed
            as specified in
            <span>[<a class="cite xref" href="#RFC8853">RFC8853</a>]</span>, and
            its values stored.<a class="pilcrow" href="#section-5.8.2-8.16">¶</a>
</li>
          </ul>
<p id="section-5.8.2-9">Otherwise, if the "m=" &lt;proto&gt; value indicates use of SCTP,
          the following attribute lines <span class="bcp14">MUST</span> be processed:<a class="pilcrow" href="#section-5.8.2-9">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.2-10.1">The "m="  &lt;fmt&gt; value <span class="bcp14">MUST</span> be parsed as specified in
            <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-4.3">Section 4.3</a></span>,
            and the application protocol value stored.<a class="pilcrow" href="#section-5.8.2-10.1">¶</a>
</li>
            <li class="normal" id="section-5.8.2-10.2">An "a=sctp-port" attribute <span class="bcp14">MUST</span> be present, and it <span class="bcp14">MUST</span>
            be parsed as specified in
            <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-5.2">Section 5.2</a></span>,
            and the value stored.<a class="pilcrow" href="#section-5.8.2-10.2">¶</a>
</li>
            <li class="normal" id="section-5.8.2-10.3">If present, a single "a=max-message-size" attribute <span class="bcp14">MUST</span>
            be parsed as specified in
            <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-6">Section 6</a></span>, and
            the value stored. Otherwise, use the specified default.<a class="pilcrow" href="#section-5.8.2-10.3">¶</a>
</li>
          </ul>
<p id="section-5.8.2-11">Other attributes that are not relevant to JSEP may also be
          present, and implementations <span class="bcp14">SHOULD</span> process any that they
          recognize. As required by
          <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.13">Section 5.13</a></span>, unknown
          attribute lines <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-5.8.2-11">¶</a></p>
</section>
</div>
<section id="section-5.8.3">
          <h4 id="name-semantics-verification">
<a class="section-number selfRef" href="#section-5.8.3">5.8.3. </a><a class="section-name selfRef" href="#name-semantics-verification">Semantics Verification</a>
          </h4>
<p id="section-5.8.3-1">Assuming that parsing completes successfully, the parsed
          description is then evaluated to ensure internal consistency
          as well as proper support for mandatory features.
          Specifically, the following checks are performed:<a class="pilcrow" href="#section-5.8.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.3-2.1">
              <p id="section-5.8.3-2.1.1">For each "m=" section, valid values for each of the
            mandatory-to-use features enumerated in
            <a class="auto internal xref" href="#sec.usage-requirements">Section 5.1.1</a> <span class="bcp14">MUST</span> be present.
            These values <span class="bcp14">MAY</span> be either present at the media level or
            inherited from the session level.<a class="pilcrow" href="#section-5.8.3-2.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.3-2.1.2.1">ICE ufrag and password values, which <span class="bcp14">MUST</span> comply with
              the size limits specified in
              <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a></span>.<a class="pilcrow" href="#section-5.8.3-2.1.2.1">¶</a>
</li>
                <li class="normal" id="section-5.8.3-2.1.2.2">A tls-id value, which <span class="bcp14">MUST</span> be set according to
              <span>[<a class="cite xref" href="#RFC8842">RFC8842</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8842#section-5">Section 5</a></span>. If
        this is a re-offer or a response to a re-offer and the
        tls-id value is different from that presently in use, the
        DTLS connection is not being continued and the remote
        description <span class="bcp14">MUST</span> be part of an ICE restart, together with
        new ufrag and password values.<a class="pilcrow" href="#section-5.8.3-2.1.2.2">¶</a>
</li>
                <li class="normal" id="section-5.8.3-2.1.2.3">A DTLS setup value, which <span class="bcp14">MUST</span> be set according to the
        rules specified in
        <span>[<a class="cite xref" href="#RFC5763">RFC5763</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5763#section-5">Section 5</a></span> and <span class="bcp14">MUST</span> be
        consistent with the selected role of the current DTLS
        connection, if one exists and is being continued.<a class="pilcrow" href="#section-5.8.3-2.1.2.3">¶</a>
</li>
                <li class="normal" id="section-5.8.3-2.1.2.4">DTLS fingerprint values, where at least one
        fingerprint <span class="bcp14">MUST</span> be present.<a class="pilcrow" href="#section-5.8.3-2.1.2.4">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-5.8.3-2.2">All rid-ids referenced in an "a=simulcast" line <span class="bcp14">MUST</span>
      exist as "a=rid" lines.<a class="pilcrow" href="#section-5.8.3-2.2">¶</a>
</li>
            <li class="normal" id="section-5.8.3-2.3">Each "m=" section is also checked to ensure that prohibited
      features are not used.<a class="pilcrow" href="#section-5.8.3-2.3">¶</a>
</li>
            <li class="normal" id="section-5.8.3-2.4">If the RTP/RTCP multiplexing policy is "require", each
      "m=" section <span class="bcp14">MUST</span> contain an "a=rtcp-mux" attribute. If an "m="
      section contains an "a=rtcp-mux-only" attribute, that
      section <span class="bcp14">MUST</span> also contain an "a=rtcp-mux" attribute.<a class="pilcrow" href="#section-5.8.3-2.4">¶</a>
</li>
            <li class="normal" id="section-5.8.3-2.5">If an "m=" section was present in the previous answer, the
      state of RTP/RTCP multiplexing <span class="bcp14">MUST</span> match what was
      previously negotiated.<a class="pilcrow" href="#section-5.8.3-2.5">¶</a>
</li>
          </ul>
<p id="section-5.8.3-3">If this session description is of type "pranswer" or
    "answer", the following additional checks are applied:<a class="pilcrow" href="#section-5.8.3-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8.3-4.1">The session description <span class="bcp14">MUST</span> follow the rules defined in
      <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6">Section 6</a></span>, including the
      requirement that the number of "m=" sections <span class="bcp14">MUST</span> exactly
      match the number of "m=" sections in the associated
      offer.<a class="pilcrow" href="#section-5.8.3-4.1">¶</a>
</li>
            <li class="normal" id="section-5.8.3-4.2">For each "m=" section, the media type and protocol values
      <span class="bcp14">MUST</span> exactly match the media type and protocol values in
      the corresponding "m=" section in the associated offer.<a class="pilcrow" href="#section-5.8.3-4.2">¶</a>
</li>
          </ul>
<p id="section-5.8.3-5">If any of the preceding checks failed, processing <span class="bcp14">MUST</span>
    stop and an error <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-5.8.3-5">¶</a></p>
</section>
</section>
</div>
<div id="sec.applying-a-local-desc">
<section id="section-5.9">
        <h3 id="name-applying-a-local-descriptio">
<a class="section-number selfRef" href="#section-5.9">5.9. </a><a class="section-name selfRef" href="#name-applying-a-local-descriptio">Applying a Local Description</a>
        </h3>
<p id="section-5.9-1">The following steps are performed at the media engine level
  to apply a local description. If an error is returned, the
  session <span class="bcp14">MUST</span> be restored to the state it was in before
  performing these steps.<a class="pilcrow" href="#section-5.9-1">¶</a></p>
<p id="section-5.9-2">First, "m=" sections are processed. For each "m=" section, the
  following steps <span class="bcp14">MUST</span> be performed; if any parameters are out of
  bounds or cannot be applied, processing <span class="bcp14">MUST</span> stop and an error
  <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-5.9-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.9-3.1">If this "m=" section is new, begin gathering candidates for
    it, as defined in
    <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8445#section-5.1.1">Section 5.1.1</a></span>, unless it is
    definitively being bundled (either (1) this is an offer and the
    "m=" section is marked as bundle-only or (2) it is an answer and the
    "m=" section is bundled into another "m=" section).<a class="pilcrow" href="#section-5.9-3.1">¶</a>
</li>
          <li class="normal" id="section-5.9-3.2">Or, if the ICE ufrag and password values have changed,
    trigger the ICE agent to start an ICE restart as described in
    <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8445#section-9">Section 9</a></span>, and begin
    gathering new candidates for the "m=" section. If this
    description is an answer, also start checks on that media
    section.<a class="pilcrow" href="#section-5.9-3.2">¶</a>
</li>
          <li class="normal" id="section-5.9-3.3">
            <p id="section-5.9-3.3.1">If the "m=" section &lt;proto&gt; value indicates use of RTP:<a class="pilcrow" href="#section-5.9-3.3.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.9-3.3.2.1">
                <p id="section-5.9-3.3.2.1.1">If there is no RtpTransceiver associated with this "m="
      section, find one and associate it with this "m=" section
      according to the following steps. Note that this situation
      will only occur when applying an offer.<a class="pilcrow" href="#section-5.9-3.3.2.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.9-3.3.2.1.2.1">Find the RtpTransceiver that corresponds to this "m="
        section, using the mapping between transceivers and "m="
        section indices established when creating the offer.<a class="pilcrow" href="#section-5.9-3.3.2.1.2.1">¶</a>
</li>
                  <li class="normal" id="section-5.9-3.3.2.1.2.2">Set the value of this RtpTransceiver's mid property to
        the MID of the "m=" section.<a class="pilcrow" href="#section-5.9-3.3.2.1.2.2">¶</a>
</li>
                </ul>
</li>
              <li class="normal" id="section-5.9-3.3.2.2">If RTCP mux is indicated, prepare to demux RTP and RTCP
      from the RTP ICE component, as specified in
      <span>[<a class="cite xref" href="#RFC5761">RFC5761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5761#section-5.1.3">Section 5.1.3</a></span>.<a class="pilcrow" href="#section-5.9-3.3.2.2">¶</a>
</li>
              <li class="normal" id="section-5.9-3.3.2.3">For each specified RTP header extension, establish a
      mapping between the extension ID and URI, as described in
      <span>[<a class="cite xref" href="#RFC5285">RFC5285</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5285#section-6">Section 6</a></span>.<a class="pilcrow" href="#section-5.9-3.3.2.3">¶</a>
</li>
              <li class="normal" id="section-5.9-3.3.2.4">If the MID header extension is supported, prepare to
      demux RTP streams intended for this "m=" section based on the
      MID header extension, as described in
      <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-15">Section 15</a></span>.<a class="pilcrow" href="#section-5.9-3.3.2.4">¶</a>
</li>
              <li class="normal" id="section-5.9-3.3.2.5">For each specified media format, establish a mapping
      between the payload type and the actual media format, as
      described in
      <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6.1">Section 6.1</a></span>. In addition,
      prepare to demux RTP streams intended for this "m=" section
      based on the media formats supported by this "m=" section, as
      described in
      <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-9.2">Section 9.2</a></span>.<a class="pilcrow" href="#section-5.9-3.3.2.5">¶</a>
</li>
              <li class="normal" id="section-5.9-3.3.2.6">For each specified "rtx" media format, establish a
      mapping between the RTX payload type and its associated
      primary payload type, as described in
      Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc4588#section-8.6">8.6</a> and <a class="relref" href="https://rfc-editor.org/rfc/rfc4588#section-8.7">8.7</a> of <span>[<a class="cite xref" href="#RFC4588">RFC4588</a>]</span>.<a class="pilcrow" href="#section-5.9-3.3.2.6">¶</a>
</li>
              <li class="normal" id="section-5.9-3.3.2.7">If the direction attribute is of type "sendrecv" or
      "recvonly", enable receipt and decoding of media.<a class="pilcrow" href="#section-5.9-3.3.2.7">¶</a>
</li>
            </ul>
</li>
        </ul>
<p id="section-5.9-4">Finally, if this description is of type "pranswer" or
  "answer", follow the processing defined in
  <a class="auto internal xref" href="#sec.applying-an-answer">Section 5.11</a> below.<a class="pilcrow" href="#section-5.9-4">¶</a></p>
</section>
</div>
<div id="sec.applying-a-remote-desc">
<section id="section-5.10">
        <h3 id="name-applying-a-remote-descripti">
<a class="section-number selfRef" href="#section-5.10">5.10. </a><a class="section-name selfRef" href="#name-applying-a-remote-descripti">Applying a Remote Description</a>
        </h3>
<p id="section-5.10-1">The following steps are performed to apply a remote
  description. If an error is returned, the session <span class="bcp14">MUST</span> be
  restored to the state it was in before performing these
  steps.<a class="pilcrow" href="#section-5.10-1">¶</a></p>
<p id="section-5.10-2">If the answer contains any "a=ice-options" attributes where
  "trickle" is listed as an attribute, update the PeerConnection
  canTrickleIceCandidates property to be "true". Otherwise, set this property to
  "false".<a class="pilcrow" href="#section-5.10-2">¶</a></p>
<p id="section-5.10-3">The following steps <span class="bcp14">MUST</span> be performed for attributes at the
  session level; if any parameters are out of bounds or cannot
  be applied, processing <span class="bcp14">MUST</span> stop and an error <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-5.10-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-4.1">For any specified "CT" bandwidth value, set this value as the
    limit for the maximum total bitrate for all "m=" sections, as
    specified in
    <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.8">Section 5.8</a></span>. Within this
    overall limit, the implementation can dynamically decide how
    to best allocate the available bandwidth between "m=" sections,
    respecting any specific limits that have been specified for
    individual "m=" sections.<a class="pilcrow" href="#section-5.10-4.1">¶</a>
</li>
          <li class="normal" id="section-5.10-4.2">For any specified "RR" or "RS" bandwidth values, handle as
    specified in
    <span>[<a class="cite xref" href="#RFC3556">RFC3556</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3556#section-2">Section 2</a></span>.<a class="pilcrow" href="#section-5.10-4.2">¶</a>
</li>
          <li class="normal" id="section-5.10-4.3">Any "AS" bandwidth value (<span>[<a class="cite xref" href="#RFC4566">RFC4566</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-5.8">Section 5.8</a></span>)
           <span class="bcp14">MUST</span> be ignored, as the meaning
    of this construct at the session level is not well
    defined.<a class="pilcrow" href="#section-5.10-4.3">¶</a>
</li>
        </ul>
<p id="section-5.10-5">For each "m=" section, the following steps <span class="bcp14">MUST</span> be performed;
  if any parameters are out of bounds or cannot be applied,
  processing <span class="bcp14">MUST</span> stop and an error <span class="bcp14">MUST</span> be returned.<a class="pilcrow" href="#section-5.10-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-6.1">
            <p id="section-5.10-6.1.1">If the ICE ufrag or password changed from the previous
    remote description:<a class="pilcrow" href="#section-5.10-6.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-6.1.2.1">If the description is of type "offer", the
      implementation <span class="bcp14">MUST</span> note that an ICE restart is needed, as
      described in
      <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-4.4.1.1.1">Section 4.4.1.1.1</a></span>.<a class="pilcrow" href="#section-5.10-6.1.2.1">¶</a>
</li>
              <li class="normal" id="section-5.10-6.1.2.2">If the description is of type "answer" or "pranswer",
      then check to see if the current local description is an
      ICE restart, and if not, generate an error. If the
      PeerConnection state is "have-remote-pranswer" and the ICE
      ufrag or password changed from the previous provisional
      answer, then signal the ICE agent to discard any previous
      ICE checklist state for the "m=" section. Finally, signal
      the ICE agent to begin checks.<a class="pilcrow" href="#section-5.10-6.1.2.2">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-5.10-6.2">If the current local description indicates an ICE restart
    but neither the ICE ufrag nor the password has changed from the
    previous remote description (as prescribed by
    <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8445#section-9">Section 9</a></span>), generate an
    error.<a class="pilcrow" href="#section-5.10-6.2">¶</a>
</li>
          <li class="normal" id="section-5.10-6.3">Configure the ICE components associated with this media
    section to use the supplied ICE remote ufrag and password for
    their connectivity checks.<a class="pilcrow" href="#section-5.10-6.3">¶</a>
</li>
          <li class="normal" id="section-5.10-6.4">Pair any supplied ICE candidates with any gathered local
    candidates, as described in
    <span>[<a class="cite xref" href="#RFC8445">RFC8445</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8445#section-6.1.2">Section 6.1.2</a></span>, and start
    connectivity checks with the appropriate credentials.<a class="pilcrow" href="#section-5.10-6.4">¶</a>
</li>
          <li class="normal" id="section-5.10-6.5">If an "a=end-of-candidates" attribute is present, process
    the end-of-candidates indication as described in
    <span>[<a class="cite xref" href="#RFC8838">RFC8838</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8838#section-14">Section 14</a></span>.<a class="pilcrow" href="#section-5.10-6.5">¶</a>
</li>
          <li class="normal" id="section-5.10-6.6">
            <p id="section-5.10-6.6.1">If the "m=" section &lt;proto&gt; value indicates use of RTP:<a class="pilcrow" href="#section-5.10-6.6.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-6.6.2.1">If the "m=" section is being recycled (see
       <a class="auto internal xref" href="#sec.subsequent-offers">Section 5.2.2</a>), disassociate
       the currently associated RtpTransceiver by setting its mid
       property to null, and discard the mapping between the
       transceiver and its "m=" section index.<a class="pilcrow" href="#section-5.10-6.6.2.1">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.2">
                <p id="section-5.10-6.6.2.2.1">If the "m=" section is not associated with any
       RtpTransceiver (possibly because it was disassociated in the
       previous step), either find an RtpTransceiver or create one
       according to the following steps:<a class="pilcrow" href="#section-5.10-6.6.2.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-6.6.2.2.2.1">If the "m=" section is "sendrecv" or "recvonly", and there
 are RtpTransceivers of the same type that were added to
 the PeerConnection by addTrack and are not associated
 with any "m=" section and are not stopped, find the first
 (according to the canonical order described in
 <a class="auto internal xref" href="#sec.initial-offers">Section 5.2.1</a>) such
 RtpTransceiver.<a class="pilcrow" href="#section-5.10-6.6.2.2.2.1">¶</a>
</li>
                  <li class="normal" id="section-5.10-6.6.2.2.2.2">If no RtpTransceiver was found in the previous step,
 create one with a "recvonly" direction.<a class="pilcrow" href="#section-5.10-6.6.2.2.2.2">¶</a>
</li>
                  <li class="normal" id="section-5.10-6.6.2.2.2.3">Associate the found or created RtpTransceiver with the
 "m=" section by setting the value of the RtpTransceiver's
 mid property to the MID of the "m=" section, and establish
 a mapping between the transceiver and the index of the "m="
 section. If the "m=" section does not include a MID (i.e.,
 the remote endpoint does not support the MID extension),
 generate a value for the RtpTransceiver mid property,
 following the guidance for "a=mid" mentioned in
 <a class="auto internal xref" href="#sec.initial-offers">Section 5.2.1</a>.<a class="pilcrow" href="#section-5.10-6.6.2.2.2.3">¶</a>
</li>
                </ul>
</li>
              <li class="normal" id="section-5.10-6.6.2.3">For each specified media format that is also supported
       by the local application, establish a mapping between
       the specified payload type and the media format, as
       described in
       <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6.1">Section 6.1</a></span>. Specifically, this
       means that the implementation records the payload type to
       be used in outgoing RTP packets when sending each specified
       media format, as well as the relative preference for each
       format that is indicated in their ordering. If any
       indicated media format is not supported by the local
       application, it <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-5.10-6.6.2.3">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.4">For each specified "rtx" media format, establish a
       mapping between the RTX payload type and its associated
       primary payload type, as described in
       <span>[<a class="cite xref" href="#RFC4588">RFC4588</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4588#section-4">Section 4</a></span>. If any referenced
       primary payload types are not present, this <span class="bcp14">MUST</span> result in
       an error. Note that RTX payload types may refer to primary
       payload types that are not supported by the local media
       implementation, in which case the RTX payload type <span class="bcp14">MUST</span>
       also be ignored.<a class="pilcrow" href="#section-5.10-6.6.2.4">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.5">For each specified fmtp parameter that is supported by
       the local application, enable them on the associated
       media formats.<a class="pilcrow" href="#section-5.10-6.6.2.5">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.6">For each specified Synchronization Source (SSRC) that is signaled in the "m="
       section, prepare to demux RTP streams intended for this "m="
       section using that SSRC, as described in
       <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-9.2">Section 9.2</a></span>.<a class="pilcrow" href="#section-5.10-6.6.2.6">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.7">For each specified RTP header extension that is also
       supported by the local application, establish a mapping
       between the extension ID and URI, as described in
       <span>[<a class="cite xref" href="#RFC5285">RFC5285</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5285#section-5">Section 5</a></span>. Specifically, this
       means that the implementation records the extension ID to
       be used in outgoing RTP packets when sending each specified
       header extension. If any indicated RTP header extension is
       not supported by the local application, it <span class="bcp14">MUST</span> be
       ignored.<a class="pilcrow" href="#section-5.10-6.6.2.7">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.8">For each specified RTCP feedback mechanism that is also
       supported by the local application, enable them on the
       associated media formats.<a class="pilcrow" href="#section-5.10-6.6.2.8">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.9">
                <p id="section-5.10-6.6.2.9.1">For any specified "TIAS" ("Transport
     Independent Application Specific (maximum)") bandwidth value, set this value
       as a constraint on the maximum RTP bitrate to be used when
       sending media, as specified in
       <span>[<a class="cite xref" href="#RFC3890">RFC3890</a>]</span>. If a "TIAS" value is not
       present but an "AS" value is specified, generate a "TIAS"
       value using this formula:<a class="pilcrow" href="#section-5.10-6.6.2.9.1">¶</a></p>
<p id="section-5.10-6.6.2.9.2" style="margin-left: 1.5em">
     TIAS = AS * 1000 * 0.95 - (50 * 40 * 8)<a class="pilcrow" href="#section-5.10-6.6.2.9.2">¶</a></p>
<p id="section-5.10-6.6.2.9.3">
              The 1000 changes the unit from kbps to bps (as required
              by TIAS), and the 0.95 is to allocate 5% to RTCP.
              An estimate of header overhead is then subtracted out, in which
              the 50 is based on 50 packets per second, the 40 is based on
              typical header size (in bytes), and the 8 converts bytes to bits.
              Note that "TIAS" is preferred over
       "AS" because it provides more accurate
       control of bandwidth.<a class="pilcrow" href="#section-5.10-6.6.2.9.3">¶</a></p>
</li>
              <li class="normal" id="section-5.10-6.6.2.10">For any "RR" or "RS" bandwidth values, handle as
       specified in
       <span>[<a class="cite xref" href="#RFC3556">RFC3556</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3556#section-2">Section 2</a></span>.<a class="pilcrow" href="#section-5.10-6.6.2.10">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.11">Any specified "CT" bandwidth value <span class="bcp14">MUST</span> be ignored, as
       the meaning of this construct at the media level is not
       well defined.<a class="pilcrow" href="#section-5.10-6.6.2.11">¶</a>
</li>
              <li class="normal" id="section-5.10-6.6.2.12">
                <p id="section-5.10-6.6.2.12.1">If the "m=" section is of type "audio":<a class="pilcrow" href="#section-5.10-6.6.2.12.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.10-6.6.2.12.2.1">For each specified "CN" media format, configure
 silence suppression for all supported media formats with
 the same clock rate, as described in
 <span>[<a class="cite xref" href="#RFC3389">RFC3389</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3389#section-5">Section 5</a></span>, except for formats
 that have their own internal silence suppression
 mechanisms. Silence suppression for such formats (e.g.,
 Opus) is controlled via fmtp parameters, as discussed in
 <a class="auto internal xref" href="#sec.voiceactivitydetection1">Section 5.2.3.2</a>.<a class="pilcrow" href="#section-5.10-6.6.2.12.2.1">¶</a>
</li>
                  <li class="normal" id="section-5.10-6.6.2.12.2.2">For each specified "telephone-event" media format,
 enable dual-tone multifrequency (DTMF) transmission for all supported media formats
 with the same clock rate, as described in
 <span>[<a class="cite xref" href="#RFC4733">RFC4733</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4733#section-2.5.1.2">Section 2.5.1.2</a></span>. If there are
 any supported media formats that do not have a
 corresponding telephone-event format, disable DTMF
 transmission for those formats.<a class="pilcrow" href="#section-5.10-6.6.2.12.2.2">¶</a>
</li>
                  <li class="normal" id="section-5.10-6.6.2.12.2.3">For any specified "ptime" value, configure the
 available media formats to use the specified packet size
 when sending. If the specified size is not supported for
 a media format, use the next closest value instead.<a class="pilcrow" href="#section-5.10-6.6.2.12.2.3">¶</a>
</li>
                </ul>
</li>
            </ul>
</li>
        </ul>
<p id="section-5.10-7">Finally, if this description is of type "pranswer" or
   "answer", follow the processing defined in
   <a class="auto internal xref" href="#sec.applying-an-answer">Section 5.11</a> below.<a class="pilcrow" href="#section-5.10-7">¶</a></p>
</section>
</div>
<div id="sec.applying-an-answer">
<section id="section-5.11">
        <h3 id="name-applying-an-answer">
<a class="section-number selfRef" href="#section-5.11">5.11. </a><a class="section-name selfRef" href="#name-applying-an-answer">Applying an Answer</a>
        </h3>
<p id="section-5.11-1">In addition to the steps mentioned above for processing a
   local or remote description, the following steps are performed
   when processing a description of type "pranswer" or
   "answer".<a class="pilcrow" href="#section-5.11-1">¶</a></p>
<p id="section-5.11-2">For each "m=" section, the following steps <span class="bcp14">MUST</span> be performed:<a class="pilcrow" href="#section-5.11-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.11-3.1">If the "m=" section has been rejected (i.e., the &lt;port&gt; value is set to
     zero in the answer), stop any reception or transmission of
     media for this section, and, unless a non-rejected "m=" section
     is bundled with this "m=" section, discard any associated ICE
     components, as described in the second bullet item in
     <span>[<a class="cite xref" href="#RFC8839">RFC8839</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-4.4.3.1">Section 4.4.3.1</a></span>.<a class="pilcrow" href="#section-5.11-3.1">¶</a>
</li>
          <li class="normal" id="section-5.11-3.2">If the remote DTLS fingerprint has been changed or the
      value of the "a=tls-id" attribute has changed, tear down the DTLS connection. This
      includes the case when the PeerConnection state is
      "have-remote-pranswer". If a DTLS connection needs to be torn
      down but the answer does not indicate an ICE restart or, in
      the case of "have-remote-pranswer", new ICE credentials, an
      error <span class="bcp14">MUST</span> be generated. If an ICE restart is performed
      without a change in the tls-id value or fingerprint, then the same DTLS
      connection is continued over the new ICE channel. Note that
      although JSEP requires that answerers change the tls-id value
      if and only if the offerer does, non-JSEP answerers are
      permitted to change the tls-id value as long as the offer contained
      an ICE restart. Thus, JSEP implementations that process DTLS
      data prior to receiving an answer <span class="bcp14">MUST</span> be prepared to receive
      either a ClientHello or data from the previous DTLS
      connection.<a class="pilcrow" href="#section-5.11-3.2">¶</a>
</li>
          <li class="normal" id="section-5.11-3.3">If no valid DTLS connection exists, prepare to start a
      DTLS connection, using the specified roles and fingerprints,
      on any underlying ICE components, once they are active.<a class="pilcrow" href="#section-5.11-3.3">¶</a>
</li>
          <li class="normal" id="section-5.11-3.4">
            <p id="section-5.11-3.4.1">If the "m=" section &lt;proto&gt; value indicates use of RTP:<a class="pilcrow" href="#section-5.11-3.4.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.11-3.4.2.1">If the "m=" section references RTCP feedback mechanisms
        that were not present in the corresponding "m=" section in
        the offer, this indicates a negotiation problem and <span class="bcp14">MUST</span>
        result in an error. However, new media formats and new RTP
        header extension values are permitted in the answer, as
        described in
        <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-7">Section 7</a></span> and
        <span>[<a class="cite xref" href="#RFC5285">RFC5285</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5285#section-6">Section 6</a></span>.<a class="pilcrow" href="#section-5.11-3.4.2.1">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.2">If the "m=" section has RTCP mux enabled, discard the RTCP
        ICE component, if one exists, and begin or continue muxing
        RTCP over the RTP ICE component, as specified in
        <span>[<a class="cite xref" href="#RFC5761">RFC5761</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc5761#section-5.1.3">Section 5.1.3</a></span>. Otherwise,
        prepare to transmit RTCP over the RTCP ICE component; if no
        RTCP ICE component exists because RTCP mux was previously
        enabled, this <span class="bcp14">MUST</span> result in an error.<a class="pilcrow" href="#section-5.11-3.4.2.2">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.3">If the "m=" section has Reduced-Size RTCP enabled,
        configure the RTCP transmission for this "m=" section to use
        Reduced-Size RTCP, as specified in
        <span>[<a class="cite xref" href="#RFC5506">RFC5506</a>]</span>.<a class="pilcrow" href="#section-5.11-3.4.2.3">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.4">If the direction attribute in the answer indicates
        that the JSEP implementation should be sending media
        ("sendonly" for local answers, "recvonly" for remote
        answers, or "sendrecv" for either type of answer), choose
        the media format to send as the most preferred media format
        from the remote description that is also locally supported,
        as discussed in Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-6.1">6.1</a> and <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-7">7</a> of <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>]</span>, and start
        transmitting RTP media using that format once the
        underlying transport layers have been established. If an
        SSRC has not already been chosen for this outgoing RTP
        stream, choose a unique random one. If media is already being
        transmitted, the same SSRC <span class="bcp14">SHOULD</span> be used unless the
        clock rate of the new codec is different, in which case a
        new SSRC <span class="bcp14">MUST</span> be chosen, as specified in
        <span>[<a class="cite xref" href="#RFC7160">RFC7160</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc7160#section-4.1">Section 4.1</a></span>.<a class="pilcrow" href="#section-5.11-3.4.2.4">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.5">The payload type mapping from the remote description is
        used to determine payload types for the outgoing RTP
        streams, including the payload type for the send media
        format chosen above. Any RTP header extensions that were
        negotiated should be included in the outgoing RTP streams,
        using the extension mapping from the remote description. If the MID
         header extension has been negotiated, include it in the outgoing RTP
         streams, as indicated in
         <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-15">Section 15</a></span>.
        If the RtpStreamId or RepairedRtpStreamId header extensions have been
         negotiated and rid-ids have been established, include these header
         extensions in the outgoing RTP streams, as indicated in
        <span>[<a class="cite xref" href="#RFC8851">RFC8851</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8851#section-4">Section 4</a></span>.<a class="pilcrow" href="#section-5.11-3.4.2.5">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.6">If the "m=" section is of type "audio", and silence
        suppression was (1) configured for the send media format as a
        result of processing the remote description and (2) also
        enabled for that format in the local description, use
        silence suppression for outgoing media, in accordance with
        the guidance in
        <a class="auto internal xref" href="#sec.voiceactivitydetection1">Section 5.2.3.2</a>.
               If these
        conditions are not met, silence suppression <span class="bcp14">MUST NOT</span> be
        used for outgoing media.<a class="pilcrow" href="#section-5.11-3.4.2.6">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.7">If simulcast has been negotiated, send the appropriate number of
        Source RTP Streams as specified in
        <span>[<a class="cite xref" href="#RFC8853">RFC8853</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8853#section-5.3.3">Section 5.3.3</a></span>.<a class="pilcrow" href="#section-5.11-3.4.2.7">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.8">If the send media format chosen above has a
        corresponding "rtx" media format or a FEC mechanism has
        been negotiated, establish a redundancy RTP stream with a
        unique random SSRC for each Source RTP Stream, and start or
        continue transmitting RTX/FEC packets as needed.<a class="pilcrow" href="#section-5.11-3.4.2.8">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.9">If the send media format chosen above has a
        corresponding "red" media format of the same clock rate,
        allow redundant encoding using the specified format for
        resiliency purposes, as discussed in
        <span>[<a class="cite xref" href="#RFC8854">RFC8854</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8854#section-3.2">Section 3.2</a></span>. Note
        that unlike RTX or FEC media formats, the "red" format is
        transmitted on the Source RTP Stream, not the redundancy
        RTP stream.<a class="pilcrow" href="#section-5.11-3.4.2.9">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.10">Enable the RTCP feedback mechanisms referenced in the
        media section for all Source RTP Streams using the
        specified media formats. Specifically, begin or continue
        sending the requested feedback types and reacting to
        received feedback, as specified in
        <span>[<a class="cite xref" href="#RFC4585">RFC4585</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc4585#section-4.2">Section 4.2</a></span>. When sending RTCP
        feedback, follow the rules and recommendations from
   <span>[<a class="cite xref" href="#RFC8108">RFC8108</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8108#section-5.4.1">Section 5.4.1</a></span> to select
        which SSRC to use.<a class="pilcrow" href="#section-5.11-3.4.2.10">¶</a>
</li>
              <li class="normal" id="section-5.11-3.4.2.11">If the direction attribute in the answer indicates
        that the JSEP implementation should not be sending media
        ("recvonly" for local answers, "sendonly" for remote
        answers, or "inactive" for either type of answer), stop
        transmitting all RTP media, but continue sending RTCP, as
        described in
        <span>[<a class="cite xref" href="#RFC3264">RFC3264</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc3264#section-5.1">Section 5.1</a></span>.<a class="pilcrow" href="#section-5.11-3.4.2.11">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-5.11-3.5">
            <p id="section-5.11-3.5.1">If the "m=" section &lt;proto&gt; value indicates use of SCTP:<a class="pilcrow" href="#section-5.11-3.5.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.11-3.5.2.1">If an SCTP association exists and the remote SCTP port
        has changed, discard the existing SCTP association. This
        includes the case when the PeerConnection state is
        "have-remote-pranswer".<a class="pilcrow" href="#section-5.11-3.5.2.1">¶</a>
</li>
              <li class="normal" id="section-5.11-3.5.2.2">If no valid SCTP association exists, prepare to initiate
        an SCTP association over the associated ICE component and
        DTLS connection, using the local SCTP port value from the
        local description and the remote SCTP port value from the
        remote description, as described in
        <span>[<a class="cite xref" href="#RFC8841">RFC8841</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc8841#section-10.2">Section 10.2</a></span>.<a class="pilcrow" href="#section-5.11-3.5.2.2">¶</a>
</li>
            </ul>
</li>
        </ul>
<p id="section-5.11-4">If the answer contains valid bundle groups, discard any ICE
    components for the "m=" sections that will be bundled onto the
    primary ICE components in each bundle, and begin muxing these
    "m=" sections accordingly, as described in
    <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-7.4">Section 7.4</a></span>.<a class="pilcrow" href="#section-5.11-4">¶</a></p>
<p id="section-5.11-5">If the description is of type "answer" and there are still
    remaining candidates in the ICE candidate pool, discard
    them.<a class="pilcrow" href="#section-5.11-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sec.rtp.demux">
<section id="section-6">
      <h2 id="name-processing-rtp-rtcp">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-processing-rtp-rtcp">Processing RTP/RTCP</a>
      </h2>
<p id="section-6-1">When bundling, associating incoming RTP/RTCP with the proper
  "m=" section is defined in
  <span>[<a class="cite xref" href="#RFC9143">RFC9143</a>], <a class="relref" href="https://rfc-editor.org/rfc/rfc9143#section-9.2">Section 9.2</a></span>. When not bundling, the proper "m=" section is clear from the
  ICE component over which the RTP/RTCP is received.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">Once the proper "m=" section or sections are known, RTP/RTCP is delivered
  to the RtpTransceiver(s) associated with the "m=" section(s) and
  further processing of the RTP/RTCP is done at the RtpTransceiver
  level. This includes using the RID mechanism
  <span>[<a class="cite xref" href="#RFC8851">RFC8851</a>]</span> and its associated RtpStreamId and
   RepairedRtpStreamId identifiers to distinguish between
  multiple encoded streams and determine which Source RTP
  Stream should be repaired by a given redundancy RTP stream.<a class="pilcrow" href="#section-6-2">¶</a></p>
</section>
</div>
<div id="sec.examples">
<section id="section-7">
      <h2 id="name-examples">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-examples">Examples</a>
      </h2>
<p id="section-7-1">Note that this example section shows several SDP fragments. To
  accommodate RFC line-length restrictions, some of the SDP lines have been split
  into multiple lines, where leading whitespace indicates that a
  line is a continuation of the previous line. In addition, some
  blank lines have been added to improve readability but are not
  valid in SDP.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">More examples of SDP for WebRTC call flows, including examples
  with IPv6 addresses, can be found in
  <span>[<a class="cite xref" href="#SDP4WebRTC">SDP4WebRTC</a>]</span>.<a class="pilcrow" href="#section-7-2">¶</a></p>
<div id="sec.simple-examples">
<section id="section-7.1">
        <h3 id="name-simple-example">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-simple-example">Simple Example</a>
        </h3>
<p id="section-7.1-1">This section shows a very simple example that sets up a
    minimal audio/video call between two JSEP endpoints without
    using Trickle ICE. The example in the following section
    provides a more detailed example of what could happen in a JSEP
    session.<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<p id="section-7.1-2">The code flow below shows Alice's endpoint initiating the
    session to Bob's endpoint. The messages from the JavaScript
    application in Alice's browser to the JavaScript in Bob's
    browser, abbreviated as "AliceJS" and "BobJS", respectively, are
    assumed to flow over some signaling protocol via a web server.
    The JavaScript on both Alice's side and Bob's side waits for
    all candidates before sending the offer or answer, so the
    offers and answers are complete; Trickle ICE is not used. The
    user agents (JSEP implementations) in Alice's and Bob's browsers,
    abbreviated as "AliceUA" and "BobUA", respectively, are both using the
    default bundle policy of "balanced" and the default RTCP mux
    policy of "require".<a class="pilcrow" href="#section-7.1-2">¶</a></p>
<div class="alignLeft art-ascii-art art-text artwork" id="section-7.1-3">
<pre>//                  set up local media state
AliceJS-&gt;AliceUA:   create new PeerConnection
AliceJS-&gt;AliceUA:   addTrack with two tracks: audio and video
AliceJS-&gt;AliceUA:   createOffer to get offer
AliceJS-&gt;AliceUA:   setLocalDescription with offer
AliceUA-&gt;AliceJS:   multiple onicecandidate events with candidates

//                  wait for ICE gathering to complete
AliceUA-&gt;AliceJS:   onicecandidate event with null candidate
AliceJS-&gt;AliceUA:   get |offer-A1| from pendingLocalDescription

//                  |offer-A1| is sent over signaling protocol to Bob
AliceJS-&gt;WebServer: signaling with |offer-A1|
WebServer-&gt;BobJS:   signaling with |offer-A1|

//                  |offer-A1| arrives at Bob
BobJS-&gt;BobUA:       create a PeerConnection
BobJS-&gt;BobUA:       setRemoteDescription with |offer-A1|
BobUA-&gt;BobJS:       ontrack events for audio and video tracks

//                  Bob accepts call
BobJS-&gt;BobUA:       addTrack with local tracks
BobJS-&gt;BobUA:       createAnswer
BobJS-&gt;BobUA:       setLocalDescription with answer
BobUA-&gt;BobJS:       multiple onicecandidate events with candidates

//                  wait for ICE gathering to complete
BobUA-&gt;BobJS:       onicecandidate event with null candidate
BobJS-&gt;BobUA:       get |answer-A1| from currentLocalDescription

//                  |answer-A1| is sent over signaling protocol
//                  to Alice
BobJS-&gt;WebServer:   signaling with |answer-A1|
WebServer-&gt;AliceJS: signaling with |answer-A1|

//                  |answer-A1| arrives at Alice
AliceJS-&gt;AliceUA:   setRemoteDescription with |answer-A1|
AliceUA-&gt;AliceJS:   ontrack events for audio and video tracks

//                  media flows
BobUA-&gt;AliceUA:     media sent from Bob to Alice
AliceUA-&gt;BobUA:     media sent from Alice to Bob</pre><a class="pilcrow" href="#section-7.1-3">¶</a>
</div>
<p id="section-7.1-4">The SDP for |offer-A1| looks like:<a class="pilcrow" href="#section-7.1-4">¶</a></p>
<div class="breakable lang-sdp sourcecode" id="section-7.1-5">
<pre>v=0
o=- 4962303333179871722 1 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 v1
a=group:LS a1 v1

m=audio 10100 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 203.0.113.100
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:47017fee-b6c1-4162-929c-a25110252400
a=ice-ufrag:ETEn
a=ice-pwd:OtSK0WpNtpUjkY4+86js7ZQl
a=fingerprint:sha-256
              19:E2:1C:3B:4B:9F:81:E6:B8:5C:F4:A5:A8:D8:73:04:
              BB:05:2F:70:9F:04:A9:0E:05:E9:26:33:E8:70:88:A2
a=setup:actpass
a=tls-id:91bbf309c0990a6bec11e38ba2933cee
a=rtcp:10101 IN IP4 203.0.113.100
a=rtcp-mux
a=rtcp-rsize
a=candidate:1 1 udp 2113929471 203.0.113.100 10100 typ host
a=candidate:1 2 udp 2113929470 203.0.113.100 10101 typ host
a=end-of-candidates

m=video 10102 UDP/TLS/RTP/SAVPF 100 101 102 103
c=IN IP4 203.0.113.100
a=mid:v1
a=sendrecv
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli
a=msid:47017fee-b6c1-4162-929c-a25110252400
a=ice-ufrag:BGKk
a=ice-pwd:mqyWsAjvtKwTGnvhPztQ9mIf
a=fingerprint:sha-256
              19:E2:1C:3B:4B:9F:81:E6:B8:5C:F4:A5:A8:D8:73:04:
              BB:05:2F:70:9F:04:A9:0E:05:E9:26:33:E8:70:88:A2
a=setup:actpass
a=tls-id:91bbf309c0990a6bec11e38ba2933cee
a=rtcp:10103 IN IP4 203.0.113.100
a=rtcp-mux
a=rtcp-rsize
a=candidate:1 1 udp 2113929471 203.0.113.100 10102 typ host
a=candidate:1 2 udp 2113929470 203.0.113.100 10103 typ host
a=end-of-candidates</pre><a class="pilcrow" href="#section-7.1-5">¶</a>
</div>
<p id="section-7.1-6">The SDP for |answer-A1| looks like:<a class="pilcrow" href="#section-7.1-6">¶</a></p>
<div class="breakable lang-sdp sourcecode" id="section-7.1-7">
<pre>v=0
o=- 6729291447651054566 1 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 v1
a=group:LS a1 v1

m=audio 10200 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 203.0.113.200
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:61317484-2ed4-49d7-9eb7-1414322a7aae
a=ice-ufrag:6sFv
a=ice-pwd:cOTZKZNVlO9RSGsEGM63JXT2
a=fingerprint:sha-256
              6B:8B:F0:65:5F:78:E2:51:3B:AC:6F:F3:3F:46:1B:35:
              DC:B8:5F:64:1A:24:C2:43:F0:A1:58:D0:A1:2C:19:08
a=setup:active
a=tls-id:eec3392ab83e11ceb6a0990c903fbb19
a=rtcp-mux
a=rtcp-rsize
a=candidate:1 1 udp 2113929471 203.0.113.200 10200 typ host
a=end-of-candidates

m=video 10200 UDP/TLS/RTP/SAVPF 100 101 102 103
c=IN IP4 203.0.113.200
a=mid:v1
a=sendrecv
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli
a=msid:61317484-2ed4-49d7-9eb7-1414322a7aae</pre><a class="pilcrow" href="#section-7.1-7">¶</a>
</div>
</section>
</div>
<div id="sec.detailed-example">
<section id="section-7.2">
        <h3 id="name-detailed-example">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-detailed-example">Detailed Example</a>
        </h3>
<p id="section-7.2-1">This section shows a more involved example of a session
    between two JSEP endpoints. Trickle ICE is used in full trickle
    mode, with a bundle policy of "must-bundle", an RTCP mux policy
    of "require", and a single TURN server. Initially, both Alice
    and Bob establish an audio channel and a data channel. Later,
    Bob adds two video flows -- one for his video feed and one for
    screen sharing, both supporting FEC -- with the video feed
    configured for simulcast. Alice accepts these video flows but
    does not add video flows of her own, so they are handled as
    "recvonly". Alice also specifies a maximum video decoder
    resolution.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<div class="alignLeft art-ascii-art art-text artwork" id="section-7.2-2">
<pre>//                  set up local media state
AliceJS-&gt;AliceUA:   create new PeerConnection
AliceJS-&gt;AliceUA:   addTrack with an audio track
AliceJS-&gt;AliceUA:   createDataChannel to get data channel
AliceJS-&gt;AliceUA:   createOffer to get |offer-B1|
AliceJS-&gt;AliceUA:   setLocalDescription with |offer-B1|

//                  |offer-B1| is sent over signaling protocol to Bob
AliceJS-&gt;WebServer: signaling with |offer-B1|
WebServer-&gt;BobJS:   signaling with |offer-B1|

//                  |offer-B1| arrives at Bob
BobJS-&gt;BobUA:       create a PeerConnection
BobJS-&gt;BobUA:       setRemoteDescription with |offer-B1|
BobUA-&gt;BobJS:       ontrack event with audio track from Alice

//                  candidates are sent to Bob
AliceUA-&gt;AliceJS:   onicecandidate (host) |offer-B1-candidate-1|
AliceJS-&gt;WebServer: signaling with |offer-B1-candidate-1|
AliceUA-&gt;AliceJS:   onicecandidate (srflx) |offer-B1-candidate-2|
AliceJS-&gt;WebServer: signaling with |offer-B1-candidate-2|
AliceUA-&gt;AliceJS:   onicecandidate (relay) |offer-B1-candidate-3|
AliceJS-&gt;WebServer: signaling with |offer-B1-candidate-3|

WebServer-&gt;BobJS:   signaling with |offer-B1-candidate-1|
BobJS-&gt;BobUA:       addIceCandidate with |offer-B1-candidate-1|
WebServer-&gt;BobJS:   signaling with |offer-B1-candidate-2|
BobJS-&gt;BobUA:       addIceCandidate with |offer-B1-candidate-2|
WebServer-&gt;BobJS:   signaling with |offer-B1-candidate-3|
BobJS-&gt;BobUA:       addIceCandidate with |offer-B1-candidate-3|

//                  Bob accepts call
BobJS-&gt;BobUA:       addTrack with local audio
BobJS-&gt;BobUA:       createDataChannel to get data channel
BobJS-&gt;BobUA:       createAnswer to get |answer-B1|
BobJS-&gt;BobUA:       setLocalDescription with |answer-B1|

//                  |answer-B1| is sent to Alice
BobJS-&gt;WebServer:   signaling with |answer-B1|
WebServer-&gt;AliceJS: signaling with |answer-B1|
AliceJS-&gt;AliceUA:   setRemoteDescription with |answer-B1|
AliceUA-&gt;AliceJS:   ontrack event with audio track from Bob

//                  candidates are sent to Alice
BobUA-&gt;BobJS:       onicecandidate (host) |answer-B1-candidate-1|
BobJS-&gt;WebServer:   signaling with |answer-B1-candidate-1|
BobUA-&gt;BobJS:       onicecandidate (srflx) |answer-B1-candidate-2|
BobJS-&gt;WebServer:   signaling with |answer-B1-candidate-2|
BobUA-&gt;BobJS:       onicecandidate (relay) |answer-B1-candidate-3|
BobJS-&gt;WebServer:   signaling with |answer-B1-candidate-3|

WebServer-&gt;AliceJS: signaling with |answer-B1-candidate-1|
AliceJS-&gt;AliceUA:   addIceCandidate with |answer-B1-candidate-1|
WebServer-&gt;AliceJS: signaling with |answer-B1-candidate-2|
AliceJS-&gt;AliceUA:   addIceCandidate with |answer-B1-candidate-2|
WebServer-&gt;AliceJS: signaling with |answer-B1-candidate-3|
AliceJS-&gt;AliceUA:   addIceCandidate with |answer-B1-candidate-3|

//                  data channel opens
BobUA-&gt;BobJS:       ondatachannel event
AliceUA-&gt;AliceJS:   ondatachannel event
BobUA-&gt;BobJS:       onopen
AliceUA-&gt;AliceJS:   onopen

//                  media is flowing between endpoints
BobUA-&gt;AliceUA:     audio+data sent from Bob to Alice
AliceUA-&gt;BobUA:     audio+data sent from Alice to Bob

//                  some time later, Bob adds two video streams
//                  note: no candidates exchanged, because of bundle
BobJS-&gt;BobUA:       addTrack with first video stream
BobJS-&gt;BobUA:       addTrack with second video stream
BobJS-&gt;BobUA:       createOffer to get |offer-B2|
BobJS-&gt;BobUA:       setLocalDescription with |offer-B2|

//                  |offer-B2| is sent to Alice
BobJS-&gt;WebServer:   signaling with |offer-B2|
WebServer-&gt;AliceJS: signaling with |offer-B2|
AliceJS-&gt;AliceUA:   setRemoteDescription with |offer-B2|
AliceUA-&gt;AliceJS:   ontrack event with first video track
AliceUA-&gt;AliceJS:   ontrack event with second video track
AliceJS-&gt;AliceUA:   createAnswer to get |answer-B2|
AliceJS-&gt;AliceUA:   setLocalDescription with |answer-B2|

//                  |answer-B2| is sent over signaling protocol
//                  to Bob
AliceJS-&gt;WebServer: signaling with |answer-B2|
WebServer-&gt;BobJS:   signaling with |answer-B2|
BobJS-&gt;BobUA:       setRemoteDescription with |answer-B2|

//                  media is flowing between endpoints
BobUA-&gt;AliceUA:     audio+video+data sent from Bob to Alice
AliceUA-&gt;BobUA:     audio+video+data sent from Alice to Bob</pre><a class="pilcrow" href="#section-7.2-2">¶</a>
</div>
<p id="section-7.2-3">The SDP for |offer-B1| looks like:<a class="pilcrow" href="#section-7.2-3">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.2-4">
<pre>v=0
o=- 4962303333179871723 1 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 d1

m=audio 9 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 0.0.0.0
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:57017fee-b6c1-4162-929c-a25110252400
a=ice-ufrag:ATEn
a=ice-pwd:AtSK0WpNtpUjkY4+86js7ZQl
a=fingerprint:sha-256
              29:E2:1C:3B:4B:9F:81:E6:B8:5C:F4:A5:A8:D8:73:04:
              BB:05:2F:70:9F:04:A9:0E:05:E9:26:33:E8:70:88:A2
a=setup:actpass
a=tls-id:17f0f4ba8a5f1213faca591b58ba52a7
a=rtcp-mux
a=rtcp-mux-only
a=rtcp-rsize

m=application 0 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 0.0.0.0
a=mid:d1
a=sctp-port:5000
a=max-message-size:65536
a=bundle-only</pre><a class="pilcrow" href="#section-7.2-4">¶</a>
</div>
<p id="section-7.2-5">|offer-B1-candidate-1| looks like:<a class="pilcrow" href="#section-7.2-5">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.2-6">
<pre>ufrag ATEn
index 0
mid   a1
attr  candidate:1 1 udp 2113929471 203.0.113.100 10100 typ host</pre><a class="pilcrow" href="#section-7.2-6">¶</a>
</div>
<p id="section-7.2-7">|offer-B1-candidate-2| looks like:<a class="pilcrow" href="#section-7.2-7">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.2-8">
<pre>ufrag ATEn
index 0
mid   a1
attr  candidate:1 1 udp 1845494015 198.51.100.100 11100 typ srflx
                raddr 203.0.113.100 rport 10100</pre><a class="pilcrow" href="#section-7.2-8">¶</a>
</div>
<p id="section-7.2-9">|offer-B1-candidate-3| looks like:<a class="pilcrow" href="#section-7.2-9">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.2-10">
<pre>ufrag ATEn
index 0
mid   a1
attr  candidate:1 1 udp 255 192.0.2.100 12100 typ relay
                raddr 198.51.100.100 rport 11100</pre><a class="pilcrow" href="#section-7.2-10">¶</a>
</div>
<p id="section-7.2-11">The SDP for |answer-B1| looks like:<a class="pilcrow" href="#section-7.2-11">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.2-12">
<pre>v=0
o=- 7729291447651054566 1 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 d1

m=audio 9 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 0.0.0.0
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:71317484-2ed4-49d7-9eb7-1414322a7aae
a=ice-ufrag:7sFv
a=ice-pwd:dOTZKZNVlO9RSGsEGM63JXT2
a=fingerprint:sha-256
              7B:8B:F0:65:5F:78:E2:51:3B:AC:6F:F3:3F:46:1B:35:
              DC:B8:5F:64:1A:24:C2:43:F0:A1:58:D0:A1:2C:19:08
a=setup:active
a=tls-id:7a25ab85b195acaf3121f5a8ab4f0f71
a=rtcp-mux
a=rtcp-mux-only
a=rtcp-rsize

m=application 9 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 0.0.0.0
a=mid:d1
a=sctp-port:5000
a=max-message-size:65536</pre><a class="pilcrow" href="#section-7.2-12">¶</a>
</div>
<p id="section-7.2-13">|answer-B1-candidate-1| looks like:<a class="pilcrow" href="#section-7.2-13">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.2-14">
<pre>ufrag 7sFv
index 0
mid   a1
attr  candidate:1 1 udp 2113929471 203.0.113.200 10200 typ host</pre><a class="pilcrow" href="#section-7.2-14">¶</a>
</div>
<p id="section-7.2-15">|answer-B1-candidate-2| looks like:<a class="pilcrow" href="#section-7.2-15">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.2-16">
<pre>ufrag 7sFv
index 0
mid   a1
attr  candidate:1 1 udp 1845494015 198.51.100.200 11200 typ srflx
                raddr 203.0.113.200 rport 10200</pre><a class="pilcrow" href="#section-7.2-16">¶</a>
</div>
<p id="section-7.2-17">|answer-B1-candidate-3| looks like:<a class="pilcrow" href="#section-7.2-17">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.2-18">
<pre>ufrag 7sFv
index 0
mid   a1
attr  candidate:1 1 udp 255 192.0.2.200 12200 typ relay
                raddr 198.51.100.200 rport 11200</pre><a class="pilcrow" href="#section-7.2-18">¶</a>
</div>
<p id="section-7.2-19">The SDP for |offer-B2| is shown below. In addition to the
    new "m=" sections for video, both of which are offering FEC and
    one of which is offering simulcast, note the increment of the
    version number in the "o=" line; changes to the "c=" line,
    indicating the local candidate that was selected; and the
    inclusion of gathered candidates as "a=candidate" lines.<a class="pilcrow" href="#section-7.2-19">¶</a></p>
<div class="breakable lang-sdp sourcecode" id="section-7.2-20">
<pre>v=0
o=- 7729291447651054566 2 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 d1 v1 v2
a=group:LS a1 v1

m=audio 12200 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 192.0.2.200
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:71317484-2ed4-49d7-9eb7-1414322a7aae
a=ice-ufrag:7sFv
a=ice-pwd:dOTZKZNVlO9RSGsEGM63JXT2
a=fingerprint:sha-256
              7B:8B:F0:65:5F:78:E2:51:3B:AC:6F:F3:3F:46:1B:35:
              DC:B8:5F:64:1A:24:C2:43:F0:A1:58:D0:A1:2C:19:08
a=setup:actpass
a=tls-id:7a25ab85b195acaf3121f5a8ab4f0f71
a=rtcp-mux
a=rtcp-mux-only
a=rtcp-rsize
a=candidate:1 1 udp 2113929471 203.0.113.200 10200 typ host
a=candidate:1 1 udp 1845494015 198.51.100.200 11200 typ srflx
            raddr 203.0.113.200 rport 10200
a=candidate:1 1 udp 255 192.0.2.200 12200 typ relay
            raddr 198.51.100.200 rport 11200
a=end-of-candidates

m=application 12200 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 192.0.2.200
a=mid:d1
a=sctp-port:5000
a=max-message-size:65536

m=video 12200 UDP/TLS/RTP/SAVPF 100 101 102 103 104
c=IN IP4 192.0.2.200
a=mid:v1
a=sendrecv
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=rtpmap:104 flexfec/90000
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli
a=msid:71317484-2ed4-49d7-9eb7-1414322a7aae
a=rid:1 send
a=rid:2 send
a=rid:3 send
a=simulcast:send 1;2;3

m=video 12200 UDP/TLS/RTP/SAVPF 100 101 102 103 104
c=IN IP4 192.0.2.200
a=mid:v2
a=sendrecv
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=rtpmap:104 flexfec/90000
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli
a=msid:81317484-2ed4-49d7-9eb7-1414322a7aae</pre><a class="pilcrow" href="#section-7.2-20">¶</a>
</div>
<p id="section-7.2-21">The SDP for |answer-B2| is shown below. In addition to the
    acceptance of the video "m=" sections, the use of "a=recvonly" to
    indicate one-way video, and the use of "a=imageattr" to limit the
    received resolution, note the use of "a=setup:passive" to maintain
    the existing DTLS roles.<a class="pilcrow" href="#section-7.2-21">¶</a></p>
<div class="breakable lang-sdp sourcecode" id="section-7.2-22">
<pre>v=0
o=- 4962303333179871723 2 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 d1 v1 v2
a=group:LS a1 v1

m=audio 12100 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 192.0.2.100
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:57017fee-b6c1-4162-929c-a25110252400
a=ice-ufrag:ATEn
a=ice-pwd:AtSK0WpNtpUjkY4+86js7ZQl
a=fingerprint:sha-256
              29:E2:1C:3B:4B:9F:81:E6:B8:5C:F4:A5:A8:D8:73:04:
              BB:05:2F:70:9F:04:A9:0E:05:E9:26:33:E8:70:88:A2
a=setup:passive
a=tls-id:17f0f4ba8a5f1213faca591b58ba52a7
a=rtcp-mux
a=rtcp-mux-only
a=rtcp-rsize
a=candidate:1 1 udp 2113929471 203.0.113.100 10100 typ host
a=candidate:1 1 udp 1845494015 198.51.100.100 11100 typ srflx
            raddr 203.0.113.100 rport 10100
a=candidate:1 1 udp 255 192.0.2.100 12100 typ relay
            raddr 198.51.100.100 rport 11100
a=end-of-candidates

m=application 12100 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 192.0.2.100
a=mid:d1
a=sctp-port:5000
a=max-message-size:65536

m=video 12100 UDP/TLS/RTP/SAVPF 100 101 102 103
c=IN IP4 192.0.2.100
a=mid:v1
a=recvonly
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=imageattr:100 recv [x=[48:1920],y=[48:1080],q=1.0]
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli

m=video 12100 UDP/TLS/RTP/SAVPF 100 101 102 103
c=IN IP4 192.0.2.100
a=mid:v2
a=recvonly
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=imageattr:100 recv [x=[48:1920],y=[48:1080],q=1.0]
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli</pre><a class="pilcrow" href="#section-7.2-22">¶</a>
</div>
</section>
</div>
<div id="sec.warmup-example">
<section id="section-7.3">
        <h3 id="name-early-transport-warmup-exam">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-early-transport-warmup-exam">Early Transport Warmup Example</a>
        </h3>
<p id="section-7.3-1">This example demonstrates the early-warmup technique
    described in
    <a class="auto internal xref" href="#sec.use-of-provisional-answer">Section 4.1.10.1</a>. Here, Alice's
    endpoint sends an offer to Bob's endpoint to start an
    audio/video call. Bob immediately responds with an answer that
    accepts the audio/video "m=" sections but marks them as "sendonly"
    (from his perspective), meaning that Alice will not yet send
    media. This allows the JSEP implementation to start negotiating
    ICE and DTLS immediately. Bob's endpoint then prompts him to
    answer the call, and when he does, his endpoint sends a second
    offer, which enables the audio and video "m=" sections, and
    thereby bidirectional media transmission. The advantage of such
    a flow is that as soon as the first answer is received, the
    implementation can proceed with ICE and DTLS negotiation and
    establish the session transport. If the transport setup
    completes before the second offer is sent, then media can be
    transmitted by the callee immediately upon
    answering the call, minimizing perceived post-dial delay. The
    second offer/answer exchange can also change the preferred
    codecs or other session parameters.<a class="pilcrow" href="#section-7.3-1">¶</a></p>
<p id="section-7.3-2">This example also makes use of the "relay" ICE candidate
    policy described in
    <a class="auto internal xref" href="#sec.ice-candidate-policy">Section 3.5.3</a> to minimize the ICE
    gathering and checking needed.<a class="pilcrow" href="#section-7.3-2">¶</a></p>
<div class="alignLeft art-ascii-art art-text artwork" id="section-7.3-3">
<pre>//                  set up local media state
AliceJS-&gt;AliceUA:   create new PeerConnection with "relay" ICE policy
AliceJS-&gt;AliceUA:   addTrack with two tracks: audio and video
AliceJS-&gt;AliceUA:   createOffer to get |offer-C1|
AliceJS-&gt;AliceUA:   setLocalDescription with |offer-C1|

//                  |offer-C1| is sent over signaling protocol to Bob
AliceJS-&gt;WebServer: signaling with |offer-C1|
WebServer-&gt;BobJS:   signaling with |offer-C1|

//                  |offer-C1| arrives at Bob
BobJS-&gt;BobUA:       create new PeerConnection with "relay" ICE policy
BobJS-&gt;BobUA:       setRemoteDescription with |offer-C1|
BobUA-&gt;BobJS:       ontrack events for audio and video

//                  a relay candidate is sent to Bob
AliceUA-&gt;AliceJS:   onicecandidate (relay) |offer-C1-candidate-1|
AliceJS-&gt;WebServer: signaling with |offer-C1-candidate-1|

WebServer-&gt;BobJS:   signaling with |offer-C1-candidate-1|
BobJS-&gt;BobUA:       addIceCandidate with |offer-C1-candidate-1|

//                  Bob prepares an early answer to warm up the
//                  transport
BobJS-&gt;BobUA:       addTransceiver with null audio and video tracks
BobJS-&gt;BobUA:       transceiver.setDirection(sendonly) for both
BobJS-&gt;BobUA:       createAnswer
BobJS-&gt;BobUA:       setLocalDescription with answer

//                  |answer-C1| is sent over signaling protocol
//                  to Alice
BobJS-&gt;WebServer:   signaling with |answer-C1|
WebServer-&gt;AliceJS: signaling with |answer-C1|

//                  |answer-C1| (sendonly) arrives at Alice
AliceJS-&gt;AliceUA:   setRemoteDescription with |answer-C1|
AliceUA-&gt;AliceJS:   ontrack events for audio and video

//                  a relay candidate is sent to Alice
BobUA-&gt;BobJS:       onicecandidate (relay) |answer-B1-candidate-1|
BobJS-&gt;WebServer:   signaling with |answer-B1-candidate-1|

WebServer-&gt;AliceJS: signaling with |answer-B1-candidate-1|
AliceJS-&gt;AliceUA:   addIceCandidate with |answer-B1-candidate-1|

//                  ICE and DTLS establish while call is ringing

//                  Bob accepts call, starts media, and sends
//                  new offer
BobJS-&gt;BobUA:       transceiver.setTrack with audio and video tracks
BobUA-&gt;AliceUA:     media sent from Bob to Alice
BobJS-&gt;BobUA:       transceiver.setDirection(sendrecv) for both
                    transceivers
BobJS-&gt;BobUA:       createOffer
BobJS-&gt;BobUA:       setLocalDescription with offer

//                  |offer-C2| is sent over signaling protocol
//                  to Alice
BobJS-&gt;WebServer:   signaling with |offer-C2|
WebServer-&gt;AliceJS: signaling with |offer-C2|

//                  |offer-C2| (sendrecv) arrives at Alice
AliceJS-&gt;AliceUA:   setRemoteDescription with |offer-C2|
AliceJS-&gt;AliceUA:   createAnswer
AliceJS-&gt;AliceUA:   setLocalDescription with |answer-C2|
AliceUA-&gt;BobUA:     media sent from Alice to Bob

//                  |answer-C2| is sent over signaling protocol
//                  to Bob
AliceJS-&gt;WebServer: signaling with |answer-C2|
WebServer-&gt;BobJS:   signaling with |answer-C2|
BobJS-&gt;BobUA:       setRemoteDescription with |answer-C2|</pre><a class="pilcrow" href="#section-7.3-3">¶</a>
</div>
<p id="section-7.3-4">The SDP for |offer-C1| looks like:<a class="pilcrow" href="#section-7.3-4">¶</a></p>
<div class="breakable lang-sdp sourcecode" id="section-7.3-5">
<pre>v=0
o=- 1070771854436052752 1 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 v1
a=group:LS a1 v1

m=audio 9 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 0.0.0.0
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:bbce3ba6-abfc-ac63-d00a-e15b286f8fce
a=ice-ufrag:4ZcD
a=ice-pwd:ZaaG6OG7tCn4J/lehAGz+HHD
a=fingerprint:sha-256
              C4:68:F8:77:6A:44:F1:98:6D:7C:9F:47:EB:E3:34:A4:
              0A:AA:2D:49:08:28:70:2E:1F:AE:18:7D:4E:3E:66:BF
a=setup:actpass
a=tls-id:9e5b948ade9c3d41de6617b68f769e55
a=rtcp-mux
a=rtcp-mux-only
a=rtcp-rsize

m=video 0 UDP/TLS/RTP/SAVPF 100 101 102 103
c=IN IP4 0.0.0.0
a=mid:v1
a=sendrecv
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli
a=msid:bbce3ba6-abfc-ac63-d00a-e15b286f8fce
a=bundle-only</pre><a class="pilcrow" href="#section-7.3-5">¶</a>
</div>
<p id="section-7.3-6">|offer-C1-candidate-1| looks like:<a class="pilcrow" href="#section-7.3-6">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.3-7">
<pre>ufrag 4ZcD
index 0
mid   a1
attr  candidate:1 1 udp 255 192.0.2.100 12100 typ relay
                raddr 0.0.0.0 rport 0</pre><a class="pilcrow" href="#section-7.3-7">¶</a>
</div>
<p id="section-7.3-8">The SDP for |answer-C1| looks like:<a class="pilcrow" href="#section-7.3-8">¶</a></p>
<div class="breakable lang-sdp sourcecode" id="section-7.3-9">
<pre>v=0
o=- 6386516489780559513 1 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 v1
a=group:LS a1 v1

m=audio 9 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 0.0.0.0
a=mid:a1
a=sendonly
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:751f239e-4ae0-c549-aa3d-890de772998b
a=ice-ufrag:TpaA
a=ice-pwd:t2Ouhc67y8JcCaYZxUUTgKw/
a=fingerprint:sha-256
              A2:F3:A5:6D:4C:8C:1E:B2:62:10:4A:F6:70:61:C4:FC:
              3C:E0:01:D6:F3:24:80:74:DA:7C:3E:50:18:7B:CE:4D
a=setup:active
a=tls-id:55e967f86b7166ed14d3c9eda849b5e9
a=rtcp-mux
a=rtcp-mux-only
a=rtcp-rsize

m=video 9 UDP/TLS/RTP/SAVPF 100 101 102 103
c=IN IP4 0.0.0.0
a=mid:v1
a=sendonly
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli
a=msid:751f239e-4ae0-c549-aa3d-890de772998b</pre><a class="pilcrow" href="#section-7.3-9">¶</a>
</div>
<p id="section-7.3-10">|answer-C1-candidate-1| looks like:<a class="pilcrow" href="#section-7.3-10">¶</a></p>
<div class="lang-sdp sourcecode" id="section-7.3-11">
<pre>ufrag TpaA
index 0
mid   a1
attr  candidate:1 1 udp 255 192.0.2.200 12200 typ relay
                raddr 0.0.0.0 rport 0</pre><a class="pilcrow" href="#section-7.3-11">¶</a>
</div>
<p id="section-7.3-12">The SDP for |offer-C2| looks like:<a class="pilcrow" href="#section-7.3-12">¶</a></p>
<div class="breakable lang-sdp sourcecode" id="section-7.3-13">
<pre>v=0
o=- 6386516489780559513 2 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 v1
a=group:LS a1 v1

m=audio 12200 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 192.0.2.200
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:751f239e-4ae0-c549-aa3d-890de772998b
a=ice-ufrag:TpaA
a=ice-pwd:t2Ouhc67y8JcCaYZxUUTgKw/
a=fingerprint:sha-256
              A2:F3:A5:6D:4C:8C:1E:B2:62:10:4A:F6:70:61:C4:FC:
              3C:E0:01:D6:F3:24:80:74:DA:7C:3E:50:18:7B:CE:4D
a=setup:actpass
a=tls-id:55e967f86b7166ed14d3c9eda849b5e9
a=rtcp-mux
a=rtcp-mux-only
a=rtcp-rsize
a=candidate:1 1 udp 255 192.0.2.200 12200 typ relay
            raddr 0.0.0.0 rport 0
a=end-of-candidates

m=video 12200 UDP/TLS/RTP/SAVPF 100 101 102 103
c=IN IP4 192.0.2.200
a=mid:v1
a=sendrecv
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli
a=msid:751f239e-4ae0-c549-aa3d-890de772998b</pre><a class="pilcrow" href="#section-7.3-13">¶</a>
</div>
<p id="section-7.3-14">The SDP for |answer-C2| looks like:<a class="pilcrow" href="#section-7.3-14">¶</a></p>
<div class="breakable lang-sdp sourcecode" id="section-7.3-15">
<pre>v=0
o=- 1070771854436052752 2 IN IP4 0.0.0.0
s=-
t=0 0
a=ice-options:trickle ice2
a=group:BUNDLE a1 v1
a=group:LS a1 v1

m=audio 12100 UDP/TLS/RTP/SAVPF 96 0 8 97 98
c=IN IP4 192.0.2.100
a=mid:a1
a=sendrecv
a=rtpmap:96 opus/48000/2
a=rtpmap:0 PCMU/8000
a=rtpmap:8 PCMA/8000
a=rtpmap:97 telephone-event/8000
a=rtpmap:98 telephone-event/48000
a=fmtp:97 0-15
a=fmtp:98 0-15
a=maxptime:120
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:2 urn:ietf:params:rtp-hdrext:ssrc-audio-level
a=msid:bbce3ba6-abfc-ac63-d00a-e15b286f8fce
a=ice-ufrag:4ZcD
a=ice-pwd:ZaaG6OG7tCn4J/lehAGz+HHD
a=fingerprint:sha-256
              C4:68:F8:77:6A:44:F1:98:6D:7C:9F:47:EB:E3:34:A4:
              0A:AA:2D:49:08:28:70:2E:1F:AE:18:7D:4E:3E:66:BF
a=setup:passive
a=tls-id:9e5b948ade9c3d41de6617b68f769e55
a=rtcp-mux
a=rtcp-mux-only
a=rtcp-rsize
a=candidate:1 1 udp 255 192.0.2.100 12100 typ relay
            raddr 0.0.0.0 rport 0
a=end-of-candidates

m=video 12100 UDP/TLS/RTP/SAVPF 100 101 102 103
c=IN IP4 192.0.2.100
a=mid:v1
a=sendrecv
a=rtpmap:100 VP8/90000
a=rtpmap:101 H264/90000
a=fmtp:101 packetization-mode=1;profile-level-id=42e01f
a=rtpmap:102 rtx/90000
a=fmtp:102 apt=100
a=rtpmap:103 rtx/90000
a=fmtp:103 apt=101
a=extmap:1 urn:ietf:params:rtp-hdrext:sdes:mid
a=extmap:3 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id
a=rtcp-fb:100 ccm fir
a=rtcp-fb:100 nack
a=rtcp-fb:100 nack pli
a=msid:bbce3ba6-abfc-ac63-d00a-e15b286f8fce</pre><a class="pilcrow" href="#section-7.3-15">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="sec.security-considerations">
<section id="section-8">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-8-1">The IETF has published separate documents
  <span>[<a class="cite xref" href="#RFC8827">RFC8827</a>]</span>
        <span>[<a class="cite xref" href="#RFC8826">RFC8826</a>]</span> describing the security
  architecture for WebRTC as a whole. The remainder of this section
  describes security considerations for this document.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">While formally the JSEP interface is an API, it is better to
  think of it as an Internet protocol, with the application
  JavaScript being untrustworthy from the perspective of the JSEP
  implementation. Thus, the threat model of
  <span>[<a class="cite xref" href="#RFC3552">RFC3552</a>]</span> applies. In particular, JavaScript can
  call the API in any order and with any inputs, including
  malicious ones. This is particularly relevant when one considers
  the SDP that is passed to setLocalDescription. While correct
  API usage requires that the application pass in SDP that was
  derived from createOffer or createAnswer, there is no
  guarantee that applications do so. The JSEP implementation <span class="bcp14">MUST</span>
  be prepared for the JavaScript to pass in bogus data instead.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3">Conversely, the application programmer needs to be aware that
  the JavaScript does not have complete control of endpoint
  behavior. One case that bears particular mention is that editing
  ICE candidates out of the SDP or suppressing trickled candidates
  does not have the expected behavior: implementations will still
  perform checks from those candidates even if they are not sent to
  the other side. Thus, for instance, it is not possible to prevent
  the remote peer from learning an endpoint's public IP address by removing
  server-reflexive candidates. Endpoints that wish to conceal
  their public IP address <span class="bcp14">MUST</span> instead configure the ICE agent to
  use only relay candidates.<a class="pilcrow" href="#section-8-3">¶</a></p>
</section>
</div>
<div id="sec.iana-considerations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-9-1">This document has no IANA actions.<a class="pilcrow" href="#section-9-1">¶</a></p>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3261">[RFC3261]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span>, <span class="refAuthor">Schulzrinne, H.</span>, <span class="refAuthor">Camarillo, G.</span>, <span class="refAuthor">Johnston, A.</span>, <span class="refAuthor">Peterson, J.</span>, <span class="refAuthor">Sparks, R.</span>, <span class="refAuthor">Handley, M.</span>, and <span class="refAuthor">E. Schooler</span>, <span class="refTitle">"SIP: Session Initiation Protocol"</span>, <span class="seriesInfo">RFC 3261</span>, <span class="seriesInfo">DOI 10.17487/RFC3261</span>, <time class="refDate" datetime="2002-06">June 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3261">https://www.rfc-editor.org/info/rfc3261</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3264">[RFC3264]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span> and <span class="refAuthor">H. Schulzrinne</span>, <span class="refTitle">"An Offer/Answer Model with Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 3264</span>, <span class="seriesInfo">DOI 10.17487/RFC3264</span>, <time class="refDate" datetime="2002-06">June 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3264">https://www.rfc-editor.org/info/rfc3264</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3552">[RFC3552]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span> and <span class="refAuthor">B. Korver</span>, <span class="refTitle">"Guidelines for Writing RFC Text on Security Considerations"</span>, <span class="seriesInfo">BCP 72</span>, <span class="seriesInfo">RFC 3552</span>, <span class="seriesInfo">DOI 10.17487/RFC3552</span>, <time class="refDate" datetime="2003-07">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3552">https://www.rfc-editor.org/info/rfc3552</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3605">[RFC3605]</dt>
        <dd>
<span class="refAuthor">Huitema, C.</span>, <span class="refTitle">"Real Time Control Protocol (RTCP) attribute in Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 3605</span>, <span class="seriesInfo">DOI 10.17487/RFC3605</span>, <time class="refDate" datetime="2003-10">October 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3605">https://www.rfc-editor.org/info/rfc3605</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3711">[RFC3711]</dt>
        <dd>
<span class="refAuthor">Baugher, M.</span>, <span class="refAuthor">McGrew, D.</span>, <span class="refAuthor">Naslund, M.</span>, <span class="refAuthor">Carrara, E.</span>, and <span class="refAuthor">K. Norrman</span>, <span class="refTitle">"The Secure Real-time Transport Protocol (SRTP)"</span>, <span class="seriesInfo">RFC 3711</span>, <span class="seriesInfo">DOI 10.17487/RFC3711</span>, <time class="refDate" datetime="2004-03">March 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3711">https://www.rfc-editor.org/info/rfc3711</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3890">[RFC3890]</dt>
        <dd>
<span class="refAuthor">Westerlund, M.</span>, <span class="refTitle">"A Transport Independent Bandwidth Modifier for the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 3890</span>, <span class="seriesInfo">DOI 10.17487/RFC3890</span>, <time class="refDate" datetime="2004-09">September 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3890">https://www.rfc-editor.org/info/rfc3890</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4145">[RFC4145]</dt>
        <dd>
<span class="refAuthor">Yon, D.</span> and <span class="refAuthor">G. Camarillo</span>, <span class="refTitle">"TCP-Based Media Transport in the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 4145</span>, <span class="seriesInfo">DOI 10.17487/RFC4145</span>, <time class="refDate" datetime="2005-09">September 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4145">https://www.rfc-editor.org/info/rfc4145</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4566">[RFC4566]</dt>
        <dd>
<span class="refAuthor">Handley, M.</span>, <span class="refAuthor">Jacobson, V.</span>, and <span class="refAuthor">C. Perkins</span>, <span class="refTitle">"SDP: Session Description Protocol"</span>, <span class="seriesInfo">RFC 4566</span>, <span class="seriesInfo">DOI 10.17487/RFC4566</span>, <time class="refDate" datetime="2006-07">July 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4566">https://www.rfc-editor.org/info/rfc4566</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4585">[RFC4585]</dt>
        <dd>
<span class="refAuthor">Ott, J.</span>, <span class="refAuthor">Wenger, S.</span>, <span class="refAuthor">Sato, N.</span>, <span class="refAuthor">Burmeister, C.</span>, and <span class="refAuthor">J. Rey</span>, <span class="refTitle">"Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)"</span>, <span class="seriesInfo">RFC 4585</span>, <span class="seriesInfo">DOI 10.17487/RFC4585</span>, <time class="refDate" datetime="2006-07">July 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4585">https://www.rfc-editor.org/info/rfc4585</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5124">[RFC5124]</dt>
        <dd>
<span class="refAuthor">Ott, J.</span> and <span class="refAuthor">E. Carrara</span>, <span class="refTitle">"Extended Secure RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/SAVPF)"</span>, <span class="seriesInfo">RFC 5124</span>, <span class="seriesInfo">DOI 10.17487/RFC5124</span>, <time class="refDate" datetime="2008-02">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5124">https://www.rfc-editor.org/info/rfc5124</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5285">[RFC5285]</dt>
        <dd>
<span class="refAuthor">Singer, D.</span> and <span class="refAuthor">H. Desineni</span>, <span class="refTitle">"A General Mechanism for RTP Header Extensions"</span>, <span class="seriesInfo">RFC 5285</span>, <span class="seriesInfo">DOI 10.17487/RFC5285</span>, <time class="refDate" datetime="2008-07">July 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5285">https://www.rfc-editor.org/info/rfc5285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5761">[RFC5761]</dt>
        <dd>
<span class="refAuthor">Perkins, C.</span> and <span class="refAuthor">M. Westerlund</span>, <span class="refTitle">"Multiplexing RTP Data and Control Packets on a Single Port"</span>, <span class="seriesInfo">RFC 5761</span>, <span class="seriesInfo">DOI 10.17487/RFC5761</span>, <time class="refDate" datetime="2010-04">April 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5761">https://www.rfc-editor.org/info/rfc5761</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5888">[RFC5888]</dt>
        <dd>
<span class="refAuthor">Camarillo, G.</span> and <span class="refAuthor">H. Schulzrinne</span>, <span class="refTitle">"The Session Description Protocol (SDP) Grouping Framework"</span>, <span class="seriesInfo">RFC 5888</span>, <span class="seriesInfo">DOI 10.17487/RFC5888</span>, <time class="refDate" datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5888">https://www.rfc-editor.org/info/rfc5888</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6236">[RFC6236]</dt>
        <dd>
<span class="refAuthor">Johansson, I.</span> and <span class="refAuthor">K. Jung</span>, <span class="refTitle">"Negotiation of Generic Image Attributes in the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 6236</span>, <span class="seriesInfo">DOI 10.17487/RFC6236</span>, <time class="refDate" datetime="2011-05">May 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6236">https://www.rfc-editor.org/info/rfc6236</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6347">[RFC6347]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span> and <span class="refAuthor">N. Modadugu</span>, <span class="refTitle">"Datagram Transport Layer Security Version 1.2"</span>, <span class="seriesInfo">RFC 6347</span>, <span class="seriesInfo">DOI 10.17487/RFC6347</span>, <time class="refDate" datetime="2012-01">January 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6347">https://www.rfc-editor.org/info/rfc6347</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6716">[RFC6716]</dt>
        <dd>
<span class="refAuthor">Valin, JM.</span>, <span class="refAuthor">Vos, K.</span>, and <span class="refAuthor">T. Terriberry</span>, <span class="refTitle">"Definition of the Opus Audio Codec"</span>, <span class="seriesInfo">RFC 6716</span>, <span class="seriesInfo">DOI 10.17487/RFC6716</span>, <time class="refDate" datetime="2012-09">September 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6716">https://www.rfc-editor.org/info/rfc6716</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6904">[RFC6904]</dt>
        <dd>
<span class="refAuthor">Lennox, J.</span>, <span class="refTitle">"Encryption of Header Extensions in the Secure Real-time Transport Protocol (SRTP)"</span>, <span class="seriesInfo">RFC 6904</span>, <span class="seriesInfo">DOI 10.17487/RFC6904</span>, <time class="refDate" datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6904">https://www.rfc-editor.org/info/rfc6904</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7160">[RFC7160]</dt>
        <dd>
<span class="refAuthor">Petit-Huguenin, M.</span> and <span class="refAuthor">G. Zorn, Ed.</span>, <span class="refTitle">"Support for Multiple Clock Rates in an RTP Session"</span>, <span class="seriesInfo">RFC 7160</span>, <span class="seriesInfo">DOI 10.17487/RFC7160</span>, <time class="refDate" datetime="2014-04">April 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7160">https://www.rfc-editor.org/info/rfc7160</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7587">[RFC7587]</dt>
        <dd>
<span class="refAuthor">Spittka, J.</span>, <span class="refAuthor">Vos, K.</span>, and <span class="refAuthor">JM. Valin</span>, <span class="refTitle">"RTP Payload Format for the Opus Speech and Audio Codec"</span>, <span class="seriesInfo">RFC 7587</span>, <span class="seriesInfo">DOI 10.17487/RFC7587</span>, <time class="refDate" datetime="2015-06">June 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7587">https://www.rfc-editor.org/info/rfc7587</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7742">[RFC7742]</dt>
        <dd>
<span class="refAuthor">Roach, A.B.</span>, <span class="refTitle">"WebRTC Video Processing and Codec Requirements"</span>, <span class="seriesInfo">RFC 7742</span>, <span class="seriesInfo">DOI 10.17487/RFC7742</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7742">https://www.rfc-editor.org/info/rfc7742</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7850">[RFC7850]</dt>
        <dd>
<span class="refAuthor">Nandakumar, S.</span>, <span class="refTitle">"Registering Values of the SDP 'proto' Field for Transporting RTP Media over TCP under Various RTP Profiles"</span>, <span class="seriesInfo">RFC 7850</span>, <span class="seriesInfo">DOI 10.17487/RFC7850</span>, <time class="refDate" datetime="2016-04">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7850">https://www.rfc-editor.org/info/rfc7850</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7874">[RFC7874]</dt>
        <dd>
<span class="refAuthor">Valin, JM.</span> and <span class="refAuthor">C. Bran</span>, <span class="refTitle">"WebRTC Audio Codec and Processing Requirements"</span>, <span class="seriesInfo">RFC 7874</span>, <span class="seriesInfo">DOI 10.17487/RFC7874</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7874">https://www.rfc-editor.org/info/rfc7874</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8108">[RFC8108]</dt>
        <dd>
<span class="refAuthor">Lennox, J.</span>, <span class="refAuthor">Westerlund, M.</span>, <span class="refAuthor">Wu, Q.</span>, and <span class="refAuthor">C. Perkins</span>, <span class="refTitle">"Sending Multiple RTP Streams in a Single RTP Session"</span>, <span class="seriesInfo">RFC 8108</span>, <span class="seriesInfo">DOI 10.17487/RFC8108</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8108">https://www.rfc-editor.org/info/rfc8108</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8122">[RFC8122]</dt>
        <dd>
<span class="refAuthor">Lennox, J.</span> and <span class="refAuthor">C. Holmberg</span>, <span class="refTitle">"Connection-Oriented Media Transport over the Transport Layer Security (TLS) Protocol in the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 8122</span>, <span class="seriesInfo">DOI 10.17487/RFC8122</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8122">https://www.rfc-editor.org/info/rfc8122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8445">[RFC8445]</dt>
        <dd>
<span class="refAuthor">Keranen, A.</span>, <span class="refAuthor">Holmberg, C.</span>, and <span class="refAuthor">J. Rosenberg</span>, <span class="refTitle">"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal"</span>, <span class="seriesInfo">RFC 8445</span>, <span class="seriesInfo">DOI 10.17487/RFC8445</span>, <time class="refDate" datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8445">https://www.rfc-editor.org/info/rfc8445</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8826">[RFC8826]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"Security Considerations for WebRTC"</span>, <span class="seriesInfo">RFC 8826</span>, <span class="seriesInfo">DOI 10.17487/RFC8826</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8826">https://www.rfc-editor.org/info/rfc8826</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8827">[RFC8827]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"WebRTC Security Architecture"</span>, <span class="seriesInfo">RFC 8827</span>, <span class="seriesInfo">DOI 10.17487/RFC8827</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8827">https://www.rfc-editor.org/info/rfc8827</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8829">[RFC8829]</dt>
        <dd>
<span class="refAuthor">Uberti, J.</span>, <span class="refAuthor">Jennings, C.</span>, and <span class="refAuthor">E. Rescorla, Ed.</span>, <span class="refTitle">"JavaScript Session Establishment Protocol (JSEP)"</span>, <span class="seriesInfo">RFC 8829</span>, <span class="seriesInfo">DOI 10.17487/RFC8829</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8829">https://www.rfc-editor.org/info/rfc8829</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8830">[RFC8830]</dt>
        <dd>
<span class="refAuthor">Alvestrand, H.</span>, <span class="refTitle">"WebRTC MediaStream Identification in the Session Description Protocol"</span>, <span class="seriesInfo">RFC 8830</span>, <span class="seriesInfo">DOI 10.17487/RFC8830</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8830">https://www.rfc-editor.org/info/rfc8830</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8834">[RFC8834]</dt>
        <dd>
<span class="refAuthor">Perkins, C.</span>, <span class="refAuthor">Westerlund, M.</span>, and <span class="refAuthor">J. Ott</span>, <span class="refTitle">"Media Transport and Use of RTP in WebRTC"</span>, <span class="seriesInfo">RFC 8834</span>, <span class="seriesInfo">DOI 10.17487/RFC8834</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8834">https://www.rfc-editor.org/info/rfc8834</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8838">[RFC8838]</dt>
        <dd>
<span class="refAuthor">Ivov, E.</span>, <span class="refAuthor">Uberti, J.</span>, and <span class="refAuthor">P. Saint-Andre</span>, <span class="refTitle">"Trickle ICE: Incremental Provisioning of Candidates for the Interactive Connectivity Establishment (ICE) Protocol"</span>, <span class="seriesInfo">RFC 8838</span>, <span class="seriesInfo">DOI 10.17487/RFC8838</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8838">https://www.rfc-editor.org/info/rfc8838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8839">[RFC8839]</dt>
        <dd>
<span class="refAuthor">Petit-Huguenin, M.</span>, <span class="refAuthor">Nandakumar, S.</span>, <span class="refAuthor">Holmberg, C.</span>, <span class="refAuthor">Keränen, A.</span>, and <span class="refAuthor">R. Shpount</span>, <span class="refTitle">"Session Description Protocol (SDP) Offer/Answer Procedures for Interactive Connectivity Establishment (ICE)"</span>, <span class="seriesInfo">RFC 8839</span>, <span class="seriesInfo">DOI 10.17487/RFC8839</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8839">https://www.rfc-editor.org/info/rfc8839</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8840">[RFC8840]</dt>
        <dd>
<span class="refAuthor">Ivov, E.</span>, <span class="refAuthor">Stach, T.</span>, <span class="refAuthor">Marocco, E.</span>, and <span class="refAuthor">C. Holmberg</span>, <span class="refTitle">"A Session Initiation Protocol (SIP) Usage for Incremental Provisioning of Candidates for the Interactive Connectivity Establishment (Trickle ICE)"</span>, <span class="seriesInfo">RFC 8840</span>, <span class="seriesInfo">DOI 10.17487/RFC8840</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8840">https://www.rfc-editor.org/info/rfc8840</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8841">[RFC8841]</dt>
        <dd>
<span class="refAuthor">Holmberg, C.</span>, <span class="refAuthor">Shpount, R.</span>, <span class="refAuthor">Loreto, S.</span>, and <span class="refAuthor">G. Camarillo</span>, <span class="refTitle">"Session Description Protocol (SDP) Offer/Answer Procedures for Stream Control Transmission Protocol (SCTP) over Datagram Transport Layer Security (DTLS) Transport"</span>, <span class="seriesInfo">RFC 8841</span>, <span class="seriesInfo">DOI 10.17487/RFC8841</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8841">https://www.rfc-editor.org/info/rfc8841</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8842">[RFC8842]</dt>
        <dd>
<span class="refAuthor">Holmberg, C.</span> and <span class="refAuthor">R. Shpount</span>, <span class="refTitle">"Session Description Protocol (SDP) Offer/Answer Considerations for Datagram Transport Layer Security (DTLS) and Transport Layer Security (TLS)"</span>, <span class="seriesInfo">RFC 8842</span>, <span class="seriesInfo">DOI 10.17487/RFC8842</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8842">https://www.rfc-editor.org/info/rfc8842</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8851">[RFC8851]</dt>
        <dd>
<span class="refAuthor">Roach, A.B., Ed.</span>, <span class="refTitle">"RTP Payload Format Restrictions"</span>, <span class="seriesInfo">RFC 8851</span>, <span class="seriesInfo">DOI 10.17487/RFC8851</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8851">https://www.rfc-editor.org/info/rfc8851</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8852">[RFC8852]</dt>
        <dd>
<span class="refAuthor">Roach, A.B.</span>, <span class="refAuthor">Nandakumar, S.</span>, and <span class="refAuthor">P. Thatcher</span>, <span class="refTitle">"RTP Stream Identifier Source Description (SDES)"</span>, <span class="seriesInfo">RFC 8852</span>, <span class="seriesInfo">DOI 10.17487/RFC8852</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8852">https://www.rfc-editor.org/info/rfc8852</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8853">[RFC8853]</dt>
        <dd>
<span class="refAuthor">Burman, B.</span>, <span class="refAuthor">Westerlund, M.</span>, <span class="refAuthor">Nandakumar, S.</span>, and <span class="refAuthor">M. Zanaty</span>, <span class="refTitle">"Using Simulcast in Session Description Protocol (SDP) and RTP Sessions"</span>, <span class="seriesInfo">RFC 8853</span>, <span class="seriesInfo">DOI 10.17487/RFC8853</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8853">https://www.rfc-editor.org/info/rfc8853</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8854">[RFC8854]</dt>
        <dd>
<span class="refAuthor">Uberti, J.</span>, <span class="refTitle">"WebRTC Forward Error Correction Requirements"</span>, <span class="seriesInfo">RFC 8854</span>, <span class="seriesInfo">DOI 10.17487/RFC8854</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8854">https://www.rfc-editor.org/info/rfc8854</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8858">[RFC8858]</dt>
        <dd>
<span class="refAuthor">Holmberg, C.</span>, <span class="refTitle">"Indicating Exclusive Support of RTP and RTP Control Protocol (RTCP) Multiplexing Using the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 8858</span>, <span class="seriesInfo">DOI 10.17487/RFC8858</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8858">https://www.rfc-editor.org/info/rfc8858</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8859">[RFC8859]</dt>
        <dd>
<span class="refAuthor">Nandakumar, S.</span>, <span class="refTitle">"A Framework for Session Description Protocol (SDP) Attributes When Multiplexing"</span>, <span class="seriesInfo">RFC 8859</span>, <span class="seriesInfo">DOI 10.17487/RFC8859</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8859">https://www.rfc-editor.org/info/rfc8859</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9143">[RFC9143]</dt>
        <dd>
<span class="refAuthor">Holmberg, C.</span>, <span class="refAuthor">Alvestrand, H.</span>, and <span class="refAuthor">C. Jennings</span>, <span class="refTitle">"Negotiating Media Multiplexing Using the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 9143</span>, <span class="seriesInfo">DOI 10.17487/RFC9143</span>, <time class="refDate" datetime="2022-02">February 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9143">https://www.rfc-editor.org/info/rfc9143</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9147">[RFC9147]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refAuthor">Tschofenig, H.</span>, and <span class="refAuthor">N. Modadugu</span>, <span class="refTitle">"The Datagram Transport Layer Security (DTLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 9147</span>, <span class="seriesInfo">DOI 10.17487/RFC9147</span>, <time class="refDate" datetime="2022-04">April 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9147">https://www.rfc-editor.org/info/rfc9147</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC3389">[RFC3389]</dt>
        <dd>
<span class="refAuthor">Zopf, R.</span>, <span class="refTitle">"Real-time Transport Protocol (RTP) Payload for Comfort Noise (CN)"</span>, <span class="seriesInfo">RFC 3389</span>, <span class="seriesInfo">DOI 10.17487/RFC3389</span>, <time class="refDate" datetime="2002-09">September 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3389">https://www.rfc-editor.org/info/rfc3389</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3556">[RFC3556]</dt>
        <dd>
<span class="refAuthor">Casner, S.</span>, <span class="refTitle">"Session Description Protocol (SDP) Bandwidth Modifiers for RTP Control Protocol (RTCP) Bandwidth"</span>, <span class="seriesInfo">RFC 3556</span>, <span class="seriesInfo">DOI 10.17487/RFC3556</span>, <time class="refDate" datetime="2003-07">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3556">https://www.rfc-editor.org/info/rfc3556</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3960">[RFC3960]</dt>
        <dd>
<span class="refAuthor">Camarillo, G.</span> and <span class="refAuthor">H. Schulzrinne</span>, <span class="refTitle">"Early Media and Ringing Tone Generation in the Session Initiation Protocol (SIP)"</span>, <span class="seriesInfo">RFC 3960</span>, <span class="seriesInfo">DOI 10.17487/RFC3960</span>, <time class="refDate" datetime="2004-12">December 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3960">https://www.rfc-editor.org/info/rfc3960</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4568">[RFC4568]</dt>
        <dd>
<span class="refAuthor">Andreasen, F.</span>, <span class="refAuthor">Baugher, M.</span>, and <span class="refAuthor">D. Wing</span>, <span class="refTitle">"Session Description Protocol (SDP) Security Descriptions for Media Streams"</span>, <span class="seriesInfo">RFC 4568</span>, <span class="seriesInfo">DOI 10.17487/RFC4568</span>, <time class="refDate" datetime="2006-07">July 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4568">https://www.rfc-editor.org/info/rfc4568</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4588">[RFC4588]</dt>
        <dd>
<span class="refAuthor">Rey, J.</span>, <span class="refAuthor">Leon, D.</span>, <span class="refAuthor">Miyazaki, A.</span>, <span class="refAuthor">Varsa, V.</span>, and <span class="refAuthor">R. Hakenberg</span>, <span class="refTitle">"RTP Retransmission Payload Format"</span>, <span class="seriesInfo">RFC 4588</span>, <span class="seriesInfo">DOI 10.17487/RFC4588</span>, <time class="refDate" datetime="2006-07">July 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4588">https://www.rfc-editor.org/info/rfc4588</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4733">[RFC4733]</dt>
        <dd>
<span class="refAuthor">Schulzrinne, H.</span> and <span class="refAuthor">T. Taylor</span>, <span class="refTitle">"RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals"</span>, <span class="seriesInfo">RFC 4733</span>, <span class="seriesInfo">DOI 10.17487/RFC4733</span>, <time class="refDate" datetime="2006-12">December 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4733">https://www.rfc-editor.org/info/rfc4733</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5245">[RFC5245]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span>, <span class="refTitle">"Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols"</span>, <span class="seriesInfo">RFC 5245</span>, <span class="seriesInfo">DOI 10.17487/RFC5245</span>, <time class="refDate" datetime="2010-04">April 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5245">https://www.rfc-editor.org/info/rfc5245</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5506">[RFC5506]</dt>
        <dd>
<span class="refAuthor">Johansson, I.</span> and <span class="refAuthor">M. Westerlund</span>, <span class="refTitle">"Support for Reduced-Size Real-Time Transport Control Protocol (RTCP): Opportunities and Consequences"</span>, <span class="seriesInfo">RFC 5506</span>, <span class="seriesInfo">DOI 10.17487/RFC5506</span>, <time class="refDate" datetime="2009-04">April 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5506">https://www.rfc-editor.org/info/rfc5506</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5576">[RFC5576]</dt>
        <dd>
<span class="refAuthor">Lennox, J.</span>, <span class="refAuthor">Ott, J.</span>, and <span class="refAuthor">T. Schierl</span>, <span class="refTitle">"Source-Specific Media Attributes in the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 5576</span>, <span class="seriesInfo">DOI 10.17487/RFC5576</span>, <time class="refDate" datetime="2009-06">June 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5576">https://www.rfc-editor.org/info/rfc5576</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5763">[RFC5763]</dt>
        <dd>
<span class="refAuthor">Fischl, J.</span>, <span class="refAuthor">Tschofenig, H.</span>, and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"Framework for Establishing a Secure Real-time Transport Protocol (SRTP) Security Context Using Datagram Transport Layer Security (DTLS)"</span>, <span class="seriesInfo">RFC 5763</span>, <span class="seriesInfo">DOI 10.17487/RFC5763</span>, <time class="refDate" datetime="2010-05">May 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5763">https://www.rfc-editor.org/info/rfc5763</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5764">[RFC5764]</dt>
        <dd>
<span class="refAuthor">McGrew, D.</span> and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"Datagram Transport Layer Security (DTLS) Extension to Establish Keys for the Secure Real-time Transport Protocol (SRTP)"</span>, <span class="seriesInfo">RFC 5764</span>, <span class="seriesInfo">DOI 10.17487/RFC5764</span>, <time class="refDate" datetime="2010-05">May 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5764">https://www.rfc-editor.org/info/rfc5764</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6120">[RFC6120]</dt>
        <dd>
<span class="refAuthor">Saint-Andre, P.</span>, <span class="refTitle">"Extensible Messaging and Presence Protocol (XMPP): Core"</span>, <span class="seriesInfo">RFC 6120</span>, <span class="seriesInfo">DOI 10.17487/RFC6120</span>, <time class="refDate" datetime="2011-03">March 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6120">https://www.rfc-editor.org/info/rfc6120</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6464">[RFC6464]</dt>
        <dd>
<span class="refAuthor">Lennox, J., Ed.</span>, <span class="refAuthor">Ivov, E.</span>, and <span class="refAuthor">E. Marocco</span>, <span class="refTitle">"A Real-time Transport Protocol (RTP) Header Extension for Client-to-Mixer Audio Level Indication"</span>, <span class="seriesInfo">RFC 6464</span>, <span class="seriesInfo">DOI 10.17487/RFC6464</span>, <time class="refDate" datetime="2011-12">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6464">https://www.rfc-editor.org/info/rfc6464</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8828">[RFC8828]</dt>
        <dd>
<span class="refAuthor">Uberti, J.</span> and <span class="refAuthor">G. Shieh</span>, <span class="refTitle">"WebRTC IP Address Handling Requirements"</span>, <span class="seriesInfo">RFC 8828</span>, <span class="seriesInfo">DOI 10.17487/RFC8828</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8828">https://www.rfc-editor.org/info/rfc8828</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8843">[RFC8843]</dt>
        <dd>
<span class="refAuthor">Holmberg, C.</span>, <span class="refAuthor">Alvestrand, H.</span>, and <span class="refAuthor">C. Jennings</span>, <span class="refTitle">"Negotiating Media Multiplexing Using the Session Description Protocol (SDP)"</span>, <span class="seriesInfo">RFC 8843</span>, <span class="seriesInfo">DOI 10.17487/RFC8843</span>, <time class="refDate" datetime="2021-01">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8843">https://www.rfc-editor.org/info/rfc8843</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SDP4WebRTC">[SDP4WebRTC]</dt>
        <dd>
<span class="refAuthor">Nandakumar, S.</span> and <span class="refAuthor">C. F. Jennings</span>, <span class="refTitle">"Annotated Example SDP for WebRTC"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtcweb-sdp-14</span>, <time class="refDate" datetime="2020-12-17">17 December 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-rtcweb-sdp-14">https://datatracker.ietf.org/doc/html/draft-ietf-rtcweb-sdp-14</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TS26.114">[TS26.114]</dt>
        <dd>
<span class="refAuthor">3GPP</span>, <span class="refTitle">"3rd Generation Partnership Project; Technical Specification Group Services and System Aspects; IP Multimedia Subsystem (IMS); Multimedia Telephony; Media handling and interaction (Release 18)"</span>, <span class="refContent">3GPP TS 26.114 V18.6.0</span>, <time class="refDate" datetime="2024-03">March 2024</time>, <span>&lt;<a href="https://www.3gpp.org/DynaReport/26114.htm">https://www.3gpp.org/DynaReport/26114.htm</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="W3C.webrtc">[W3C.webrtc]</dt>
      <dd>
<span class="refAuthor">Jennings, C., Ed.</span>, <span class="refAuthor">Castelli, F., Ed.</span>, <span class="refAuthor">Boström, H., Ed.</span>, and <span class="refAuthor">J-I. Bruaroey, Ed.</span>, <span class="refTitle">"WebRTC: Real-time Communication Between Browsers"</span>, <span class="refContent">W3C Recommendation</span>, <time class="refDate" datetime="2023-03">March 2023</time>, <span>&lt;<a href="https://www.w3.org/TR/2023/REC-webrtc-20230306/">https://www.w3.org/TR/2023/REC-webrtc-20230306/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="sec.appendix-a">
<section id="appendix-A">
      <h2 id="name-sdp-abnf-syntax">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-sdp-abnf-syntax">SDP ABNF Syntax</a>
      </h2>
<p id="appendix-A-1">For the syntax validation performed in
      <a class="auto internal xref" href="#sec.parsing-a-desc">Section 5.8</a>, the following list of ABNF
      definitions is used:<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<span id="name-sdp-abnf-references"></span><div id="sdp-abnf">
<table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-sdp-abnf-references">SDP ABNF References</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Attribute</th>
            <th class="text-left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">ptime</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a> of [<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">maxptime</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a> of [<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">rtpmap</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">Section 6</a> of [<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">recvonly</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">6</a>
and <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-9">9</a> of <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>
            </td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">sendrecv</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">6</a>
and <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-9">9</a> of <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>
            </td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">sendonly</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">6</a>
and <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-9">9</a> of <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>
            </td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">inactive</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">6</a>
and <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-9">9</a> of <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>
            </td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">fmtp</td>
            <td class="text-left" colspan="1" rowspan="1">
              Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-6">6</a>
and <a class="relref" href="https://rfc-editor.org/rfc/rfc4566#section-9">9</a> of <span>[<a class="cite xref" href="#RFC4566">RFC4566</a>]</span>
            </td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">rtcp</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc3605#section-2.1">Section 2.1</a> of [<a class="cite xref" href="#RFC3605">RFC3605</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">setup</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4145#section-4">Section 4</a> of [<a class="cite xref" href="#RFC4145">RFC4145</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">fingerprint</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8122#section-5">Section 5</a> of [<a class="cite xref" href="#RFC8122">RFC8122</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">rtcp-fb</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc4585#section-4.2">Section 4.2</a> of [<a class="cite xref" href="#RFC4585">RFC4585</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">extmap</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5285#section-7">Section 7</a> of [<a class="cite xref" href="#RFC5285">RFC5285</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">mid</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-4">Section 4</a> of [<a class="cite xref" href="#RFC5888">RFC5888</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">group</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc5888#section-5">Section 5</a> of [<a class="cite xref" href="#RFC5888">RFC5888</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">imageattr</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6236#section-3.1">Section 3.1</a> of [<a class="cite xref" href="#RFC6236">RFC6236</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">extmap (encrypt option)</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc6904#section-4">Section 4</a> of [<a class="cite xref" href="#RFC6904">RFC6904</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">candidate</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.1">Section 5.1</a> of [<a class="cite xref" href="#RFC8839">RFC8839</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">remote-candidates</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.2">Section 5.2</a> of [<a class="cite xref" href="#RFC8839">RFC8839</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">ice-lite</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.3">Section 5.3</a> of [<a class="cite xref" href="#RFC8839">RFC8839</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">ice-ufrag</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a> of [<a class="cite xref" href="#RFC8839">RFC8839</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">ice-pwd</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.4">Section 5.4</a> of [<a class="cite xref" href="#RFC8839">RFC8839</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">ice-options</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8839#section-5.6">Section 5.6</a> of [<a class="cite xref" href="#RFC8839">RFC8839</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">msid</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8830#section-3">Section 3</a> of [<a class="cite xref" href="#RFC8830">RFC8830</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">rid</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8851#section-10">Section 10</a> of [<a class="cite xref" href="#RFC8851">RFC8851</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">simulcast</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8853#section-5.1">Section 5.1</a> of [<a class="cite xref" href="#RFC8853">RFC8853</a>]</span>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">tls-id</td>
            <td class="text-left" colspan="1" rowspan="1">
              <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8842#section-4">Section 4</a> of [<a class="cite xref" href="#RFC8842">RFC8842</a>]</span>
</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="sec.acknowledgements">
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-B-1"><span class="contact-name">Harald Alvestrand</span>, <span class="contact-name">Taylor       Brandstetter</span>, <span class="contact-name">Suhas Nandakumar</span>, and
      <span class="contact-name">Peter Thatcher</span> provided significant text for
      RFC 8829 (and thereby this document). <span class="contact-name">Bernard Aboba</span>, <span class="contact-name">Adam       Bergkvist</span>, <span class="contact-name">Jan-Ivar Bruaroey</span>,
      <span class="contact-name">Dan Burnett</span>, <span class="contact-name">Ben       Campbell</span>, <span class="contact-name">Alissa Cooper</span>,
      <span class="contact-name">Richard Ejzak</span>, <span class="contact-name">Stefan       Håkansson</span>, <span class="contact-name">Ted Hardie</span>, <span class="contact-name">Christer Holmberg</span>,
      <span class="contact-name">Andrew Hutton</span>, <span class="contact-name">Randell       Jesup</span>, <span class="contact-name">Matthew Kaufman</span>, <span class="contact-name">Anant Narayanan</span>,
      <span class="contact-name">Adam Roach</span>, <span class="contact-name">Robert Sparks</span>,
      <span class="contact-name">Neil Stratford</span>, <span class="contact-name">Martin       Thomson</span>, <span class="contact-name">Sean       Turner</span>, and <span class="contact-name">Magnus Westerlund</span> all provided valuable feedback on
      RFC 8829 (and thereby this document).<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Justin Uberti</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:justin@uberti.name">justin@uberti.name</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Cullen Jennings</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="left" dir="auto"><span class="street-address">400 3rd Avenue SW</span></div>
<div class="left" dir="auto">
<span class="locality">Calgary</span> <span class="region">AB</span> <span class="postal-code">T2P 4H2</span>
</div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:fluffy@iii.ca">fluffy@iii.ca</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Eric Rescorla (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Windy Hill Systems, LLC</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ekr@rtfm.com">ekr@rtfm.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>