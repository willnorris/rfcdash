<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9252: BGP Overlay Services Based on Segment Routing over IPv6 (SRv6)</title>
<meta content="Gaurav Dawra" name="author"/>
<meta content="Ketan Talaulikar" name="author"/>
<meta content="Robert Raszuk" name="author"/>
<meta content="Bruno Decraene" name="author"/>
<meta content="Shunwan Zhuang" name="author"/>
<meta content="Jorge Rabadan" name="author"/>
<meta content='
       This document defines procedures and messages for SRv6-based BGP
      services, including Layer 3 Virtual Private Network (L3VPN),
      Ethernet VPN (EVPN), and Internet services. It builds on
      "BGP/MPLS IP Virtual Private Networks (VPNs)" (RFC 4364) and
      "BGP MPLS-Based Ethernet VPN" (RFC 7432). 
    ' name="description"/>
<meta content="xml2rfc 3.12.10" name="generator"/>
<meta content="BGP" name="keyword"/>
<meta content="SRv6" name="keyword"/>
<meta content="9252" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.12.10
    Python 3.6.15
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    MarkupSafe 2.0.1
    pycairo 1.15.1
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.4.1
    requests 2.24.0
    setuptools 40.5.0
    six 1.14.0
    WeasyPrint 52.5
-->
<link href="rfc9252.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  pre.breakable {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9252" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-bess-srv6-services-15" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9252</td>
<td class="center">SRv6-Based BGP Overlay Services</td>
<td class="right">July 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Dawra, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9252">9252</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-07">July 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">G. Dawra, <span class="editor">Ed.</span>
</div>
<div class="org">LinkedIn</div>
</div>
<div class="author">
      <div class="author-name">K. Talaulikar, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">R. Raszuk</div>
<div class="org">NTT Network Innovations</div>
</div>
<div class="author">
      <div class="author-name">B. Decraene</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">S. Zhuang</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">J. Rabadan</div>
<div class="org">Nokia</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9252</h1>
<h1 id="title">BGP Overlay Services Based on Segment Routing over IPv6 (SRv6)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document defines procedures and messages for SRv6-based BGP
      services, including Layer 3 Virtual Private Network (L3VPN),
      Ethernet VPN (EVPN), and Internet services. It builds on
      "BGP/MPLS IP Virtual Private Networks (VPNs)" (RFC 4364) and
      "BGP MPLS-Based Ethernet VPN" (RFC 7432).<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9252">https://www.rfc-editor.org/info/rfc9252</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-srv6-services-tlvs">SRv6 Services TLVs</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-srv6-service-sub-tlvs">SRv6 Service Sub-TLVs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-srv6-sid-information-sub-tl">SRv6 SID Information Sub-TLV</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-srv6-service-data-sub-sub-t">SRv6 Service Data Sub-Sub-TLVs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a class="xref" href="#section-3.2.1">3.2.1</a>.  <a class="xref" href="#name-srv6-sid-structure-sub-sub-">SRv6 SID Structure Sub-Sub-TLV</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-encoding-srv6-sid-informati">Encoding SRv6 SID Information</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-bgp-based-l3-service-over-s">BGP-Based L3 Service over SRv6</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-ipv4-vpn-over-srv6-core">IPv4 VPN over SRv6 Core</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-ipv6-vpn-over-srv6-core">IPv6 VPN over SRv6 Core</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="xref" href="#section-5.3">5.3</a>.  <a class="xref" href="#name-global-ipv4-over-srv6-core">Global IPv4 over SRv6 Core</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="xref" href="#section-5.4">5.4</a>.  <a class="xref" href="#name-global-ipv6-over-srv6-core">Global IPv6 over SRv6 Core</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-bgp-based-ethernet-vpn-evpn">BGP-Based Ethernet VPN (EVPN) over SRv6</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="xref" href="#section-6.1">6.1</a>.  <a class="xref" href="#name-ethernet-auto-discovery-rou">Ethernet Auto-Discovery Route over SRv6 Core</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a class="xref" href="#section-6.1.1">6.1.1</a>.  <a class="xref" href="#name-ethernet-a-d-per-es-route">Ethernet A-D per ES Route</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a class="xref" href="#section-6.1.2">6.1.2</a>.  <a class="xref" href="#name-ethernet-a-d-per-evi-route">Ethernet A-D per EVI Route</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="xref" href="#section-6.2">6.2</a>.  <a class="xref" href="#name-mac-ip-advertisement-route-">MAC/IP Advertisement Route over SRv6 Core</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a class="xref" href="#section-6.2.1">6.2.1</a>.  <a class="xref" href="#name-mac-ip-advertisement-route-w">MAC/IP Advertisement Route with MAC Only</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a class="xref" href="#section-6.2.2">6.2.2</a>.  <a class="xref" href="#name-mac-ip-advertisement-route-wi">MAC/IP Advertisement Route with MAC+IP</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="xref" href="#section-6.3">6.3</a>.  <a class="xref" href="#name-inclusive-multicast-etherne">Inclusive Multicast Ethernet Tag Route over SRv6 Core</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="xref" href="#section-6.4">6.4</a>.  <a class="xref" href="#name-ethernet-segment-route-over">Ethernet Segment Route over SRv6 Core</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="xref" href="#section-6.5">6.5</a>.  <a class="xref" href="#name-ip-prefix-route-over-srv6-c">IP Prefix Route over SRv6 Core</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a class="xref" href="#section-6.6">6.6</a>.  <a class="xref" href="#name-evpn-multicast-routes-route">EVPN Multicast Routes (Route Types 6, 7, and 8) over SRv6 Core</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-error-handling">Error Handling</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-bgp-prefix-sid-tlv-types-re">BGP Prefix-SID TLV Types Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-srv6-service-sub-tlv-types-">SRv6 Service Sub-TLV Types Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="xref" href="#section-8.3">8.3</a>.  <a class="xref" href="#name-srv6-service-data-sub-sub-tlv">SRv6 Service Data Sub-Sub-TLV Types Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="xref" href="#section-8.4">8.4</a>.  <a class="xref" href="#name-bgp-srv6-service-sid-flags-">BGP SRv6 Service SID Flags Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a class="xref" href="#section-8.5">8.5</a>.  <a class="xref" href="#name-safi-values-registry">SAFI Values Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.  <a class="xref" href="#name-considerations-related-to-b">Considerations Related to BGP Sessions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="xref" href="#section-9.2">9.2</a>.  <a class="xref" href="#name-considerations-related-to-bg">Considerations Related to BGP Services</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a class="xref" href="#section-9.3">9.3</a>.  <a class="xref" href="#name-considerations-related-to-s">Considerations Related to SR over IPv6 Data Plane</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#appendix-A"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#appendix-C"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="INTRO">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">SRv6 refers to Segment Routing instantiated on the IPv6 data plane
      <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">BGP is used to advertise the reachability of prefixes of a particular
      service from an egress Provider Edge (PE) to ingress PE nodes.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">SRv6-based BGP services refer to the Layer 3 (L3) and Layer 2 (L2) overlay
      services with BGP as the control plane and SRv6 as the data plane. This document
      defines procedures and messages for SRv6-based BGP services, including
      L3VPN, EVPN, and Internet services. It builds on "BGP/MPLS IP Virtual
      Private Networks (VPNs)" <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span> and
      "BGP MPLS-Based Ethernet VPN" <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">SRv6 SID refers to an SRv6 Segment Identifier, as defined in <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">SRv6 Service SID refers to an SRv6 SID associated with one of the
      service-specific SRv6 Endpoint Behaviors on the advertising
      PE router, such as (but not limited to) End.DT (look up in the
      Virtual Routing and Forwarding (VRF) table) or End.DX (cross-connect to a
      next hop) behaviors in the case of
      L3VPN service, as defined in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>. This document describes how existing
      BGP messages between PEs may carry SRv6 Service SIDs to interconnect PEs
      and form VPNs.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">To provide SRv6 service with best-effort connectivity, the egress PE
      signals an SRv6 Service SID with the BGP overlay service route. The
      ingress PE encapsulates the payload in an outer IPv6 header where the
      destination address is the SRv6 Service SID provided by the egress
      PE. The underlay between the PEs only needs to support
      plain IPv6 forwarding <span>[<a class="xref" href="#RFC8200">RFC8200</a>]</span>.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">To provide SRv6 service in conjunction with an underlay Service Level Agreement (SLA) from the
      ingress PE to the egress PE, the egress PE colors the overlay service
      route with a Color Extended Community <span>[<a class="xref" href="#RFC9012">RFC9012</a>]</span> for steering flows
      for those routes, as specified in <span><a class="relref" href="https://datatracker.ietf.org/doc/html/draft-ietf-spring-segment-routing-policy-22#section-8">Section 8</a> of [<a class="xref" href="#I-D.ietf-spring-segment-routing-policy">SEGMENT-ROUTING-POLICY</a>]</span>. The ingress PE
      encapsulates the payload packet in an outer IPv6 header with the 
      SR Policy segment list associated with the related SLA along with the SRv6
      Service SID associated with the route using the Segment Routing Header
      (SRH) <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span>. The underlay nodes whose SRv6
      SIDs are part of the SRH segment list <span class="bcp14">MUST</span> support the SRv6 data
      plane.<a class="pilcrow" href="#section-1-7">¶</a></p>
<div id="REQ">
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="SIDTLV">
<section id="section-2">
      <h2 id="name-srv6-services-tlvs">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-srv6-services-tlvs">SRv6 Services TLVs</a>
      </h2>
<p id="section-2-1">This document extends the use of the BGP Prefix-SID attribute <span>[<a class="xref" href="#RFC8669">RFC8669</a>]</span> to carry SRv6 SIDs and their associated information
      with the BGP address families that are listed further in this
      section.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">The SRv6 Service TLVs are defined as two new TLVs of the BGP
      Prefix-SID attribute to achieve signaling of SRv6 SIDs for L3 and L2
      services.<a class="pilcrow" href="#section-2-2">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-3">
        <dt id="section-2-3.1">SRv6 L3 Service TLV:</dt>
        <dd id="section-2-3.2" style="margin-left: 1.5em">This TLV encodes Service SID information for
          SRv6-based L3 services. It corresponds to the equivalent
          functionality provided by an MPLS label when received with a Layer 3
          service route, as defined in <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span>, <span>[<a class="xref" href="#RFC4659">RFC4659</a>]</span>, <span>[<a class="xref" href="#RFC8950">RFC8950</a>]</span>, and <span>[<a class="xref" href="#RFC9136">RFC9136</a>]</span>. Some SRv6 Endpoint Behaviors that may be
          encoded are, but not limited to, End.DX4, End.DT4, End.DX6, End.DT6,
          and End.DT46.<a class="pilcrow" href="#section-2-3.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.3">SRv6 L2 Service TLV:</dt>
        <dd id="section-2-3.4" style="margin-left: 1.5em">This TLV encodes Service SID information for
          SRv6-based L2 services. It corresponds to the equivalent
          functionality provided by an MPLS label for Ethernet VPN (EVPN)
          Route Types for Layer 2 services, as defined in <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>. Some SRv6
          Endpoint Behaviors that may be encoded are, but not limited to,
          End.DX2, End.DX2V, End.DT2U, and End.DT2M.<a class="pilcrow" href="#section-2-3.4">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-4">When an egress PE is enabled for BGP Services over the SRv6 data plane,
      it signals one or more SRv6 Service SIDs enclosed in an SRv6 Service TLV(s)
      within the BGP Prefix-SID attribute attached to Multiprotocol BGP (MP-BGP) Network Layer Reachability Information (NLRI) defined in
      <span>[<a class="xref" href="#RFC4760">RFC4760</a>]</span>, <span>[<a class="xref" href="#RFC4659">RFC4659</a>]</span>, <span>[<a class="xref" href="#RFC8950">RFC8950</a>]</span>, <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>, <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span>, and 
        <span>[<a class="xref" href="#RFC9136">RFC9136</a>]</span>, where applicable, as described in Sections <a class="xref" href="#L3BGP">5</a> and <a class="xref" href="#EVPNBGP">6</a>.<a class="pilcrow" href="#section-2-4">¶</a></p>
<p id="section-2-5">The support for BGP Multicast VPN (MVPN) Services <span>[<a class="xref" href="#RFC6513">RFC6513</a>]</span> with SRv6 is outside the scope of this document.<a class="pilcrow" href="#section-2-5">¶</a></p>
<p id="section-2-6">The following depicts the SRv6 Service TLVs encoded in the BGP
      Prefix-SID attribute:<a class="pilcrow" href="#section-2-6">¶</a></p>
<span id="name-srv6-service-tlvs"></span><div id="SRV6SVCTLV">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-7.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   TLV Type    |         TLV Length            |   RESERVED    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   SRv6 Service Sub-TLVs                                      //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-srv6-service-tlvs">SRv6 Service TLVs</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-2-8">
        <dt id="section-2-8.1">TLV Type (1 octet):</dt>
        <dd id="section-2-8.2" style="margin-left: 1.5em">This field is assigned a value from IANA's
          "BGP Prefix-SID TLV Types" subregistry. It is set to 5 for the SRv6 L3
          Service TLV. It is set to 6 for the SRv6 L2 Service TLV.<a class="pilcrow" href="#section-2-8.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-8.3">TLV Length (2 octets):</dt>
        <dd id="section-2-8.4" style="margin-left: 1.5em">This field specifies the total length, in octets, of
          the TLV Value.<a class="pilcrow" href="#section-2-8.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-8.5">RESERVED (1 octet):</dt>
        <dd id="section-2-8.6" style="margin-left: 1.5em">This field is reserved; it <span class="bcp14">MUST</span> be set to 0
          by the sender and ignored by the receiver.<a class="pilcrow" href="#section-2-8.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-8.7">SRv6 Service Sub-TLVs (variable):</dt>
        <dd id="section-2-8.8" style="margin-left: 1.5em">This field contains SRv6
          service-related information and is encoded as an unordered list of
          Sub-TLVs whose format is described below.<a class="pilcrow" href="#section-2-8.8">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-9">A BGP speaker receiving a route containing the BGP Prefix-SID attribute
      with one or more SRv6 Service TLVs observes the following rules when
      advertising the received route to other peers:<a class="pilcrow" href="#section-2-9">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-10.1">If the BGP next hop is unchanged during the advertisement, the SRv6
          Service TLVs, including any unrecognized Types of Sub-TLV and
          Sub-Sub-TLV, <span class="bcp14">SHOULD</span> be propagated further. In addition, all Reserved
          fields in the TLV, Sub-TLV, or Sub-Sub-TLV <span class="bcp14">MUST</span> be propagated
          unchanged.<a class="pilcrow" href="#section-2-10.1">¶</a>
</li>
        <li class="normal" id="section-2-10.2">If the BGP next hop is changed, the TLVs, Sub-TLVs, and Sub-Sub-TLVs
          <span class="bcp14">SHOULD</span> be updated with the locally allocated SRv6 SID information.
          Any received Sub-TLVs and Sub-Sub-TLVs that are unrecognized <span class="bcp14">MUST</span> be
          removed.<a class="pilcrow" href="#section-2-10.2">¶</a>
</li>
      </ul>
</section>
</div>
<div id="SRv6-TLV">
<section id="section-3">
      <h2 id="name-srv6-service-sub-tlvs">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-srv6-service-sub-tlvs">SRv6 Service Sub-TLVs</a>
      </h2>
<p id="section-3-1">The format of a single SRv6 Service Sub-TLV is depicted below:<a class="pilcrow" href="#section-3-1">¶</a></p>
<span id="name-srv6-service-sub-tlvs-2"></span><div id="SRV6SVCSTLV">
<figure id="figure-2">
        <div class="alignLeft art-text artwork" id="section-3-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| SRv6 Service  |    SRv6 Service               | SRv6 Service //
| Sub-TLV       |    Sub-TLV                    | Sub-TLV      //
| Type          |    Length                     | Value        //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-srv6-service-sub-tlvs-2">SRv6 Service Sub-TLVs</a>
        </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-3-3">
        <dt id="section-3-3.1">SRv6 Service Sub-TLV Type (1 octet):</dt>
        <dd id="section-3-3.2" style="margin-left: 1.5em">This field identifies the type of SRv6
          service information. It is assigned a value from IANA's
          "SRv6 Service Sub-TLV Types" subregistry.<a class="pilcrow" href="#section-3-3.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-3.3">SRv6 Service Sub-TLV Length (2 octets):</dt>
        <dd id="section-3-3.4" style="margin-left: 1.5em">This field specifies the total
          length, in octets, of the Sub-TLV Value field.<a class="pilcrow" href="#section-3-3.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-3-3.5">SRv6 Service Sub-TLV Value (variable):</dt>
        <dd id="section-3-3.6" style="margin-left: 1.5em">This field contains data specific to
          the Sub-TLV Type. In addition to fixed-length data, it contains
          other properties of the SRv6 service encoded as a set of SRv6
          Service Data Sub-Sub-TLVs whose format is described in <a class="xref" href="#SID-SERVICE-DATA-TLV">Section 3.2</a> below.<a class="pilcrow" href="#section-3-3.6">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<div id="SRv6-SID-INFO">
<section id="section-3.1">
        <h3 id="name-srv6-sid-information-sub-tl">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-srv6-sid-information-sub-tl">SRv6 SID Information Sub-TLV</a>
        </h3>
<p id="section-3.1-1">SRv6 Service Sub-TLV Type 1 is assigned for the SRv6 SID Information
        Sub-TLV. This Sub-TLV contains a single SRv6 SID along with its
        properties. Its encoding is depicted below:<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<span id="name-srv6-sid-information-sub-tlv"></span><div id="SRV6SIDINFO">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-3.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| SRv6 Service  |    SRv6 Service               |               |
| Sub-TLV       |    Sub-TLV                    |               |
| Type=1        |    Length                     |  RESERVED1    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  SRv6 SID Value (16 octets)                                  //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Svc SID Flags |   SRv6 Endpoint Behavior      |   RESERVED2   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  SRv6 Service Data Sub-Sub-TLVs                              //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-srv6-sid-information-sub-tlv">SRv6 SID Information Sub-TLV</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-3.1-3">
          <dt id="section-3.1-3.1">SRv6 Service Sub-TLV Type (1 octet):</dt>
          <dd id="section-3.1-3.2" style="margin-left: 1.5em">This field is set to 1 to
            represent the SRv6 SID Information Sub-TLV.<a class="pilcrow" href="#section-3.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.3">SRv6 Service Sub-TLV Length (2 octets):</dt>
          <dd id="section-3.1-3.4" style="margin-left: 1.5em">This field contains the
            total length, in octets, of the Value field of the Sub-TLV.<a class="pilcrow" href="#section-3.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.5">RESERVED1 (1 octet):</dt>
          <dd id="section-3.1-3.6" style="margin-left: 1.5em">This field <span class="bcp14">MUST</span> be set to 0 by the sender and ignored
            by the receiver.<a class="pilcrow" href="#section-3.1-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.7">SRv6 SID Value (16 octets):</dt>
          <dd id="section-3.1-3.8" style="margin-left: 1.5em">This field encodes an SRv6 SID, as defined in
            <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>.<a class="pilcrow" href="#section-3.1-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.9">SRv6 Service SID Flags (1 octet):</dt>
          <dd id="section-3.1-3.10" style="margin-left: 1.5em">This field encodes SRv6 Service SID
            Flags -- none are currently defined. It <span class="bcp14">MUST</span> be set to 0 by the
            sender and any unknown flags <span class="bcp14">MUST</span> be ignored by the receiver.<a class="pilcrow" href="#section-3.1-3.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.11">SRv6 Endpoint Behavior (2 octets):</dt>
          <dd id="section-3.1-3.12" style="margin-left: 1.5em">This field encodes the SRv6 Endpoint
            Behavior codepoint value that is associated with the SRv6 SID. The
            codepoints used are from IANA's "SRv6 Endpoint Behaviors" subregistry
            under the "Segment Routing" registry that was
            introduced by <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>. The opaque SRv6 Endpoint
            Behavior (i.e., value 0xFFFF) <span class="bcp14">MAY</span> be used when the advertising
            router wishes to abstract the actual behavior of its locally
            instantiated SRv6 SID.<a class="pilcrow" href="#section-3.1-3.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.13">RESERVED2 (1 octet):</dt>
          <dd id="section-3.1-3.14" style="margin-left: 1.5em">This field <span class="bcp14">MUST</span> be set to 0 by the sender and ignored
            by the receiver.<a class="pilcrow" href="#section-3.1-3.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.15">SRv6 Service Data Sub-Sub-TLV Value (variable):</dt>
          <dd id="section-3.1-3.16" style="margin-left: 1.5em">This field is used to
            advertise properties of the SRv6 SID. It is encoded as a set of
            SRv6 Service Data Sub-Sub-TLVs.<a class="pilcrow" href="#section-3.1-3.16">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.1-4">The choice of SRv6 Endpoint Behavior of the SRv6 SID is entirely up
        to the originator of the advertisement. While Sections <a class="xref" href="#L3BGP">5</a> and <a class="xref" href="#EVPNBGP">6</a> list the
 SRv6 Endpoint Behaviors that are
        normally expected to be used by the specific route advertisements, the
        reception of other SRv6 Endpoint Behaviors (e.g., new behaviors that
        may be introduced in the future) is not considered an error. An
        unrecognized SRv6 Endpoint Behavior <span class="bcp14">MUST NOT</span> be considered invalid by the
        receiver, except for behaviors that involve the use of arguments (refer
        to <a class="xref" href="#SRv6-SID-STRUCTURE">Section 3.2.1</a> for details on argument
        validation). An implementation <span class="bcp14">MAY</span> log a rate-limited warning when it
        receives an unexpected behavior.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<p id="section-3.1-5">When multiple SRv6 SID Information Sub-TLVs are present, the
        ingress PE <span class="bcp14">SHOULD</span> use the SRv6 SID from the first instance of the
        Sub-TLV. An implementation <span class="bcp14">MAY</span> provide a local policy to override this
        selection.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
</section>
</div>
<div id="SID-SERVICE-DATA-TLV">
<section id="section-3.2">
        <h3 id="name-srv6-service-data-sub-sub-t">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-srv6-service-data-sub-sub-t">SRv6 Service Data Sub-Sub-TLVs</a>
        </h3>
<p id="section-3.2-1">The format of the SRv6 Service Data Sub-Sub-TLV is depicted
        below:<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<span id="name-srv6-service-data-sub-sub-tl"></span><div id="SRV6SVCDATASTLV">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-3.2-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Service Data |  Sub-Sub-TLV Length               |Sub-Sub TLV //
| Sub-Sub-TLV  |                                   |  Value     //
| Type         |                                   |            //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-srv6-service-data-sub-sub-tl">SRv6 Service Data Sub-Sub-TLVs</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-3.2-3">
          <dt id="section-3.2-3.1">SRv6 Service Data Sub-Sub-TLV Type (1 octet):</dt>
          <dd id="section-3.2-3.2" style="margin-left: 1.5em">This field identifies the
            type of Sub-Sub-TLV. It is assigned a value from IANA's
            "SRv6 Service Data Sub-Sub-TLV Types" subregistry.<a class="pilcrow" href="#section-3.2-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-3.3">SRv6 Service Data Sub-Sub-TLV Length (2 octets):</dt>
          <dd id="section-3.2-3.4" style="margin-left: 1.5em">This field specifies the
            total length, in octets, of the Sub-Sub-TLV Value field.<a class="pilcrow" href="#section-3.2-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-3.5">SRv6 Service Data Sub-Sub-TLV Value (variable):</dt>
          <dd id="section-3.2-3.6" style="margin-left: 1.5em">This field contains data
            specific to the Sub-Sub-TLV Type.<a class="pilcrow" href="#section-3.2-3.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<div id="SRv6-SID-STRUCTURE">
<section id="section-3.2.1">
          <h4 id="name-srv6-sid-structure-sub-sub-">
<a class="section-number selfRef" href="#section-3.2.1">3.2.1. </a><a class="section-name selfRef" href="#name-srv6-sid-structure-sub-sub-">SRv6 SID Structure Sub-Sub-TLV</a>
          </h4>
<p id="section-3.2.1-1">SRv6 Service Data Sub-Sub-TLV Type 1 is assigned for the SRv6 SID
          Structure Sub-Sub-TLV. The SRv6 SID Structure Sub-Sub-TLV is used to
          advertise the lengths of the individual parts of the SRv6 SID, as
          defined in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>. The terms Locator Block and
          Locator Node correspond to the B and N parts, respectively, of the
          SRv6 Locator that is defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8986#section-3.1">Section 3.1</a> of [<a class="xref" href="#RFC8986">RFC8986</a>]</span>. It is
   carried as Sub-Sub-TLV in the SRv6 SID Information Sub-TLV.<a class="pilcrow" href="#section-3.2.1-1">¶</a></p>
<span id="name-srv6-sid-structure-sub-sub-t"></span><div id="SRV6SIDSTRUCT">
<figure id="figure-5">
            <div class="alignLeft art-text artwork" id="section-3.2.1-2.1">
<pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| SRv6 Service  |    SRv6 Service               | Locator Block |
| Data Sub-Sub  |    Data Sub-Sub-TLV           | Length        |
| -TLV Type=1   |    Length                     |               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Locator Node  | Function      | Argument      | Transposition |
| Length        | Length        | Length        | Length        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Transposition |
| Offset        |
+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-srv6-sid-structure-sub-sub-t">SRv6 SID Structure Sub-Sub-TLV</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-3.2.1-3">
            <dt id="section-3.2.1-3.1">SRv6 Service Data Sub-Sub-TLV Type (1 octet):</dt>
            <dd id="section-3.2.1-3.2" style="margin-left: 1.5em">This field is set to 1 to represent the SRv6 SID Structure Sub-Sub-TLV.<a class="pilcrow" href="#section-3.2.1-3.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.3">SRv6 Service Data Sub-Sub-TLV Length (2 octets):</dt>
            <dd id="section-3.2.1-3.4" style="margin-left: 1.5em">This field contains a total length of 6 octets.<a class="pilcrow" href="#section-3.2.1-3.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.5">Locator Block Length (1 octet):</dt>
            <dd id="section-3.2.1-3.6" style="margin-left: 1.5em">This field contains the length of the SRv6 SID Locator Block in bits.<a class="pilcrow" href="#section-3.2.1-3.6">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.7">Locator Node Length (1 octet):</dt>
            <dd id="section-3.2.1-3.8" style="margin-left: 1.5em">This field contains the length of the SRv6 SID Locator Node in bits.<a class="pilcrow" href="#section-3.2.1-3.8">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.9">Function Length (1 octet):</dt>
            <dd id="section-3.2.1-3.10" style="margin-left: 1.5em">This field contains the length of the SRv6 SID Function in bits.<a class="pilcrow" href="#section-3.2.1-3.10">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.11">Argument Length (1 octet):</dt>
            <dd id="section-3.2.1-3.12" style="margin-left: 1.5em">This field contains the length of the SRv6 SID Argument in bits.<a class="pilcrow" href="#section-3.2.1-3.12">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.13">Transposition Length (1 octet):</dt>
            <dd id="section-3.2.1-3.14" style="margin-left: 1.5em">This field is the size in bits for the part of the
            SID that has been transposed (or shifted) into an MPLS Label
            field.<a class="pilcrow" href="#section-3.2.1-3.14">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.15">Transposition Offset (1 octet):</dt>
            <dd id="section-3.2.1-3.16" style="margin-left: 1.5em">This field is the offset position in bits
              for the part of the SID that has been transposed (or shifted) into an
              MPLS Label field.<a class="pilcrow" href="#section-3.2.1-3.16">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-3.2.1-4"><a class="xref" href="#SIDENCODE">Section 4</a> describes mechanisms for the signaling of
          the SRv6 Service SID by transposing a variable part of the SRv6 SID
          value and carrying this variable part in existing MPLS Label fields to achieve
          more efficient packing of those service prefix NLRIs in BGP update
          messages. The SRv6 SID Structure Sub-Sub-TLV contains appropriate
          length fields when the SRv6 Service SID is signaled in split parts
          to enable the receiver to put together the SID accurately.<a class="pilcrow" href="#section-3.2.1-4">¶</a></p>
<p id="section-3.2.1-5">Transposition Offset indicates the bit position, and Transposition
          Length indicates the number of bits that are being taken out of the
          SRv6 SID value and encoded in the MPLS Label field. The
          bits that have been shifted out <span class="bcp14">MUST</span> be set to 0 in the SID
          value.<a class="pilcrow" href="#section-3.2.1-5">¶</a></p>
<p id="section-3.2.1-6">A Transposition Length of 0 indicates nothing is transposed and
          that the entire SRv6 SID value is encoded in the SID Information
          Sub-TLV. In this case, the Transposition Offset <span class="bcp14">MUST</span> be set to
          0.<a class="pilcrow" href="#section-3.2.1-6">¶</a></p>
<p id="section-3.2.1-7">The size of the MPLS Label field limits the bits transposed from
          the SRv6 SID value into it. For example, the size of the MPLS Label field is 20 bits in
          <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span> and <span>[<a class="xref" href="#RFC8277">RFC8277</a>]</span>, and the size is 24 bits in <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-3.2.1-7">¶</a></p>
<p id="section-3.2.1-8">As defined in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>, the sum of the Locator
          Block Length (LBL), Locator Node Length (LNL), Function Length (FL),
          and Argument Length (AL) fields <span class="bcp14">MUST</span> be less than or equal to 128
          and greater than the sum of Transposition Offset and Transposition
          Length.<a class="pilcrow" href="#section-3.2.1-8">¶</a></p>
<p id="section-3.2.1-9">As an example, consider that the sum of the Locator Block and the
          Locator Node parts is 64. For an SRv6 SID where the entire Function
          part of size 16 bits is transposed, the transposition offset is
          set to 64 and the transposition length is set to 16. While for an
          SRv6 SID for which the FL is 24 bits and only the lower
          order 20 bits are transposed (e.g., due to the limit of the MPLS
          Label field size), the transposition offset is set to 68 and
          the transposition length is set to 20.<a class="pilcrow" href="#section-3.2.1-9">¶</a></p>
<p id="section-3.2.1-10">BGP speakers that do not support this specification may
          misinterpret, on the reception of an SRv6-based BGP service route
          update, the part of the SRv6 SID encoded in an MPLS Label field(s) as
          MPLS label values for MPLS-based services. Implementations
          supporting this specification <span class="bcp14">MUST</span> provide a mechanism to control
          the advertisement of SRv6-based BGP service routes on a per-neighbor
          and per-service basis. The details of deployment designs and
          implementation options are outside the scope of this document.<a class="pilcrow" href="#section-3.2.1-10">¶</a></p>
<p id="section-3.2.1-11">Arguments may be generally applicable for SIDs of only specific
          SRv6 Endpoint Behaviors (e.g., End.DT2M); therefore, the AL
          <span class="bcp14">MUST</span> be set to 0 for SIDs where the Argument is not
          applicable. A receiver is unable to validate the applicability of
          arguments for SRv6 Endpoint Behaviors that are unknown to it and
          hence <span class="bcp14">MUST</span> ignore SRv6 SIDs with arguments (indicated by a non-zero
          AL) with unknown SRv6 Endpoint Behaviors. For SIDs
          corresponding to an SRv6 Endpoint Behavior that is known, a receiver <span class="bcp14">MUST</span>
          validate that the consistency of the AL with the
          specific SRv6 Endpoint Behavior definition.<a class="pilcrow" href="#section-3.2.1-11">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="SIDENCODE">
<section id="section-4">
      <h2 id="name-encoding-srv6-sid-informati">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-encoding-srv6-sid-informati">Encoding SRv6 SID Information</a>
      </h2>
<p id="section-4-1">The SRv6 Service SID(s) for a BGP service prefix is carried in the
      SRv6 Services TLVs of the BGP Prefix-SID attribute.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">For certain types of BGP Services, like L3VPN where a per-VRF SID
      allocation is used (i.e., End.DT4 or End.DT6 behaviors), the same SID is
      shared across multiple NLRIs, thus providing efficient packing. However,
      for certain other types of BGP Services, like EVPN Virtual Private Wire
      Service (VPWS) where a per-PW
      SID allocation is required (i.e., End.DX2 behavior), each NLRI would
      have its own unique SID, thereby resulting in inefficient packing.<a class="pilcrow" href="#section-4-2">¶</a></p>
<p id="section-4-3"> To achieve efficient packing, this document allows either 1) the
      encoding of the SRv6 Service SID as a whole in the SRv6 Services
      TLVs or 2) the encoding of only the common part of the SRv6 SID (e.g.,
      Locator) in the SRv6 Services TLVs and the encoding of the variable
      (e.g., Function or Argument parts) in the existing label fields
      specific to that service encoding.
      This later form of encoding is referred to as the Transposition Scheme,
      where the SRv6 SID Structure Sub-Sub-TLV describes the sizes of the
      parts of the SRv6 SID and also indicates the offset of the variable part
      along with its length in the SRv6 SID value. The use of the Transposition
      Scheme is <span class="bcp14">RECOMMENDED</span> for the specific service encodings that allow it,
      as described further in Sections <a class="xref" href="#L3BGP">5</a> and <a class="xref" href="#EVPNBGP">6</a>.<a class="pilcrow" href="#section-4-3">¶</a></p>
<p id="section-4-4">As an example, for the EVPN VPWS service prefix described further in
      <a class="xref" href="#PEREVI">Section 6.1.2</a>, the Function part of the SRv6 SID is encoded in
      the MPLS Label field of the NLRI, and the SID value in the SRv6 Services
      TLV carries only the Locator part with the SRv6 SID Structure
      Sub-Sub-TLV. The SRv6 SID Structure Sub-Sub-TLV defines the lengths of
      Locator Block, Locator Node, and Function parts (Arguments are not
      applicable for the End.DX2 behavior). Transposition Offset indicates the
      bit position, and Transposition Length indicates the number of bits that
      are being taken out of the SID and put into the label field.<a class="pilcrow" href="#section-4-4">¶</a></p>
<p id="section-4-5">In yet another example, for the EVPN Ethernet Auto-Discovery (A-D) per Ethernet
      Segment (ES) route described further in <a class="xref" href="#PERES">Section 6.1.1</a>, only the
      Argument of the SID needs to be signaled. This Argument part of the SRv6
      SID <span class="bcp14">MAY</span> be transposed in the Ethernet Segment Identifier (ESI) Label
      field of the ESI Label extended community, and the SID value in the SRv6
      Services TLV is set to 0 along with the inclusion of the SRv6 SID Structure
      Sub-Sub-TLV. The SRv6 SID Structure Sub-Sub-TLV defines the lengths of
      Locator Block, Locator Node, Function, and Argument parts. The offset and
      length of the Argument part SID value moved to the label field is set in
      transposition offset and length of the SID Structure TLV. The receiving
      router is then able to put together the entire SRv6 Service SID (e.g.,
      for the End.DT2M behavior), placing the label value received in the ESI
      Label field of the Ethernet A-D per ES route into the correct
      transposition offset and length in the SRv6 SID with the End.DT2M
      behavior received for an EVPN Route Type 3 value.<a class="pilcrow" href="#section-4-5">¶</a></p>
</section>
</div>
<div id="L3BGP">
<section id="section-5">
      <h2 id="name-bgp-based-l3-service-over-s">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-bgp-based-l3-service-over-s">BGP-Based L3 Service over SRv6</a>
      </h2>
<p id="section-5-1">BGP egress nodes (egress PEs) advertise a set of reachable prefixes.
      Standard BGP update propagation schemes <span>[<a class="xref" href="#RFC4271">RFC4271</a>]</span>, which
      may make use of route reflectors <span>[<a class="xref" href="#RFC4456">RFC4456</a>]</span>, are used to
      propagate these prefixes. BGP ingress nodes (ingress PEs) receive these
      advertisements and may add the prefix to the RIB in an appropriate
      VRF.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">Egress PEs that support SRv6-based L3 services advertise overlay
      service prefixes along with a Service SID enclosed in an SRv6 L3 Service
      TLV within the BGP Prefix-SID attribute. This TLV serves two purposes --
      first, it indicates that the egress PE supports SRv6 overlay, and the BGP
      ingress PE receiving this route <span class="bcp14">MUST</span> perform IPv6 encapsulation and
      insert an SRH <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span> when required; second, it
      indicates the value of the Service SID to be used in the
      encapsulation.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">Thus, the Service SID signaled only has local significance at the
      egress PE, where it may be allocated or configured on a per-Customer-Edge (CE) or
      per-VRF basis. In practice, the SID may encode a cross-connect to a
      specific address family table (End.DT) or next hop / interface (End.DX), as
      defined in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>.<a class="pilcrow" href="#section-5-3">¶</a></p>
<p id="section-5-4">The SRv6 Service SID <span class="bcp14">SHOULD</span> be routable (refer to <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8986#section-3.3">Section 3.3</a> of [<a class="xref" href="#RFC8986">RFC8986</a>]</span>) within the Autonomous System (AS) of the egress PE and serves the dual
      purpose of providing reachability between ingress PE and egress PE while
      also encoding the SRv6 Endpoint Behavior.<a class="pilcrow" href="#section-5-4">¶</a></p>
<p id="section-5-5">When steering for SRv6 services is based on shortest path forwarding
      (e.g., best effort or IGP Flexible Algorithm <span>[<a class="xref" href="#I-D.ietf-lsr-flex-algo">IGP-FLEX-ALGO</a>]</span>) to the egress PE, the ingress PE
      encapsulates the IPv4 or IPv6 customer packet in an outer IPv6 header
      (using H.Encaps or H.Encaps.Red flavors specified in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>), where the destination address is the SRv6 Service
      SID associated with the related BGP route update. Therefore, the ingress
      PE <span class="bcp14">MUST</span> perform a resolvability check for the SRv6 Service SID before
      considering the received prefix for the BGP best path computation. The
      resolvability is evaluated as per <span>[<a class="xref" href="#RFC4271">RFC4271</a>]</span>. If the SRv6
      SID is reachable via more than one forwarding table, local policy is
      used to determine which table to use. The result of an SRv6 Service SID
      resolvability (e.g., when provided via IGP Flexible Algorithm) can be
      ignored if the ingress PE has a local policy that allows an alternate
      steering mechanism to reach the egress PE. The details of such steering
      mechanisms are outside the scope of this document.<a class="pilcrow" href="#section-5-5">¶</a></p>
<p id="section-5-6">For service over SRv6 core, the egress PE sets the BGP next hop to one of
      its IPv6 addresses. Such an address <span class="bcp14">MAY</span> be covered by the SRv6 Locator
      from which the SRv6 Service SID is allocated. The BGP next hop is used for
      tracking the reachability of the egress PE based on existing BGP
      procedures.<a class="pilcrow" href="#section-5-6">¶</a></p>
<p id="section-5-7">When the BGP route received at an ingress PE is colored with a
      Color Extended Community and a valid SRv6 Policy is available, the
      steering for service flows is performed as described in <span><a class="relref" href="https://datatracker.ietf.org/doc/html/draft-ietf-spring-segment-routing-policy-22#section-8">Section 8</a> of [<a class="xref" href="#I-D.ietf-spring-segment-routing-policy">SEGMENT-ROUTING-POLICY</a>]</span>. When the
      ingress PE determines (with the help of the SRv6 SID Structure) that the
      Service SID belongs to the same SRv6 Locator as the last SRv6 SID (of
      the egress PE) in the SR Policy segment list, it <span class="bcp14">MAY</span> exclude that last
      SRv6 SID when steering the service flow. For example, the effective
      segment list of the SRv6 Policy associated with SID list &lt;S1, S2,
      S3&gt; would be &lt;S1, S2, S3-Service-SID&gt;.<a class="pilcrow" href="#section-5-7">¶</a></p>
<div id="L3BGPVPNv4">
<section id="section-5.1">
        <h3 id="name-ipv4-vpn-over-srv6-core">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-ipv4-vpn-over-srv6-core">IPv4 VPN over SRv6 Core</a>
        </h3>
<p id="section-5.1-1">The MP_REACH_NLRI over SRv6 core is encoded according to IPv4 VPN
   unicast over IPv6 core defined in <span>[<a class="xref" href="#RFC8950">RFC8950</a>]</span>.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">The label field of IPv4-VPN NLRI is encoded as specified in <span>[<a class="xref" href="#RFC8277">RFC8277</a>]</span> with the 20-bit Label Value set to the whole or a
        portion of the Function part of the SRv6 SID when the Transposition
        Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used; otherwise,
        it is set to Implicit NULL. When using the Transposition Scheme, the
        Transposition Length <span class="bcp14">MUST</span> be less than or equal to 20 and less than or
        equal to the FL.<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<p id="section-5.1-3">The SRv6 Service SID is encoded as part of the SRv6 L3 Service TLV. The
        SRv6 Endpoint Behavior <span class="bcp14">SHOULD</span> be one of these: End.DX4, End.DT4, or
        End.DT46.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
</section>
</div>
<div id="L3BGPVPNv6">
<section id="section-5.2">
        <h3 id="name-ipv6-vpn-over-srv6-core">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-ipv6-vpn-over-srv6-core">IPv6 VPN over SRv6 Core</a>
        </h3>
<p id="section-5.2-1">The MP_REACH_NLRI over SRv6 core is encoded according to IPv6 VPN
        over IPv6 core, as defined in <span>[<a class="xref" href="#RFC4659">RFC4659</a>]</span>.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">The label field of the IPv6-VPN NLRI is encoded as specified in <span>[<a class="xref" href="#RFC8277">RFC8277</a>]</span> with the 20-bit Label Value set to the whole or a
        portion of the Function part of the SRv6 SID when the Transposition
        Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used; otherwise,
        it is set to Implicit NULL. When using the Transposition Scheme, the
        Transposition Length <span class="bcp14">MUST</span> be less than or equal to 20 and less than or
        equal to the FL.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">The SRv6 Service SID is encoded as part of the SRv6 L3 Service TLV. The
        SRv6 Endpoint Behavior <span class="bcp14">SHOULD</span> be one of these: End.DX6, End.DT6, or
        End.DT46.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
</section>
</div>
<div id="L3BGPINTv4">
<section id="section-5.3">
        <h3 id="name-global-ipv4-over-srv6-core">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-global-ipv4-over-srv6-core">Global IPv4 over SRv6 Core</a>
        </h3>
<p id="section-5.3-1">The MP_REACH_NLRI over SRv6 core is encoded according to IPv4 over
        IPv6 core, as defined in <span>[<a class="xref" href="#RFC8950">RFC8950</a>]</span>.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<p id="section-5.3-2">SRv6 Service SID is encoded as part of the SRv6 L3 Service TLV. The
        SRv6 Endpoint Behavior <span class="bcp14">SHOULD</span> be one of these: End.DX4, End.DT4, or
        End.DT46.<a class="pilcrow" href="#section-5.3-2">¶</a></p>
</section>
</div>
<div id="L3BGPINTv6">
<section id="section-5.4">
        <h3 id="name-global-ipv6-over-srv6-core">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-global-ipv6-over-srv6-core">Global IPv6 over SRv6 Core</a>
        </h3>
<p id="section-5.4-1">The MP_REACH_NLRI over SRv6 core is encoded according to <span>[<a class="xref" href="#RFC2545">RFC2545</a>]</span>.<a class="pilcrow" href="#section-5.4-1">¶</a></p>
<p id="section-5.4-2">The SRv6 Service SID is encoded as part of the SRv6 L3 Service TLV. The
        SRv6 Endpoint Behavior <span class="bcp14">SHOULD</span> be one of these: End.DX6, End.DT6, or
        End.DT46.<a class="pilcrow" href="#section-5.4-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="EVPNBGP">
<section id="section-6">
      <h2 id="name-bgp-based-ethernet-vpn-evpn">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-bgp-based-ethernet-vpn-evpn">BGP-Based Ethernet VPN (EVPN) over SRv6</a>
      </h2>
<p id="section-6-1"><span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span> provides an extendable method of building an
      EVPN overlay. It primarily focuses on MPLS-based EVPNs,
      and <span>[<a class="xref" href="#RFC8365">RFC8365</a>]</span> extends to IP-based EVPN overlays. <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span> defines Route Types 1, 2, and 3, which carry prefixes
      and MPLS Label fields; the Label fields have a specific use for MPLS
      encapsulation of EVPN traffic. Route Type 5 carrying MPLS label
      information (and thus encapsulation information) for an EVPN is defined in
      <span>[<a class="xref" href="#RFC9136">RFC9136</a>]</span>. Route Types 6, 7, and 8 are defined in <span>[<a class="xref" href="#RFC9251">RFC9251</a>]</span>.<a class="pilcrow" href="#section-6-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-2.1">Ethernet Auto-Discovery (A-D) route (Route Type 1)<a class="pilcrow" href="#section-6-2.1">¶</a>
</li>
        <li class="normal" id="section-6-2.2">MAC/IP Advertisement route (Route Type 2)<a class="pilcrow" href="#section-6-2.2">¶</a>
</li>
        <li class="normal" id="section-6-2.3">Inclusive Multicast Ethernet Tag route (Route Type 3)<a class="pilcrow" href="#section-6-2.3">¶</a>
</li>
        <li class="normal" id="section-6-2.4">Ethernet Segment route (Route Type 4)<a class="pilcrow" href="#section-6-2.4">¶</a>
</li>
        <li class="normal" id="section-6-2.5">IP Prefix route (Route Type 5)<a class="pilcrow" href="#section-6-2.5">¶</a>
</li>
        <li class="normal" id="section-6-2.6">Selective Multicast Ethernet Tag route (Route Type 6)<a class="pilcrow" href="#section-6-2.6">¶</a>
</li>
        <li class="normal" id="section-6-2.7">Multicast Membership Report Synch route (Route Type 7)<a class="pilcrow" href="#section-6-2.7">¶</a>
</li>
        <li class="normal" id="section-6-2.8">Multicast Leave Synch route (Route Type 8)<a class="pilcrow" href="#section-6-2.8">¶</a>
</li>
      </ul>
<p id="section-6-3">The specifications for other EVPN Route Types are outside the scope
      of this document.<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">To support SRv6-based EVPN overlays, one or more SRv6 Service SIDs
      are advertised with Route Types 1, 2, 3, and 5. The SRv6 Service SID(s)
      per Route Type is advertised in SRv6 L3/L2 Service TLVs within the BGP
      Prefix-SID attribute. Signaling of the SRv6 Service SID(s) serves two
      purposes -- first, it indicates that the BGP egress device supports SRv6
      overlay, and the BGP ingress device receiving this route <span class="bcp14">MUST</span> perform
      IPv6 encapsulation and insert an SRH <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span> when
      required; second, it indicates the value of the Service SID(s) to be
      used in the encapsulation.<a class="pilcrow" href="#section-6-4">¶</a></p>
<p id="section-6-5">The SRv6 Service SID <span class="bcp14">SHOULD</span> be routable (refer to <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8986#section-3.3">Section 3.3</a> of [<a class="xref" href="#RFC8986">RFC8986</a>]</span>) within the AS of the egress PE and serves the dual
      purpose of providing reachability between the ingress PE and egress PE while
      also encoding the SRv6 Endpoint Behavior.<a class="pilcrow" href="#section-6-5">¶</a></p>
<p id="section-6-6">When steering for SRv6 services is based on shortest path forwarding
      (e.g., best effort or IGP Flexible Algorithm <span>[<a class="xref" href="#I-D.ietf-lsr-flex-algo">IGP-FLEX-ALGO</a>]</span>) to the egress PE, the ingress PE
      encapsulates the customer Layer 2 Ethernet packet in an outer IPv6
      header (using H.Encaps.L2 or H.Encaps.L2.Red flavors specified in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>) where the destination address is the SRv6 Service
      SID associated with the related BGP route update. Therefore, the ingress
      PE <span class="bcp14">MUST</span> perform a resolvability check for the SRv6 Service SID before
      considering the received prefix for the BGP best path computation. The
      resolvability is evaluated as per <span>[<a class="xref" href="#RFC4271">RFC4271</a>]</span>. If the SRv6
      SID is reachable via more than one forwarding table, local policy is
      used to determine which table to use. The result of an SRv6 Service SID
      resolvability (e.g., when provided via IGP Flexible Algorithm) can be
      ignored if the ingress PE has a local policy that allows an alternate
      steering mechanism to reach the egress PE. The details of such steering
      mechanisms are outside the scope of this document.<a class="pilcrow" href="#section-6-6">¶</a></p>
<p id="section-6-7">For service over SRv6 core, the egress PE sets the BGP next hop to one
      of its IPv6 addresses. Such an address <span class="bcp14">MAY</span> be covered by
      the SRv6 Locator
      from which the SRv6 Service SID is allocated. The BGP next hop is used for
      tracking the reachability of the egress PE based on existing BGP
      procedures.<a class="pilcrow" href="#section-6-7">¶</a></p>
<p id="section-6-8">When the BGP route received at an ingress PE is colored with a
      Color Extended Community and a valid SRv6 Policy is available, the
      steering for service flows is performed as described in <span><a class="relref" href="https://datatracker.ietf.org/doc/html/draft-ietf-spring-segment-routing-policy-22#section-8">Section 8</a> of [<a class="xref" href="#I-D.ietf-spring-segment-routing-policy">SEGMENT-ROUTING-POLICY</a>]</span>. When the
      ingress PE determines (with the help of the SRv6 SID Structure) that the
      Service SID belongs to the same SRv6 Locator as the last SRv6 SID (of
      the egress PE) in the SR Policy segment list, it <span class="bcp14">MAY</span> exclude that last
      SRv6 SID when steering the service flow. For example, the effective
      segment list of the SRv6 Policy associated with SID list &lt;S1, S2,
      S3&gt; would be &lt;S1, S2, S3-Service-SID&gt;.<a class="pilcrow" href="#section-6-8">¶</a></p>
<div id="RT1">
<section id="section-6.1">
        <h3 id="name-ethernet-auto-discovery-rou">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-ethernet-auto-discovery-rou">Ethernet Auto-Discovery Route over SRv6 Core</a>
        </h3>
<p id="section-6.1-1">Ethernet A-D routes are Route Type 1, as defined in
        <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>, and may be used to achieve
 split-horizon filtering, fast convergence, and aliasing.
        EVPN Route Type 1 is also used in EVPN-VPWS as well as in EVPN-flexible
 cross-connect, mainly to advertise point-to-point service IDs.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">As a reminder, EVPN Route Type 1 is encoded as follows:<a class="pilcrow" href="#section-6.1-2">¶</a></p>
<span id="name-evpn-route-type-1"></span><div id="EVPNRT1">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-6.1-3.1">
<pre>                +-----------------------------------------+
                |  RD (8 octets)                          |
                +-----------------------------------------+
                |  Ethernet Segment Identifier (10 octets)|
                +-----------------------------------------+
                |  Ethernet Tag ID (4 octets)             |
                +-----------------------------------------+
                |  MPLS label (3 octets)                  |
                +-----------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-evpn-route-type-1">EVPN Route Type 1</a>
          </figcaption></figure>
</div>
<div id="PERES">
<section id="section-6.1.1">
          <h4 id="name-ethernet-a-d-per-es-route">
<a class="section-number selfRef" href="#section-6.1.1">6.1.1. </a><a class="section-name selfRef" href="#name-ethernet-a-d-per-es-route">Ethernet A-D per ES Route</a>
          </h4>
<p id="section-6.1.1-1">Ethernet A-D per ES route NLRI encoding over SRv6 core is as per
          <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-6.1.1-1">¶</a></p>
<p id="section-6.1.1-2">The 24-bit ESI Label field of the ESI Label extended community
          carries the whole or a portion of the Argument part of the SRv6 SID
          when the ESI filtering approach is used along with the Transposition
          Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>);
   otherwise, it is set to Implicit NULL in the higher-order 20 bits (i.e., as 0x000030). In either case, the value is set in the 24 bits. When
          using the Transposition Scheme, the Transposition Length <span class="bcp14">MUST</span> be
          less than or equal to 24 and less than or equal to the AL.<a class="pilcrow" href="#section-6.1.1-2">¶</a></p>
<p id="section-6.1.1-3">A Service SID enclosed in an SRv6 L2 Service TLV within the BGP
          Prefix-SID attribute is advertised along with the A-D route. The
          SRv6 Endpoint Behavior <span class="bcp14">SHOULD</span> be End.DT2M. When the ESI filtering
          approach is used, the Service SID is used to signal the Arg.FE2 SID
          Argument for applicable End.DT2M behavior <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>.
          When the local-bias approach <span>[<a class="xref" href="#RFC8365">RFC8365</a>]</span> is used, the
          Service SID <span class="bcp14">MAY</span> be of value 0.<a class="pilcrow" href="#section-6.1.1-3">¶</a></p>
</section>
</div>
<div id="PEREVI">
<section id="section-6.1.2">
          <h4 id="name-ethernet-a-d-per-evi-route">
<a class="section-number selfRef" href="#section-6.1.2">6.1.2. </a><a class="section-name selfRef" href="#name-ethernet-a-d-per-evi-route">Ethernet A-D per EVI Route</a>
          </h4>
<p id="section-6.1.2-1">Ethernet A-D per EVPN Instance (EVI) route NLRI encoding over SRv6 core is
          similar to what is described in <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span> and <span>[<a class="xref" href="#RFC8214">RFC8214</a>]</span>
          with the following change:<a class="pilcrow" href="#section-6.1.2-1">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.1.2-2">
            <dt id="section-6.1.2-2.1">MPLS Label:</dt>
            <dd id="section-6.1.2-2.2" style="margin-left: 1.5em">The 24-bit field carries the whole or a portion of
              the Function part of the SRv6 SID when the Transposition Scheme
              of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used;
       otherwise,  it is set to Implicit NULL in the higher-order 20 bits (i.e., as 0x000030). In either case, the value is set in the 24 bits. When using the Transposition Scheme, the
              Transposition Length <span class="bcp14">MUST</span> be less than or equal to 24 and less
              than or equal to the FL.<a class="pilcrow" href="#section-6.1.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.1.2-3">A Service SID enclosed in an SRv6 L2 Service TLV within the BGP
          Prefix-SID attribute is advertised along with the A-D route. The
          SRv6 Endpoint Behavior <span class="bcp14">SHOULD</span> be one of these: End.DX2, End.DX2V, or
          End.DT2U.<a class="pilcrow" href="#section-6.1.2-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="RT2">
<section id="section-6.2">
        <h3 id="name-mac-ip-advertisement-route-">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-mac-ip-advertisement-route-">MAC/IP Advertisement Route over SRv6 Core</a>
        </h3>
<p id="section-6.2-1">EVPN Route Type 2 is used to advertise unicast traffic Media Access Control (MAC)
 + IP address reachability through MP-BGP to all other PEs in a given EVPN
        instance.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<p id="section-6.2-2">As a reminder, EVPN Route Type 2 is encoded as follows:<a class="pilcrow" href="#section-6.2-2">¶</a></p>
<span id="name-evpn-route-type-2"></span><div id="EVPNRT2">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="section-6.2-3.1">
<pre>                +-----------------------------------------+
                |  RD (8 octets)                          |
                +-----------------------------------------+
                |  Ethernet Segment Identifier (10 octets)|
                +-----------------------------------------+
                |  Ethernet Tag ID (4 octets)             |
                +-----------------------------------------+
                |  MAC Address Length (1 octet)           |
                +-----------------------------------------+
                |  MAC Address (6 octets)                 |
                +-----------------------------------------+
                |  IP Address Length (1 octet)            |
                +-----------------------------------------+
                |  IP Address (0, 4, or 16 octets)        |
                +-----------------------------------------+
                |  MPLS Label1 (3 octets)                 |
                +-----------------------------------------+
                |  MPLS Label2 (0 or 3 octets)            |
                +-----------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-evpn-route-type-2">EVPN Route Type 2</a>
          </figcaption></figure>
</div>
<p id="section-6.2-4">NLRI encoding over SRv6 core is similar to what is described in <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span> with the following changes:<a class="pilcrow" href="#section-6.2-4">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.2-5">
          <dt id="section-6.2-5.1">MPLS Label1:</dt>
          <dd id="section-6.2-5.2" style="margin-left: 1.5em">This is associated with the SRv6 L2 Service TLV. This
            24-bit field carries the whole or a portion of the Function part
            of the SRv6 SID when the Transposition Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used; otherwise, it is set to Implicit NULL in the higher-order 20 bits (i.e., as 0x000030). In either case, the value is set in the 24 bits. When using the
            Transposition Scheme, the Transposition Length <span class="bcp14">MUST</span> be less than
            or equal to 24 and less than or equal to the FL.<a class="pilcrow" href="#section-6.2-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-5.3">MPLS Label2:</dt>
          <dd id="section-6.2-5.4" style="margin-left: 1.5em">This is associated with the SRv6 L3 Service TLV. This
            24-bit field carries the whole or a portion of the Function part
            of the SRv6 SID when the Transposition Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used; otherwise, it is set to Implicit NULL in the higher-order 20 bits (i.e., as 0x000030). In either case, the value is set in the 24 bits. When using the
            Transposition Scheme, the Transposition Length <span class="bcp14">MUST</span> be less than
            or equal to 24 and less than or equal to the FL.<a class="pilcrow" href="#section-6.2-5.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.2-6">Service SIDs enclosed in the SRv6 L2 Service TLV and optionally in the SRv6
        L3 Service TLV within the BGP Prefix-SID attribute are advertised along
        with the MAC/IP Advertisement route.<a class="pilcrow" href="#section-6.2-6">¶</a></p>
<p id="section-6.2-7">Described below are different types of Route Type 2
        advertisements.<a class="pilcrow" href="#section-6.2-7">¶</a></p>
<section id="section-6.2.1">
          <h4 id="name-mac-ip-advertisement-route-w">
<a class="section-number selfRef" href="#section-6.2.1">6.2.1. </a><a class="section-name selfRef" href="#name-mac-ip-advertisement-route-w">MAC/IP Advertisement Route with MAC Only</a>
          </h4>
<span class="break"></span><dl class="dlNewline" id="section-6.2.1-1">
            <dt id="section-6.2.1-1.1">MPLS Label1:</dt>
            <dd id="section-6.2.1-1.2" style="margin-left: 1.5em">This is associated with the SRv6 L2 Service TLV. This
              24-bit field carries the whole or a portion of the Function part
              of the SRv6 SID when the Transposition Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used; otherwise, it is set to Implicit NULL in the higher-order 20 bits (i.e., as 0x000030). In either case, the value is set in the 24 bits. When
              using the Transposition Scheme, the Transposition Length <span class="bcp14">MUST</span> be
              less than or equal to 24 and less than or equal to the FL.<a class="pilcrow" href="#section-6.2.1-1.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.2.1-2">A Service SID enclosed in an SRv6 L2 Service TLV within the BGP
          Prefix-SID attribute is advertised along with the route. The SRv6
          Endpoint Behavior <span class="bcp14">SHOULD</span> be one of these: End.DX2 or End.DT2U.<a class="pilcrow" href="#section-6.2.1-2">¶</a></p>
</section>
<section id="section-6.2.2">
          <h4 id="name-mac-ip-advertisement-route-wi">
<a class="section-number selfRef" href="#section-6.2.2">6.2.2. </a><a class="section-name selfRef" href="#name-mac-ip-advertisement-route-wi">MAC/IP Advertisement Route with MAC+IP</a>
          </h4>
<span class="break"></span><dl class="dlNewline" id="section-6.2.2-1">
            <dt id="section-6.2.2-1.1">MPLS Label1:</dt>
            <dd id="section-6.2.2-1.2" style="margin-left: 1.5em">This is associated with the SRv6 L2 Service TLV. This
              24-bit field carries the whole or a portion of the Function part
              of the SRv6 SID when the Transposition Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used; otherwise, it is set to Implicit NULL in the higher-order 20 bits (i.e., as 0x000030). In either case, the value is set in the 24 bits. When
              using the Transposition Scheme, the Transposition Length <span class="bcp14">MUST</span> be
              less than or equal to 24 and less than or equal to the FL.<a class="pilcrow" href="#section-6.2.2-1.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-6.2.2-1.3">MPLS Label2:</dt>
            <dd id="section-6.2.2-1.4" style="margin-left: 1.5em">This is associated with the SRv6 L3 Service TLV. This
              24-bit field carries the whole or a portion of the Function part
              of the SRv6 SID when the Transposition Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used; otherwise, it is set to Implicit NULL in the higher-order 20 bits (i.e., as 0x000030). In either case, the value is set in the 24 bits. When
              using the Transposition Scheme, the Transposition Length <span class="bcp14">MUST</span> be
              less than or equal to 24 and less than or equal to the FL.<a class="pilcrow" href="#section-6.2.2-1.4">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-6.2.2-2">An L2 Service SID enclosed in an SRv6 L2 Service TLV within the
          BGP Prefix-SID attribute is advertised along with the route. In
          addition, an L3 Service SID enclosed in an SRv6 L3 Service TLV
          within the BGP Prefix-SID attribute <span class="bcp14">MAY</span> also be advertised along
          with the route. The SRv6 Endpoint Behavior <span class="bcp14">SHOULD</span> be one of these:
          for the L2 Service SID, End.DX2 or End.DT2U and for the L3 Service SID,
          End.DT46, End.DT4, End.DT6, End.DX4, or End.DX6.<a class="pilcrow" href="#section-6.2.2-2">¶</a></p>
</section>
</section>
</div>
<div id="RT3">
<section id="section-6.3">
        <h3 id="name-inclusive-multicast-etherne">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-inclusive-multicast-etherne">Inclusive Multicast Ethernet Tag Route over SRv6 Core</a>
        </h3>
<p id="section-6.3-1">EVPN Route Type 3 is used to advertise multicast traffic
        reachability information through MP-BGP to all other PEs in a given
        EVPN instance.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<p id="section-6.3-2">As a reminder, EVPN Route Type 3 is encoded as follows:<a class="pilcrow" href="#section-6.3-2">¶</a></p>
<span id="name-evpn-route-type-3"></span><div id="EVPNRT3">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="section-6.3-3.1">
<pre>               +---------------------------------------+
               |  RD (8 octets)                        |
               +---------------------------------------+
               |  Ethernet Tag ID (4 octets)           |
               +---------------------------------------+
               |  IP Address Length (1 octet)          |
               +---------------------------------------+
               |  Originating Router's IP Address      |
               |          (4 or 16 octets)             |
               +---------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-evpn-route-type-3">EVPN Route Type 3</a>
          </figcaption></figure>
</div>
<p id="section-6.3-4">NLRI encoding over SRv6 core is similar to what is described in <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-6.3-4">¶</a></p>
<p id="section-6.3-5">The P-Multicast Service Interface (PMSI) Tunnel Attribute <span>[<a class="xref" href="#RFC6514">RFC6514</a>]</span> is used to identify
        the Provider tunnel (P-tunnel) used for sending Broadcast, Unknown Unicast, or Multicast
        (BUM) traffic. The format of the PMSI Tunnel Attribute is encoded as
        follows over SRv6 core:<a class="pilcrow" href="#section-6.3-5">¶</a></p>
<span id="name-pmsi-tunnel-attribute"></span><div id="PMSITA">
<figure id="figure-9">
          <div class="alignLeft art-text artwork" id="section-6.3-6.1">
<pre>               +---------------------------------------+
               |  Flag (1 octet)                       |
               +---------------------------------------+
               |  Tunnel Type (1 octet)                |
               +---------------------------------------+
               |  MPLS label (3 octets)                 |
               +---------------------------------------+
               |  Tunnel Identifier (variable)         |
               +---------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-9">Figure 9</a>:
<a class="selfRef" href="#name-pmsi-tunnel-attribute">PMSI Tunnel Attribute</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlNewline" id="section-6.3-7">
          <dt id="section-6.3-7.1">Flag:</dt>
          <dd id="section-6.3-7.2" style="margin-left: 1.5em">This field has a value of 0, as defined per <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-6.3-7.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-7.3">Tunnel Type:</dt>
          <dd id="section-6.3-7.4" style="margin-left: 1.5em">This field is defined per <span>[<a class="xref" href="#RFC6514">RFC6514</a>]</span>.<a class="pilcrow" href="#section-6.3-7.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-7.5">MPLS label:</dt>
          <dd id="section-6.3-7.6" style="margin-left: 1.5em">This 24-bit field carries the whole or a portion of
            the Function part of the SRv6 SID when ingress replication is used
            and the Transposition Scheme of encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used; otherwise, it is set as defined
            in <span>[<a class="xref" href="#RFC6514">RFC6514</a>]</span>. When using the Transposition Scheme,
            the Transposition Length <span class="bcp14">MUST</span> be less than or equal to 24 and less
            than or equal to the FL.<a class="pilcrow" href="#section-6.3-7.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-7.7">Tunnel Identifier:</dt>
          <dd id="section-6.3-7.8" style="margin-left: 1.5em">This field is the IP address of egress PE.<a class="pilcrow" href="#section-6.3-7.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.3-8">A Service SID enclosed in an SRv6 L2 Service TLV within the
        BGP Prefix-SID attribute is advertised along with the route. The SRv6
        Endpoint Behavior <span class="bcp14">SHOULD</span> be End.DT2M.<a class="pilcrow" href="#section-6.3-8">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-9.1">When ESI-based filtering is used for multihoming or Ethernet Tree (E-Tree)
            procedures, the ESI Filtering Argument (the Arg.FE2 notation
            introduced in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>) of the Service SID carried
            along with EVPN Route Type 1 <span class="bcp14">SHOULD</span> be merged with the
            applicable End.DT2M SID of Route Type 3 advertised by the remote PE by
            doing a bitwise logical-OR operation to create a single SID on
            the ingress PE. Details of split-horizon, ESI-based filtering
            mechanisms for multihoming are described in <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>. Details of filtering mechanisms for
            Leaf-originated BUM traffic in EVPN E-Tree services are provided
            in <span>[<a class="xref" href="#RFC8317">RFC8317</a>]</span>.<a class="pilcrow" href="#section-6.3-9.1">¶</a>
</li>
          <li class="normal" id="section-6.3-9.2">When "local-bias" is used as the multihoming
            split-horizon method, the ESI Filtering Argument <span class="bcp14">SHOULD NOT</span> be
            merged with the corresponding End.DT2M SID on the ingress PE.
            Details of the local-bias procedures are described
            in <span>[<a class="xref" href="#RFC8365">RFC8365</a>]</span>.<a class="pilcrow" href="#section-6.3-9.2">¶</a>
</li>
        </ul>
<p id="section-6.3-10">Usage of multicast trees as P-tunnels is outside the scope of this
        document.<a class="pilcrow" href="#section-6.3-10">¶</a></p>
</section>
</div>
<div id="RT4">
<section id="section-6.4">
        <h3 id="name-ethernet-segment-route-over">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-ethernet-segment-route-over">Ethernet Segment Route over SRv6 Core</a>
        </h3>
<p id="section-6.4-1">As a reminder, an Ethernet Segment route (i.e., EVPN Route Type 4)
        is encoded as follows:<a class="pilcrow" href="#section-6.4-1">¶</a></p>
<span id="name-evpn-route-type-4"></span><div id="EVPNRT4">
<figure id="figure-10">
          <div class="alignLeft art-text artwork" id="section-6.4-2.1">
<pre>               +---------------------------------------+
               |  RD (8 octets)                        |
               +---------------------------------------+
               |  Ethernet Tag ID (4 octets)           |
               +---------------------------------------+
               |  IP Address Length (1 octet)          |
               +---------------------------------------+
               |  Originating Router's IP Address      |
               |          (4 or 16 octets)             |
               +---------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-10">Figure 10</a>:
<a class="selfRef" href="#name-evpn-route-type-4">EVPN Route Type 4</a>
          </figcaption></figure>
</div>
<p id="section-6.4-3">NLRI encoding over SRv6 core is similar to what is described in <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-6.4-3">¶</a></p>
<p id="section-6.4-4">SRv6 Service TLVs within the BGP Prefix-SID attribute are not
        advertised along with this route. The processing of the route has not
        changed -- it remains as described in <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>.<a class="pilcrow" href="#section-6.4-4">¶</a></p>
</section>
</div>
<div id="RT5">
<section id="section-6.5">
        <h3 id="name-ip-prefix-route-over-srv6-c">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-ip-prefix-route-over-srv6-c">IP Prefix Route over SRv6 Core</a>
        </h3>
<p id="section-6.5-1">EVPN Route Type 5 is used to advertise IP address reachability
        through MP-BGP to all other PEs in a given EVPN instance. The IP
        address may include a host IP prefix or any specific subnet.<a class="pilcrow" href="#section-6.5-1">¶</a></p>
<p id="section-6.5-2">As a reminder, EVPN Route Type 5 is encoded as follows:<a class="pilcrow" href="#section-6.5-2">¶</a></p>
<span id="name-evpn-route-type-5"></span><div id="EVPNRT5">
<figure id="figure-11">
          <div class="alignLeft art-text artwork" id="section-6.5-3.1">
<pre>               +-----------------------------------------+
               |  RD (8 octets)                          |
               +-----------------------------------------+
               |  Ethernet Segment Identifier (10 octets)|
               +-----------------------------------------+
               |  Ethernet Tag ID (4 octets)             |
               +-----------------------------------------+
               |  IP Prefix Length (1 octet)             |
               +-----------------------------------------+
               |  IP Prefix (4 or 16 octets)             |
               +-----------------------------------------+
               |  GW IP Address (4 or 16 octets)         |
               +-----------------------------------------+
               |  MPLS Label (3 octets)                  |
               +-----------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-11">Figure 11</a>:
<a class="selfRef" href="#name-evpn-route-type-5">EVPN Route Type 5</a>
          </figcaption></figure>
</div>
<p id="section-6.5-4">NLRI encoding over SRv6 core is similar to what is described in <span>[<a class="xref" href="#RFC9136">RFC9136</a>]</span>
        with the following change:<a class="pilcrow" href="#section-6.5-4">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.5-5">
          <dt id="section-6.5-5.1">MPLS Label:</dt>
          <dd id="section-6.5-5.2" style="margin-left: 1.5em">This 24-bit field carries the whole or a portion of
            the Function part of the SRv6 SID when the Transposition Scheme of
            encoding (<a class="xref" href="#SIDENCODE">Section 4</a>) is used;
     otherwise, it is set to Implicit NULL in the higher-order 20 bits (i.e., as 0x000030). In either case, the value is set in the 24 bits.
            When using the Transposition Scheme, the Transposition Length <span class="bcp14">MUST</span>
            be less than or equal to 24 and less than or equal to the FL.<a class="pilcrow" href="#section-6.5-5.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.5-6">The SRv6 Service SID is encoded as part of the SRv6 L3 Service TLV. The
        SRv6 Endpoint Behavior <span class="bcp14">SHOULD</span> be one of these: End.DT4, End.DT6,
        End.DT46, End.DX4, or End.DX6.<a class="pilcrow" href="#section-6.5-6">¶</a></p>
</section>
</div>
<div id="RT678">
<section id="section-6.6">
        <h3 id="name-evpn-multicast-routes-route">
<a class="section-number selfRef" href="#section-6.6">6.6. </a><a class="section-name selfRef" href="#name-evpn-multicast-routes-route">EVPN Multicast Routes (Route Types 6, 7, and 8) over SRv6 Core</a>
        </h3>
<p id="section-6.6-1">These routes do not require the advertisement of SRv6 Service TLVs
        along with them. Similar to EVPN Route Type 4, the BGP next hop is
        equal to the IPv6 address of egress PE.<a class="pilcrow" href="#section-6.6-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ERROR">
<section id="section-7">
      <h2 id="name-error-handling">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-error-handling">Error Handling</a>
      </h2>
<p id="section-7-1">In case of any errors encountered while processing SRv6 Service TLVs,
      the details of the error <span class="bcp14">SHOULD</span> be logged for further analysis.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">If multiple instances of the SRv6 L3 Service TLV are encountered, all but
      the first instance <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">If multiple instances of the SRv6 L2 Service TLV are encountered, all but
      the first instance <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-7-3">¶</a></p>
<p id="section-7-4">An SRv6 Service TLV is considered malformed in the following cases:<a class="pilcrow" href="#section-7-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-5.1">The TLV Length is less than 1.<a class="pilcrow" href="#section-7-5.1">¶</a>
</li>
        <li class="normal" id="section-7-5.2">The TLV Length is inconsistent with the length of the BGP Prefix-SID
          attribute.<a class="pilcrow" href="#section-7-5.2">¶</a>
</li>
        <li class="normal" id="section-7-5.3">At least one of the constituent Sub-TLVs is malformed.<a class="pilcrow" href="#section-7-5.3">¶</a>
</li>
      </ul>
<p id="section-7-6">An SRv6 Service Sub-TLV is considered malformed in the following
      case:<a class="pilcrow" href="#section-7-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-7.1">The Sub-TLV Length is inconsistent with the length of the
          enclosing SRv6 Service TLV.<a class="pilcrow" href="#section-7-7.1">¶</a>
</li>
      </ul>
<p id="section-7-8">An SRv6 SID Information Sub-TLV is considered malformed in the
      following cases:<a class="pilcrow" href="#section-7-8">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-9.1">The Sub-TLV Length is less than 21.<a class="pilcrow" href="#section-7-9.1">¶</a>
</li>
        <li class="normal" id="section-7-9.2">The Sub-TLV Length is inconsistent with the length of the
              enclosing SRv6 Service TLV.<a class="pilcrow" href="#section-7-9.2">¶</a>
</li>
        <li class="normal" id="section-7-9.3">At least one of the constituent Sub-Sub-TLVs is malformed.<a class="pilcrow" href="#section-7-9.3">¶</a>
</li>
      </ul>
<p id="section-7-10">An SRv6 Service Data Sub-Sub-TLV is considered malformed in the
      following case:<a class="pilcrow" href="#section-7-10">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-11.1">The Sub-Sub-TLV Length is inconsistent with the length of the
          enclosing SRv6 service Sub-TLV.<a class="pilcrow" href="#section-7-11.1">¶</a>
</li>
      </ul>
<p id="section-7-12">Any TLV, Sub-TLV, or Sub-Sub-TLV is not considered malformed because
      its Type is unrecognized.<a class="pilcrow" href="#section-7-12">¶</a></p>
<p id="section-7-13">Any TLV, Sub-TLV, or Sub-Sub-TLV is not considered malformed because
      of failing any semantic validation of its Value field.<a class="pilcrow" href="#section-7-13">¶</a></p>
<p id="section-7-14">The SRv6 overlay service requires the Service SID for forwarding. The
      treat-as-withdraw action <span>[<a class="xref" href="#RFC7606">RFC7606</a>]</span> <span class="bcp14">MUST</span> be performed when
      at least one malformed SRv6 Service TLV is present in the BGP Prefix-SID
      attribute.<a class="pilcrow" href="#section-7-14">¶</a></p>
<p id="section-7-15">The SRv6 SID value in the SRv6 SID Information Sub-TLV is invalid when the SID
      Structure Sub-Sub-TLV transposition length is greater than the number of
      bits of the label field or if any of the conditions for the fields of
      the Sub-Sub-TLV, as specified in <a class="xref" href="#SRv6-SID-STRUCTURE">Section 3.2.1</a>, is
      not met. The transposition offset and length <span class="bcp14">MUST</span> be 0 when the
      Sub-Sub-TLV is advertised along with routes where the Transposition Scheme
      is not applicable (e.g., for global IPv6 service <span>[<a class="xref" href="#RFC2545">RFC2545</a>]</span> where there is no label field). The path having any such
      Prefix-SID attribute without any valid SRv6 SID information <span class="bcp14">MUST</span> be
      considered ineligible during the selection of the best path for the
      corresponding prefix.<a class="pilcrow" href="#section-7-15">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-bgp-prefix-sid-tlv-types-re">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-bgp-prefix-sid-tlv-types-re">BGP Prefix-SID TLV Types Registry</a>
        </h3>
<p id="section-8.1-1">This document introduces two new TLV Types of the BGP Prefix-SID
        attribute. IANA has assigned Type values in the "BGP
        Prefix-SID TLV Types" subregistry as follows:<a class="pilcrow" href="#section-8.1-1">¶</a></p>
<span id="name-bgp-prefix-sid-tlv-types-su"></span><div id="IANAPFXSIDTYPES">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-bgp-prefix-sid-tlv-types-su">BGP Prefix-SID TLV Types Subregistry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">4</td>
              <td class="text-left" colspan="1" rowspan="1">Deprecated</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">SRv6 L3 Service TLV</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">6</td>
              <td class="text-left" colspan="1" rowspan="1">SRv6 L2 Service TLV</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-8.1-3">Value 4 previously corresponded to the SRv6-VPN SID TLV, which
        was specified in earlier draft versions of this document and used by early
        implementations of this specification. It was deprecated and replaced
        by the SRv6 L3 Service and SRv6 L2 Service TLVs.<a class="pilcrow" href="#section-8.1-3">¶</a></p>
</section>
<section id="section-8.2">
        <h3 id="name-srv6-service-sub-tlv-types-">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-srv6-service-sub-tlv-types-">SRv6 Service Sub-TLV Types Registry</a>
        </h3>
<p id="section-8.2-1">IANA has created and now maintains a new subregistry called
        "SRv6 Service Sub-TLV Types" under the "Border Gateway Protocol (BGP)
        Parameters" registry. The registration procedures, per <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>, for this subregistry are according to <a class="xref" href="#IANASRV6SVCTYPESAP">Table 2</a>.<a class="pilcrow" href="#section-8.2-1">¶</a></p>
<span id="name-srv6-service-sub-tlv-types-s"></span><div id="IANASRV6SVCTYPESAP">
<table class="center" id="table-2">
          <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-srv6-service-sub-tlv-types-s">SRv6 Service Sub-TLV Types Subregistry Registration Procedures</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Range</th>
              <th class="text-left" colspan="1" rowspan="1">Registration Procedures</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">1-127</td>
              <td class="text-left" colspan="1" rowspan="1">IETF Review</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">128-254</td>
              <td class="text-left" colspan="1" rowspan="1">First Come First Served</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">255</td>
              <td class="text-left" colspan="1" rowspan="1">IETF Review</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-8.2-3">IANA has populated this subregistry as follows. Note that the SRv6 SID Information Sub-TLV
 is defined in this document:<a class="pilcrow" href="#section-8.2-3">¶</a></p>
<span id="name-srv6-service-sub-tlv-types-su"></span><div id="IANASRV6DATATYPES">
<table class="center" id="table-3">
          <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-srv6-service-sub-tlv-types-su">SRv6 Service Sub-TLV Types Subregistry Initial Contents</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">0</td>
              <td class="text-left" colspan="1" rowspan="1">Reserved</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">SRv6 SID Information Sub-TLV</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">255</td>
              <td class="text-left" colspan="1" rowspan="1">Reserved</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
<section id="section-8.3">
        <h3 id="name-srv6-service-data-sub-sub-tlv">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-srv6-service-data-sub-sub-tlv">SRv6 Service Data Sub-Sub-TLV Types Registry</a>
        </h3>
<p id="section-8.3-1">IANA has created and now maintains a new subregistry called
        "SRv6 Service Data Sub-Sub-TLV Types" under the "Border Gateway
        Protocol (BGP) Parameters" registry. The registration procedures for this
        subregistry are according to <a class="xref" href="#IANASRV6DATASSTYPESAP">Table 4</a>.<a class="pilcrow" href="#section-8.3-1">¶</a></p>
<span id="name-srv6-service-data-sub-sub-tlv-"></span><div id="IANASRV6DATASSTYPESAP">
<table class="center" id="table-4">
          <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-srv6-service-data-sub-sub-tlv-">SRv6 Service Data Sub-Sub-TLV Types Subregistry Registration Procedures</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Range</th>
              <th class="text-left" colspan="1" rowspan="1">Registration Procedure</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">1-127</td>
              <td class="text-left" colspan="1" rowspan="1">IETF Review</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">128-254</td>
              <td class="text-left" colspan="1" rowspan="1">First Come First Served</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">255</td>
              <td class="text-left" colspan="1" rowspan="1">IETF Review</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-8.3-3">The following Sub-Sub-TLV Type is defined in this document:<a class="pilcrow" href="#section-8.3-3">¶</a></p>
<span id="name-srv6-service-data-sub-sub-tlv-t"></span><div id="IANASRV6DATASSTYPES">
<table class="center" id="table-5">
          <caption>
<a class="selfRef" href="#table-5">Table 5</a>:
<a class="selfRef" href="#name-srv6-service-data-sub-sub-tlv-t">SRv6 Service Data Sub-Sub-TLV Types Subregistry Initial Contents</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">0</td>
              <td class="text-left" colspan="1" rowspan="1">Reserved</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">1</td>
              <td class="text-left" colspan="1" rowspan="1">SRv6 SID Structure Sub-Sub-TLV</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">255</td>
              <td class="text-left" colspan="1" rowspan="1">Reserved</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9252</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
<section id="section-8.4">
        <h3 id="name-bgp-srv6-service-sid-flags-">
<a class="section-number selfRef" href="#section-8.4">8.4. </a><a class="section-name selfRef" href="#name-bgp-srv6-service-sid-flags-">BGP SRv6 Service SID Flags Registry</a>
        </h3>
<p id="section-8.4-1">IANA has created and now maintains a new subregistry called "BGP
        SRv6 Service SID Flags" under the "Border Gateway Protocol (BGP)
        Parameters" registry. The registration procedure for this subregistry is IETF
        Review, and all 8-bit positions of the flags are currently
        unassigned.<a class="pilcrow" href="#section-8.4-1">¶</a></p>
</section>
<section id="section-8.5">
        <h3 id="name-safi-values-registry">
<a class="section-number selfRef" href="#section-8.5">8.5. </a><a class="section-name selfRef" href="#name-safi-values-registry">SAFI Values Registry</a>
        </h3>
<p id="section-8.5-1">IANA has added this document as a reference for value 128 
   ("MPLS-labeled VPN address") in the "SAFI Values" subregistry 
   under the "Subsequent Address Family Identifiers 
   (SAFI) Parameters" registry.<a class="pilcrow" href="#section-8.5-1">¶</a></p>
</section>
</section>
</div>
<div id="SEC">
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">This document specifies extensions to the BGP protocol for the signaling
      of services for SRv6. These specifications leverage existing BGP
      protocol mechanisms for the signaling of various types of services. It
      also builds upon existing elements of the SR architecture (more
      specifically, SRv6). As such, this section largely provides pointers (as
      a reminder) to the security considerations of those existing
      specifications while also covering certain, newer security aspects for
      the specifications newly introduced by this document.<a class="pilcrow" href="#section-9-1">¶</a></p>
<div id="SECSESS">
<section id="section-9.1">
        <h3 id="name-considerations-related-to-b">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-considerations-related-to-b">Considerations Related to BGP Sessions</a>
        </h3>
<p id="section-9.1-1">Techniques related to authentication of BGP sessions for securing
        messages between BGP peers, as discussed in the BGP specification <span>[<a class="xref" href="#RFC4271">RFC4271</a>]</span> and in the security analysis for BGP <span>[<a class="xref" href="#RFC4272">RFC4272</a>]</span>, apply. The discussion of the use of the TCP
        Authentication Option to protect BGP sessions is found in <span>[<a class="xref" href="#RFC5925">RFC5925</a>]</span>, while <span>[<a class="xref" href="#RFC6952">RFC6952</a>]</span> includes an
        analysis of BGP keying and authentication issues. This document does
        not introduce any additional BGP session security considerations.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
</section>
</div>
<div id="SECSVC">
<section id="section-9.2">
        <h3 id="name-considerations-related-to-bg">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-considerations-related-to-bg">Considerations Related to BGP Services</a>
        </h3>
<p id="section-9.2-1">This document does not introduce new services or BGP NLRI types but
        extends the signaling of existing ones for SRv6. Therefore, the
        security considerations for the respective BGP services, such as <span><a class="xref" href="#RFC8950">BGP IPv4 over IPv6 NH</a> [<a class="xref" href="#RFC8950">RFC8950</a>]</span>, <span><a class="xref" href="#RFC4659">BGP IPv6 L3VPN</a> [<a class="xref" href="#RFC4659">RFC4659</a>]</span>, <span><a class="xref" href="#RFC2545">BGP
        IPv6</a> [<a class="xref" href="#RFC2545">RFC2545</a>]</span>, <span><a class="xref" href="#RFC7432">BGP EVPN</a> [<a class="xref" href="#RFC7432">RFC7432</a>]</span>, and <span><a class="xref" href="#RFC9136">IP EVPN</a> [<a class="xref" href="#RFC9136">RFC9136</a>]</span>, apply as discussed in their respective
        documents.
 <span>[<a class="xref" href="#RFC8669">RFC8669</a>]</span> discusses mechanisms to prevent
        the leaking of the BGP Prefix-SID attribute, which carries SR information,
        outside the SR domain.<a class="pilcrow" href="#section-9.2-1">¶</a></p>
<p id="section-9.2-2">As a reminder, several of the BGP services (i.e., the AFI/SAFI used
        for their signaling) were initially introduced for one encapsulation
        mechanism and later extended for others, e.g., EVPN MPLS <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span> was extended for Virtual eXtensible Local Area Network (VXLAN) encapsulation and Network Virtualization Using Generic Routing Encapsulation (NVGRE) <span>[<a class="xref" href="#RFC8365">RFC8365</a>]</span>. <span>[<a class="xref" href="#RFC9012">RFC9012</a>]</span> enables the use of
        various IP encapsulation mechanisms along with different BGP SAFIs for
        their respective services. The existing filtering mechanisms for
        preventing the leak of the encapsulation information (carried in BGP
        attributes) and preventing the advertisement of prefixes from the
        provider's internal address space (especially the SRv6 Block, as
        discussed in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>) to external peers (or into the
        Internet) also apply in the case of SRv6.<a class="pilcrow" href="#section-9.2-2">¶</a></p>
<p id="section-9.2-3">Specific to SRv6, a misconfiguration or error in the BGP
        filtering mechanisms mentioned above may result in exposing information, such as SRv6
        Service SIDs to external peers or other unauthorized entities.
        However, an attempt to exploit this information or to raise an attack
        by injecting packets into the network (e.g., customer networks in case
        of VPN services) is mitigated by the existing SRv6 data plane security
        mechanisms, as described in the next section.<a class="pilcrow" href="#section-9.2-3">¶</a></p>
</section>
</div>
<div id="SECSRV6">
<section id="section-9.3">
        <h3 id="name-considerations-related-to-s">
<a class="section-number selfRef" href="#section-9.3">9.3. </a><a class="section-name selfRef" href="#name-considerations-related-to-s">Considerations Related to SR over IPv6 Data Plane</a>
        </h3>
<p id="section-9.3-1">This section provides a brief reminder and an overview of the
        security considerations related to SRv6 with pointers to existing
        specifications. This document introduces no new security
        considerations of its own from the SRv6 data plane perspective.<a class="pilcrow" href="#section-9.3-1">¶</a></p>
<p id="section-9.3-2">SRv6 operates within a trusted SR domain. The data packets
        corresponding to service flows between PE routers are encapsulated
        (using SRv6 SIDs advertised via BGP) and carried within this trusted
        SR domain (e.g., within a single AS or between multiple ASes within a
        single provider network).<a class="pilcrow" href="#section-9.3-2">¶</a></p>
<p id="section-9.3-3">The security considerations of the SR architecture are
        covered by <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>. More detailed security
        considerations, specifically of SRv6 and SRH, are covered by <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span> as they relate to SR Attacks (Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-7.1">7.1</a>), Service
        Theft (Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-7.2">7.2</a>), and Topology Disclosure (Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-7.3">7.3</a>).


 As such, an
        operator deploying SRv6 <span class="bcp14">MUST</span> follow the considerations described in
        <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-7">Section 7</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span> to implement the infrastructure
        Access Control Lists (ACLs) and the recommendations described in <span><a class="xref" href="#RFC2827">BCP 38</a> [<a class="xref" href="#RFC2827">RFC2827</a>]</span> and <span><a class="xref" href="#RFC3704">BCP 84</a> [<a class="xref" href="#RFC3704">RFC3704</a>]</span>.<a class="pilcrow" href="#section-9.3-3">¶</a></p>
<p id="section-9.3-4">The SRv6 deployment and SID allocation guidelines, as described in
        <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>, simplify the deployment of the ACL filters
        (e.g., a single ACL corresponding to the SRv6 Block applied to the
        external interfaces on border nodes is sufficient to block packets
        destined to any SRv6 SID in the domain from external/unauthorized
        networks). While there is an assumed trust model within an SR domain,
        such that any node sending a packet to an SRv6 SID is assumed to be
        allowed to do so, there is also the option of using an SRH Hashed Message Authentication
 Code (HMAC) TLV <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span>, as described in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>, for validation.<a class="pilcrow" href="#section-9.3-4">¶</a></p>
<p id="section-9.3-5">   The SRv6 Endpoint Behaviors implementing the services signaled
   in this document are defined in <span>[<a class="xref" href="#RFC8986">RFC8986</a>]</span>; hence, the security
   considerations of that document apply. These considerations
        are independent of the protocol used for service deployment, i.e.,
        independent of BGP signaling of SRv6 services.<a class="pilcrow" href="#section-9.3-5">¶</a></p>
<p id="section-9.3-6">These considerations help protect transit traffic as well as
        services, such as VPNs, to avoid service theft or injection of traffic
        into customer VPNs.<a class="pilcrow" href="#section-9.3-6">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2545">[RFC2545]</dt>
        <dd>
<span class="refAuthor">Marques, P.</span> and <span class="refAuthor">F. Dupont</span>, <span class="refTitle">"Use of BGP-4 Multiprotocol Extensions for IPv6 Inter-Domain Routing"</span>, <span class="seriesInfo">RFC 2545</span>, <span class="seriesInfo">DOI 10.17487/RFC2545</span>, <time class="refDate" datetime="1999-03">March 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2545">https://www.rfc-editor.org/info/rfc2545</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time class="refDate" datetime="2006-01">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4364">[RFC4364]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span> and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP/MPLS IP Virtual Private Networks (VPNs)"</span>, <span class="seriesInfo">RFC 4364</span>, <span class="seriesInfo">DOI 10.17487/RFC4364</span>, <time class="refDate" datetime="2006-02">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4364">https://www.rfc-editor.org/info/rfc4364</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4456">[RFC4456]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chen, E.</span>, and <span class="refAuthor">R. Chandra</span>, <span class="refTitle">"BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)"</span>, <span class="seriesInfo">RFC 4456</span>, <span class="seriesInfo">DOI 10.17487/RFC4456</span>, <time class="refDate" datetime="2006-04">April 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4456">https://www.rfc-editor.org/info/rfc4456</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4659">[RFC4659]</dt>
        <dd>
<span class="refAuthor">De Clercq, J.</span>, <span class="refAuthor">Ooms, D.</span>, <span class="refAuthor">Carugi, M.</span>, and <span class="refAuthor">F. Le Faucheur</span>, <span class="refTitle">"BGP-MPLS IP Virtual Private Network (VPN) Extension for IPv6 VPN"</span>, <span class="seriesInfo">RFC 4659</span>, <span class="seriesInfo">DOI 10.17487/RFC4659</span>, <time class="refDate" datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4659">https://www.rfc-editor.org/info/rfc4659</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4760">[RFC4760]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Katz, D.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Multiprotocol Extensions for BGP-4"</span>, <span class="seriesInfo">RFC 4760</span>, <span class="seriesInfo">DOI 10.17487/RFC4760</span>, <time class="refDate" datetime="2007-01">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4760">https://www.rfc-editor.org/info/rfc4760</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6514">[RFC6514]</dt>
        <dd>
<span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Morin, T.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP Encodings and Procedures for Multicast in MPLS/BGP IP VPNs"</span>, <span class="seriesInfo">RFC 6514</span>, <span class="seriesInfo">DOI 10.17487/RFC6514</span>, <time class="refDate" datetime="2012-02">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6514">https://www.rfc-editor.org/info/rfc6514</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7432">[RFC7432]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Isaac, A.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="seriesInfo">RFC 7432</span>, <span class="seriesInfo">DOI 10.17487/RFC7432</span>, <time class="refDate" datetime="2015-02">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7432">https://www.rfc-editor.org/info/rfc7432</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7606">[RFC7606]</dt>
        <dd>
<span class="refAuthor">Chen, E., Ed.</span>, <span class="refAuthor">Scudder, J., Ed.</span>, <span class="refAuthor">Mohapatra, P.</span>, and <span class="refAuthor">K. Patel</span>, <span class="refTitle">"Revised Error Handling for BGP UPDATE Messages"</span>, <span class="seriesInfo">RFC 7606</span>, <span class="seriesInfo">DOI 10.17487/RFC7606</span>, <time class="refDate" datetime="2015-08">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7606">https://www.rfc-editor.org/info/rfc7606</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time class="refDate" datetime="2017-07">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8214">[RFC8214]</dt>
        <dd>
<span class="refAuthor">Boutros, S.</span>, <span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Salam, S.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"Virtual Private Wire Service Support in Ethernet VPN"</span>, <span class="seriesInfo">RFC 8214</span>, <span class="seriesInfo">DOI 10.17487/RFC8214</span>, <time class="refDate" datetime="2017-08">August 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8214">https://www.rfc-editor.org/info/rfc8214</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8277">[RFC8277]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refTitle">"Using BGP to Bind MPLS Labels to Address Prefixes"</span>, <span class="seriesInfo">RFC 8277</span>, <span class="seriesInfo">DOI 10.17487/RFC8277</span>, <time class="refDate" datetime="2017-10">October 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8277">https://www.rfc-editor.org/info/rfc8277</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8317">[RFC8317]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Salam, S.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Uttaro, J.</span>, <span class="refAuthor">Boutros, S.</span>, and <span class="refAuthor">J. Rabadan</span>, <span class="refTitle">"Ethernet-Tree (E-Tree) Support in Ethernet VPN (EVPN) and Provider Backbone Bridging EVPN (PBB-EVPN)"</span>, <span class="seriesInfo">RFC 8317</span>, <span class="seriesInfo">DOI 10.17487/RFC8317</span>, <time class="refDate" datetime="2018-01">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8317">https://www.rfc-editor.org/info/rfc8317</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8365">[RFC8365]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span>, <span class="refAuthor">Drake, J., Ed.</span>, <span class="refAuthor">Bitar, N.</span>, <span class="refAuthor">Shekhar, R.</span>, <span class="refAuthor">Uttaro, J.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"A Network Virtualization Overlay Solution Using Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 8365</span>, <span class="seriesInfo">DOI 10.17487/RFC8365</span>, <time class="refDate" datetime="2018-03">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8365">https://www.rfc-editor.org/info/rfc8365</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time class="refDate" datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8669">[RFC8669]</dt>
        <dd>
<span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Lindem, A., Ed.</span>, <span class="refAuthor">Sreekantiah, A.</span>, and <span class="refAuthor">H. Gredler</span>, <span class="refTitle">"Segment Routing Prefix Segment Identifier Extensions for BGP"</span>, <span class="seriesInfo">RFC 8669</span>, <span class="seriesInfo">DOI 10.17487/RFC8669</span>, <time class="refDate" datetime="2019-12">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8669">https://www.rfc-editor.org/info/rfc8669</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8754">[RFC8754]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Dukes, D., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="seriesInfo">RFC 8754</span>, <span class="seriesInfo">DOI 10.17487/RFC8754</span>, <time class="refDate" datetime="2020-03">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8950">[RFC8950]</dt>
        <dd>
<span class="refAuthor">Litkowski, S.</span>, <span class="refAuthor">Agrawal, S.</span>, <span class="refAuthor">Ananthamurthy, K.</span>, and <span class="refAuthor">K. Patel</span>, <span class="refTitle">"Advertising IPv4 Network Layer Reachability Information (NLRI) with an IPv6 Next Hop"</span>, <span class="seriesInfo">RFC 8950</span>, <span class="seriesInfo">DOI 10.17487/RFC8950</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8950">https://www.rfc-editor.org/info/rfc8950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8986">[RFC8986]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Camarillo, P., Ed.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"Segment Routing over IPv6 (SRv6) Network Programming"</span>, <span class="seriesInfo">RFC 8986</span>, <span class="seriesInfo">DOI 10.17487/RFC8986</span>, <time class="refDate" datetime="2021-02">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9136">[RFC9136]</dt>
        <dd>
<span class="refAuthor">Rabadan, J., Ed.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Lin, W.</span>, and <span class="refAuthor">A. Sajassi</span>, <span class="refTitle">"IP Prefix Advertisement in Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 9136</span>, <span class="seriesInfo">DOI 10.17487/RFC9136</span>, <time class="refDate" datetime="2021-10">October 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9136">https://www.rfc-editor.org/info/rfc9136</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9251">[RFC9251]</dt>
      <dd>
<span class="refAuthor">Sajassi, A.</span>, <span class="refAuthor">Thoria, S.</span>, <span class="refAuthor">Mishra, M.</span>, <span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">W. Lin</span>, <span class="refTitle">"Internet Group Management Protocol (IGMP) and Multicast Listener Discovery (MLD) Proxies for Ethernet VPN (EVPN)"</span>, <span class="seriesInfo">RFC 9251</span>, <span class="seriesInfo">DOI 10.17487/RFC9251</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9251">https://www.rfc-editor.org/info/rfc9251</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-lsr-flex-algo">[IGP-FLEX-ALGO]</dt>
        <dd>
<span class="refAuthor">Psenak, P., Ed.</span>, <span class="refAuthor">Hegde, S.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Talaulikar, K.</span>, and <span class="refAuthor">A. Gulko</span>, <span class="refTitle">"IGP Flexible Algorithm"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-lsr-flex-algo-20</span>, <time class="refDate" datetime="2022-05-18">18 May 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-lsr-flex-algo-20">https://datatracker.ietf.org/doc/html/draft-ietf-lsr-flex-algo-20</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2827">[RFC2827]</dt>
        <dd>
<span class="refAuthor">Ferguson, P.</span> and <span class="refAuthor">D. Senie</span>, <span class="refTitle">"Network Ingress Filtering: Defeating Denial of Service Attacks which employ IP Source Address Spoofing"</span>, <span class="seriesInfo">BCP 38</span>, <span class="seriesInfo">RFC 2827</span>, <span class="seriesInfo">DOI 10.17487/RFC2827</span>, <time class="refDate" datetime="2000-05">May 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2827">https://www.rfc-editor.org/info/rfc2827</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3704">[RFC3704]</dt>
        <dd>
<span class="refAuthor">Baker, F.</span> and <span class="refAuthor">P. Savola</span>, <span class="refTitle">"Ingress Filtering for Multihomed Networks"</span>, <span class="seriesInfo">BCP 84</span>, <span class="seriesInfo">RFC 3704</span>, <span class="seriesInfo">DOI 10.17487/RFC3704</span>, <time class="refDate" datetime="2004-03">March 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3704">https://www.rfc-editor.org/info/rfc3704</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4272">[RFC4272]</dt>
        <dd>
<span class="refAuthor">Murphy, S.</span>, <span class="refTitle">"BGP Security Vulnerabilities Analysis"</span>, <span class="seriesInfo">RFC 4272</span>, <span class="seriesInfo">DOI 10.17487/RFC4272</span>, <time class="refDate" datetime="2006-01">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4272">https://www.rfc-editor.org/info/rfc4272</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5925">[RFC5925]</dt>
        <dd>
<span class="refAuthor">Touch, J.</span>, <span class="refAuthor">Mankin, A.</span>, and <span class="refAuthor">R. Bonica</span>, <span class="refTitle">"The TCP Authentication Option"</span>, <span class="seriesInfo">RFC 5925</span>, <span class="seriesInfo">DOI 10.17487/RFC5925</span>, <time class="refDate" datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5925">https://www.rfc-editor.org/info/rfc5925</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6513">[RFC6513]</dt>
        <dd>
<span class="refAuthor">Rosen, E., Ed.</span> and <span class="refAuthor">R. Aggarwal, Ed.</span>, <span class="refTitle">"Multicast in MPLS/BGP IP VPNs"</span>, <span class="seriesInfo">RFC 6513</span>, <span class="seriesInfo">DOI 10.17487/RFC6513</span>, <time class="refDate" datetime="2012-02">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6513">https://www.rfc-editor.org/info/rfc6513</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6952">[RFC6952]</dt>
        <dd>
<span class="refAuthor">Jethanandani, M.</span>, <span class="refAuthor">Patel, K.</span>, and <span class="refAuthor">L. Zheng</span>, <span class="refTitle">"Analysis of BGP, LDP, PCEP, and MSDP Issues According to the Keying and Authentication for Routing Protocols (KARP) Design Guide"</span>, <span class="seriesInfo">RFC 6952</span>, <span class="seriesInfo">DOI 10.17487/RFC6952</span>, <time class="refDate" datetime="2013-05">May 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6952">https://www.rfc-editor.org/info/rfc6952</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9012">[RFC9012]</dt>
        <dd>
<span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Van de Velde, G.</span>, <span class="refAuthor">Sangli, S.</span>, and <span class="refAuthor">J. Scudder</span>, <span class="refTitle">"The BGP Tunnel Encapsulation Attribute"</span>, <span class="seriesInfo">RFC 9012</span>, <span class="seriesInfo">DOI 10.17487/RFC9012</span>, <time class="refDate" datetime="2021-04">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9012">https://www.rfc-editor.org/info/rfc9012</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-spring-segment-routing-policy">[SEGMENT-ROUTING-POLICY]</dt>
      <dd>
<span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Talaulikar, K., Ed.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Bogdanov, A.</span>, and <span class="refAuthor">P. Mattes</span>, <span class="refTitle">"Segment Routing Policy Architecture"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-segment-routing-policy-22</span>, <time class="refDate" datetime="2022-03-22">22 March 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-spring-segment-routing-policy-22">https://datatracker.ietf.org/doc/html/draft-ietf-spring-segment-routing-policy-22</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="ACK">
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">The authors of this document would like to thank <span class="contact-name">Stephane       Litkowski</span>, <span class="contact-name">Rishabh Parekh</span>, <span class="contact-name">Xiejingrong</span>,
      <span class="contact-name">Rajesh M.</span>, <span class="contact-name">Mustapha Aissaoui</span>,
      <span class="contact-name">Alexander Vainshtein</span>, <span class="contact-name">Eduard Metz</span>,
      <span class="contact-name">Shraddha Hegde</span>, <span class="contact-name">Eduard Vasilenko</span>,
      <span class="contact-name">Ron Bonica</span>, and <span class="contact-name">Joel Halpern</span>
      for their comments and review of this document. The
      authors would also like to thank Document Shepherd <span class="contact-name">Matthew Bocci</span> for his review and AD <span class="contact-name">Martin Vigoureux</span> for his review that
      resulted in helpful comments for improving this document.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
</section>
</div>
<section id="appendix-B">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Clarence Filsfils</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cfilsfil@cisco.com">cfilsfil@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Satoru Matsushima</span></div>
<div class="left" dir="auto"><span class="org">SoftBank</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:satoru.matsushima@g.softbank.co.jp">satoru.matsushima@g.softbank.co.jp</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Dirk Steinberg</span></div>
<div class="left" dir="auto"><span class="org">Steinberg Consulting</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:dirk@lapishills.com">dirk@lapishills.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Daniel Bernier</span></div>
<div class="left" dir="auto"><span class="org">Bell Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:daniel.bernier@bell.ca">daniel.bernier@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Daniel Voyer</span></div>
<div class="left" dir="auto"><span class="org">Bell Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:daniel.voyer@bell.ca">daniel.voyer@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jonn Leddy</span></div>
<div class="left" dir="auto"><span class="org">Individual</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:john@leddy.net">john@leddy.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Swadesh Agrawal</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:swaagraw@cisco.com">swaagraw@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Patrice Brissette</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pbrisset@cisco.com">pbrisset@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ali Sajassi</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:sajassi@cisco.com">sajassi@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Bart Peirens</span></div>
<div class="left" dir="auto"><span class="org">Proximus</span></div>
<div class="left" dir="auto"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:bart.peirens@proximus.com">bart.peirens@proximus.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Darren Dukes</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ddukes@cisco.com">ddukes@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Pablo Camarilo</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pcamaril@cisco.com">pcamaril@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Shyam Sethuram</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:shyam.ioml@gmail.com">shyam.ioml@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Zafar Ali</span></div>
<div class="left" dir="auto"><span class="org">Cisco</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:zali@cisco.com">zali@cisco.com</a>
</div>
</address>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Gaurav Dawra (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">LinkedIn</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:gdawra.ietf@gmail.com">gdawra.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ketan Talaulikar (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems</span></div>
<div class="left" dir="auto"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ketant.ietf@gmail.com">ketant.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Robert Raszuk</span></div>
<div class="left" dir="auto"><span class="org">NTT Network Innovations</span></div>
<div class="left" dir="auto"><span class="street-address">940 Stewart Dr.</span></div>
<div class="left" dir="auto">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> <span class="postal-code">94085</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:robert@raszuk.net">robert@raszuk.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Bruno Decraene</span></div>
<div class="left" dir="auto"><span class="org">Orange</span></div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:bruno.decraene@orange.com">bruno.decraene@orange.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Shunwan Zhuang</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:zhuangshunwan@huawei.com">zhuangshunwan@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jorge Rabadan</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jorge.rabadan@nokia.com">jorge.rabadan@nokia.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>