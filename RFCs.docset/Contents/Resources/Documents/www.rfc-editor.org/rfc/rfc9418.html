<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9418: A YANG Data Model for Service Assurance</title>
<meta content="Benoit Claise" name="author"/>
<meta content="Jean Quilbeuf" name="author"/>
<meta content="Paolo Lucente" name="author"/>
<meta content="Paolo Fasano" name="author"/>
<meta content="Thangavelu Arumugam" name="author"/>
<meta content='
       
        This document specifies YANG modules for representing assurance graphs.
        These graphs represent the assurance of a given service by decomposing it into atomic assurance elements called subservices.
        The companion document, "Service Assurance for Intent-Based Networking Architecture" (RFC 9417), presents an architecture for implementing the assurance of such services.
       
       
        The YANG data models in this document conform to the Network Management Datastore Architecture (NMDA) defined in RFC 8342.
       
    ' name="description"/>
<meta content="xml2rfc 3.17.4" name="generator"/>
<meta content="health" name="keyword"/>
<meta content="SAIN" name="keyword"/>
<meta content="subservice" name="keyword"/>
<meta content="symptom" name="keyword"/>
<meta content="telemetry" name="keyword"/>
<meta content="9418" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.17.4
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9418.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef,
.iref + a[href].internal {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9418" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-opsawg-service-assurance-yang-11" rel="prev"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9418</td>
<td class="center">A YANG Data Model for Service Assurance</td>
<td class="right">July 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Claise, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9418">9418</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2023-07">July 2023</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Claise</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">J. Quilbeuf</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">P. Lucente</div>
<div class="org">NTT</div>
</div>
<div class="author">
      <div class="author-name">P. Fasano</div>
<div class="org">TIM S.p.A</div>
</div>
<div class="author">
      <div class="author-name">T. Arumugam</div>
<div class="org">Consultant</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9418</h1>
<h1 id="title">A YANG Data Model for Service Assurance</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
        This document specifies YANG modules for representing assurance graphs.
        These graphs represent the assurance of a given service by decomposing it into atomic assurance elements called subservices.
        The companion document, "Service Assurance for Intent-Based Networking Architecture" (RFC 9417), presents an architecture for implementing the assurance of such services.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">
        The YANG data models in this document conform to the Network Management Datastore Architecture (NMDA) defined in RFC 8342.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9418">https://www.rfc-editor.org/info/rfc9418</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-terminology">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-yang-modules-overview">YANG Modules Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-base-ietf-service-assurance">Base IETF Service Assurance YANG Module</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-concepts">Concepts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-tree-view">Tree View</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="auto internal xref" href="#section-3.3">3.3</a>.  <a class="internal xref" href="#name-yang-module">YANG Module</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="auto internal xref" href="#section-3.4">3.4</a>.  <a class="internal xref" href="#name-rejecting-circular-dependen">Rejecting Circular Dependencies</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-guidelines-for-defining-new">Guidelines for Defining New Subservice Types</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-subservice-augmentation-iet">Subservice Augmentation: "ietf-service-assurance-device" YANG Module</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-tree-view-2">Tree View</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-concepts-2">Concepts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="auto internal xref" href="#section-5.3">5.3</a>.  <a class="internal xref" href="#name-yang-module-2">YANG Module</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-subservice-augmentation-ietf">Subservice Augmentation: "ietf-service-assurance-interface" YANG Module</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#section-6.1">6.1</a>.  <a class="internal xref" href="#name-tree-view-3">Tree View</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="auto internal xref" href="#section-6.2">6.2</a>.  <a class="internal xref" href="#name-concepts-3">Concepts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="auto internal xref" href="#section-6.3">6.3</a>.  <a class="internal xref" href="#name-yang-module-3">YANG Module</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="auto internal xref" href="#section-8.1">8.1</a>.  <a class="internal xref" href="#name-the-ietf-xml-registry">The IETF XML Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="auto internal xref" href="#section-8.2">8.2</a>.  <a class="internal xref" href="#name-the-yang-module-names-regis">The YANG Module Names Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="auto internal xref" href="#section-9.1">9.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="auto internal xref" href="#section-9.2">9.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-vendor-specific-subservice-">Vendor-Specific Subservice Augmentation: "example-service-assurance-device-acme" YANG Module</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="auto internal xref" href="#appendix-A.1">A.1</a>.  <a class="internal xref" href="#name-tree-view-4">Tree View</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="auto internal xref" href="#appendix-A.2">A.2</a>.  <a class="internal xref" href="#name-concepts-4">Concepts</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a class="auto internal xref" href="#appendix-A.3">A.3</a>.  <a class="internal xref" href="#name-yang-module-4">YANG Module</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#appendix-B">Appendix B</a>.  <a class="internal xref" href="#name-further-augmentations-ip-co">Further Augmentations: IP Connectivity and IS-IS Subservices</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="auto internal xref" href="#appendix-B.1">B.1</a>.  <a class="internal xref" href="#name-ip-connectivity-module-tree">IP Connectivity Module Tree View</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="auto internal xref" href="#appendix-B.2">B.2</a>.  <a class="internal xref" href="#name-is-is-module-tree-view">IS-IS Module Tree View</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a class="auto internal xref" href="#appendix-B.3">B.3</a>.  <a class="internal xref" href="#name-global-tree-view">Global Tree View</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a class="auto internal xref" href="#appendix-B.4">B.4</a>.  <a class="internal xref" href="#name-ip-connectivity-yang-module">IP Connectivity YANG Module</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.5">
                <p id="section-toc.1-1.11.2.5.1"><a class="auto internal xref" href="#appendix-B.5">B.5</a>.  <a class="internal xref" href="#name-is-is-yang-module">IS-IS YANG Module</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-C">Appendix C</a>.  <a class="internal xref" href="#name-example-of-a-yang-instance">Example of a YANG Instance</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#appendix-D">Appendix D</a>.  <a class="internal xref" href="#name-yang-library-for-service-as">YANG Library for Service Assurance</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="auto internal xref" href="#appendix-E"></a><a class="internal xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="auto internal xref" href="#appendix-F"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
        <span>[<a class="cite xref" href="#RFC9417">RFC9417</a>]</span> describes an architecture and a set of involved components for service assurance, called Service Assurance for Intent-based Networking (SAIN).
        This document complements the architecture by specifying a data model for the interfaces between components.
        More specifically, the document provides YANG modules for the purpose of service assurance in a format that is:<a class="pilcrow" href="#section-1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-2.1">machine readable,<a class="pilcrow" href="#section-1-2.1">¶</a>
</li>
        <li class="normal" id="section-1-2.2">vendor independent, and<a class="pilcrow" href="#section-1-2.2">¶</a>
</li>
        <li class="normal" id="section-1-2.3">augmentable such that SAIN agents from Figure 1 of <span>[<a class="cite xref" href="#RFC9417">RFC9417</a>]</span> can support and expose new subservices to SAIN orchestrators and collectors.<a class="pilcrow" href="#section-1-2.3">¶</a>
</li>
      </ul>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">
             The terms used in this document are defined in <span>[<a class="cite xref" href="#RFC9417">RFC9417</a>]</span>.<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<p id="section-1.1-3">
            The meanings of the symbols in the tree diagrams are defined in <span>[<a class="cite xref" href="#RFC8340">RFC8340</a>]</span>.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="capability_model">
<section id="section-2">
      <h2 id="name-yang-modules-overview">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-yang-modules-overview">YANG Modules Overview</a>
      </h2>
<p id="section-2-1">
        The main YANG module,  "ietf-service-assurance" (<a class="auto internal xref" href="#main-module">Section 3</a>), defines objects for assuring network services based on their decomposition into so-called subservices.
        The subservices are hierarchically organized by dependencies.
        The subservices, along with the dependencies, constitute an assurance graph.
        This module should be supported by an agent that is able to interact with the devices in order to produce the health statuses and symptoms for each subservice in an assurance graph.

        This module is intended for the following use cases:<a class="pilcrow" href="#section-2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1">
          <p id="section-2-2.1.1">
            Assurance graph configuration:<a class="pilcrow" href="#section-2-2.1.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1.2.1">
                Subservices: Configure a set of subservices to assure by specifying their types and parameters.<a class="pilcrow" href="#section-2-2.1.2.1">¶</a>
</li>
            <li class="normal" id="section-2-2.1.2.2">
                Dependencies: Configure the dependencies between the subservices, along with their types.<a class="pilcrow" href="#section-2-2.1.2.2">¶</a>
</li>
          </ul>
</li>
        <li class="normal" id="section-2-2.2">
            Assurance telemetry: Export the assurance graph with health statuses and symptoms for each node.<a class="pilcrow" href="#section-2-2.2">¶</a>
</li>
      </ul>
<p id="section-2-3">
        The module is also intended to be exported by the SAIN collector that aggregates the output of several SAIN agents to provide the global assurance graph.
        In that case, only the telemetry export use case is considered.<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4">
         The modules presented in this document conform to the Network Management Datastore Architecture (NMDA) defined in <span>[<a class="cite xref" href="#RFC8342">RFC8342</a>]</span>.<a class="pilcrow" href="#section-2-4">¶</a></p>
<p id="section-2-5">
        The second YANG module, "ietf-service-assurance-device" (<a class="auto internal xref" href="#device-module">Section 5</a>), augments the "ietf-service-assurance" module by adding support for the device subservice.
        Additional subservice types might be added following a similar approach.<a class="pilcrow" href="#section-2-5">¶</a></p>
<p id="section-2-6">
        The third YANG module, "ietf-service-assurance-interface" (<a class="auto internal xref" href="#interface-module">Section 6</a>), augments the "ietf-service-assurance" module as well by adding support for the interface subservice.<a class="pilcrow" href="#section-2-6">¶</a></p>
<p id="section-2-7">
        We provide additional examples in the appendix.
        The module "example-service-assurance-device-acme" (<a class="auto internal xref" href="#acme-device-module">Appendix A</a>) augments the "ietf-service-assurance-device" module to customize it for devices of the fictional Acme Corporation.
        Additional vendor-specific parameters might be added following a similar approach.
        We also provide the modules "example-service-assurance-ip-connectivity" and "example-service-assurance-is-is" (<a class="auto internal xref" href="#ip-connectivity-is-is">Appendix B</a>) to model the example in Figure 2 from <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9417#section-3.1">Section 3.1</a> of [<a class="cite xref" href="#RFC9417">RFC9417</a>]</span>.<a class="pilcrow" href="#section-2-7">¶</a></p>
</section>
</div>
<div id="main-module">
<section id="section-3">
      <h2 id="name-base-ietf-service-assurance">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-base-ietf-service-assurance">Base IETF Service Assurance YANG Module</a>
      </h2>
<div id="ietf-service-assurance-concepts">
<section id="section-3.1">
        <h3 id="name-concepts">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-concepts">Concepts</a>
        </h3>
<p id="section-3.1-1">
          The "ietf-service-assurance" YANG module assumes a set of subservices to be assured independently.
          A subservice is a feature or a subpart of the network system that a given service instance depends on. Examples of subservice types include the following:<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-2.1">
              device: Whether a device is healthy, and if not, what are the symptoms?
              Such a subservice might monitor the device resources, such as CPU, RAM, or Ternary Content-Addressable Memory (TCAM).
              Potential symptoms are "CPU overloaded", "Out of RAM", or "Out of TCAM".<a class="pilcrow" href="#section-3.1-2.1">¶</a>
</li>
          <li class="normal" id="section-3.1-2.2">
              ip-connectivity: Given two IP addresses bound to two devices, what is the quality of the IP connectivity between them?
              Potential symptoms are "No route available" or "Equal-Cost Multipaths (ECMPs) imbalance".<a class="pilcrow" href="#section-3.1-2.2">¶</a>
</li>
        </ul>
<p id="section-3.1-3">
          An instance of the device subservice is representing a subpart of the network system, namely a specific device.
          An instance of the ip-connectivity subservice is representing a feature of the network, namely the connectivity between two specific IP addresses on two devices.
          In both cases, these subservices might depend on other subservices, for instance, the connectivity might depend on a subservice representing the routing system and on a subservice representing ECMPs.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">
          The two example subservices presented above need different sets of parameters to fully characterize one of their instances.
          An instance of the device subservice is fully characterized by a single parameter allowing to identify the device to monitor.
          For the ip-connectivity subservice, at least the device and IP address for both ends of the link are needed to fully characterize an instance.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<p id="section-3.1-5">
          The base model presented in this section specifies a single type of subservice, which represents service instances.
          Such nodes play a particular role in the assurance graph because they represent the starting point, or root, for the assurance graph of the corresponding service instance.
          The parameters required to fully identify a service instance are the name of the service and the name of the service instance.
          To support other types of subservices, such as device or ip-connectivity,  the "ietf-service-assurance" module is intended to be augmented.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
<p id="section-3.1-6">
          The dependencies are modeled as a list, i.e., each subservice contains a list of references to its dependencies.
          That list can be empty if the subservice instance does not have any dependencies.<a class="pilcrow" href="#section-3.1-6">¶</a></p>
<p id="section-3.1-7">
          By specifying service instances and their dependencies in terms of subservices, one defines a global assurance graph.
          That assurance graph is the result of merging all the individual assurance graphs for the assured service instances.
          Each subservice instance is expected to appear only once in the global assurance graph even if several service instances depend on it.
          For example, an instance of the device subservice is a dependency of every service instance that relies on the corresponding device.
          The assurance graph of a specific service instance is the subgraph obtained by traversing the global assurance graph through the dependencies, starting from the specific service instance.<a class="pilcrow" href="#section-3.1-7">¶</a></p>
<p id="section-3.1-8">
          An assurance agent configured with such a graph is expected to produce, for each configured subservice,
          a health status that indicates how healthy the subservice is.
   If the subservice is not healthy, the agent is expected to produce a list of symptoms explaining why the subservice is not healthy.<a class="pilcrow" href="#section-3.1-8">¶</a></p>
</section>
</div>
<div id="ietf-service-assurance-tree-view">
<section id="section-3.2">
        <h3 id="name-tree-view">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-tree-view">Tree View</a>
        </h3>
<p id="section-3.2-1">
        The following tree diagram <span>[<a class="cite xref" href="#RFC8340">RFC8340</a>]</span>
        provides an overview of the "ietf-service-assurance" module.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<div class="lang-yangtree sourcecode" id="section-3.2-2">
<pre>module: ietf-service-assurance
  +--ro assurance-graph-last-change    yang:date-and-time
  +--rw subservices
  |  +--rw subservice* [type id]
  |     +--rw type                                identityref
  |     +--rw id                                  string
  |     +--ro last-change?                        yang:date-and-time
  |     +--ro label?                              string
  |     +--rw under-maintenance!
  |     |  +--rw contact    string
  |     +--rw (parameter)
  |     |  +--:(service-instance-parameter)
  |     |     +--rw service-instance-parameter
  |     |        +--rw service          string
  |     |        +--rw instance-name    string
  |     +--ro health-score                        int8
  |     +--ro symptoms-history-start?             yang:date-and-time
  |     +--ro symptoms
  |     |  +--ro symptom* [start-date-time agent-id symptom-id]
  |     |     +--ro symptom-id             leafref
  |     |     +--ro agent-id               -&gt; /agents/agent/id
  |     |     +--ro health-score-weight?   uint8
  |     |     +--ro start-date-time        yang:date-and-time
  |     |     +--ro stop-date-time?        yang:date-and-time
  |     +--rw dependencies
  |        +--rw dependency* [type id]
  |           +--rw type
  |           |       -&gt; /subservices/subservice/type
  |           +--rw id                 leafref
  |           +--rw dependency-type?   identityref
  +--ro agents
  |  +--ro agent* [id]
  |     +--ro id          string
  |     +--ro symptoms* [id]
  |        +--ro id             string
  |        +--ro description    string
  +--ro assured-services
     +--ro assured-service* [service]
        +--ro service      leafref
        +--ro instances* [name]
           +--ro name           leafref
           +--ro subservices* [type id]
              +--ro type    -&gt; /subservices/subservice/type
              +--ro id      leafref
</pre><a class="pilcrow" href="#section-3.2-2">¶</a>
</div>
<p id="section-3.2-3">
          The date of the last change in "assurance-graph-last-change" is read only.
          It must be updated each time the graph structure is changed by addition or deletion of subservices and dependencies or modifications of their configurable attributes, including their maintenance statuses.
          Such modifications correspond to a structural change in the graph.
          The date of the last change is useful for a client to quickly check if there is a need to update the graph structure.
          A change in the health score or symptoms associated to a service or subservice does not change the structure of the graph, and thus has no effect on the date of the last change.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">
          The "subservices" list contains all the subservice instances currently known by the server (i.e., SAIN agent or SAIN collector).
          A subservice declaration <span class="bcp14">MUST</span> provide the following:<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-5.1">
              a subservice type ("type"): a reference to an identity that inherits from "subservice-base", which is the base identity for any subservice type<a class="pilcrow" href="#section-3.2-5.1">¶</a>
</li>
          <li class="normal" id="section-3.2-5.2">
              an id ("id"): a string uniquely identifying the subservice among those with the same type<a class="pilcrow" href="#section-3.2-5.2">¶</a>
</li>
        </ul>
<p id="section-3.2-6">
          The type and id uniquely identify a given subservice.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
<p id="section-3.2-7">
            The "last-change" indicates when the dependencies or maintenance status of this particular subservice were last modified.<a class="pilcrow" href="#section-3.2-7">¶</a></p>
<p id="section-3.2-8">
            The "label" is a human-readable description of the subservice.<a class="pilcrow" href="#section-3.2-8">¶</a></p>
<p id="section-3.2-9">
          The presence of the "under-maintenance" container inhibits the emission of symptoms for the subservice and subservices that depend on them.
          In that case, a "contact" <span class="bcp14">MUST</span> be provided to indicate who or which software is responsible for the maintenance.
          See <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9417#section-3.6">Section 3.6</a> of [<a class="cite xref" href="#RFC9417">RFC9417</a>]</span> for a more detailed discussion.<a class="pilcrow" href="#section-3.2-9">¶</a></p>
<p id="section-3.2-10">
          The "parameter" choice is intended to be augmented in order to describe parameters that are specific to the current subservice type.
          This base module defines only the subservice type representing service instances.
          Service instances <span class="bcp14">MUST</span> be modeled as a particular type of subservice with two parameters: "service" and "instance-name".
          The "service" parameter is the name of the service defined in the network orchestrator, for instance, "point-to-point-l2vpn".
          The "instance-name" parameter is the name assigned to the particular instance to be assured, for instance, the name of the customer using that instance.<a class="pilcrow" href="#section-3.2-10">¶</a></p>
<p id="section-3.2-11">
          The "health-score" contains a value normally between 0 and 100, indicating how healthy the subservice is.
          As mentioned in the health score definition, the special value -1 can be used to specify that no value could be computed for that health score, for instance, if some metric needed for that computation could not be collected.<a class="pilcrow" href="#section-3.2-11">¶</a></p>
<p id="section-3.2-12">
          The "symptoms-history-start" is the cutoff date for reporting symptoms.
          Symptoms that were terminated before that date are not reported anymore in the model.<a class="pilcrow" href="#section-3.2-12">¶</a></p>
<p id="section-3.2-13">
          The status of each subservice contains a list of symptoms.
          Each symptom is specified by:<a class="pilcrow" href="#section-3.2-13">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-14.1"> an identifier "symptom-id", which identifies the symptom locally to an agent,<a class="pilcrow" href="#section-3.2-14.1">¶</a>
</li>
          <li class="normal" id="section-3.2-14.2"> an agent identifier "agent-id", which identifies the agent raising the symptom,<a class="pilcrow" href="#section-3.2-14.2">¶</a>
</li>
          <li class="normal" id="section-3.2-14.3"> a "health-score-weight" specifying  the impact to the health score incurred by this symptom,<a class="pilcrow" href="#section-3.2-14.3">¶</a>
</li>
          <li class="normal" id="section-3.2-14.4"> a "start-date-time" indicating when the symptom became active, and<a class="pilcrow" href="#section-3.2-14.4">¶</a>
</li>
          <li class="normal" id="section-3.2-14.5"> a "stop-date-time" indicating when the symptom stopped being active (this field is not present if the symptom is still active).<a class="pilcrow" href="#section-3.2-14.5">¶</a>
</li>
        </ul>
<p id="section-3.2-15">
          In order for the pair "agent-id" and "symptom-id" to uniquely identify a symptom, the following is necessary:<a class="pilcrow" href="#section-3.2-15">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-16.1"> "agent-id" <span class="bcp14">MUST</span> be unique among all agents of the system.<a class="pilcrow" href="#section-3.2-16.1">¶</a>
</li>
          <li class="normal" id="section-3.2-16.2"> "symptom-id" <span class="bcp14">MUST</span> be unique among all symptoms raised by the agent.<a class="pilcrow" href="#section-3.2-16.2">¶</a>
</li>
        </ul>
<p id="section-3.2-17">
          Note that "agent-id" and "symptom-id" are leafrefs pointing to the objects defined later in the document.
          While the combination of "symptom-id" and "agent-id" is sufficient as a unique key list, the "start-date-time" second key helps to sort and retrieve relevant symptoms.<a class="pilcrow" href="#section-3.2-17">¶</a></p>
<p id="section-3.2-18">
          The "dependency" list contains the dependencies for the current subservice.
          Each of them is specified by a leafref to both "type" and "id" of the target dependencies.
          A dependency has a type indicated in the "dependency-type" field. Two types are specified in the model:<a class="pilcrow" href="#section-3.2-18">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-19.1">Impacting: Such a dependency indicates an impact on the health of the dependent.<a class="pilcrow" href="#section-3.2-19.1">¶</a>
</li>
          <li class="normal" id="section-3.2-19.2">Informational: Such a dependency might explain why the dependent has issues but does not impact its health.<a class="pilcrow" href="#section-3.2-19.2">¶</a>
</li>
        </ul>
<p id="section-3.2-20">
          To illustrate the difference between "impacting" and "informational", consider the interface subservice representing a network interface.
          If the device to which the network interface belongs goes down, the network interface will transition to a "down" state as well.
          Therefore, the dependency of the interface subservice towards the device subservice is "impacting".
          On the other hand, a dependency towards the ecmp-load subservice, which checks that the load between ECMPs remains stable throughout time, is only "informational".
          Indeed, services might be perfectly healthy even if the load distribution between ECMPs changed.
          However, such an instability might be a relevant symptom for diagnosing the root cause of a problem.<a class="pilcrow" href="#section-3.2-20">¶</a></p>
<p id="section-3.2-21">
          Within the container "agents", the list "agent" contains the list of symptoms per agent.
          The key of the list is the "id", which <span class="bcp14">MUST</span> be unique among agents of a given assurance system.
          For each agent, the list "symptoms-description" maps an "id" to its "description".
          The "id" <span class="bcp14">MUST</span> be unique among the symptoms raised by the agent.<a class="pilcrow" href="#section-3.2-21">¶</a></p>
<p id="section-3.2-22">
          Within the container "assured-services", the list "assured-service" contains the subservices indexed by assured service instances.
          For each service type identified by the "service" leaf, all instances of that service are listed in the "instances" list.
          For each instance identified by the "name" leaf,  the "subservices" list contains all descendant subservices that are part of the assurance graph for that specific instance.
          These imbricated lists provide a query optimization to get the list of subservices in that assurance graph in a single query instead of recursively querying the dependencies of each subservice, starting from the node representing the service instance.<a class="pilcrow" href="#section-3.2-22">¶</a></p>
<p id="section-3.2-23">
          The relation between the health score ("health-score") and the "health-score-weight" of the currently active symptoms is not explicitly defined in this document.
          The only requirement is that a health score that is strictly smaller than 100 (the maximal value) must be explained by at least one symptom.
          A way to enforce that requirement is to first detect symptoms and then compute the health score based on the "health-score-weight" of the detected symptoms.
          As an example, such a computation could be to sum the "health-score-weight" of the active symptoms, subtract that value from 100, and change the value to 0 if the result is negative.
          The relation between health score and "health-score-weight" is left to the implementor (of an agent <span>[<a class="cite xref" href="#RFC9417">RFC9417</a>]</span>).<a class="pilcrow" href="#section-3.2-23">¶</a></p>
<p id="section-3.2-24">
          Keeping the history of the graph structure is out of scope for this YANG module.
          Only the current version of the assurance graph can be fetched.
          In order to keep the history of the graph structure, some time-series database (TSDB) or similar storage must be used.<a class="pilcrow" href="#section-3.2-24">¶</a></p>
</section>
</div>
<div id="ietf-service-assurance-yang-model">
<section id="section-3.3">
        <h3 id="name-yang-module">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-yang-module">YANG Module</a>
        </h3>
<p id="section-3.3-1"> This model contains references to <span>[<a class="cite xref" href="#RFC6991">RFC6991</a>]</span>.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<div class="breakable lang-yang sourcecode" id="section-3.3-2">
<pre>&lt;CODE BEGINS&gt; file "ietf-service-assurance@2023-07-11.yang"

module ietf-service-assurance {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-service-assurance";
  prefix sain;

  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Data Types";
  }

  organization
    "IETF OPSAWG Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/opsawg/&gt;
     WG List:  &lt;mailto:opsawg@ietf.org&gt;
     Author:   Benoit Claise  &lt;mailto:benoit.claise@huawei.com&gt;
     Author:   Jean Quilbeuf   &lt;mailto:jean.quilbeu@huawei.com&gt;";
  description
    "This module defines objects for assuring services based on their
     decomposition into so-called subservices, according to the
     Service Assurance for Intent-based Networking (SAIN)
     architecture.

     The subservices hierarchically organized by dependencies
     constitute an assurance graph.  This module should be supported
     by an assurance agent that is able to interact with the devices
     in order to produce the health status and symptoms for each
     subservice in the assurance graph.

     This module is intended for the following use cases:
     * Assurance graph configuration:
       - Subservices: Configure a set of subservices to assure by
         specifying their types and parameters.
       - Dependencies: Configure the dependencies between the
         subservices, along with their type.
     * Assurance telemetry: Export the health statuses of the
       subservices, along with the observed symptoms.

     Copyright (c) 2023 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Revised BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 9418; see the
     RFC itself for full legal notices.  ";

  revision 2023-07-11 {
    description
      "Initial version.";
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  identity subservice-base {
    description
      "Base identity for subservice types.";
  }

  identity service-instance-type {
    base subservice-base;
    description
      "Specific type of subservice that represents a service
       instance.  Instance of this type will depend on other
       subservices to build the top of the assurance graph.";
  }

  identity dependency-type {
    description
      "Base identity for representing dependency types.";
  }

  identity informational {
    base dependency-type;
    description
      "Indicates that symptoms of the dependency might be of interest
       for the dependent, but the status of the dependency should not
       have any impact on the dependent.";
  }

  identity impacting {
    base dependency-type;
    description
      "Indicates that the status of the dependency directly impacts
       the status of the dependent.";
  }

  grouping subservice-reference {
    description
      "Reference to a specific subservice identified by its type and
       identifier.  This grouping is only for internal use in this
       module.";
    leaf type {
      type leafref {
        path "/subservices/subservice/type";
      }
      description
        "The type of the subservice to refer to (e.g., device).";
    }
    leaf id {
      type leafref {
        path "/subservices/subservice[type=current()/../type]/id";
      }
      description
        "The identifier of the subservice to refer to.";
    }
  }

  grouping subservice-dependency {
    description
      "Represents a dependency to another subservice.  This grouping
       is only for internal use in this module";
    uses subservice-reference;
    leaf dependency-type {
      type identityref {
        base dependency-type;
      }
      description
        "Represents the type of dependency (e.g., informational or
         impacting).";
    }
  }

  leaf assurance-graph-last-change {
    type yang:date-and-time;
    config false;
    mandatory true;
    description
      "Time and date at which the assurance graph last changed after
       any structural changes (dependencies and/or maintenance
       windows parameters) are applied to the subservice(s).  The
       time and date must be the same or more recent than the most
       recent value of any changed subservices last-change time and
       date.";
  }
  container subservices {
    description
      "Root container for the subservices.";
    list subservice {
      key "type id";
      description
        "List of configured subservices.";
      leaf type {
        type identityref {
          base subservice-base;
        }
        description
          "Type of the subservice identifying the type of the part
           or functionality that is being assured by this list
           entry, for instance, interface, device, or
           ip-connectivity.";
      }
      leaf id {
        type string;
        description
          "Identifier of the subservice instance.  Must be unique
           among subservices of the same type.";
      }
      leaf last-change {
        type yang:date-and-time;
        config false;
        description
          "Date and time at which the structure for this
           subservice instance last changed, i.e., dependencies
           and/or maintenance windows parameters.";
      }
      leaf label {
        type string;
        config false;
        description
          "Label of the subservice, i.e., text describing what the
           subservice is to be displayed on a human interface.

           It is not intended for random end users but for
           network/system/software engineers that are able to
           interpret it.  Therefore, no mechanism for language
           tagging is needed.";
      }
      container under-maintenance {
        presence "true";
        description
          "The presence of this container indicates that the current
           subservice is under maintenance.";
        leaf contact {
          type string;
          mandatory true;
          description
            "A string used to model an administratively assigned name
             of the resource that is performing maintenance.

             It is suggested that this freeform field, which could be
             a URI, contains one or more of the following: IP
             address, management station name, network manager's
             name, location, and/or phone number.  It might even
             contain the expected maintenance time.

             In some cases, the agent itself will be the owner of an
             entry.  In these cases, this string shall be set to a
             string starting with 'monitor'.";
        }
      }
      choice parameter {
        mandatory true;
        description
          "Specify the required parameters per subservice type.  Each
           module augmenting this module with a new subservice type
           that is a new identity based on subservice-base should
           augment this choice as well by adding a container
           available only if the current subservice type is
           the newly added identity.";
        container service-instance-parameter {
          when "derived-from-or-self(../type,
                'sain:service-instance-type')";
          description
            "Specify the parameters of a service instance.";
          leaf service {
            type string;
            mandatory true;
            description
              "Name of the service.";
          }
          leaf instance-name {
            type string;
            mandatory true;
            description
              "Name of the instance for that service.";
          }
        }
        // Other modules can augment their own cases into here.
      }
      leaf health-score {
        type int8 {
          range "-1 .. 100";
        }
        config false;
        mandatory true;
        description
          "Score value of the subservice health.  A value of 100
           means that the subservice is healthy.  A value of 0 means
           that the subservice is broken.  A value between 0 and 100
           means that the subservice is degraded. The special value
           -1 means that the health score could not be computed.";
      }
      leaf symptoms-history-start {
        type yang:date-and-time;
        config false;
        description
          "Date and time at which the symptom's history starts for
           this subservice instance, either because the subservice
           instance started at that date and time or because the
           symptoms before that were removed due to a garbage
           collection process.";
      }
      container symptoms {
        config false;
        description
          "Symptoms for the subservice.";
        list symptom {
          key "start-date-time agent-id symptom-id";
          unique "agent-id symptom-id";
          description
            "List of symptoms of the subservice.  While the
             start-date-time key is not necessary per se, this would
             get the entries sorted by start-date-time for easy
             consumption.";
          leaf symptom-id {
            type leafref {
              path "/agents/agent[id=current()/../agent-id]"
                 + "/symptoms/id";
            }
            description
              "Identifier of the symptom to be interpreted according
               to the agent identified by the agent-id.";
          }
          leaf agent-id {
            type leafref {
              path "/agents/agent/id";
            }
            description
              "Identifier of the agent raising the current symptom.";
          }
          leaf health-score-weight {
            type uint8 {
              range "0 .. 100";
            }
            description
              "The weight to the health score incurred by this
               symptom.  The higher the value, the more of an impact
               this symptom has.  If a subservice health score is not
               100, there must be at least one symptom with a
               health-score-weight larger than 0.";
          }
          leaf start-date-time {
            type yang:date-and-time;
            description
              "Date and time at which the symptom was detected.";
          }
          leaf stop-date-time {
            type yang:date-and-time;
            description
              "Date and time at which the symptom stopped being
               detected.  Must be after the start-date-time.  If the
               symptom is ongoing, this field should not be
               populated.";
          }
        }
      }
      container dependencies {
        description
          "Indicates the set of dependencies of the current
           subservice, along with their types.";
        list dependency {
          key "type id";
          description
            "List of dependencies of the subservice.";
          uses subservice-dependency;
        }
      }
    }
  }
  container agents {
    config false;
    description
      "Container for the list of agents' symptoms.";
    list agent {
      key "id";
      description
        "Contains symptoms of each agent involved in computing the
         health status of the current graph.  This list acts as a
         glossary for understanding the symptom ids returned by each
         agent.";
      leaf id {
        type string;
        description
          "Id of the agent for which we are defining the symptoms.
           This identifier must be unique among all agents.";
      }
      list symptoms {
        key "id";
        description
          "List of symptoms raised by the current agent that is
           identified by the symptom-id.";
        leaf id {
          type string;
          description
            "Id of the symptom for the current agent.  The agent must
             guarantee the unicity of this identifier.";
        }
        leaf description {
          type string;
          mandatory true;
          description
            "Description of the symptom, i.e., text describing what
             the symptom is, is to be computer consumable and
             displayed on a human interface.

             It is not intended for random end users but for
             network/system/software engineers that are able to
             interpret it.  Therefore, no mechanism for language
             tagging is needed.";
        }
      }
    }
  }
  container assured-services {
    config false;
    description
      "Container for the index of assured services.";
    list assured-service {
      key "service";
      description
        "Service instances that are currently part of the assurance
         graph.  The list must contain an entry for every service
         that is currently present in the assurance graph.  This list
         presents an alternate access to the graph stored in
         subservices that optimizes querying the assurance graph of
         a specific service instance.";
      leaf service {
        type leafref {
          path "/subservices/subservice/service-instance-parameter/"
             + "service";
        }
        description
          "Name of the service.";
      }
      list instances {
        key "name";
        description
          "Instances of the service. The list must contain
           an entry for every instance of the parent service.";
        leaf name {
          type leafref {
            path "/subservices/subservice/service-instance-parameter"
               + "/instance-name";
          }
          description
            "Name of the service instance.  The leafref must point to
             a service-instance-parameter whose service leaf matches
             the parent service.";
        }
        list subservices {
          key "type id";
          description
            "Subservices that appear in the assurance graph of the
             current service instance.

             The list must contain the subservice corresponding to
             the service instance, i.e., the subservice that
             matches the service and instance-name keys.

             For every subservice in the list, all subservices listed
             as dependencies must also appear in the list.";
          uses subservice-reference;
        }
      }
    }
  }
}

&lt;CODE ENDS&gt;</pre><a class="pilcrow" href="#section-3.3-2">¶</a>
</div>
</section>
</div>
<div id="circular-dependencies">
<section id="section-3.4">
        <h3 id="name-rejecting-circular-dependen">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-rejecting-circular-dependen">Rejecting Circular Dependencies</a>
        </h3>
<p id="section-3.4-1">
          The statuses of services and subservices depend on the statuses of their dependencies, and thus circular dependencies between them prevent the computation of statuses.
          Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc9417#section-3.1.1">3.1.1</a> of the SAIN architecture document <span>[<a class="cite xref" href="#RFC9417">RFC9417</a>]</span> discusses how such dependencies appear and how they could be removed.
          The responsibility of avoiding such dependencies falls to the SAIN orchestrator.
          However, we specify in this section the expected behavior when a server supporting the "ietf-service-assurance" module receives a data instance containing circular dependencies.<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<p id="section-3.4-2">
          Enforcing the absence of circular dependencies as a YANG constraint falls back to implementing a graph traversal algorithm with XPath and checking that the current node is not reachable from its dependencies.
          Even with such a constraint, there is no guarantee that merging two graphs without dependency loops will result in a graph without dependency loops.
          Indeed, <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9417#section-3.1.1">Section 3.1.1</a> of [<a class="cite xref" href="#RFC9417">RFC9417</a>]</span> presents an example where merging two graphs without dependency loops results in a graph with a dependency loop.<a class="pilcrow" href="#section-3.4-2">¶</a></p>
<p id="section-3.4-3">
          Therefore, a server implementing the "ietf-service-assurance" module <span class="bcp14">MUST</span> check that there is no dependency loop whenever the graph is modified.
          A modification creating a dependency loop <span class="bcp14">MUST</span> be rejected.<a class="pilcrow" href="#section-3.4-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="augment-guide">
<section id="section-4">
      <h2 id="name-guidelines-for-defining-new">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-guidelines-for-defining-new">Guidelines for Defining New Subservice Types</a>
      </h2>
<p id="section-4-1">
        The base YANG module defined in <a class="auto internal xref" href="#ietf-service-assurance-yang-model">Section 3.3</a> only defines a single type of subservice that represent service instances.
        As explained above, this model is meant to be augmented so that a variety of subservices can be used in the assurance graph.
        In this section, we propose some guidelines for specifying such extensions at IETF.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">
        The mechanism to add a new subservice type is to define a new module for that subservice.
        The module name should start with "ietf-service-assurance-".
    
        The namespace of the module should start with "urn:ietf:params:xml:ns:yang:ietf-service-assurance-".
        The prefix of the module should start with "sain-".
        For instance, the subservice type representing the assurance of a device should have:<a class="pilcrow" href="#section-4-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-3.1">the name "ietf-service-assurance-device",<a class="pilcrow" href="#section-4-3.1">¶</a>
</li>
        <li class="normal" id="section-4-3.2">the namespace "urn:ietf:params:xml:ns:yang:ietf-service-assurance-device", and<a class="pilcrow" href="#section-4-3.2">¶</a>
</li>
        <li class="normal" id="section-4-3.3">the prefix "sain-device".<a class="pilcrow" href="#section-4-3.3">¶</a>
</li>
      </ul>
<p id="section-4-4">
        The new module should define:<a class="pilcrow" href="#section-4-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-5.1">
            a new identity to represent the new type and<a class="pilcrow" href="#section-4-5.1">¶</a>
</li>
        <li class="normal" id="section-4-5.2">
            the parameters fully specifying an instance of the new subservice type.<a class="pilcrow" href="#section-4-5.2">¶</a>
</li>
      </ul>
<p id="section-4-6">
        The new identity should be based on the "subservice-base" identity.
        The name of the identity should end with "-type", for instance, "device-type".<a class="pilcrow" href="#section-4-6">¶</a></p>
<p id="section-4-7">
        The parameters should be defined in a container named "parameters" that augments the choice "/subservices/subservice/parameter" from the main module.
        The augmentation should be restricted to cases where the type of the subservice matches the identity representing the new service type.<a class="pilcrow" href="#section-4-7">¶</a></p>
<p id="section-4-8">
        We define two subservice types in the next sections: the "device" subservice type is defined in <a class="auto internal xref" href="#device-module">Section 5</a> and the "interface" subservice type is defined is <a class="auto internal xref" href="#interface-module">Section 6</a>.
        These subservices can be taken as examples of the rules defined in this section.<a class="pilcrow" href="#section-4-8">¶</a></p>
<p id="section-4-9">
        Vendors can specify their own subservices types by defining the corresponding modules in their own namespace.
        An example of such a vendor-specific module is specified in <a class="auto internal xref" href="#acme-device-module">Appendix A</a>.
        Vendors can also augment existing IETF-specified subservices to add their own vendor-specific information.<a class="pilcrow" href="#section-4-9">¶</a></p>
</section>
</div>
<div id="device-module">
<section id="section-5">
      <h2 id="name-subservice-augmentation-iet">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-subservice-augmentation-iet">Subservice Augmentation: "ietf-service-assurance-device" YANG Module</a>
      </h2>
<div id="ietf-service-assurance-device-tree-view">
<section id="section-5.1">
        <h3 id="name-tree-view-2">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-tree-view-2">Tree View</a>
        </h3>
<p id="section-5.1-1">
        The following tree diagram <span>[<a class="cite xref" href="#RFC8340">RFC8340</a>]</span>
        provides an overview of the "ietf-service-assurance-device" module.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<div class="lang-yangtree sourcecode" id="section-5.1-2">
<pre>module: ietf-service-assurance-device

  augment /sain:subservices/sain:subservice/sain:parameter:
    +--rw parameters
       +--rw device    string
</pre><a class="pilcrow" href="#section-5.1-2">¶</a>
</div>
<p id="section-5.1-3">A complete tree view of the base module with all augmenting modules presented in this document is available in <a class="auto internal xref" href="#global_tree_view">Appendix B.3</a>.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
</section>
</div>
<div id="ietf-service-assurance-device-concepts">
<section id="section-5.2">
        <h3 id="name-concepts-2">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-concepts-2">Concepts</a>
        </h3>
<p id="section-5.2-1"> 
          As the number of subservices will grow over time, the YANG module is designed to be extensible.
          A new subservice type requires the precise specifications of its type and expected parameters.
          Let us illustrate the example of the new device subservice type.
          As the name implies, it monitors and reports the device health, along with some symptoms in case of degradation.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">
          For our device subservice definition, the new identity "device-type" is specified as an inheritance from the base identity for subservices.
          This indicates to the assurance agent that we are now assuring the health of a device.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">
          The typical parameter for the configuration of the device subservice is the name of the device that we want to assure.
          By augmenting the parameter choice from the "ietf-service-assurance" YANG module for the case of the "device-type" subservice type, this new parameter is specified.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
</section>
</div>
<div id="ietf-service-assurance-device-yang-model">
<section id="section-5.3">
        <h3 id="name-yang-module-2">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-yang-module-2">YANG Module</a>
        </h3>
<div class="breakable lang-yang sourcecode" id="section-5.3-1">
<pre>&lt;CODE BEGINS&gt; file "ietf-service-assurance-device@2023-07-11.yang"

module ietf-service-assurance-device {
  yang-version 1.1;
  namespace
    "urn:ietf:params:xml:ns:yang:ietf-service-assurance-device";
  prefix sain-device;

  import ietf-service-assurance {
    prefix sain;
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  organization
    "IETF OPSAWG Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/opsawg/&gt;
     WG List:  &lt;mailto:opsawg@ietf.org&gt;
     Author:   Benoit Claise  &lt;mailto:benoit.claise@huawei.com&gt;
     Author:   Jean Quilbeuf   &lt;mailto:jean.quilbeuf@huawei.com&gt;";
  description
    "This module augments the ietf-service-assurance module with
     support of the device subservice.

     Copyright (c) 2023 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Revised BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 9418; see the
     RFC itself for full legal notices.  ";

  revision 2023-07-11 {
    description
      "Initial revision.";
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  identity device-type {
    base sain:subservice-base;
    description
      "Identity of device subservice.";
  }

  augment "/sain:subservices/sain:subservice/sain:parameter" {
    when "derived-from-or-self(sain:type, 'device-type')";
    description
      "Augments the parameter choice from the ietf-service-assurance
       module with a case specific to the device subservice.";
    container parameters {
      description
        "Parameters for the device subservice type.";
      leaf device {
        type string;
        mandatory true;
        description
          "Identifier of the device to monitor. The
           identifier (e.g., device id, hostname, or management IP)
           depends on the context.";
      }
    }
  }
}

&lt;CODE ENDS&gt;</pre><a class="pilcrow" href="#section-5.3-1">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="interface-module">
<section id="section-6">
      <h2 id="name-subservice-augmentation-ietf">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-subservice-augmentation-ietf">Subservice Augmentation: "ietf-service-assurance-interface" YANG Module</a>
      </h2>
<div id="ietf-service-assurance-interface-tree-view">
<section id="section-6.1">
        <h3 id="name-tree-view-3">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-tree-view-3">Tree View</a>
        </h3>
<p id="section-6.1-1">
        The following tree diagram <span>[<a class="cite xref" href="#RFC8340">RFC8340</a>]</span>
        provides an overview of the "ietf-service-assurance-interface" data model.<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<div class="lang-yangtree sourcecode" id="section-6.1-2">
<pre>module: ietf-service-assurance-interface

  augment /sain:subservices/sain:subservice/sain:parameter:
    +--rw parameters
       +--rw device       string
       +--rw interface    string
</pre><a class="pilcrow" href="#section-6.1-2">¶</a>
</div>
<p id="section-6.1-3">A complete tree view of the base module with all augmenting modules presented in this document is available in <a class="auto internal xref" href="#global_tree_view">Appendix B.3</a>.<a class="pilcrow" href="#section-6.1-3">¶</a></p>
</section>
</div>
<div id="ietf-service-assurance-interface-concepts">
<section id="section-6.2">
        <h3 id="name-concepts-3">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-concepts-3">Concepts</a>
        </h3>
<p id="section-6.2-1">
          For the interface subservice definition, the new interface-type is specified as an inheritance from the base identity for subservices.
          This indicates to the assurance agent that we are now assuring the health of an interface.<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<p id="section-6.2-2">
          The parameters for the configuration of the interface subservice are the name of the device and, on that specific device, a specific interface.
          These parameters are aligned with the "ietf-interfaces" model described in <span>[<a class="cite xref" href="#RFC8343">RFC8343</a>]</span>, where the name of the interface is the only key needed to identify an interface on a given device.
          By augmenting the parameter choice from the "ietf-service-assurance" YANG module for the case of the interface-type subservice type, those two new parameters are specified.<a class="pilcrow" href="#section-6.2-2">¶</a></p>
</section>
</div>
<div id="ietf-service-assurance-interface-yang-model">
<section id="section-6.3">
        <h3 id="name-yang-module-3">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-yang-module-3">YANG Module</a>
        </h3>
<div class="breakable lang-yang sourcecode" id="section-6.3-1">
<pre>&lt;CODE BEGINS&gt; file "ietf-service-assurance-interface@2023-07-11.yang"

module ietf-service-assurance-interface {
  yang-version 1.1;
  namespace
    "urn:ietf:params:xml:ns:yang:ietf-service-assurance-interface";
  prefix sain-interface;

  import ietf-service-assurance {
    prefix sain;
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  organization
    "IETF OPSAWG Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/opsawg/&gt;
     WG List:  &lt;mailto:opsawg@ietf.org&gt;
     Author:   Benoit Claise  &lt;mailto:benoit.claise@huawei.com&gt;
     Author:   Jean Quilbeuf   &lt;mailto:jean.quilbeuf@huawei.com&gt;";
  description
    "This module extends the ietf-service-assurance module to add
     support for the interface subservice.

     It checks whether an interface is healthy.

     Copyright (c) 2023 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Revised BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 9418; see the
     RFC itself for full legal notices.  ";

  revision 2023-07-11 {
    description
      "Initial revision.";
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  identity interface-type {
    base sain:subservice-base;
    description
      "Checks whether an interface is healthy.";
  }

  augment "/sain:subservices/sain:subservice/sain:parameter" {
    when "derived-from-or-self(sain:type, 'interface-type')";
    description
      "Augments the parameter choice from ietf-service-assurance
       module with a case specific to the interface subservice.";
    container parameters {
      description
        "Parameters for the interface subservice type.";
      leaf device {
        type string;
        mandatory true;
        description
          "Device supporting the interface.";
      }
      leaf interface {
        type string;
        mandatory true;
        description
          "Name of the interface.";
      }
    }
  }
}

&lt;CODE ENDS&gt;</pre><a class="pilcrow" href="#section-6.3-1">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-7-1"> 
         The YANG modules specified in this document define schema for data 
         that is designed to be accessed via network management protocols such 
         as NETCONF <span>[<a class="cite xref" href="#RFC6241">RFC6241</a>]</span> or RESTCONF <span>[<a class="cite xref" href="#RFC8040">RFC8040</a>]</span>.
         The lowest NETCONF layer is the secure transport layer, and the mandatory-to-implement secure transport is Secure Shell (SSH) <span>[<a class="cite xref" href="#RFC6242">RFC6242</a>]</span>. The lowest RESTCONF layer is HTTPS, and the mandatory-to-implement secure transport is TLS <span>[<a class="cite xref" href="#RFC8446">RFC8446</a>]</span>.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">
         The Network Configuration Access Control Model (NACM) <span>[<a class="cite xref" href="#RFC8341">RFC8341</a>]</span>
         provides the means to restrict access for particular NETCONF or 
         RESTCONF users to a preconfigured subset of all available NETCONF or 
         RESTCONF protocol operations and content.<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">There are a number of data nodes defined in these YANG modules that are writable/creatable/deletable (i.e., config true, which is the default). These data nodes may be considered sensitive or vulnerable in some network environments. Write operations (e.g., edit-config) to these data nodes without proper protection can have a negative effect on network operations. These are the subtrees and data nodes and their sensitivity/vulnerability:<a class="pilcrow" href="#section-7-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-4.1">
             /subservices/subservice :
             By modifying this subtree, one can modify the structure of the assurance graph, which could alter the status of the services reported by the assurance framework.
             On one hand, modifications can cause the assurance system to report a service as broken when it is actually healthy (false positive), resulting in engineers or automation software losing time and potentially causing real issues by doing unnecessary modifications on the network.
             On the other hand, modifications could prevent the assurance system from reporting actual issues (false negative), resulting in failures that could have been avoided.
             Depending on the service, the impact of these avoidable failures could be Service-Level Agreement (SLA) violations fees or disruption of emergency calls.<a class="pilcrow" href="#section-7-4.1">¶</a>
</li>
      </ul>
<p id="section-7-5">
        Some readable data nodes in these YANG modules may be considered sensitive or vulnerable in some network environments. It is thus important to control read access (e.g., via get, get-config, or notification) to these data nodes. These are the subtrees and data nodes and their sensitivity/vulnerability:<a class="pilcrow" href="#section-7-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-6.1">/subservices/subservice<a class="pilcrow" href="#section-7-6.1">¶</a>
</li>
        <li class="normal" id="section-7-6.2">/agents/agent<a class="pilcrow" href="#section-7-6.2">¶</a>
</li>
        <li class="normal" id="section-7-6.3">/assured-services/assured-service<a class="pilcrow" href="#section-7-6.3">¶</a>
</li>
      </ul>
<p id="section-7-7">
        Each of these subtrees contains information about services, subservices, or possible symptoms raised by the agents.
        The information contained in this subtree might give information about the underlying network as well as services deployed for the customers.
        For instance, a customer might be given access to monitor their services status (e.g., via model-driven telemetry).
        In that example, the customer access should be restricted to nodes representing their services so as not to divulge information about the underlying network structure or others customers services.<a class="pilcrow" href="#section-7-7">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-the-ietf-xml-registry">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-the-ietf-xml-registry">The IETF XML Registry</a>
        </h3>
<p id="section-8.1-1">IANA has registered the following three URIs in the "IETF XML
          Registry" <span>[<a class="cite xref" href="#RFC3688">RFC3688</a>]</span>:<a class="pilcrow" href="#section-8.1-1">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-8.1-2">
          <dt id="section-8.1-2.1">URI:</dt>
          <dd id="section-8.1-2.2" style="margin-left: 1.5em">urn:ietf:params:xml:ns:yang:ietf-service-assurance<a class="pilcrow" href="#section-8.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.3">Registrant Contact:</dt>
          <dd id="section-8.1-2.4" style="margin-left: 1.5em">The OPSAWG WG of the IETF.<a class="pilcrow" href="#section-8.1-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-2.5">XML:</dt>
          <dd id="section-8.1-2.6" style="margin-left: 1.5em">N/A; the requested URI is an XML namespace.<a class="pilcrow" href="#section-8.1-2.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-8.1-3">
          <dt id="section-8.1-3.1">URI:</dt>
          <dd id="section-8.1-3.2" style="margin-left: 1.5em">urn:ietf:params:xml:ns:yang:ietf-service-assurance-device<a class="pilcrow" href="#section-8.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-3.3">Registrant Contact:</dt>
          <dd id="section-8.1-3.4" style="margin-left: 1.5em">The OPSAWG WG of the IETF.<a class="pilcrow" href="#section-8.1-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-3.5">XML:</dt>
          <dd id="section-8.1-3.6" style="margin-left: 1.5em">N/A; the requested URI is an XML namespace.<a class="pilcrow" href="#section-8.1-3.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-8.1-4">
          <dt id="section-8.1-4.1">URI:</dt>
          <dd id="section-8.1-4.2" style="margin-left: 1.5em">urn:ietf:params:xml:ns:yang:ietf-service-assurance-interface<a class="pilcrow" href="#section-8.1-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-4.3">Registrant Contact:</dt>
          <dd id="section-8.1-4.4" style="margin-left: 1.5em">The OPSAWG WG of the IETF.<a class="pilcrow" href="#section-8.1-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-4.5">XML:</dt>
          <dd id="section-8.1-4.6" style="margin-left: 1.5em">N/A; the requested URI is an XML namespace.<a class="pilcrow" href="#section-8.1-4.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-the-yang-module-names-regis">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-the-yang-module-names-regis">The YANG Module Names Registry</a>
        </h3>
<p id="section-8.2-1">IANA has registered the following three YANG modules in the
       "YANG Module Names" registry <span>[<a class="cite xref" href="#RFC7950">RFC7950</a>]</span>:<a class="pilcrow" href="#section-8.2-1">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-8.2-2">
          <dt id="section-8.2-2.1">name:</dt>
          <dd id="section-8.2-2.2" style="margin-left: 1.5em">ietf-service-assurance<a class="pilcrow" href="#section-8.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-2.3">namespace:</dt>
          <dd id="section-8.2-2.4" style="margin-left: 1.5em">urn:ietf:params:xml:ns:yang:ietf-service-assurance<a class="pilcrow" href="#section-8.2-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-2.5">prefix:</dt>
          <dd id="section-8.2-2.6" style="margin-left: 1.5em">sain<a class="pilcrow" href="#section-8.2-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-2.7">reference:</dt>
          <dd id="section-8.2-2.8" style="margin-left: 1.5em">RFC 9418<a class="pilcrow" href="#section-8.2-2.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-8.2-3">
          <dt id="section-8.2-3.1">name:</dt>
          <dd id="section-8.2-3.2" style="margin-left: 1.5em">ietf-service-assurance-device<a class="pilcrow" href="#section-8.2-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-3.3">namespace:</dt>
          <dd id="section-8.2-3.4" style="margin-left: 1.5em">urn:ietf:params:xml:ns:yang:ietf-service-assurance-device<a class="pilcrow" href="#section-8.2-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-3.5">prefix:</dt>
          <dd id="section-8.2-3.6" style="margin-left: 1.5em">sain-device<a class="pilcrow" href="#section-8.2-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-3.7">reference:</dt>
          <dd id="section-8.2-3.8" style="margin-left: 1.5em">RFC 9418<a class="pilcrow" href="#section-8.2-3.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-8.2-4">
          <dt id="section-8.2-4.1">name:</dt>
          <dd id="section-8.2-4.2" style="margin-left: 1.5em">ietf-service-assurance-interface<a class="pilcrow" href="#section-8.2-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-4.3">namespace:</dt>
          <dd id="section-8.2-4.4" style="margin-left: 1.5em">urn:ietf:params:xml:ns:yang:ietf-service-assurance-interface<a class="pilcrow" href="#section-8.2-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-4.5">prefix:</dt>
          <dd id="section-8.2-4.6" style="margin-left: 1.5em">sain-interface<a class="pilcrow" href="#section-8.2-4.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-4.7">reference:</dt>
          <dd id="section-8.2-4.8" style="margin-left: 1.5em">RFC 9418<a class="pilcrow" href="#section-8.2-4.8">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-8.2-5">
These modules are not maintained by IANA.<a class="pilcrow" href="#section-8.2-5">¶</a></p>
</section>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3688">[RFC3688]</dt>
        <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time class="refDate" datetime="2004-01">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
        <dd>
<span class="refAuthor">Enns, R., Ed.</span>, <span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refAuthor">Schoenwaelder, J., Ed.</span>, and <span class="refAuthor">A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time class="refDate" datetime="2011-06">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6242">[RFC6242]</dt>
        <dd>
<span class="refAuthor">Wasserman, M.</span>, <span class="refTitle">"Using the NETCONF Protocol over Secure Shell (SSH)"</span>, <span class="seriesInfo">RFC 6242</span>, <span class="seriesInfo">DOI 10.17487/RFC6242</span>, <time class="refDate" datetime="2011-06">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6242">https://www.rfc-editor.org/info/rfc6242</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6991">[RFC6991]</dt>
        <dd>
<span class="refAuthor">Schoenwaelder, J., Ed.</span>, <span class="refTitle">"Common YANG Data Types"</span>, <span class="seriesInfo">RFC 6991</span>, <span class="seriesInfo">DOI 10.17487/RFC6991</span>, <time class="refDate" datetime="2013-07">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6991">https://www.rfc-editor.org/info/rfc6991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time class="refDate" datetime="2016-08">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8040">[RFC8040]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"RESTCONF Protocol"</span>, <span class="seriesInfo">RFC 8040</span>, <span class="seriesInfo">DOI 10.17487/RFC8040</span>, <time class="refDate" datetime="2017-01">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8341">[RFC8341]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span> and <span class="refAuthor">M. Bjorklund</span>, <span class="refTitle">"Network Configuration Access Control Model"</span>, <span class="seriesInfo">STD 91</span>, <span class="seriesInfo">RFC 8341</span>, <span class="seriesInfo">DOI 10.17487/RFC8341</span>, <time class="refDate" datetime="2018-03">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8341">https://www.rfc-editor.org/info/rfc8341</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8342">[RFC8342]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span>, <span class="refAuthor">Schoenwaelder, J.</span>, <span class="refAuthor">Shafer, P.</span>, <span class="refAuthor">Watsen, K.</span>, and <span class="refAuthor">R. Wilton</span>, <span class="refTitle">"Network Management Datastore Architecture (NMDA)"</span>, <span class="seriesInfo">RFC 8342</span>, <span class="seriesInfo">DOI 10.17487/RFC8342</span>, <time class="refDate" datetime="2018-03">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8342">https://www.rfc-editor.org/info/rfc8342</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time class="refDate" datetime="2018-08">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9417">[RFC9417]</dt>
      <dd>
<span class="refAuthor">Claise, B.</span>, <span class="refAuthor">Quilbeuf, J.</span>, <span class="refAuthor">Lopez, D.</span>, <span class="refAuthor">Voyer, D.</span>, and <span class="refAuthor">T. Arumugam</span>, <span class="refTitle">"Service Assurance for Intent-Based Networking Architecture"</span>, <span class="seriesInfo">RFC 9417</span>, <span class="seriesInfo">DOI 10.17487/RFC9417</span>, <time class="refDate" datetime="2023-07">July 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9417">https://www.rfc-editor.org/info/rfc9417</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC8340">[RFC8340]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span> and <span class="refAuthor">L. Berger, Ed.</span>, <span class="refTitle">"YANG Tree Diagrams"</span>, <span class="seriesInfo">BCP 215</span>, <span class="seriesInfo">RFC 8340</span>, <span class="seriesInfo">DOI 10.17487/RFC8340</span>, <time class="refDate" datetime="2018-03">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8340">https://www.rfc-editor.org/info/rfc8340</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8343">[RFC8343]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span>, <span class="refTitle">"A YANG Data Model for Interface Management"</span>, <span class="seriesInfo">RFC 8343</span>, <span class="seriesInfo">DOI 10.17487/RFC8343</span>, <time class="refDate" datetime="2018-03">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8343">https://www.rfc-editor.org/info/rfc8343</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8525">[RFC8525]</dt>
      <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, <span class="refAuthor">Schoenwaelder, J.</span>, <span class="refAuthor">Watsen, K.</span>, and <span class="refAuthor">R. Wilton</span>, <span class="refTitle">"YANG Library"</span>, <span class="seriesInfo">RFC 8525</span>, <span class="seriesInfo">DOI 10.17487/RFC8525</span>, <time class="refDate" datetime="2019-03">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8525">https://www.rfc-editor.org/info/rfc8525</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acme-device-module">
<section id="appendix-A">
      <h2 id="name-vendor-specific-subservice-">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-vendor-specific-subservice-">Vendor-Specific Subservice Augmentation: "example-service-assurance-device-acme" YANG Module</a>
      </h2>
<div id="example-service-assurance-device-acme-tree-view">
<section id="appendix-A.1">
        <h3 id="name-tree-view-4">
<a class="section-number selfRef" href="#appendix-A.1">A.1. </a><a class="section-name selfRef" href="#name-tree-view-4">Tree View</a>
        </h3>
<p id="appendix-A.1-1">
          The following tree diagram <span>[<a class="cite xref" href="#RFC8340">RFC8340</a>]</span>
          provides an overview of the "example-service-assurance-device-acme" module.<a class="pilcrow" href="#appendix-A.1-1">¶</a></p>
<div class="lang-yangtree sourcecode" id="appendix-A.1-2">
<pre>module: example-service-assurance-device-acme

  augment /sain:subservices/sain:subservice/sain:parameter:
    +--rw parameters
       +--rw device                     string
       +--rw acme-specific-parameter    string
</pre><a class="pilcrow" href="#appendix-A.1-2">¶</a>
</div>
<p id="appendix-A.1-3">A complete tree view of the base module with all augmenting modules presented in this document is available in <a class="auto internal xref" href="#global_tree_view">Appendix B.3</a>.<a class="pilcrow" href="#appendix-A.1-3">¶</a></p>
</section>
</div>
<div id="example-service-assurance-device-acme-concepts">
<section id="appendix-A.2">
        <h3 id="name-concepts-4">
<a class="section-number selfRef" href="#appendix-A.2">A.2. </a><a class="section-name selfRef" href="#name-concepts-4">Concepts</a>
        </h3>
<p id="appendix-A.2-1">
          Under some circumstances, vendor-specific subservice types might be required.
          As an example of this vendor-specific implementation, this section shows how to augment the "ietf-service-assurance-device" module to add custom support for the device subservice specific to the Acme Corporation.
          The specific version adds a new parameter named "acme-specific-parameter".
          It's an implementation choice to either derive a new specific identity from the "subservice-base" identity defined in the "ietf-service-assurance" module or to augment the parameters from the "ietf-service-assurance-device" module; here, we choose to create a new identity.<a class="pilcrow" href="#appendix-A.2-1">¶</a></p>
</section>
</div>
<div id="example-service-assurance-device-acme-yang-model">
<section id="appendix-A.3">
        <h3 id="name-yang-module-4">
<a class="section-number selfRef" href="#appendix-A.3">A.3. </a><a class="section-name selfRef" href="#name-yang-module-4">YANG Module</a>
        </h3>
<div class="breakable lang-yang sourcecode" id="appendix-A.3-1">
<pre>module example-service-assurance-device-acme {
  yang-version 1.1;
  namespace "urn:example:example-service-assurance-device-acme";
  prefix example-device-acme;

  import ietf-service-assurance {
    prefix sain;
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }
  import ietf-service-assurance-device {
    prefix sain-device;
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  organization
    "IETF OPSAWG Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/opsawg/&gt;
     WG List:  &lt;mailto:opsawg@ietf.org&gt;
     Author:   Benoit Claise  &lt;mailto:benoit.claise@huawei.com&gt;
     Author:   Jean Quilbeuf   &lt;mailto:jean.quilbeuf@huawei.com&gt;";
  description
    "This example module extends the ietf-service-assurance-device
     module to add specific support for devices of the Acme
     Corporation. ";

  revision 2023-07-11 {
    description
      "Initial revision.";
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  identity device-acme-type {
    base sain-device:device-type;
    description
      "Network device is healthy.";
  }

  augment "/sain:subservices/sain:subservice/sain:parameter" {
    when "derived-from-or-self(sain:type, 'device-acme-type')";
    description
      "Augments the parameter choice from the ietf-service-assurance
       module with a case specific to the device-acme subservice.";
    container parameters {
      description
        "Parameters for the device-acme subservice type.";
      leaf device {
        type string;
        mandatory true;
        description
          "The device to monitor.";
      }
      leaf acme-specific-parameter {
        type string;
        mandatory true;
        description
          "The Acme-Corporation-specific parameter.";
      }
    }
  }
}
</pre><a class="pilcrow" href="#appendix-A.3-1">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="ip-connectivity-is-is">
<section id="appendix-B">
      <h2 id="name-further-augmentations-ip-co">
<a class="section-number selfRef" href="#appendix-B">Appendix B. </a><a class="section-name selfRef" href="#name-further-augmentations-ip-co">Further Augmentations: IP Connectivity and IS-IS Subservices</a>
      </h2>
<p id="appendix-B-1">
        In this section, we provide two additional YANG modules to completely cover the example in Figure 2 from <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9417#section-3.1">Section 3.1</a> of [<a class="cite xref" href="#RFC9417">RFC9417</a>]</span>.
        The two missing subservice types are IP connectivity and the Intermediate System to Intermediate System (IS-IS) routing protocol.
        These  modules are presented as examples; some future work is needed to propose a more complete version.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
<section id="appendix-B.1">
        <h3 id="name-ip-connectivity-module-tree">
<a class="section-number selfRef" href="#appendix-B.1">B.1. </a><a class="section-name selfRef" href="#name-ip-connectivity-module-tree">IP Connectivity Module Tree View</a>
        </h3>
<p id="appendix-B.1-1">
          That subservice represents the unicast connectivity between two IP addresses located on two different devices.
          Such a subservice could report symptoms such as "No route found".
          The following tree diagram <span>[<a class="cite xref" href="#RFC8340">RFC8340</a>]</span> provides an overview of the "example-service-assurance-ip-connectivity" module.<a class="pilcrow" href="#appendix-B.1-1">¶</a></p>
<div class="lang-yangtree sourcecode" id="appendix-B.1-2">
<pre>module: example-service-assurance-ip-connectivity

  augment /sain:subservices/sain:subservice/sain:parameter:
    +--rw parameters
       +--rw device1     string
       +--rw address1    inet:ip-address
       +--rw device2     string
       +--rw address2    inet:ip-address
</pre><a class="pilcrow" href="#appendix-B.1-2">¶</a>
</div>
<p id="appendix-B.1-3">
          To specify the connectivity that we are interested in, we specify two IP addresses and two devices.
          The subservice assures that the connectivity between IP address 1 on device 1 and IP address 2 on device 2 is healthy.<a class="pilcrow" href="#appendix-B.1-3">¶</a></p>
</section>
<section id="appendix-B.2">
        <h3 id="name-is-is-module-tree-view">
<a class="section-number selfRef" href="#appendix-B.2">B.2. </a><a class="section-name selfRef" href="#name-is-is-module-tree-view">IS-IS Module Tree View</a>
        </h3>
<p id="appendix-B.2-1">
          The following tree diagram <span>[<a class="cite xref" href="#RFC8340">RFC8340</a>]</span> provides an overview of the "example-service-assurance-is-is" module.<a class="pilcrow" href="#appendix-B.2-1">¶</a></p>
<div class="lang-yangtree sourcecode" id="appendix-B.2-2">
<pre>module: example-service-assurance-is-is

  augment /sain:subservices/sain:subservice/sain:parameter:
    +--rw parameters
       +--rw instance-name    string
</pre><a class="pilcrow" href="#appendix-B.2-2">¶</a>
</div>
<p id="appendix-B.2-3">
          The parameter of this subservice is the name of the IS-IS instance to assure.<a class="pilcrow" href="#appendix-B.2-3">¶</a></p>
</section>
<div id="global_tree_view">
<section id="appendix-B.3">
        <h3 id="name-global-tree-view">
<a class="section-number selfRef" href="#appendix-B.3">B.3. </a><a class="section-name selfRef" href="#name-global-tree-view">Global Tree View</a>
        </h3>
<p id="appendix-B.3-1">
          The following tree diagram <span>[<a class="cite xref" href="#RFC8340">RFC8340</a>]</span>
          provides an overview of the "ietf-service-assurance", "ietf-service-assurance-device",
          "example-service-assurance-device-acme", "example-service-assurance-ip-connectivity", and "example-service-assurance-is-is" modules.<a class="pilcrow" href="#appendix-B.3-1">¶</a></p>
<div class="breakable lang-yangtree sourcecode" id="appendix-B.3-2">
<pre>module: ietf-service-assurance
  +--ro assurance-graph-last-change    yang:date-and-time
  +--rw subservices
  |  +--rw subservice* [type id]
  |     +--rw type                                        identityref
  |     +--rw id                                          string
  |     +--ro last-change?
  |     |       yang:date-and-time
  |     +--ro label?                                      string
  |     +--rw under-maintenance!
  |     |  +--rw contact    string
  |     +--rw (parameter)
  |     |  +--:(service-instance-parameter)
  |     |  |  +--rw service-instance-parameter
  |     |  |     +--rw service          string
  |     |  |     +--rw instance-name    string
  |     |  +--:(example-ip-connectivity:parameters)
  |     |  |  +--rw example-ip-connectivity:parameters
  |     |  |     +--rw example-ip-connectivity:device1     string
  |     |  |     +--rw example-ip-connectivity:address1
  |     |  |     |       inet:ip-address
  |     |  |     +--rw example-ip-connectivity:device2     string
  |     |  |     +--rw example-ip-connectivity:address2
  |     |  |             inet:ip-address
  |     |  +--:(example-is-is:parameters)
  |     |  |  +--rw example-is-is:parameters
  |     |  |     +--rw example-is-is:instance-name    string
  |     |  +--:(sain-device:parameters)
  |     |  |  +--rw sain-device:parameters
  |     |  |     +--rw sain-device:device    string
  |     |  +--:(example-device-acme:parameters)
  |     |  |  +--rw example-device-acme:parameters
  |     |  |     +--rw example-device-acme:device
  |     |  |     |       string
  |     |  |     +--rw example-device-acme:acme-specific-parameter
  |     |  |             string
  |     |  +--:(sain-interface:parameters)
  |     |     +--rw sain-interface:parameters
  |     |        +--rw sain-interface:device       string
  |     |        +--rw sain-interface:interface    string
  |     +--ro health-score                                int8
  |     +--ro symptoms-history-start?
  |     |       yang:date-and-time
  |     +--ro symptoms
  |     |  +--ro symptom* [start-date-time agent-id symptom-id]
  |     |     +--ro symptom-id             leafref
  |     |     +--ro agent-id               -&gt; /agents/agent/id
  |     |     +--ro health-score-weight?   uint8
  |     |     +--ro start-date-time        yang:date-and-time
  |     |     +--ro stop-date-time?        yang:date-and-time
  |     +--rw dependencies
  |        +--rw dependency* [type id]
  |           +--rw type
  |           |       -&gt; /subservices/subservice/type
  |           +--rw id                 leafref
  |           +--rw dependency-type?   identityref
  +--ro agents
  |  +--ro agent* [id]
  |     +--ro id          string
  |     +--ro symptoms* [id]
  |        +--ro id             string
  |        +--ro description    string
  +--ro assured-services
     +--ro assured-service* [service]
        +--ro service      leafref
        +--ro instances* [name]
           +--ro name           leafref
           +--ro subservices* [type id]
              +--ro type    -&gt; /subservices/subservice/type
              +--ro id      leafref
</pre><a class="pilcrow" href="#appendix-B.3-2">¶</a>
</div>
</section>
</div>
<section id="appendix-B.4">
        <h3 id="name-ip-connectivity-yang-module">
<a class="section-number selfRef" href="#appendix-B.4">B.4. </a><a class="section-name selfRef" href="#name-ip-connectivity-yang-module">IP Connectivity YANG Module</a>
        </h3>
<div class="breakable lang-yang sourcecode" id="appendix-B.4-1">
<pre>module example-service-assurance-ip-connectivity {
  yang-version 1.1;
  namespace "urn:example:example-service-assurance-ip-connectivity";
  prefix example-ip-connectivity;

  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Data Types";
  }
  import ietf-service-assurance {
    prefix sain;
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  organization
    "IETF OPSAWG Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/opsawg/&gt;
     WG List:  &lt;mailto:opsawg@ietf.org&gt;
     Author:   Benoit Claise  &lt;mailto:benoit.claise@huawei.com&gt;
     Author:   Jean Quilbeuf   &lt;mailto:jean.quilbeuf@huawei.com&gt;";
  description
    "This example module augments the ietf-service-assurance module
     to add support for the subservice ip-connectivity.

     It checks whether the IP connectivity between two IP addresses
     belonging to two network devices is healthy.";

  revision 2023-07-11 {
    description
      "Initial version.";
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  identity ip-connectivity-type {
    base sain:subservice-base;
    description
      "Checks connectivity between two IP addresses.";
  }

  augment "/sain:subservices/sain:subservice/sain:parameter" {
    when "derived-from-or-self(sain:type, 'ip-connectivity-type')";
    description
      "Augments the parameter choice from the ietf-service-assurance
       module with a case specific to the ip-connectivity
       subservice.";
    container parameters {
      description
        "Parameters for the ip-connectivity subservice type.";
      leaf device1 {
        type string;
        mandatory true;
        description
          "Device at the first end of the connection.";
      }
      leaf address1 {
        type inet:ip-address;
        mandatory true;
        description
          "Address at the first end of the connection.";
      }
      leaf device2 {
        type string;
        mandatory true;
        description
          "Device at the second end of the connection.";
      }
      leaf address2 {
        type inet:ip-address;
        mandatory true;
        description
          "Address at the second end of the connection.";
      }
    }
  }
}
</pre><a class="pilcrow" href="#appendix-B.4-1">¶</a>
</div>
</section>
<section id="appendix-B.5">
        <h3 id="name-is-is-yang-module">
<a class="section-number selfRef" href="#appendix-B.5">B.5. </a><a class="section-name selfRef" href="#name-is-is-yang-module">IS-IS YANG Module</a>
        </h3>
<div class="breakable lang-yang sourcecode" id="appendix-B.5-1">
<pre>module example-service-assurance-is-is {
  yang-version 1.1;
  namespace "urn:example:example-service-assurance-is-is";
  prefix example-is-is;

  import ietf-service-assurance {
    prefix sain;
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  organization
    "IETF OPSAWG Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/opsawg/&gt;
     WG List:  &lt;mailto:opsawg@ietf.org&gt;
     Author:   Benoit Claise  &lt;mailto:benoit.claise@huawei.com&gt;
     Author:   Jean Quilbeuf  &lt;mailto:jean.quilbeuf@huawei.com&gt;";
  description
    "This example module augments the ietf-service-assurance module
     to add support for the subservice is-is.

     It checks whether an IS-IS instance is healthy.";

  revision 2023-07-11 {
    description
      "Initial version.";
    reference
      "RFC 9418: YANG Modules for Service Assurance";
  }

  identity is-is-type {
    base sain:subservice-base;
    description
      "Health of IS-IS routing protocol.";
  }

  augment "/sain:subservices/sain:subservice/sain:parameter" {
    when "derived-from-or-self(sain:type, 'is-is-type')";
    description
      "Augments the parameter choice from the ietf-service-assurance
       module with a case specific to the is-is subservice.";
    container parameters {
      description
        "Parameters for the is-is subservice type.";
      leaf instance-name {
        type string;
        mandatory true;
        description
          "The instance to monitor.";
      }
    }
  }
}
</pre><a class="pilcrow" href="#appendix-B.5-1">¶</a>
</div>
</section>
</section>
</div>
<div id="example_instances">
<section id="appendix-C">
      <h2 id="name-example-of-a-yang-instance">
<a class="section-number selfRef" href="#appendix-C">Appendix C. </a><a class="section-name selfRef" href="#name-example-of-a-yang-instance">Example of a YANG Instance</a>
      </h2>
<p id="appendix-C-1"> 
         This section contains an example of a YANG instance that conforms to the YANG modules.
         The validity of this data instance has been checked using <a href="https://yangson.labs.nic.cz/">yangson</a>.
         Yangson requires a YANG library <span>[<a class="cite xref" href="#RFC8525">RFC8525</a>]</span> to define the complete model against which the data instance must be validated.
         In <a class="auto internal xref" href="#yang_library_for_validation">Appendix D</a>, we provide  the JSON library file named "ietf-service-assurance-library.json", which we used for validation.<a class="pilcrow" href="#appendix-C-1">¶</a></p>
<p id="appendix-C-2"> 
         Below, we provide the contents of the file "example_configuration_instance.json", which contains the configuration data that models Figure 2 from <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9417#section-3.1">Section 3.1</a> of [<a class="cite xref" href="#RFC9417">RFC9417</a>]</span>.
         The instance can be validated with yangson by using the invocation "yangson -v example_configuration_instance.json ietf-service-assurance-library.json", assuming all the files (YANG and JSON) defined in this document reside in the current folder.<a class="pilcrow" href="#appendix-C-2">¶</a></p>
<div class="breakable lang-json sourcecode" id="appendix-C-3">
<pre>{
  "ietf-service-assurance:subservices": {
    "subservice": [
      {
        "type": "service-instance-type",
        "id": "simple-tunnel/example",
        "service-instance-parameter": {
          "service": "simple-tunnel",
          "instance-name": "example"
        },
        "dependencies": {
          "dependency": [
            {
              "type":
                "ietf-service-assurance-interface:interface-type",
              "id": "interface/peer1/tunnel0",
              "dependency-type": "impacting"
            },
            {
              "type":
                "ietf-service-assurance-interface:interface-type",
              "id": "interface/peer2/tunnel9",
              "dependency-type": "impacting"
            },
            {
              "type":
    "example-service-assurance-ip-connectivity:ip-connectivity-type",
              "id":
                "connectivity/peer1/2001:db8::1/peer2/2001:db8::2",
              "dependency-type": "impacting"
            }
          ]
        }
      },
      {
        "type":
    "example-service-assurance-ip-connectivity:ip-connectivity-type",
        "id": "connectivity/peer1/2001:db8::1/peer2/2001:db8::2",
        "example-service-assurance-ip-connectivity:parameters": {
          "device1": "Peer1",
          "address1": "2001:db8::1",
          "device2": "Peer2",
          "address2": "2001:db8::2"
        },
        "dependencies": {
          "dependency": [
            {
              "type":
                "ietf-service-assurance-interface:interface-type",
              "id": "interface/peer1/physical0",
              "dependency-type": "impacting"
            },
            {
              "type":
                "ietf-service-assurance-interface:interface-type",
              "id": "interface/peer2/physical5",
              "dependency-type": "impacting"
            },
            {
              "type": "example-service-assurance-is-is:is-is-type",
              "id": "is-is/instance1",
              "dependency-type": "impacting"
            }
          ]
        }
      },
      {
        "type": "example-service-assurance-is-is:is-is-type",
        "id": "is-is/instance1",
        "example-service-assurance-is-is:parameters": {
          "instance-name": "instance1"
        }
      },
      {
        "type": "ietf-service-assurance-interface:interface-type",
        "id": "interface/peer1/tunnel0",
        "ietf-service-assurance-interface:parameters": {
          "device": "Peer1",
          "interface": "tunnel0"
        },
        "dependencies": {
          "dependency": [
            {
              "type":
                "ietf-service-assurance-interface:interface-type",
              "id": "interface/peer1/physical0",
              "dependency-type": "impacting"
            }
          ]
        }
      },
      {
        "type": "ietf-service-assurance-interface:interface-type",
        "id": "interface/peer1/physical0",
        "ietf-service-assurance-interface:parameters": {
          "device": "Peer1",
          "interface": "physical0"
        },
        "dependencies": {
          "dependency": [
            {
              "type": "ietf-service-assurance-device:device-type",
              "id": "interface/peer1",
              "dependency-type": "impacting"
            }
          ]
        }
      },
      {
        "type": "ietf-service-assurance-device:device-type",
        "id": "interface/peer1",
        "ietf-service-assurance-device:parameters": {
          "device": "Peer1"
        }
      },
      {
        "type": "ietf-service-assurance-interface:interface-type",
        "id": "interface/peer2/tunnel9",
        "ietf-service-assurance-interface:parameters": {
          "device": "Peer2",
          "interface": "tunnel9"
        },
        "dependencies": {
          "dependency": [
            {
              "type":
                "ietf-service-assurance-interface:interface-type",
              "id": "interface/peer2/physical5",
              "dependency-type": "impacting"
            }
          ]
        }
      },
      {
        "type": "ietf-service-assurance-interface:interface-type",
        "id": "interface/peer2/physical5",
        "ietf-service-assurance-interface:parameters": {
          "device": "Peer2",
          "interface": "physical5"
        },
        "dependencies": {
          "dependency": [
            {
              "type": "ietf-service-assurance-device:device-type",
              "id": "interface/peer2",
              "dependency-type": "impacting"
            }
          ]
        }
      },
      {
        "type": "ietf-service-assurance-device:device-type",
        "id": "interface/peer2",
        "ietf-service-assurance-device:parameters": {
          "device": "Peer2"
        }
      }
    ]
  }
}
</pre><a class="pilcrow" href="#appendix-C-3">¶</a>
</div>
</section>
</div>
<div id="yang_library_for_validation">
<section id="appendix-D">
      <h2 id="name-yang-library-for-service-as">
<a class="section-number selfRef" href="#appendix-D">Appendix D. </a><a class="section-name selfRef" href="#name-yang-library-for-service-as">YANG Library for Service Assurance</a>
      </h2>
<p id="appendix-D-1"> 
        This section provides the JSON encoding of the YANG library <span>[<a class="cite xref" href="#RFC8525">RFC8525</a>]</span> that lists all modules defined in this document and their dependencies.
        This library can be used to validate data instances using yangson, as explained in the previous section.<a class="pilcrow" href="#appendix-D-1">¶</a></p>
<div class="breakable lang-json sourcecode" id="appendix-D-2">
<pre>{
  "ietf-yang-library:modules-state": {
    "module-set-id": "ietf-service-assurance@2023-07-11",
    "module": [
      {
        "name": "ietf-service-assurance",
        "namespace":
          "urn:ietf:params:xml:ns:yang:ietf-service-assurance",
        "revision": "2023-07-11",
        "conformance-type": "implement"
      },
      {
        "name": "ietf-service-assurance-device",
        "namespace":
         "urn:ietf:params:xml:ns:yang:ietf-service-assurance-device",
        "revision": "2023-07-11",
        "conformance-type": "implement"
      },
      {
        "name": "ietf-service-assurance-interface",
        "namespace":
      "urn:ietf:params:xml:ns:yang:ietf-service-assurance-interface",
        "revision": "2023-07-11",
        "conformance-type": "implement"
      },
      {
        "name": "example-service-assurance-device-acme",
        "namespace":
          "urn:example:example-service-assurance-device-acme",
        "revision": "2023-07-11",
        "conformance-type": "implement"
      },
      {
        "name": "example-service-assurance-is-is",
        "namespace": "urn:example:example-service-assurance-is-is",
        "revision": "2023-07-11",
        "conformance-type": "implement"
      },
      {
        "name": "example-service-assurance-ip-connectivity",
        "namespace":
          "urn:example:example-service-assurance-ip-connectivity",
        "revision": "2023-07-11",
        "conformance-type": "implement"
      },
      {
        "name": "ietf-yang-types",
        "namespace": "urn:ietf:params:xml:ns:yang:ietf-yang-types",
        "revision": "2013-07-05",
        "conformance-type": "import"
      },
      {
        "name": "ietf-inet-types",
        "namespace": "urn:ietf:params:xml:ns:yang:ietf-inet-types",
        "revision": "2013-07-05",
        "conformance-type": "import"
      }
    ]
  }
}
</pre><a class="pilcrow" href="#appendix-D-2">¶</a>
</div>
</section>
</div>
<section id="appendix-E">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-E-1">The authors would like to thank <span class="contact-name">Jan Lindblad</span> for his help during the design of these YANG modules.
          The authors would like to thank <span class="contact-name">Stephane Litkowski</span>, <span class="contact-name">Charles Eckel</span>, <span class="contact-name">Mohamed Boucadair</span>, <span class="contact-name">Tom Petch</span>, <span class="contact-name">Dhruv Dhody</span>, and <span class="contact-name">Rob Wilton</span> for their reviews.<a class="pilcrow" href="#appendix-E-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-F">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Benoit Claise</span></div>
<div class="left" dir="auto"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:benoit.claise@huawei.com">benoit.claise@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Jean Quilbeuf</span></div>
<div class="left" dir="auto"><span class="org">Huawei</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jean.quilbeuf@huawei.com">jean.quilbeuf@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Paolo Lucente</span></div>
<div class="left" dir="auto"><span class="org">NTT</span></div>
<div class="left" dir="auto"><span class="street-address">Siriusdreef 70-72</span></div>
<div class="left" dir="auto">
<span class="postal-code">2132</span> <span class="locality">Hoofddorp</span>
</div>
<div class="left" dir="auto"><span class="country-name">Netherlands</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:paolo@ntt.net">paolo@ntt.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Paolo Fasano</span></div>
<div class="left" dir="auto"><span class="org">TIM S.p.A</span></div>
<div class="left" dir="auto"><span class="street-address">via G. Reiss Romoli, 274</span></div>
<div class="left" dir="auto">
<span class="postal-code">10148</span> <span class="locality">Torino</span> </div>
<div class="left" dir="auto"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:paolo2.fasano@telecomitalia.it">paolo2.fasano@telecomitalia.it</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Thangavelu Arumugam</span></div>
<div class="left" dir="auto"><span class="org">Consultant</span></div>
<div class="left" dir="auto">
<span class="locality">Milpitas</span>, <span class="region">California</span> </div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:thangavelu@yahoo.com">thangavelu@yahoo.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>