<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9569: The Application-Layer Traffic Optimization (ALTO) Transport Information Publication Service (TIPS)</title>
<meta content="Kai Gao" name="author"/>
<meta content="Roland Schott" name="author"/>
<meta content="Yang Richard Yang" name="author"/>
<meta content="Lauren Delwiche" name="author"/>
<meta content="Lachlan Keller" name="author"/>
<meta content='
       "Application-Layer Traffic Optimization (ALTO) Protocol" (RFC 7285) leverages HTTP/1.1 and is designed for
      the simple, sequential request-reply use case, in which an ALTO client
      requests a sequence of information resources and the server responds
      with the complete content of each resource, one at a time. 
       RFC 8895, which describes ALTO incremental updates using Server-Sent Events (SSE),
      defines a multiplexing protocol on top of HTTP/1.x, so that an ALTO
      server can incrementally push resource updates to clients whenever
      monitored network information resources change, allowing the clients to
      monitor multiple resources at the same time. However, HTTP/2 and later
      versions already support concurrent, non-blocking transport of multiple
      streams in the same HTTP connection. 
       To take advantage of newer HTTP features, this document introduces
      the ALTO Transport Information Publication Service (TIPS). TIPS uses an
      incremental RESTful design to give an ALTO client the new capability to
      explicitly and concurrently (in a non-blocking manner) request (or pull)
      specific incremental updates using HTTP/2 or HTTP/3, while still
      functioning for HTTP/1.1. 
    ' name="description"/>
<meta content="xml2rfc 3.23.0" name="generator"/>
<meta content="9569" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.23.0
    Python 3.9.15
    ConfigArgParse 1.5.3
    google-i18n-address 3.0.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    platformdirs 3.8.0
    pycountry 22.3.5
    pydyf 0.10.0
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    wcwidth 0.2.5
    weasyprint 62.3
-->
<link href="rfc9569.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://datatracker.ietf.org/doc/draft-ietf-alto-new-transport-22" rel="prev"/>
  <link href="https://dx.doi.org/10.17487/rfc9569" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9569</td>
<td class="center">ALTO TIPS</td>
<td class="right">September 2024</td>
</tr></thead>
<tfoot><tr>
<td class="left">Gao, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9569">9569</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2024-09">September 2024</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">K. Gao</div>
<div class="org">Sichuan University</div>
</div>
<div class="author">
      <div class="author-name">R. Schott</div>
<div class="org">Deutsche Telekom</div>
</div>
<div class="author">
      <div class="author-name">Y. R. Yang</div>
<div class="org">Yale University</div>
</div>
<div class="author">
      <div class="author-name">L. Delwiche</div>
<div class="org">Yale University</div>
</div>
<div class="author">
      <div class="author-name">L. Keller</div>
<div class="org">Yale University</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9569</h1>
<h1 id="title">The Application-Layer Traffic Optimization (ALTO) Transport Information Publication Service (TIPS)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">"Application-Layer Traffic Optimization (ALTO) Protocol" (RFC 7285) leverages HTTP/1.1 and is designed for
      the simple, sequential request-reply use case, in which an ALTO client
      requests a sequence of information resources and the server responds
      with the complete content of each resource, one at a time.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">RFC 8895, which describes ALTO incremental updates using Server-Sent Events (SSE),
      defines a multiplexing protocol on top of HTTP/1.x, so that an ALTO
      server can incrementally push resource updates to clients whenever
      monitored network information resources change, allowing the clients to
      monitor multiple resources at the same time. However, HTTP/2 and later
      versions already support concurrent, non-blocking transport of multiple
      streams in the same HTTP connection.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
<p id="section-abstract-3">To take advantage of newer HTTP features, this document introduces
      the ALTO Transport Information Publication Service (TIPS). TIPS uses an
      incremental RESTful design to give an ALTO client the new capability to
      explicitly and concurrently (in a non-blocking manner) request (or pull)
      specific incremental updates using HTTP/2 or HTTP/3, while still
      functioning for HTTP/1.1.<a class="pilcrow" href="#section-abstract-3">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9569">https://www.rfc-editor.org/info/rfc9569</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2024 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="auto internal xref" href="#section-1.2">1.2</a>.  <a class="internal xref" href="#name-notations">Notations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-tips-overview">TIPS Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a class="auto internal xref" href="#section-2.1">2.1</a>.  <a class="internal xref" href="#name-transport-requirements">Transport Requirements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a class="auto internal xref" href="#section-2.2">2.2</a>.  <a class="internal xref" href="#name-tips-terminology">TIPS Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-tips-updates-graph">TIPS Updates Graph</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-basic-data-model-of-an-upda">Basic Data Model of an Updates Graph</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-updates-graph-modification-">Updates Graph Modification Invariants</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-tips-workflow-and-resource-">TIPS Workflow and Resource Location Schema</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-workflow">Workflow</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-resource-location-schema">Resource Location Schema</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-tips-information-resource-d">TIPS Information Resource Directory (IRD) Announcement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="auto internal xref" href="#section-5.1">5.1</a>.  <a class="internal xref" href="#name-media-type">Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="auto internal xref" href="#section-5.2">5.2</a>.  <a class="internal xref" href="#name-capabilities">Capabilities</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="auto internal xref" href="#section-5.3">5.3</a>.  <a class="internal xref" href="#name-uses">Uses</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="auto internal xref" href="#section-5.4">5.4</a>.  <a class="internal xref" href="#name-an-example">An Example</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-tips-management">TIPS Management</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#section-6.1">6.1</a>.  <a class="internal xref" href="#name-open-request">Open Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="auto internal xref" href="#section-6.2">6.2</a>.  <a class="internal xref" href="#name-open-response">Open Response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="auto internal xref" href="#section-6.3">6.3</a>.  <a class="internal xref" href="#name-open-example">Open Example</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.1">
                    <p id="section-toc.1-1.6.2.3.2.1.1"><a class="auto internal xref" href="#section-6.3.1">6.3.1</a>.  <a class="internal xref" href="#name-basic-example">Basic Example</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.2">
                    <p id="section-toc.1-1.6.2.3.2.2.1"><a class="auto internal xref" href="#section-6.3.2">6.3.2</a>.  <a class="internal xref" href="#name-example-using-digest-authen">Example Using Digest Authentication</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.3">
                    <p id="section-toc.1-1.6.2.3.2.3.1"><a class="auto internal xref" href="#section-6.3.3">6.3.3</a>.  <a class="internal xref" href="#name-example-using-alto-sse">Example Using ALTO/SSE</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-tips-data-transfers-client-">TIPS Data Transfers - Client Pull</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-request">Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-response">Response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="auto internal xref" href="#section-7.3">7.3</a>.  <a class="internal xref" href="#name-example">Example</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="auto internal xref" href="#section-7.4">7.4</a>.  <a class="internal xref" href="#name-new-next-edge-recommendatio">New Next Edge Recommendation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.1">
                    <p id="section-toc.1-1.7.2.4.2.1.1"><a class="auto internal xref" href="#section-7.4.1">7.4.1</a>.  <a class="internal xref" href="#name-request-2">Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.2">
                    <p id="section-toc.1-1.7.2.4.2.2.1"><a class="auto internal xref" href="#section-7.4.2">7.4.2</a>.  <a class="internal xref" href="#name-response-2">Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.3">
                    <p id="section-toc.1-1.7.2.4.2.3.1"><a class="auto internal xref" href="#section-7.4.3">7.4.3</a>.  <a class="internal xref" href="#name-example-2">Example</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-operation-and-processing-co">Operation and Processing Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="auto internal xref" href="#section-8.1">8.1</a>.  <a class="internal xref" href="#name-considerations-for-load-bal">Considerations for Load Balancing</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="auto internal xref" href="#section-8.2">8.2</a>.  <a class="internal xref" href="#name-considerations-for-cross-re">Considerations for Cross-Resource Dependency Scheduling</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="auto internal xref" href="#section-8.3">8.3</a>.  <a class="internal xref" href="#name-considerations-for-managing">Considerations for Managing Shared TIPS Views</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="auto internal xref" href="#section-8.4">8.4</a>.  <a class="internal xref" href="#name-considerations-for-offering">Considerations for Offering Shortcut Incremental Updates</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="auto internal xref" href="#section-9.1">9.1</a>.  <a class="internal xref" href="#name-tips-denial-of-service-atta">TIPS: Denial-of-Service Attacks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="auto internal xref" href="#section-9.2">9.2</a>.  <a class="internal xref" href="#name-alto-client-update-overload">ALTO Client: Update Overloading or Instability</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="auto internal xref" href="#section-10.1">10.1</a>.  <a class="internal xref" href="#name-application-alto-tipsjson-m">application/alto-tips+json Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="auto internal xref" href="#section-10.2">10.2</a>.  <a class="internal xref" href="#name-application-alto-tipsparams">application/alto-tipsparams+json Media Type</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#section-11">11</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="auto internal xref" href="#section-11.1">11.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="auto internal xref" href="#section-11.2">11.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-a-high-level-deployment-mod">A High-Level Deployment Model</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#appendix-B">Appendix B</a>.  <a class="internal xref" href="#name-conformance-with-building-p">Conformance with "Building Protocols with HTTP" (RFC 9205) Best Current Practices</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="auto internal xref" href="#appendix-C">Appendix C</a>.  <a class="internal xref" href="#name-push-mode-tips-using-http-s">Push-Mode TIPS Using HTTP Server Push</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="auto internal xref" href="#appendix-D">Appendix D</a>.  <a class="internal xref" href="#name-persistent-http-connections">Persistent HTTP Connections</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a class="auto internal xref" href="#appendix-E"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a class="auto internal xref" href="#appendix-F"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The Application-Layer Traffic Optimization (ALTO) protocol provides means for network
applications to obtain network status information. So far, the ALTO information
can be transported in two ways:<a class="pilcrow" href="#section-1-1">¶</a></p>
<ol class="normal type-1" id="section-1-2" start="1" type="1">
<li id="section-1-2.1">Using the ALTO base protocol <span>[<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>, which is designed for the simple use case
in which an ALTO client requests a network information resource and the
server sends the complete content of the requested information (if any)
resource to the client.<a class="pilcrow" href="#section-1-2.1">¶</a>
</li>
        <li id="section-1-2.2">Using ALTO incremental updates using Server-Sent Events (ALTO/SSE) <span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>;
this method is designed for an ALTO client to indicate to the server that it wants
to receive updates for a set of resources, and the server can then
concurrently and incrementally push updates to that client whenever
monitored resources change.<a class="pilcrow" href="#section-1-2.2">¶</a>
</li>
      </ol>
<p id="section-1-3">Both protocols are designed for HTTP/1.1 <span>[<a class="cite xref" href="#RFC9112">RFC9112</a>]</span>. While they still work with HTTP/2 <span>[<a class="cite xref" href="#RFC9113">RFC9113</a>]</span> and
HTTP/3 <span>[<a class="cite xref" href="#RFC9114">RFC9114</a>]</span>, ALTO and ALTO/SSE cannot take full advantage of new features offered by HTTP/2 and HTTP/3.<a class="pilcrow" href="#section-1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-4.1">First, consider the ALTO base protocol, which is designed to transfer only
complete information resources. A client can run the base protocol on top of
HTTP/2 or HTTP/3 to request multiple information resources in concurrent
streams, but each request must be for a complete information resource: there is
no capability for the server to transmit incremental updates. Hence, there can be a large
overhead when the client already has an information resource and then there are
small changes to the resource.<a class="pilcrow" href="#section-1-4.1">¶</a>
</li>
        <li class="normal" id="section-1-4.2">Next, consider ALTO/SSE <span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>. Although ALTO/SSE can transfer
incremental updates, it introduces a customized multiplexing protocol on top
of HTTP, assuming a total-order message channel from the server to the client.
The multiplexing design does not provide naming (i.e., a resource identifier)
to individual incremental updates. Such a design cannot use concurrent data
streams available in HTTP/2 and HTTP/3 because both cases require a resource
identifier. Additionally, ALTO/SSE is a push-only protocol, which denies the
client flexibility in choosing how and when it receives updates.<a class="pilcrow" href="#section-1-4.2">¶</a>
</li>
      </ul>
<p id="section-1-5">To mitigate these concerns, this document introduces a new ALTO service called
the Transport Information Publication Service (TIPS). TIPS uses an incremental
RESTful design to provide an ALTO client with a new capability to explicitly,
concurrently issue non-blocking requests for specific incremental updates using
HTTP/2 or HTTP/3, while still functioning for HTTP/1.1.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">While both ALTO/SSE <span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span> and TIPS can transport incremental updates of
ALTO information resources to clients, they have different design goals. The
TIPS extension enables more scalable and robust distribution of incremental
updates but is missing the session management and built-in server push
capabilities of ALTO/SSE. From the performance perspective, TIPS is optimizing
throughput by leveraging concurrent and out-of-order transport of data, while
ALTO/SSE is optimizing latency as new events can be immediately transferred to
the clients without waiting for another round of communication when there are
multiple updates. Thus, we do not see TIPS as a replacement for ALTO/SSE, but as a complement
to it. One example of combining these two extensions is shown in
<a class="auto internal xref" href="#tips-sse">Section 6.3.3</a>.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">Note that future extensions may leverage server push, a feature of HTTP/2
<span>[<a class="cite xref" href="#RFC9113">RFC9113</a>]</span> and HTTP/3 <span>[<a class="cite xref" href="#RFC9114">RFC9114</a>]</span>, as an alternative of SSE. We discuss why
this alternative design is not ready at the time of writing in <a class="auto internal xref" href="#push">Appendix C</a>.<a class="pilcrow" href="#section-1-7">¶</a></p>
<p id="section-1-8">Specifically, this document specifies:<a class="pilcrow" href="#section-1-8">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-9.1">Extensions to the ALTO Protocol for dynamic subscription and efficient
uniform update delivery of an incrementally changing network information
resource.<a class="pilcrow" href="#section-1-9.1">¶</a>
</li>
        <li class="normal" id="section-1-9.2">A new resource type that indicates the TIPS updates graph model for a
resource.<a class="pilcrow" href="#section-1-9.2">¶</a>
</li>
        <li class="normal" id="section-1-9.3">URI patterns to fetch the snapshots or incremental updates.<a class="pilcrow" href="#section-1-9.3">¶</a>
</li>
      </ul>
<p id="section-1-10">Some operational complexities that must be taken into consideration when
implementing this extension are discussed in <a class="auto internal xref" href="#ops-considerations">Section 8</a>: these include
load balancing in <a class="auto internal xref" href="#load-balancing">Section 8.1</a> and fetching and processing incremental updates
of dependent resources in <a class="auto internal xref" href="#cross-sched">Section 8.2</a>.<a class="pilcrow" href="#section-1-10">¶</a></p>
<p id="section-1-11"><a class="auto internal xref" href="#sec-bcp-http">Appendix B</a> discusses to what extent the TIPS design adheres to the best
current practices for building protocols with HTTP <span>[<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>.<a class="pilcrow" href="#section-1-11">¶</a></p>
<div id="requirements-language">
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span>
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
</div>
<div id="notations">
<section id="section-1.2">
        <h3 id="name-notations">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-notations">Notations</a>
        </h3>
<p id="section-1.2-1">This document uses the same syntax and notations as introduced in
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-8.2">Section 8.2</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span> to specify the extensions to existing ALTO resources and services.<a class="pilcrow" href="#section-1.2-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="overview">
<section id="section-2">
      <h2 id="name-tips-overview">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-tips-overview">TIPS Overview</a>
      </h2>
<div id="requirements">
<section id="section-2.1">
        <h3 id="name-transport-requirements">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-transport-requirements">Transport Requirements</a>
        </h3>
<p id="section-2.1-1">The ALTO Protocol and its extensions support two transport mechanisms:<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<ol class="normal type-1" id="section-2.1-2" start="1" type="1">
<li id="section-2.1-2.1">A client can directly request an ALTO resource and obtain a complete
snapshot of that ALTO resource, as specified in the base protocol <span>[<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>;<a class="pilcrow" href="#section-2.1-2.1">¶</a>
</li>
          <li id="section-2.1-2.2">A client can subscribe to incremental changes of one or multiple ALTO
resources using the incremental update extension <span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>, and a server pushes
the updates to the client through SSE.<a class="pilcrow" href="#section-2.1-2.2">¶</a>
</li>
        </ol>
<p id="section-2.1-3">However, the current transport mechanisms are not optimized for storing,
transmitting, and processing (incremental) updates of ALTO information
resources. Specifically, the new transport mechanism must satisfy the following
requirements:<a class="pilcrow" href="#section-2.1-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.1-4">
          <dt id="section-2.1-4.1">Incremental updates:</dt>
          <dd id="section-2.1-4.2" style="margin-left: 1.5em">
            <p id="section-2.1-4.2.1">Incremental updates only maintain and transfer the "diff" upon changes. Thus,
it is more efficient than storing and transferring the full updates,
especially when the change of an ALTO resource is minor. The base protocol
does not support incremental updates and the current incremental update
mechanism in <span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span> has limitations (as discussed below).<a class="pilcrow" href="#section-2.1-4.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.3">Concurrent, non-blocking update transmission:</dt>
          <dd id="section-2.1-4.4" style="margin-left: 1.5em">
            <p id="section-2.1-4.4.1">When a client needs to receive and apply multiple incremental updates, it is
desired to transmit the updates concurrently to fully utilize the bandwidth
and to reduce head-of-line blocking. Unfortunately, the ALTO incremental update extension
<span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span> does not satisfy this requirement. Even though
the updates can be multiplexed by the server to avoid head-of-line blocking
between multiple resources, the updates are delivered sequentially and can
suffer from head-of-line blocking inside the connection (for example, when
there is a packet loss).<a class="pilcrow" href="#section-2.1-4.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.5">Long polling updates:</dt>
          <dd id="section-2.1-4.6" style="margin-left: 1.5em">
            <p id="section-2.1-4.6.1">Long polling updates can reduce the time to send the request, making it
possible to achieve sub-RTT transmission of ALTO incremental updates. In
<span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>, this requirement is fulfilled using SSE and
is still desired in the new ALTO transport.<a class="pilcrow" href="#section-2.1-4.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-4.7">Backward compatibility:</dt>
          <dd id="section-2.1-4.8" style="margin-left: 1.5em">
            <p id="section-2.1-4.8.1">While some of the previous requirements are offered by HTTP/2 <span>[<a class="cite xref" href="#RFC9113">RFC9113</a>]</span> and
HTTP/3 <span>[<a class="cite xref" href="#RFC9114">RFC9114</a>]</span>, it is desired that the new ALTO transport mechanism can
work with HTTP/1.1 as many development tools and current ALTO implementations
are based on HTTP/1.1.<a class="pilcrow" href="#section-2.1-4.8.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.1-5">The new ALTO transport specified in this document satisfies all of the following design
requirements above by:<a class="pilcrow" href="#section-2.1-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1-6.1">Reusing the data format introduced in <span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span> that enables
incremental updates using JSON patches or merge patches.<a class="pilcrow" href="#section-2.1-6.1">¶</a>
</li>
          <li class="normal" id="section-2.1-6.2">Introducing a unified data model to describe the
     changes (snapshots and incremental updates) of an ALTO resource,
     referred to as a "TIPS view".  In the data model, snapshots and
     incremental updates are indexed as individual HTTP resources
     following a unified naming convention, independent of the HTTP
     version.  Thus, these updates can be concurrently requested and be
     transferred in a non-blocking manner either by using multiple
     connections or leveraging multiplexed data transfer offered by
     HTTP/2 or HTTP/3.<a class="pilcrow" href="#section-2.1-6.2">¶</a>
</li>
          <li class="normal" id="section-2.1-6.3">Basing the unified naming convention on a monotonically
     increasing sequence number, making it possible for a client to
     construct the URL of a future update and send a long polling
     request.<a class="pilcrow" href="#section-2.1-6.3">¶</a>
</li>
          <li class="normal" id="section-2.1-6.4">Making the unified naming convention independent of the HTTP versions
     and able to operate atop HTTP/1.1, HTTP/2, or HTTP/3.<a class="pilcrow" href="#section-2.1-6.4">¶</a>
</li>
        </ul>
<p id="section-2.1-7">This document assumes the deployment model discussed in  <a class="auto internal xref" href="#sec-dep-model">Appendix A</a>.<a class="pilcrow" href="#section-2.1-7">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-2.2">
        <h3 id="name-tips-terminology">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-tips-terminology">TIPS Terminology</a>
        </h3>
<p id="section-2.2-1">In addition to the terms defined in <span>[<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>, this document uses the following terms:<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.2-2">
          <dt id="section-2.2-2.1">Transport Information Publication Service (TIPS):</dt>
          <dd id="section-2.2-2.2" style="margin-left: 1.5em">
            <p id="section-2.2-2.2.1">A new type of ALTO service, as specified in this document, to enable a
uniform transport mechanism for updates of an incrementally changing ALTO
network information resource.<a class="pilcrow" href="#section-2.2-2.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.3">Network information resource:</dt>
          <dd id="section-2.2-2.4" style="margin-left: 1.5em">
            <p id="section-2.2-2.4.1">A piece of retrievable information about network state, per <span>[<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>.<a class="pilcrow" href="#section-2.2-2.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.5">TIPS view (tv):</dt>
          <dd id="section-2.2-2.6" style="margin-left: 1.5em">
            <p id="section-2.2-2.6.1">The container of incremental transport
information about the network information resource. The TIPS view has one
basic component, the updates graph (ug), but may include other transport
information.<a class="pilcrow" href="#section-2.2-2.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.7">Updates graph (ug):</dt>
          <dd id="section-2.2-2.8" style="margin-left: 1.5em">
            <p id="section-2.2-2.8.1">A directed, acyclic graph whose nodes represent the set of
            versions of an information resource and whose edges represent the
            set of update items to compute these versions. An ALTO map service
            (e.g., a cost map or a network map) may need only a single updates
            graph. A dynamic network information service (e.g., a filtered
            cost map) may create an updates graph (within a new TIPS view) for
            each unique request. The encoding of an updates graph is specified
            in <a class="auto internal xref" href="#open-req">Section 6.1</a>.<a class="pilcrow" href="#section-2.2-2.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.9">Version:</dt>
          <dd id="section-2.2-2.10" style="margin-left: 1.5em">
            <p id="section-2.2-2.10.1">The representation of a historical content of an information resource. For an information
resource, each version is associated with and uniquely identified by a
monotonically and consecutively increased sequence number. This document uses
the term "version s" to refer to the version associated with sequence number
"s". The version is encoded as a JSONNumber, as specified in <a class="auto internal xref" href="#open-req">Section 6.1</a>.<a class="pilcrow" href="#section-2.2-2.10.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.11">Start sequence number (&lt;start-seq&gt;):</dt>
          <dd id="section-2.2-2.12" style="margin-left: 1.5em">
            <p id="section-2.2-2.12.1">The smallest non-zero sequence number in an updates graph.<a class="pilcrow" href="#section-2.2-2.12.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.13">End sequence number (&lt;end-seq&gt;):</dt>
          <dd id="section-2.2-2.14" style="margin-left: 1.5em">
            <p id="section-2.2-2.14.1">The largest sequence number in an updates graph.<a class="pilcrow" href="#section-2.2-2.14.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.15">Snapshot:</dt>
          <dd id="section-2.2-2.16" style="margin-left: 1.5em">
            <p id="section-2.2-2.16.1">A full replacement of a resource that is contained within an updates graph.<a class="pilcrow" href="#section-2.2-2.16.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.17">Incremental update:</dt>
          <dd id="section-2.2-2.18" style="margin-left: 1.5em">
            <p id="section-2.2-2.18.1">A partial replacement of a resource contained within an
            updates graph, codified in this document as a JSON merge patch or
            a JSON patch. An incremental update is mandatory if the source
            version (i) and the target version (j) are consecutive (i.e., i + 1 =
            j); otherwise, it is optional (or a shortcut). Mandatory incremental
            updates are always in an updates graph, while optional/shortcut
            incremental updates may or may not be included in an updates
            graph.<a class="pilcrow" href="#section-2.2-2.18.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.19">Update item:</dt>
          <dd id="section-2.2-2.20" style="margin-left: 1.5em">
            <p id="section-2.2-2.20.1">The content on an edge of the updates graph, which can be either a
snapshot or an incremental update. An update item can be considered to be a pair
(op, data) where op denotes whether the item is an incremental update or a
snapshot and data is the content of the item.<a class="pilcrow" href="#section-2.2-2.20.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.21">ID#i-#j:</dt>
          <dd id="section-2.2-2.22" style="margin-left: 1.5em">
            <p id="section-2.2-2.22.1">Denotation of the update item on a specific edge in the updates graph to transition
from version i to version j, where i and j are the sequence numbers of the
source node and the target node of the edge, respectively.<a class="pilcrow" href="#section-2.2-2.22.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-overview-of-alto-tips"></span><div id="fig-overview">
<figure id="figure-1">
          <div class="alignCenter art-drawing art-text artwork" id="section-2.2-3.1">
<pre>                                   +-------------+
    +-----------+ +--------------+ |  Dynamic    | +-----------+
    |  Routing  | | Provisioning | |  Network    | | External  |
    | Protocols | |    Policy    | | Information | | Interface |
    +-----------+ +--------------+ +-------------+ +-----------+
          |              |                |              |
+-----------------------------------------------------------------+
| ALTO Server                                                     |
| +-------------------------------------------------------------+ |
| |                                         Network Information | |
| | +-------------+                         +-------------+     | |
| | | Information |                         | Information |     | |
| | | Resource #1 |                         | Resource #2 |     | |
| | +-------------+                         +-------------+     | |
| +-----|--------------------------------------/-------\--------+ |
|       |                                     /         \         |
| +-----|------------------------------------/-----------\------+ |
| |     |       Transport Information       /             \     | |
| | +--------+                     +--------+        +--------+ | |
| | |  tv1   |                     |  tv2   |        |  tv3   | | |
| | +--------+                     +--------+        +--------+ | |
| |     |                          /                     |      | |
| | +--------+            +--------+                 +--------+ | |
| | | tv1/ug |            | tv2/ug |                 | tv3/ug | | |
| | +--------+            +--------+                 +--------+ | |
| +----|----\----------------|-------------------------|--------+ |
|      |     \               |                         |          |
+------|------\--------------|-------------------------|----------+
       |       +------+      |                         |
       |               \     |                         |
   +----------+       +----------+                 +----------+
   | Client 1 |       | Client 2 |                 | Client 3 |
   +----------+       +----------+                 +----------+

tvi   = TIPS view i
tvi/ug = incremental updates graph associated with tvi
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-overview-of-alto-tips">Overview of ALTO TIPS</a>
          </figcaption></figure>
</div>
<p id="section-2.2-4"><a class="auto internal xref" href="#fig-overview">Figure 1</a> shows an example illustrating an overview of the ALTO TIPS
extension. The server provides TIPS for two information resources (#1
and #2) where #1 is an ALTO map service and #2 is a filterable
service. There are three ALTO clients (Client 1, Client 2, and Client 3) that are
connected to the ALTO server.<a class="pilcrow" href="#section-2.2-4">¶</a></p>
<p id="section-2.2-5">Each client uses the TIPS view to retrieve updates. Specifically, a TIPS view
(tv1) is created for the map service #1 and is shared by multiple clients. For
the filtering service #2, two different TIPS views (tv2 and tv3) are created upon
different client requests with different filter sets.<a class="pilcrow" href="#section-2.2-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="tips-updates-graph">
<section id="section-3">
      <h2 id="name-tips-updates-graph">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-tips-updates-graph">TIPS Updates Graph</a>
      </h2>
<p id="section-3-1">In order to provide incremental updates for a resource, an ALTO server creates
an updates graph, which is a directed acyclic graph that contains a sequence of
incremental updates and snapshots (collectively called "update items") of a
network information resource.<a class="pilcrow" href="#section-3-1">¶</a></p>
<div id="data-model">
<section id="section-3.1">
        <h3 id="name-basic-data-model-of-an-upda">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-basic-data-model-of-an-upda">Basic Data Model of an Updates Graph</a>
        </h3>
<p id="section-3.1-1">For each resource (e.g., a cost map or a network map), the incremental updates and
snapshots can be represented using the following directed acyclic graph model,
where the server tracks the change of the resource maps with version IDs that are
assigned sequentially (i.e., incremented by one each time):<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-2.1">Each node in the graph is a version of the resource, which is identified by a
sequence number (defined as a JSONNumber). Version 0 is reserved as the
initial state (empty/null).<a class="pilcrow" href="#section-3.1-2.1">¶</a>
</li>
          <li class="normal" id="section-3.1-2.2">A tag identifies the content of a node. A tag has the same format as the
"tag" field in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-10.3">Section 10.3</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span> and is valid only within the
scope of the resource.<a class="pilcrow" href="#section-3.1-2.2">¶</a>
</li>
          <li class="normal" id="section-3.1-2.3">Each edge is an update item. In particular, the edge from i to j is the update
item to transit from version i to version j.<a class="pilcrow" href="#section-3.1-2.3">¶</a>
</li>
          <li class="normal" id="section-3.1-2.4">The version is path independent, i.e., different paths arriving at the node associated with the same version
have the same content.<a class="pilcrow" href="#section-3.1-2.4">¶</a>
</li>
        </ul>
<p id="section-3.1-3">A concrete example is shown in <a class="auto internal xref" href="#fig-ug">Figure 2</a>. There are seven nodes in the graph,
representing seven different versions of the resource. Edges in the figure represent
the updates from the source version to the target version. Thick lines represent
mandatory incremental updates (e.g., ID103-104), dotted lines represent optional
incremental updates (e.g., ID103-105), and thin lines represent snapshots (e.g.,
ID0-103). Note that node content is path independent: the content of node v can
be obtained by applying the updates from any path that ends at v. For example,
assume the latest version is 105 and a client already has version 103. The base
version of the client is 103 as it serves as a base upon which incremental
updates can be applied.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">The target version 105 can be:<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-5.1">directly fetched as a snapshot;<a class="pilcrow" href="#section-3.1-5.1">¶</a>
</li>
          <li class="normal" id="section-3.1-5.2">computed incrementally by applying the incremental updates between
  103 and 104, then 104 and 105; or,<a class="pilcrow" href="#section-3.1-5.2">¶</a>
</li>
          <li class="normal" id="section-3.1-5.3">computed incrementally by taking the "shortcut" path from 103 to
  105 if the optional update from 103 to 105 exists.<a class="pilcrow" href="#section-3.1-5.3">¶</a>
</li>
        </ul>
<span id="name-tips-model-example"></span><div id="fig-ug">
<figure id="figure-2">
          <div class="alignCenter art-drawing art-text artwork" id="section-3.1-6.1">
<pre>                                                    +======+
                                              ------|  0   |
                                             /      +======+
                                    ID0-101 /        |   |
                                          |/__       |   |
                                   +======+          |   |
                   tag: 3421097 -&gt; | 101  |          |   |
                                   +======+          |   |
                           ID101-102  ||             |   |
                                      \/             |   |
                                   +======+          |   |
                   tag: 6431234 -&gt; | 102  |          |   |
                                   +======+          |   |
                           ID102-103  ||             |   |
                                      \/             |   |
                                   +======+          /   |
+--------------+   tag: 0881080 -&gt; | 103  |&lt;--------/    |
| Base Version |   =======&gt;        +======+ ID0-103      |
+--------------+             103-104  ||    ..           |
                                      \/     ..          |
                                   +======+  ..          |
                   tag: 6452654 -&gt; | 104  |  .. ID103    |
                                   +======+  .. -105     |
                           ID104-105  ||     ..          | ID0-105
                                      \/   |._           /
                                   +======+             /
                   tag: 7838392 -&gt; | 105  |&lt;-----------/
                                   +======+
                           ID105-106  ||
                                      \/
                                   +======+
                   tag: 6470983 -&gt; | 106  |
                                   +======+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-tips-model-example">TIPS Model Example</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="updates-graph-modification-invariants">
<section id="section-3.2">
        <h3 id="name-updates-graph-modification-">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-updates-graph-modification-">Updates Graph Modification Invariants</a>
        </h3>
<p id="section-3.2-1">A server might change its updates graph (to compact it, to add nodes,
etc.), but it will need to ensure that any resource state that it makes
available is reachable by clients, either directly via a snapshot
(that is, relative to 0) or indirectly by requesting an earlier
snapshot and a contiguous set of incremental updates.  Additionally,
to allow clients to proactively construct URIs for future update
items, the ID of each added node in the updates graph will need to increment
contiguously by 1.  More specifically, the updates graph <span class="bcp14">MUST</span> satisfy
the following invariants:<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.2-2">
          <dt id="section-3.2-2.1">Continuity:</dt>
          <dd id="section-3.2-2.2" style="margin-left: 1.5em">At any time, let ns denote the smallest non-zero version (i.e.,
&lt;start-seq&gt;) in the updates graph and let ne denote the latest version (i.e.,
&lt;end-seq&gt;). Then, any version in between ns and ne <span class="bcp14">MUST</span> also exist.  This implies
that the incremental update from ni to ni + 1 exists for any ns &lt;= ni &lt;= ne, and all the version numbers in the updates graph (except 0)
   constitute exactly the integer interval [ns, ne].<a class="pilcrow" href="#section-3.2-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-2.3">Feasibility:</dt>
          <dd id="section-3.2-2.4" style="margin-left: 1.5em">Let ns denote &lt;start-seq&gt; in the updates graph. The server <span class="bcp14">MUST</span>
provide a snapshot of ns;  in other words, there is always a direct link
to ns in the updates graph.<a class="pilcrow" href="#section-3.2-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-2.5">"Right shift" only:</dt>
          <dd id="section-3.2-2.6" style="margin-left: 1.5em">Assume a server provides versions in [n1, n2] at time t
and versions in [n1', n2'] at time t'. If t' &gt; t, then n1' &gt;= n1 and n2' &gt;=
n2.<a class="pilcrow" href="#section-3.2-2.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.2-3">For example, consider the case that a server compacts a resource's updates graph
to conserve space, using the example model in <a class="auto internal xref" href="#data-model">Section 3.1</a>. Assume at time 0,
the server provides the versions {101, 102, 103, 104, 105, 106}.  At time 1,
both {103, 104, 105, 106} and {105, 106} are valid sets. However, {102,
103, 104, 105, 106} and {104, 105, 106} are not valid sets as there is no
snapshot to version 102 or 104 in the updates graph. Thus, there is a risk that
the right content of version 102 (in the first example) or 104 (in the second
example) cannot be obtained by a client that does not have the previous version
101 or 103, respectively.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="workflow">
<section id="section-4">
      <h2 id="name-tips-workflow-and-resource-">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-tips-workflow-and-resource-">TIPS Workflow and Resource Location Schema</a>
      </h2>
<div id="workflow-overview">
<section id="section-4.1">
        <h3 id="name-workflow">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-workflow">Workflow</a>
        </h3>
<p id="section-4.1-1">At a high level, an ALTO client first requests the TIPS information resource (denoted as TIPS-F,
where F is for frontend) to indicate the information resource or resources that the client
wants to monitor. For each requested resource, the server returns a JSON object
that contains a URI, which points to the root of a TIPS view (denoted as
TIPS-V), and a summary of the current view, which contains the information to
correctly interact with the current view. With the URI to the root of a TIPS
view, clients can construct URIs (see <a class="auto internal xref" href="#schema">Section 4.2</a>) to fetch incremental updates.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">An example workflow is shown in <a class="auto internal xref" href="#fig-workflow-pull">Figure 3</a>. After the TIPS-F
 receives the request from the client to monitor the updates of an ALTO
resource, it creates a TIPS view resource and returns the corresponding
information to the client. The URI points to that specific TIPS-V instance, and
the summary contains the &lt;start-seq&gt; and &lt;end-seq&gt; of the updates graph and a
server-recommended edge to consume first (e.g., from i to j).<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">An ALTO client can then continuously pull each additional update with the
information. For example, the client in <a class="auto internal xref" href="#fig-workflow-pull">Figure 3</a> first fetches the
update from i to j and then from j to j+1. Note that the update item at
"&lt;tips-view-uri&gt;/ug/&lt;j&gt;/&lt;j+1&gt;" might not yet exist, so the server holds the
request until the update becomes available (i.e., long polling).<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4">A server <span class="bcp14">MAY</span> close a TIPS view at any time (e.g., under high system load or due
to client inactivity). In the event that a TIPS view is closed, an edge request
will receive error code 404 (Not Found) in response, and the client will have to request a
new TIPS view URI.<a class="pilcrow" href="#section-4.1-4">¶</a></p>
<p id="section-4.1-5">If resources allow, a server <span class="bcp14">SHOULD</span> avoid closing TIPS views that have active
polling edge requests or have recently served responses until clients have had a
reasonable interval to request the next update, unless guided by specific
control policies.<a class="pilcrow" href="#section-4.1-5">¶</a></p>
<span id="name-alto-tips-workflow-supporti"></span><div id="fig-workflow-pull">
<figure id="figure-3">
          <div class="alignCenter art-drawing art-text artwork" id="section-4.1-6.1">
<pre>Client                                 TIPS-F           TIPS-V
  o                                       .                .
  | POST to create/receive a TIPS view    .  Create TIPS   .
  |           for resource 1              .      View      .
  |-------------------------------------&gt; |.-.-.-.-.-.-.-&gt; |
  | &lt;tips-view-uri&gt;, &lt;tips-view-summary&gt;  .                |
  | &lt;-------------------------------------| &lt;-.-.-.-.-.-.-.|
  |                                                        .
  | GET /&lt;tips-view-path&gt;/ug/&lt;i&gt;/&lt;j&gt;                       .
  |------------------------------------------------------&gt; |
  | content on edge i to j                                 |
  | &lt;------------------------------------------------------|
  |                                                        .
  | GET /&lt;tips-view-path&gt;/ug/&lt;j&gt;/&lt;j+1&gt;                     .
  |------------------------------------------------------&gt; |
  .                                                        .
  .                                                        .
  | content on edge j to j+1                               |
  | &lt;------------------------------------------------------|
  |                                                        .
  o                                                        .
                                                           .
                                         TIPS View Closed  o
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-alto-tips-workflow-supporti">ALTO TIPS Workflow Supporting Client Pull</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="schema">
<section id="section-4.2">
        <h3 id="name-resource-location-schema">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-resource-location-schema">Resource Location Schema</a>
        </h3>
<p id="section-4.2-1">The resource location schema defines how a client constructs URIs to fetch
incremental updates.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">To access each update in an updates graph, consider the model
represented as a "virtual" file system (adjacency list), contained within the
root of a TIPS view URI (see <a class="auto internal xref" href="#open-resp">Section 6.2</a> for the definition of tips-view-uri).
For example, assuming that the updates graph of a TIPS view is as shown in
<a class="auto internal xref" href="#fig-ug">Figure 2</a>, the location schema of this TIPS view will have the format as in
<a class="auto internal xref" href="#fig-ug-schema">Figure 4</a>.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<span id="name-location-schema-example"></span><div id="fig-ug-schema">
<figure id="figure-4">
          <div class="alignCenter art-drawing art-text artwork" id="section-4.2-3.1">
<pre>  &lt;tips-view-path&gt;  // root path to a TIPS view
    |_ ug    // updates graph
    |  |_ 0
    |  |  |_ 101    // full 101 snapshot
    |  |  |_ 103
    |  |  \_ 105
    |  |_ 101
    |  |  \_ 102    // 101 -&gt; 102 incremental update
    |  |_ 102
    |  |  \_ 103
    |  |_ 103
    |  |  |_ 104
    |  |  \_ 105    // optional shortcut 103 -&gt; 105 incr. update
    |  |_ 104
    |  |  \_ 105
    |  \_ 105
    |     \_ 106
    \_ ...
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-location-schema-example">Location Schema Example</a>
          </figcaption></figure>
</div>
<p id="section-4.2-4">TIPS uses this directory schema to generate template URIs that allow
clients to construct the location of incremental updates after receiving the
tips-view-uri from the server. The generic template for the location of the
update item on the edge from node 'i' to node 'j' in the updates graph is:<a class="pilcrow" href="#section-4.2-4">¶</a></p>
<div class="sourcecode" id="section-4.2-5">
<pre>    &lt;tips-view-uri&gt;/ug/&lt;i&gt;/&lt;j&gt;
</pre><a class="pilcrow" href="#section-4.2-5">¶</a>
</div>
<p id="section-4.2-6">Due to the sequential nature of the update item IDs, a client can long poll a
future update that does not yet exist (e.g., the incremental update from 106 to
107). This can be done by constructing the URI for the next edge that will be added, starting from
the sequence number of the current last node (denoted as &lt;end-seq&gt;) in the graph
to the next sequential node (with the sequence number of &lt;end-seq + 1&gt;):<a class="pilcrow" href="#section-4.2-6">¶</a></p>
<div class="sourcecode" id="section-4.2-7">
<pre>    &lt;tips-view-uri&gt;/ug/&lt;end-seq&gt;/&lt;end-seq + 1&gt;
</pre><a class="pilcrow" href="#section-4.2-7">¶</a>
</div>
<p id="section-4.2-8">Incremental updates of a TIPS view are read-only. Thus, they are fetched using
the HTTP GET method.<a class="pilcrow" href="#section-4.2-8">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ird">
<section id="section-5">
      <h2 id="name-tips-information-resource-d">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-tips-information-resource-d">TIPS Information Resource Directory (IRD) Announcement</a>
      </h2>
<p id="section-5-1">To announce a TIPS information resource in the IRD, an ALTO server <span class="bcp14">MUST</span> specify "media-type", "capabilities", and "uses"
as follows.<a class="pilcrow" href="#section-5-1">¶</a></p>
<div id="media-type">
<section id="section-5.1">
        <h3 id="name-media-type">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-media-type">Media Type</a>
        </h3>
<p id="section-5.1-1">The media type of the Transport Information Publication Service (TIPS) resource is
"application/alto-tips+json".<a class="pilcrow" href="#section-5.1-1">¶</a></p>
</section>
</div>
<div id="caps">
<section id="section-5.2">
        <h3 id="name-capabilities">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-capabilities">Capabilities</a>
        </h3>
<p id="section-5.2-1">The "capabilities" field of a TIPS information resource is modeled on that defined in
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc8895#section-6.3">Section 6.3</a> of [<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">Specifically, the capabilities are defined as an object of the TIPSCapabilities type:<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<span id="name-tipscapabilities"></span><div id="tips-cap">
<figure id="figure-5">
          <div class="sourcecode" id="section-5.2-3.1">
<pre>     object {
       IncrementalUpdateMediaTypes incremental-change-media-types;
     } TIPSCapabilities;

     object-map {
        ResourceID -&gt; String;
     } IncrementalUpdateMediaTypes;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-tipscapabilities">TIPSCapabilities</a>
          </figcaption></figure>
</div>
<p id="section-5.2-4">with the field:<a class="pilcrow" href="#section-5.2-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.2-5">
          <dt id="section-5.2-5.1">incremental-change-media-types:</dt>
          <dd id="section-5.2-5.2" style="margin-left: 1.5em">
            <p id="section-5.2-5.2.1">If a TIPS information resource can provide updates with incremental changes for a
resource, the "incremental-change-media-types" field has an entry
whose key is the ID of the resource and the value is the supported media types
of incremental changes, separated by commas. For the implementation of this
specification, this <span class="bcp14">MUST</span> be "application/merge-patch+json",
"application/json-patch+json", or
"application/merge-patch+json,application/json-patch+json", unless defined by
a future extension.<a class="pilcrow" href="#section-5.2-5.2.1">¶</a></p>
<p id="section-5.2-5.2.2">When choosing the media types to encode incremental updates for a
resource, the server <span class="bcp14">MUST</span> consider the limitations of the
encoding.  For example, when a JSON merge patch specifies that the
value of a field is null, its semantics are that the field is
removed from the target; hence, the field is no longer defined
(i.e., undefined).  However, this may not be the intended result
for the resource, when null and undefined have different semantics
for the resource.  In such a case, the server <span class="bcp14">MUST</span> choose JSON
patch encoding over JSON merge patch encoding for the incremental update if both media types "application/json-patch+json" and "application/merge-patch" are supported by the TIPS information resource.<a class="pilcrow" href="#section-5.2-5.2.2">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="uses">
<section id="section-5.3">
        <h3 id="name-uses">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-uses">Uses</a>
        </h3>
<p id="section-5.3-1">The "uses" attribute <span class="bcp14">MUST</span> be an array with the resource IDs of every
network information resource for which this TIPS information resource can provide service.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<p id="section-5.3-2">This set <span class="bcp14">MAY</span> be any subset of the ALTO server's network information resources
and <span class="bcp14">MAY</span> include resources defined in linked IRDs. However, it is <span class="bcp14">RECOMMENDED</span>
that the ALTO server selects a set that is closed under the resource dependency
relationship. That is, if a TIPS information resource's "uses" set includes resource R1, and resource
R1 depends on ("uses") resource R0, then the "uses" set should include R0
as well as R1. For example, if a TIPS information resource provides a TIPS view for a cost map, it
should also provide a TIPS view for the network map upon which that cost map
depends.<a class="pilcrow" href="#section-5.3-2">¶</a></p>
<p id="section-5.3-3">If the set is not closed, at least one resource R1 in the "uses" field of a TIPS information resource
depends on another resource R0 that is not in the "uses" field of the same
TIPS information resource. Thus, a client cannot receive incremental updates for another resource R0 that is not in the "uses" field of the same TIPS information resource.  If the client observes in an update of R1 that the version tag for
R0 has changed, it must request the full content of R0, which is likely to be
less efficient than receiving the incremental updates of R0.<a class="pilcrow" href="#section-5.3-3">¶</a></p>
</section>
</div>
<div id="an-example">
<section id="section-5.4">
        <h3 id="name-an-example">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-an-example">An Example</a>
        </h3>
<p id="section-5.4-1">Extending the IRD example in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8895#section-8.1">Section 8.1</a> of [<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>, <a class="auto internal xref" href="#ex-ird">Figure 6</a> is the IRD of an
ALTO server supporting the ALTO base protocol, ALTO/SSE, and ALTO TIPS.<a class="pilcrow" href="#section-5.4-1">¶</a></p>
<span id="name-example-of-an-alto-server-s"></span><div id="ex-ird">
<figure id="figure-6">
          <div class="breakable lang-json sourcecode" id="section-5.4-2.1">
<pre>  "my-network-map": {
    "uri": "https://alto.example.com/networkmap",
    "media-type": "application/alto-networkmap+json"
  },
  "my-routingcost-map": {
    "uri": "https://alto.example.com/costmap/routingcost",
    "media-type": "application/alto-costmap+json",
    "uses": ["my-network-map"],
    "capabilities": {
      "cost-type-names": ["num-routingcost"]
    }
  },
  "my-hopcount-map": {
    "uri": "https://alto.example.com/costmap/hopcount",
    "media-type": "application/alto-costmap+json",
    "uses": ["my-network-map"],
    "capabilities": {
      "cost-type-names": ["num-hopcount"]
    }
  },
  "my-simple-filtered-cost-map": {
    "uri": "https://alto.example.com/costmap/filtered/simple",
    "media-type": "application/alto-costmap+json",
    "accepts": "application/alto-costmapfilter+json",
    "uses": ["my-network-map"],
    "capabilities": {
      "cost-type-names": ["num-routingcost", "num-hopcount"],
      "cost-constraints": false
    }
  },
  "update-my-costs": {
    "uri": "https://alto.example.com/updates/costs",
    "media-type": "text/event-stream",
    "accepts": "application/alto-updatestreamparams+json",
    "uses": [
        "my-network-map",
        "my-routingcost-map",
        "my-hopcount-map",
        "my-simple-filtered-cost-map"
    ],
    "capabilities": {
      "incremental-change-media-types": {
        "my-network-map": "application/json-patch+json",
        "my-routingcost-map": "application/merge-patch+json",
        "my-hopcount-map": "application/merge-patch+json"
      },
      "support-stream-control": true
    }
  },
  "update-my-costs-tips": {
    "uri": "https://alto.example.com/updates-new/costs",
    "media-type": "application/alto-tips+json",
    "accepts": "application/alto-tipsparams+json",
    "uses": [
        "my-network-map",
        "my-routingcost-map",
        "my-hopcount-map",
        "my-simple-filtered-cost-map"
    ],
    "capabilities": {
      "incremental-change-media-types": {
        "my-network-map": "application/json-patch+json",
        "my-routingcost-map": "application/merge-patch+json",
        "my-hopcount-map": "application/merge-patch+json",
        "my-simple-filtered-cost-map": "application/merge-patch+json"
      }
    }
  },
  "tips-sse": {
    "uri": "https://alto.example.com/updates/tips",
    "media-type": "text/event-stream",
    "accepts": "application/alto-updatestreamparams+json",
    "uses": [ "update-my-costs-tips" ],
    "capabilities": {
      "incremental-change-media-types": {
        "update-my-costs-tips": "application/merge-patch+json"
      }
    }
  }
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-example-of-an-alto-server-s">Example of an ALTO Server Supporting the ALTO Base Protocol, ALTO/⁠SSE, and ALTO TIPS</a>
          </figcaption></figure>
</div>
<p id="section-5.4-3">Note that it is straightforward for an ALTO server to run HTTP/2 and
support concurrent retrieval of multiple resources such as "my-network-map" and "my-routingcost-map" using multiple HTTP/2 streams.<a class="pilcrow" href="#section-5.4-3">¶</a></p>
<p id="section-5.4-4">The resource "update-my-costs-tips" provides an ALTO TIPS information resource, and this is
indicated by the media type "application/alto-tips+json".<a class="pilcrow" href="#section-5.4-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="tips-management">
<section id="section-6">
      <h2 id="name-tips-management">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-tips-management">TIPS Management</a>
      </h2>
<p id="section-6-1">Upon request, a server sends a TIPS view to a client. This TIPS view might be
created at the time of the request or might already exist (either because another
client has already created a TIPS view for the same requested network resource
or because the server perpetually maintains a TIPS view for an often-requested
resource).<a class="pilcrow" href="#section-6-1">¶</a></p>
<div id="open-req">
<section id="section-6.1">
        <h3 id="name-open-request">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-open-request">Open Request</a>
        </h3>
<p id="section-6.1-1">An ALTO client requests that the server provide a TIPS view for a given resource
by sending an HTTP POST body with the media type
"application/alto-tipsparams+json". That body contains a JSON object of the TIPSReq type, where:<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<span id="name-tipsreq"></span><div id="fig-open-req">
<figure id="figure-7">
          <div class="sourcecode" id="section-6.1-2.1">
<pre>    object {
       ResourceID   resource-id;
       [JSONString  tag;]
       [Object      input;]
    } TIPSReq;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-tipsreq">TIPSReq</a>
          </figcaption></figure>
</div>
<p id="section-6.1-3">with the following fields:<a class="pilcrow" href="#section-6.1-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.1-4">
          <dt id="section-6.1-4.1">resource-id:</dt>
          <dd id="section-6.1-4.2" style="margin-left: 1.5em">
            <p id="section-6.1-4.2.1">This field contains the resource ID of an ALTO resource to be monitored, which <span class="bcp14">MUST</span> be in the TIPS information resource's "uses" list
(<a class="auto internal xref" href="#ird">Section 5</a>). If a client does not support all incremental methods from the set
announced in the server's capabilities, the client <span class="bcp14">MUST NOT</span> use the TIPS
information resource.<a class="pilcrow" href="#section-6.1-4.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-4.3">tag:</dt>
          <dd id="section-6.1-4.4" style="margin-left: 1.5em">
            <p id="section-6.1-4.4.1">If the "resource-id" is associated with a GET-mode resource with a version tag (or
"vtag"), as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-10.3">Section 10.3</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>, and the ALTO
client has previously retrieved a version of that resource from
ALTO, the ALTO client <span class="bcp14">MAY</span> set the "tag" field to the tag part of
the client's version of that resource.  The server <span class="bcp14">MAY</span> use the tag
when calculating a recommended starting edge for the client to
consume.  Note that the client <span class="bcp14">MUST</span> support all incremental
methods from the set announced in the server's capabilities for
this resource.<a class="pilcrow" href="#section-6.1-4.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-4.5">input:</dt>
          <dd id="section-6.1-4.6" style="margin-left: 1.5em">
            <p id="section-6.1-4.6.1">If the resource is a POST-mode service that requires input, the
ALTO client <span class="bcp14">MUST</span> set the "input" field to a JSON object with the
parameters that the resource expects.<a class="pilcrow" href="#section-6.1-4.6.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="open-resp">
<section id="section-6.2">
        <h3 id="name-open-response">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-open-response">Open Response</a>
        </h3>
<p id="section-6.2-1">The response to a valid request <span class="bcp14">MUST</span> be a JSON object of the AddTIPSResponse type, denoted as media type "application/alto-tips+json":<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<span id="name-addtipsresponse"></span><div id="fig-open-resp">
<figure id="figure-8">
          <div class="sourcecode" id="section-6.2-2.1">
<pre>    object {
      URI               tips-view-uri;
      TIPSViewSummary   tips-view-summary;
    } AddTIPSResponse;

    object {
      UpdatesGraphSummary   updates-graph-summary;
    } TIPSViewSummary;

    object {
      JSONNumber       start-seq;
      JSONNumber       end-seq;
      StartEdgeRec     start-edge-rec;
    } UpdatesGraphSummary;

    object {
      JSONNumber       seq-i;
      JSONNumber       seq-j;
    } StartEdgeRec;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-addtipsresponse">AddTIPSResponse</a>
          </figcaption></figure>
</div>
<p id="section-6.2-3">with the following fields:<a class="pilcrow" href="#section-6.2-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.2-4">
          <dt id="section-6.2-4.1">tips-view-uri:</dt>
          <dd id="section-6.2-4.2" style="margin-left: 1.5em">
            <p id="section-6.2-4.2.1">This is the URI to the requested TIPS view. The value of this field <span class="bcp14">MUST</span> have the
following format:<a class="pilcrow" href="#section-6.2-4.2.1">¶</a></p>
<div class="sourcecode" id="section-6.2-4.2.2">
<pre>    scheme "://" tips-view-host "/" tips-view-path

    tips-view-host = host [ ":" port]
    tips-view-path = path
</pre><a class="pilcrow" href="#section-6.2-4.2.2">¶</a>
</div>
<p id="section-6.2-4.2.3">where scheme <span class="bcp14">MUST</span> be "http" or "https" unless specified by a future
extension, and host, port, and path are as specified in Sections <a class="relref" href="https://rfc-editor.org/rfc/rfc3986#section-3.2.2">3.2.2</a>, <a class="relref" href="https://rfc-editor.org/rfc/rfc3986#section-3.2.3">3.2.3</a>, and <a class="relref" href="https://rfc-editor.org/rfc/rfc3986#section-3.3">3.3</a> in <span>[<a class="cite xref" href="#RFC3986">RFC3986</a>]</span>. An ALTO server <span class="bcp14">SHOULD</span> use the "https" scheme unless
the contents of the TIPS view are intended to be publicly accessible and do
not raise security concerns. The field <span class="bcp14">MUST</span> contain only ASCII characters. In
case the original URL contains international characters (e.g., in the domain
name), the ALTO server implementation <span class="bcp14">MUST</span> properly encode the URL into the
ASCII format (e.g., using the "urlencode" function).<a class="pilcrow" href="#section-6.2-4.2.3">¶</a></p>
<p id="section-6.2-4.2.4">A server <span class="bcp14">MUST NOT</span> use the same URI for different TIPS views, either for
different resources or for different request bodies to the same resource. URI
generation is implementation specific; for example, one may compute a
Universally Unique Identifier (UUID) <span>[<a class="cite xref" href="#RFC9562">RFC9562</a>]</span> or a hash value based on
the request and append it to a base URL. For performance considerations, it
is <span class="bcp14">NOT RECOMMENDED</span> to use properties that are not included in the request
body to determine the URI of a TIPS view, such as cookies or the client's IP
address, which may result in duplicated TIPS views in cases such as mobile
clients. However, this is not mandatory as a server might intentionally use
client information to compute the TIPS view URI to provide service isolation
between clients.<a class="pilcrow" href="#section-6.2-4.2.4">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.3">tips-view-summary:</dt>
          <dd id="section-6.2-4.4" style="margin-left: 1.5em">
            <p id="section-6.2-4.4.1">Contains an updates-graph-summary.<a class="pilcrow" href="#section-6.2-4.4.1">¶</a></p>
<p id="section-6.2-4.4.2">The "updates-graph-summary" field contains the
&lt;start-seq&gt; of the updates graph (in the "start-seq" field) and the &lt;end-seq&gt; that
is currently available (in the "end-seq" field), along with a recommended edge to consume
(in the "start-edge-rec" field). If the client does not provide a version tag, the server
<span class="bcp14">MUST</span> recommend the edge of the latest available snapshot.
If the client provides a version tag, the server <span class="bcp14">MUST</span> either recommend
the first incremental update edge starting from the client's tagged version
or recommend the edge of the latest snapshot: which edge is selected depends on the
implementation. For example, a server <span class="bcp14">MAY</span> calculate the cumulative size of
the incremental updates available from that version onward and compare it to
the size of the complete resource snapshot. If the snapshot is bigger, the
server recommends the first incremental update edge starting from the
client's tagged version. Otherwise, the server recommends the latest snapshot
edge.<a class="pilcrow" href="#section-6.2-4.4.2">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.2-5">If the request has any errors, the ALTO server <span class="bcp14">MUST</span> return an HTTP
400 (Bad Request) error code to the ALTO client; the body of the response
follows the generic ALTO error response format specified in
<span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-8.5.2">Section 8.5.2</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>.  Hence, an example ALTO error response
has the format shown in <a class="auto internal xref" href="#ex-bad-request">Figure 9</a>.<a class="pilcrow" href="#section-6.2-5">¶</a></p>
<span id="name-alto-error-example"></span><div id="ex-bad-request">
<figure id="figure-9">
          <div class="sourcecode" id="section-6.2-6.1">
<pre>    HTTP/1.1 400 Bad Request
    Content-Length: 131
    Content-Type: application/alto-error+json

    {
        "meta":{
            "code":  "E_INVALID_FIELD_VALUE",
            "field": "resource-id",
            "value": "my-network-map/#"
        }
    }
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-9">Figure 9</a>:
<a class="selfRef" href="#name-alto-error-example">ALTO Error Example</a>
          </figcaption></figure>
</div>
<p id="section-6.2-7">Note that "field" and "value" are optional fields.  If the "value"
field exists, the "field" field <span class="bcp14">MUST</span> exist.<a class="pilcrow" href="#section-6.2-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-8.1">If the TIPS request does not have a "resource-id" field, the error code of
the error message <span class="bcp14">MUST</span> be "E_MISSING_FIELD" and the "field" field, if
present, <span class="bcp14">MUST</span> be "resource-id". The ALTO server <span class="bcp14">MUST NOT</span> create any TIPS
view.<a class="pilcrow" href="#section-6.2-8.1">¶</a>
</li>
          <li class="normal" id="section-6.2-8.2">If the "resource-id" field is invalid or is not associated with the TIPS information resource, the
error code of the error message <span class="bcp14">MUST</span> be "E_INVALID_FIELD_VALUE". If present,
the "field" field <span class="bcp14">MUST</span> be the full path of the "resource-id" field, and the
"value" field <span class="bcp14">MUST</span> be the value of the "resource-id" field in the request.<a class="pilcrow" href="#section-6.2-8.2">¶</a>
</li>
          <li class="normal" id="section-6.2-8.3">If the resource is a POST-mode service that requires input, the client <span class="bcp14">MUST</span>
set the "input" field to a JSON object with the parameters that resource
expects. If the "input" field is missing or invalid, the ALTO server <span class="bcp14">MUST</span> return the
same error response that resource would return for missing or invalid inputs
(see <span>[<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>).<a class="pilcrow" href="#section-6.2-8.3">¶</a>
</li>
        </ul>
<p id="section-6.2-9">Furthermore, it is <span class="bcp14">RECOMMENDED</span> that the server use the following HTTP code to
indicate other errors, with the media type "application/alto-error+json".<a class="pilcrow" href="#section-6.2-9">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6.2-10">
          <dt id="section-6.2-10.1">429 (Too Many Requests):</dt>
          <dd id="section-6.2-10.2" style="margin-left: 1.5em">Indicates when the number of TIPS views open requests exceeds
the server threshold. The server <span class="bcp14">MAY</span> indicate when to retry the request in
the "Re-Try After" headers.<a class="pilcrow" href="#section-6.2-10.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.2-11">It is <span class="bcp14">RECOMMENDED</span> that the server provide the ALTO/SSE support for the TIPS
resource. Thus, the client can be notified of the version updates of all the
TIPS views that it monitors and make better cross-resource transport decisions
(see <a class="auto internal xref" href="#cross-sched">Section 8.2</a> for related considerations).<a class="pilcrow" href="#section-6.2-11">¶</a></p>
</section>
</div>
<div id="open-example">
<section id="section-6.3">
        <h3 id="name-open-example">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-open-example">Open Example</a>
        </h3>
<div id="basic-example">
<section id="section-6.3.1">
          <h4 id="name-basic-example">
<a class="section-number selfRef" href="#section-6.3.1">6.3.1. </a><a class="section-name selfRef" href="#name-basic-example">Basic Example</a>
          </h4>
<p id="section-6.3.1-1">For simplicity, assume that the ALTO server is using Basic
authentication <span>[<a class="cite xref" href="#RFC7617">RFC7617</a>]</span>.  If a client with username "client1" and password
"helloalto" wants to create a TIPS view of an ALTO cost map resource
with the resource ID "my-routingcost-map", it can send the
request depicted in <a class="auto internal xref" href="#ex-op">Figure 10</a>.<a class="pilcrow" href="#section-6.3.1-1">¶</a></p>
<span id="name-request-example-of-opening-"></span><div id="ex-op">
<figure id="figure-10">
            <div class="sourcecode" id="section-6.3.1-2.1">
<pre>    POST /tips HTTP/1.1
    Host: alto.example.com
    Accept: application/alto-tips+json, application/alto-error+json
    Authorization: Basic Y2xpZW50MTpoZWxsb2FsdG8K
    Content-Type: application/alto-tipsparams+json
    Content-Length: 41

    {
      "resource-id": "my-routingcost-map"
    }
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-10">Figure 10</a>:
<a class="selfRef" href="#name-request-example-of-opening-">Request Example of Opening a TIPS View</a>
            </figcaption></figure>
</div>
<p id="section-6.3.1-3">If the operation is successful, the ALTO server returns the
message shown in <a class="auto internal xref" href="#ex-op-rep">Figure 11</a>.<a class="pilcrow" href="#section-6.3.1-3">¶</a></p>
<span id="name-response-example-of-opening"></span><div id="ex-op-rep">
<figure id="figure-11">
            <div class="sourcecode" id="section-6.3.1-4.1">
<pre>    HTTP/1.1 200 OK
    Content-Type: application/alto-tips+json
    Content-Length: 255

    {
      "tips-view-uri": "https://alto.example.com/tips/2718281828",
      "tips-view-summary": {
        "updates-graph-summary": {
          "start-seq": 101,
          "end-seq": 106,
          "start-edge-rec" : {
            "seq-i": 0,
            "seq-j": 105
          }
        }
      }
    }
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-11">Figure 11</a>:
<a class="selfRef" href="#name-response-example-of-opening">Response Example of Opening a TIPS View</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="example-using-digest-authentication">
<section id="section-6.3.2">
          <h4 id="name-example-using-digest-authen">
<a class="section-number selfRef" href="#section-6.3.2">6.3.2. </a><a class="section-name selfRef" href="#name-example-using-digest-authen">Example Using Digest Authentication</a>
          </h4>
<p id="section-6.3.2-1">Below is another example of the same query using Digest authentication, a
mandatory authentication method of ALTO servers as defined in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-8.3.5">Section 8.3.5</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>. The content of the response is the same as in <a class="auto internal xref" href="#ex-op-rep">Figure 11</a>; thus, it has been
omitted for simplicity.<a class="pilcrow" href="#section-6.3.2-1">¶</a></p>
<span id="name-open-example-with-digest-au"></span><div id="ex-op-digest">
<figure id="figure-12">
            <div class="sourcecode" id="section-6.3.2-2.1">
<pre>    POST /tips HTTP/1.1
    Host: alto.example.com
    Accept: application/alto-tips+json, application/alto-error+json
    Authorization: Basic Y2xpZW50MTpoZWxsb2FsdG8K
    Content-Type: application/alto-tipsparams+json
    Content-Length: 41

    {
      "resource-id": "my-routingcost-map"
    }

    HTTP/1.1 401 UNAUTHORIZED
    WWW-Authenticate: Digest
        realm="alto.example.com",
        qop="auth",
        algorithm="MD5",
        nonce="173b5aba4242409ee2ac3a4fd797f9d7",
        opaque="a237ff9ab865379a69d9993162ef55e4"

    POST /tips HTTP/1.1
    Host: alto.example.com
    Accept: application/alto-tips+json, application/alto-error+json
    Authorization: Digest
        username="client1",
        realm="alto.example.com",
        uri="/tips",
        qop=auth,
        algorithm=MD5,
        nonce="173b5aba4242409ee2ac3a4fd797f9d7",
        nc=00000001,
        cnonce="ZTg3MTI3NDFmMDQ0NzI1MDQ3MWE3ZTFjZmM5MTNiM2I=",
        response="8e937ae696c1512e4f990fa21c7f9347",
        opaque="a237ff9ab865379a69d9993162ef55e4"
    Content-Type: application/alto-tipsparams+json
    Content-Length: 41

    {
      "resource-id": "my-routingcost-map"
    }


    HTTP/1.1 200 OK
    Content-Type: application/alto-tips+json
    Content-Length: 258

    {....}
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-12">Figure 12</a>:
<a class="selfRef" href="#name-open-example-with-digest-au">Open Example with Digest Authentication</a>
            </figcaption></figure>
</div>
</section>
</div>
<div id="tips-sse">
<section id="section-6.3.3">
          <h4 id="name-example-using-alto-sse">
<a class="section-number selfRef" href="#section-6.3.3">6.3.3. </a><a class="section-name selfRef" href="#name-example-using-alto-sse">Example Using ALTO/SSE</a>
          </h4>
<p id="section-6.3.3-1">This section gives an example of receiving incremental updates of the TIPS view
summary using ALTO/SSE <span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>. Consider the "tips-sse" resource, as
announced by the IRD in <a class="auto internal xref" href="#ex-ird">Figure 6</a>, which provides ALTO/SSE for the
"update-my-cost-tips" resource; a client might send the following request to
receive updates of the TIPS view (authentication is omitted for simplicity).<a class="pilcrow" href="#section-6.3.3-1">¶</a></p>
<span id="name-example-of-monitoring-tips-"></span><div id="ex-tips-sse">
<figure id="figure-13">
            <div class="sourcecode" id="section-6.3.3-2.1">
<pre>    POST /updates/tips HTTP/1.1
    Host: alto.example.com
    Accept: text/event-stream,application/alto-error+json
    Content-Type: application/alto-updatestreamparams+json
    Content-Length: 76

    {
      "add": {
        "tips-123": { "resource-id": "update-my-cost-tips" }
      }
    }
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-13">Figure 13</a>:
<a class="selfRef" href="#name-example-of-monitoring-tips-">Example of Monitoring TIPS View with ALTO/SSE</a>
            </figcaption></figure>
</div>
<p id="section-6.3.3-3">Then, the client will be able to receive the TIPS view summary as follows.<a class="pilcrow" href="#section-6.3.3-3">¶</a></p>
<div class="sourcecode" id="section-6.3.3-4">
<pre> HTTP/1.1 200 OK
 Connection: keep-alive
 Content-Type: text/event-stream

 event: application/alto-tips+json,tips-123
 data: {
 data:   "tips-view-uri": "https://alto.example.com/tips/2718281828",
 data:   "tips-view-summary": {
 data:     "updates-graph-summary": {
 data:       "start-seq": 101,
 data:       "end-seq": 106,
 data:       "start-edge-rec" : {
 data:         "seq-i": 0,
 data:         "seq-j": 105
 data:       }
 data:     }
 data:   }
 data: }
</pre><a class="pilcrow" href="#section-6.3.3-4">¶</a>
</div>
<p id="section-6.3.3-5">When there is an update to the TIPS view (for example, when the "end-seq" field is
increased by 1), the client will be able to receive the incremental update of the
TIPS view summary as follows.<a class="pilcrow" href="#section-6.3.3-5">¶</a></p>
<div class="sourcecode" id="section-6.3.3-6">
<pre>    event: application/merge-patch+json,tips-123
    data: {
    data:   "tips-view-summary": {
    data:     "updates-graph-summary": {
    data:       "end-seq": 107
    data:     }
    data:   }
    data: }
</pre><a class="pilcrow" href="#section-6.3.3-6">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="pull">
<section id="section-7">
      <h2 id="name-tips-data-transfers-client-">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-tips-data-transfers-client-">TIPS Data Transfers - Client Pull</a>
      </h2>
<p id="section-7-1">TIPS allows an ALTO client to retrieve the content of an update item
from the updates graph, with an update item defined as the content
(incremental update or snapshot) on an edge in the updates graph.<a class="pilcrow" href="#section-7-1">¶</a></p>
<div id="request">
<section id="section-7.1">
        <h3 id="name-request">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-request">Request</a>
        </h3>
<p id="section-7.1-1">The client sends an HTTP GET request, where the media type of an
update item resource <span class="bcp14">MUST</span> be the same as the "media-type" field of
the update item on the specified edge in the updates graph.<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<p id="section-7.1-2">The GET request <span class="bcp14">MUST</span> have the following format:<a class="pilcrow" href="#section-7.1-2">¶</a></p>
<div class="sourcecode" id="section-7.1-3">
<pre>    GET /&lt;tips-view-path&gt;/ug/&lt;i&gt;/&lt;j&gt;
    HOST: &lt;tips-view-host&gt;
</pre><a class="pilcrow" href="#section-7.1-3">¶</a>
</div>
<p id="section-7.1-4">For example, consider the updates graph in <a class="auto internal xref" href="#fig-ug-schema">Figure 4</a>. If the client
wants to query the content of the first update item (0 -&gt; 101) whose media type
is "application/alto-costmap+json", it sends a request to
"/tips/2718281828/ug/0/101" and sets the "Accept" header to
"application/alto-costmap+json,application/alto-error+json". See <a class="auto internal xref" href="#iu-example">Section 7.3</a>
for a concrete example.<a class="pilcrow" href="#section-7.1-4">¶</a></p>
</section>
</div>
<div id="response">
<section id="section-7.2">
        <h3 id="name-response">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-response">Response</a>
        </h3>
<p id="section-7.2-1">If the request is valid (i.e., "ug/&lt;i&gt;/&lt;j&gt;" exists), the response is encoded
as a JSON object whose data format is indicated by the media type.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<p id="section-7.2-2">A client <span class="bcp14">MAY</span> conduct proactive fetching of future updates, by long polling
updates that have not been provided in the directory yet. For such updates, the
client <span class="bcp14">MUST</span> indicate all media types that might appear. It is <span class="bcp14">RECOMMENDED</span> that the
server allow for at least the long polling of &lt;end-seq&gt; -&gt; &lt;end-seq + 1&gt;.<a class="pilcrow" href="#section-7.2-2">¶</a></p>
<p id="section-7.2-3">Hence, the server processing logic <span class="bcp14">MUST</span> be:<a class="pilcrow" href="#section-7.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-4.1">If a resource with path "ug/&lt;i&gt;/&lt;j&gt;" exists, return content using encoding.<a class="pilcrow" href="#section-7.2-4.1">¶</a>
</li>
          <li class="normal" id="section-7.2-4.2">Else, if long polling "ug/&lt;i&gt;/&lt;j&gt;" is acceptable, put request in a
backlog queue, then either a response is triggered when the content is ready
or the request is interrupted (e.g., by a network error).<a class="pilcrow" href="#section-7.2-4.2">¶</a>
</li>
          <li class="normal" id="section-7.2-4.3">Else, return error.<a class="pilcrow" href="#section-7.2-4.3">¶</a>
</li>
        </ul>
<p id="section-7.2-5">It is <span class="bcp14">RECOMMENDED</span> that the server use the following HTTP codes to
indicate errors, with the media type "application/alto-error+json",
regarding update item requests.<a class="pilcrow" href="#section-7.2-5">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2-6">
          <dt id="section-7.2-6.1">404 (Not Found):</dt>
          <dd id="section-7.2-6.2" style="margin-left: 1.5em">Indicates that the requested update does not exist or the requested
TIPS view does not exist or is closed by the server.<a class="pilcrow" href="#section-7.2-6.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-6.3">410 (Gone):</dt>
          <dd id="section-7.2-6.4" style="margin-left: 1.5em">Indicates an update has a seq that is smaller than the &lt;start-seq&gt;.<a class="pilcrow" href="#section-7.2-6.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-6.5">415 (Unsupported Media Type):</dt>
          <dd id="section-7.2-6.6" style="margin-left: 1.5em">Indicates the media type (or types) accepted by the
client does not include the media type of the update chosen by the
server.<a class="pilcrow" href="#section-7.2-6.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-6.7">425 (Too Early):</dt>
          <dd id="section-7.2-6.8" style="margin-left: 1.5em">Indicates the seq exceeds the server long polling window.<a class="pilcrow" href="#section-7.2-6.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-6.9">429 (Too Many Requests):</dt>
          <dd id="section-7.2-6.10" style="margin-left: 1.5em">Indicates the number of pending (long poll)
requests exceeds the server threshold. The server <span class="bcp14">MAY</span> indicate when to retry
the request in the "Re-Try After" headers.<a class="pilcrow" href="#section-7.2-6.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="iu-example">
<section id="section-7.3">
        <h3 id="name-example">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-example">Example</a>
        </h3>
<p id="section-7.3-1">Assume the client wants to get the contents of the update item on
edge 0 to 101.  The format of the request is shown in <a class="auto internal xref" href="#ex-get">Figure 14</a>.<a class="pilcrow" href="#section-7.3-1">¶</a></p>
<span id="name-get-example"></span><div id="ex-get">
<figure id="figure-14">
          <div class="sourcecode" id="section-7.3-2.1">
<pre>    GET /tips/2718281828/ug/0/101 HTTP/1.1
    Host: alto.example.com
    Accept: application/alto-costmap+json, \
              application/alto-error+json
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-14">Figure 14</a>:
<a class="selfRef" href="#name-get-example">GET Example</a>
          </figcaption></figure>
</div>
<p id="section-7.3-3">The response is shown in <a class="auto internal xref" href="#ex-get-res">Figure 15</a>.<a class="pilcrow" href="#section-7.3-3">¶</a></p>
<span id="name-response-to-a-get-request"></span><div id="ex-get-res">
<figure id="figure-15">
          <div class="sourcecode" id="section-7.3-4.1">
<pre>    HTTP/1.1 200 OK
    Content-Type: application/alto-costmap+json
    Content-Length: 50

    { ... full replacement of my-routingcost-map ... }
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-15">Figure 15</a>:
<a class="selfRef" href="#name-response-to-a-get-request">Response to a GET Request</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="new-next-edge-recommendation">
<section id="section-7.4">
        <h3 id="name-new-next-edge-recommendatio">
<a class="section-number selfRef" href="#section-7.4">7.4. </a><a class="section-name selfRef" href="#name-new-next-edge-recommendatio">New Next Edge Recommendation</a>
        </h3>
<p id="section-7.4-1">While intended TIPS usage is for the client to receive a recommended
starting edge in the TIPS summary, consume that edge, and then construct
all future URIs by incrementing the sequence count by one, there may be
cases in which the client needs to request a new next edge to
consume.  For example, if a client has an open TIPS view but has not
polled in a while, the client might request the next logical
incremental URI; however, the server has compacted the updates graph, so it
no longer exists.  Thus, the client <span class="bcp14">MAY</span> request a new next edge to
consume based on its current version of the resource.<a class="pilcrow" href="#section-7.4-1">¶</a></p>
<div id="request-1">
<section id="section-7.4.1">
          <h4 id="name-request-2">
<a class="section-number selfRef" href="#section-7.4.1">7.4.1. </a><a class="section-name selfRef" href="#name-request-2">Request</a>
          </h4>
<p id="section-7.4.1-1">An ALTO client requests that the server provide a next edge recommendation for a
given TIPS view by sending an HTTP POST request with the media type
"application/alto-tipsparams+json". The URL of the request <span class="bcp14">MUST</span> have the following format:<a class="pilcrow" href="#section-7.4.1-1">¶</a></p>
<div class="sourcecode" id="section-7.4.1-2">
<pre>    &lt;tips-view-path&gt;/ug
</pre><a class="pilcrow" href="#section-7.4.1-2">¶</a>
</div>
<p id="section-7.4.1-3">and the "HOST" field <span class="bcp14">MUST</span> be "&lt;tips-view-host&gt;".<a class="pilcrow" href="#section-7.4.1-3">¶</a></p>
<p id="section-7.4.1-4">The POST body has the same format as the TIPSReq in <a class="auto internal xref" href="#fig-open-req">Figure 7</a>. The
"resource-id" field <span class="bcp14">MUST</span> be the same as the resource ID used to create the TIPS view,
and the optional "input" field <span class="bcp14">MUST NOT</span> be present.<a class="pilcrow" href="#section-7.4.1-4">¶</a></p>
</section>
</div>
<div id="response-1">
<section id="section-7.4.2">
          <h4 id="name-response-2">
<a class="section-number selfRef" href="#section-7.4.2">7.4.2. </a><a class="section-name selfRef" href="#name-response-2">Response</a>
          </h4>
<p id="section-7.4.2-1">The response to a valid request <span class="bcp14">MUST</span> be a JSON merge patch to the object of the AddTIPSResponse type (defined in <a class="auto internal xref" href="#open-resp">Section 6.2</a>), denoted as media type
"application/merge-patch+json". The "updates-graph-summary" field <span class="bcp14">MUST</span> be present
in the response; hence, its parent field "tips-view-summary" <span class="bcp14">MUST</span> be present
as well.<a class="pilcrow" href="#section-7.4.2-1">¶</a></p>
<p id="section-7.4.2-2">If the "tag" field is present in the request, the server <span class="bcp14">MUST</span> check if any
version within the range [&lt;start-seq&gt;, &lt;end-seq&gt;] has the same tag value. If the
version exists (e.g., denoted as &lt;tag-seq&gt;), the server <span class="bcp14">MUST</span> compute the paths from
both &lt;tag-seq&gt; and 0 to the &lt;end-seq&gt; and choose the one with the minimal cost. The
cost <span class="bcp14">MAY</span> be implementation specific (e.g., number of messages, accumulated data
size, etc.). The first edge of the selected path <span class="bcp14">MUST</span> be returned as the
   recommended next edge.<a class="pilcrow" href="#section-7.4.2-2">¶</a></p>
<p id="section-7.4.2-3">If the "tag" field is not present, the interpretation   <span class="bcp14">MUST</span> be that the &lt;tag-seq&gt; is 0.<a class="pilcrow" href="#section-7.4.2-3">¶</a></p>
<p id="section-7.4.2-4">It is <span class="bcp14">RECOMMENDED</span> that the server use the following HTTP code to
indicate errors, with the media type "application/alto-error+json",
regarding new next edge requests.<a class="pilcrow" href="#section-7.4.2-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4.2-5">
            <dt id="section-7.4.2-5.1">404 (Not Found):</dt>
            <dd id="section-7.4.2-5.2" style="margin-left: 1.5em">Indicates that the requested TIPS view does not exist or has been
closed by the server.<a class="pilcrow" href="#section-7.4.2-5.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="example">
<section id="section-7.4.3">
          <h4 id="name-example-2">
<a class="section-number selfRef" href="#section-7.4.3">7.4.3. </a><a class="section-name selfRef" href="#name-example-2">Example</a>
          </h4>
<p id="section-7.4.3-1">In this section, we give an example of the new next edge recommendation service. Assume that a
client already creates a TIPS view (as in <a class="auto internal xref" href="#open-example">Section 6.3</a>) whose updates graph
is as shown in <a class="auto internal xref" href="#fig-ug">Figure 2</a>. Now assume that the client already has tag 0881080,
whose corresponding sequence number is 103, and sends the following new next
edge recommendation request (authentication is omitted for simplicity):<a class="pilcrow" href="#section-7.4.3-1">¶</a></p>
<div class="sourcecode" id="section-7.4.3-2">
<pre>    POST /tips/2718281828/ug HTTP/1.1
    HOST alto.example.com
    Accept: application/merge-patch+json, application/alto-error+json
    Content-Type: application/alto-tipsparams+json
    Content-Length: 62

    {
      "resource-id": "my-routingcost-map",
      "tag": "0881080"
    }
</pre><a class="pilcrow" href="#section-7.4.3-2">¶</a>
</div>
<p id="section-7.4.3-3">According to <a class="auto internal xref" href="#fig-ug">Figure 2</a>, there are three potential paths: 103 -&gt; 104 -&gt; 105 -&gt; 106,
103 -&gt; 105 -&gt; 106, and 0 -&gt; 105 -&gt; 106. Assume that the server chooses the shortest
update path by the accumulated data size and the best path is 103 -&gt; 105 -&gt; 106.
Thus, the server responds with the following message:<a class="pilcrow" href="#section-7.4.3-3">¶</a></p>
<div class="sourcecode" id="section-7.4.3-4">
<pre>    HTTP/1.1 200 OK
    Content-Type: application/merge-patch+json
    Content-Length: 193

    {
      "tips-view-summary": {
        "updates-graph-summary": {
          "start-seq": 101,
          "end-seq": 106,
          "start-edge-rec": {
            "seq-i": 103,
            "seq-j": 105
          }
        }
      }
    }
</pre><a class="pilcrow" href="#section-7.4.3-4">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="ops-considerations">
<section id="section-8">
      <h2 id="name-operation-and-processing-co">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-operation-and-processing-co">Operation and Processing Considerations</a>
      </h2>
<p id="section-8-1">TIPS has some common operational considerations as ALTO/SSE <span>[<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>,
including:<a class="pilcrow" href="#section-8-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-2.1">the server choosing update messages (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc8895#section-9.1">Section 9.1</a> of [<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>);<a class="pilcrow" href="#section-8-2.1">¶</a>
</li>
        <li class="normal" id="section-8-2.2">the client processing update messages (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc8895#section-9.2">Section 9.2</a> of [<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>);<a class="pilcrow" href="#section-8-2.2">¶</a>
</li>
        <li class="normal" id="section-8-2.3">the updates of filtered map services (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc8895#section-9.3">Section 9.3</a> of [<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>); and<a class="pilcrow" href="#section-8-2.3">¶</a>
</li>
        <li class="normal" id="section-8-2.4">the updates of ordinal mode costs (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc8895#section-9.4">Section 9.4</a> of [<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>).<a class="pilcrow" href="#section-8-2.4">¶</a>
</li>
      </ul>
<p id="section-8-3">There are also some operational considerations specific to TIPS, which we discuss
below.<a class="pilcrow" href="#section-8-3">¶</a></p>
<div id="load-balancing">
<section id="section-8.1">
        <h3 id="name-considerations-for-load-bal">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-considerations-for-load-bal">Considerations for Load Balancing</a>
        </h3>
<p id="section-8.1-1">There are two levels of load balancing in TIPS: the first level is to balance
the load of TIPS views for different clients and the second is to balance the
load of incremental updates.<a class="pilcrow" href="#section-8.1-1">¶</a></p>
<p id="section-8.1-2">Load balancing of TIPS views can be achieved either at the application layer or
at the infrastructure layer. For example, an ALTO server <span class="bcp14">MAY</span> set
&lt;tips-view-host&gt; to different subdomains to distribute TIPS views or simply
use the same host of the TIPS information resource and rely on load balancers to distribute
 the load.<a class="pilcrow" href="#section-8.1-2">¶</a></p>
<p id="section-8.1-3">TIPS allows a client to make concurrent pulls of incremental updates for the
same TIPS view, potentially through different HTTP connections. As a consequence,
TIPS introduces additional complexities when the ALTO server balances the load by distributing the requests to a set of backend servers. For example, a request might be directed to the wrong backend server and
get processed incorrectly if the following two conditions both hold:<a class="pilcrow" href="#section-8.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1-4.1">these backend servers are stateful (i.e., the TIPS view is created
and stored only on a single server); and<a class="pilcrow" href="#section-8.1-4.1">¶</a>
</li>
          <li class="normal" id="section-8.1-4.2">the ALTO server is using Layer 4 load balancing (i.e., the
requests are distributed based on the TCP 5-tuple).<a class="pilcrow" href="#section-8.1-4.2">¶</a>
</li>
        </ul>
<p id="section-8.1-5">Thus, additional considerations are required to enable correct load
balancing for TIPS, including:<a class="pilcrow" href="#section-8.1-5">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8.1-6">
          <dt id="section-8.1-6.1">Using a stateless architecture:</dt>
          <dd id="section-8.1-6.2" style="margin-left: 1.5em">One solution is to follow the
stateless computing pattern: states about the TIPS view are not
maintained by the backend servers but are stored in a distributed
database.  Thus, concurrent requests to the same TIPS view can be
processed on arbitrary stateless backend servers, which all
fetch data from the same database.<a class="pilcrow" href="#section-8.1-6.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.1-6.3">Configuring the load balancers properly:</dt>
          <dd id="section-8.1-6.4" style="margin-left: 1.5em">In the case that the backend
servers are stateful, the load balancers must be properly
configured to guarantee that requests of the same TIPS view always
arrive at the same server.  For example, an operator or a provider
of an ALTO server <span class="bcp14">MAY</span> configure Layer 7 load balancers that
distribute requests based on the tips-view-path component in the URI.<a class="pilcrow" href="#section-8.1-6.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="cross-sched">
<section id="section-8.2">
        <h3 id="name-considerations-for-cross-re">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-considerations-for-cross-re">Considerations for Cross-Resource Dependency Scheduling</a>
        </h3>
<p id="section-8.2-1">Dependent ALTO resources result in cross-resource dependencies in
TIPS.  Consider the following pair of resources, where my-cost-map
(C) is dependent on my-network-map (N).  The updates graph for each
resource is shown, along with links between the respective updates
graphs to show dependency:<a class="pilcrow" href="#section-8.2-1">¶</a></p>
<span id="name-example-dependency-model"></span><div id="fig-cross">
<figure id="figure-16">
          <div class="alignCenter art-drawing art-text artwork" id="section-8.2-2.1">
<pre>                       +---+   +---+   +---+   +---+   +---+
  my-network-map (N)   | 0 |--&gt;|89 |--&gt;|90 |--&gt;|91 |--&gt;|92 |
                       +---+   +---+   +---+   +---+   +---+
                                 |   \       \       \
                                 |    \       \       \
                       +---+   +---+   +---+   +---+   +---+
  my-cost-map (C)      | 0 |--&gt;|101|--&gt;|102|--&gt;|103|--&gt;|104|
                       +---+   +---+   +---+   +---+   +---+
                        |_______________________|
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-16">Figure 16</a>:
<a class="selfRef" href="#name-example-dependency-model">Example Dependency Model</a>
          </figcaption></figure>
</div>
<p id="section-8.2-3">In <a class="auto internal xref" href="#fig-cross">Figure 16</a>, the cost-map versions 101 and 102 (denoted as C101 and C102)
are dependent on the network-map version 89 (denoted as N89). The cost-map
version 103 (C103) is dependent on the network-map version 90 (N90), and so on.<a class="pilcrow" href="#section-8.2-3">¶</a></p>
<p id="section-8.2-4">Thus, the client must decide the order in which to receive and apply the
updates. The order may affect how fast the client can build a consistent view
and how long the client needs to buffer the update.<a class="pilcrow" href="#section-8.2-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8.2-5">
          <dt id="section-8.2-5.1">Example 1:</dt>
          <dd id="section-8.2-5.2" style="margin-left: 1.5em">The client requests N89, N90, N91, C101, C102 in that
order.  The client either gets no consistent view of the resources
or has to buffer N90 and N91.<a class="pilcrow" href="#section-8.2-5.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-8.2-5.3">Example 2:</dt>
          <dd id="section-8.2-5.4" style="margin-left: 1.5em">The client requests C101, C102, C103, N89.  The client
either gets no consistent view or has to buffer C103.<a class="pilcrow" href="#section-8.2-5.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-8.2-6">To get consistent ALTO information, a client must process the updates following
the guidelines specified in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc8895#section-9.2">Section 9.2</a> of [<a class="cite xref" href="#RFC8895">RFC8895</a>]</span>. If resources permit
(i.e., sufficient updates can be buffered), an ALTO client can safely use long
polling to fetch all the updates. This allows a client to build consistent views
quickly as the updates are already stored in the buffer. Otherwise, it is
            <span class="bcp14">RECOMMENDED</span> to request a full snapshot if the client does not have enough local resources to
            buffer and process the incremental updates.<a class="pilcrow" href="#section-8.2-6">¶</a></p>
</section>
</div>
<div id="shared-tips-view">
<section id="section-8.3">
        <h3 id="name-considerations-for-managing">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-considerations-for-managing">Considerations for Managing Shared TIPS Views</a>
        </h3>
<p id="section-8.3-1">From a client's point of view, it sees only one copy of the TIPS view
for any resource.  However, on the server side, there are different
implementation options, especially for common resources (e.g.,
network maps or cost maps) that may be frequently queried by many
clients.  Some potential options are listed below:<a class="pilcrow" href="#section-8.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-2.1">An ALTO server creates one TIPS view of the common resource for
each client.<a class="pilcrow" href="#section-8.3-2.1">¶</a>
</li>
          <li class="normal" id="section-8.3-2.2">
            <p id="section-8.3-2.2.1">An ALTO server maintains one copy of the TIPS view for each common
resource and all clients requesting the same resources use the
same copy.  There are two ways to manage the storage for the
shared copy:<a class="pilcrow" href="#section-8.3-2.2.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-2.2.2.1">the ALTO server maintains the set of clients that have sent a polling
request to the TIPS view and only removes the view from the storage when
the set becomes empty and no client immediately issues a new edge request; or<a class="pilcrow" href="#section-8.3-2.2.2.1">¶</a>
</li>
              <li class="normal" id="section-8.3-2.2.2.2">the TIPS view is never removed from the storage.<a class="pilcrow" href="#section-8.3-2.2.2.2">¶</a>
</li>
            </ul>
</li>
        </ul>
<p id="section-8.3-3">Developers may choose different implementation options depending on
criteria such as request frequency, available resources of the ALTO
server, the ability to scale, and programming complexity.<a class="pilcrow" href="#section-8.3-3">¶</a></p>
</section>
</div>
<div id="considerations-for-offering-shortcut-incremental-updates">
<section id="section-8.4">
        <h3 id="name-considerations-for-offering">
<a class="section-number selfRef" href="#section-8.4">8.4. </a><a class="section-name selfRef" href="#name-considerations-for-offering">Considerations for Offering Shortcut Incremental Updates</a>
        </h3>
<p id="section-8.4-1">Besides the mandatory stepwise incremental updates (from i to i+1),
an ALTO server <span class="bcp14">MAY</span> optionally offer shortcut incremental updates, or
simple shortcuts, between two non-consecutive versions i and i+k (k &gt;
1).  Such shortcuts offer alternative paths in the updates graph and
can potentially speed up the transmission and processing of
incremental updates, leading to faster synchronization of ALTO
information, especially when the client has limited bandwidth and
computation.  However, implementors of an ALTO server must be aware
that:<a class="pilcrow" href="#section-8.4-1">¶</a></p>
<ol class="normal type-1" id="section-8.4-2" start="1" type="1">
<li id="section-8.4-2.1">optional shortcuts may increase the size of the updates graph, worst case scenario being the square of the number of updates (i.e.,
when a shortcut is offered for each version to all future
versions).<a class="pilcrow" href="#section-8.4-2.1">¶</a>
</li>
          <li id="section-8.4-2.2">optional shortcuts require additional storage on the ALTO server.<a class="pilcrow" href="#section-8.4-2.2">¶</a>
</li>
          <li id="section-8.4-2.3">optional shortcuts may reduce concurrency when the updates do not
overlap (e.g., when the updates apply to different parts of an
ALTO resource).  In such a case, the total size of the original
updates is close to the size of the shortcut, but the original
updates can be transmitted concurrently while the shortcut is
transmitted in a single connection.<a class="pilcrow" href="#section-8.4-2.3">¶</a>
</li>
        </ol>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">The security considerations of the base protocol (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-15">Section 15</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>) fully apply to this
      extension.  For example, the same authenticity and integrity
      considerations (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-15.1">Section 15.1</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>) still fully apply; the same considerations for the
      privacy of ALTO users (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-15.4">Section 15.4</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>) also still fully apply. Additionally, operators of the
      ALTO servers <span class="bcp14">MUST</span> follow the guidelines in <span>[<a class="cite xref" href="#RFC9325">RFC9325</a>]</span> to avoid new TLS vulnerabilities discovered after
      <span>[<a class="cite xref" href="#RFC7285">RFC7285</a>]</span> was published.<a class="pilcrow" href="#section-9-1">¶</a></p>
<p id="section-9-2">The additional services (the addition of update read service and update
push service) provided by this extension extend the attack surface
described in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc7285#section-15.1.1">Section 15.1.1</a> of [<a class="cite xref" href="#RFC7285">RFC7285</a>]</span>.  The following subsections discuss the
additional risks and their remedies.<a class="pilcrow" href="#section-9-2">¶</a></p>
<div id="tips-denial-of-service-attacks">
<section id="section-9.1">
        <h3 id="name-tips-denial-of-service-atta">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-tips-denial-of-service-atta">TIPS: Denial-of-Service Attacks</a>
        </h3>
<p id="section-9.1-1">Allowing TIPS views enables new classes of DoS attacks. In
particular, for the TIPS server, one or multiple malicious ALTO clients might
create an excessive number of TIPS views, to exhaust the server resource and/or
to block normal users from accessing the service.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
<p id="section-9.1-2">To avoid such attacks, the server <span class="bcp14">MAY</span> choose to limit the number of active
views and reject new requests when that threshold is reached. TIPS allows
predictive fetching and the server <span class="bcp14">MAY</span> also choose to limit the number of
pending requests. If a new request exceeds the threshold, the server <span class="bcp14">MAY</span> log
the event and return the HTTP status 429 (Too Many Requests).<a class="pilcrow" href="#section-9.1-2">¶</a></p>
<p id="section-9.1-3">It is important to note that the preceding approaches are not the only
possibilities. For example, it might be possible for a TIPS server to use somewhat more
clever logic involving TIPS view eviction policies, IP reputation,
rate-limiting, and compartmentalization of the overall threshold into smaller
thresholds that apply to subsets of potential clients. If service availability
is a concern, ALTO clients <span class="bcp14">MAY</span> establish service level agreements with the ALTO
server.<a class="pilcrow" href="#section-9.1-3">¶</a></p>
</section>
</div>
<div id="alto-client-update-overloading-or-instability">
<section id="section-9.2">
        <h3 id="name-alto-client-update-overload">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-alto-client-update-overload">ALTO Client: Update Overloading or Instability</a>
        </h3>
<p id="section-9.2-1">The availability of continuous updates can also cause overload for an ALTO
client, in particular, an ALTO client with limited processing capabilities. The
current design does not include any flow control mechanisms for the client to
reduce the update rates from the server. For example, TCP, HTTP/2, and QUIC
provide stream and connection flow control data limits, which might help prevent
the client from being overloaded. Under overloading, the client <span class="bcp14">MAY</span> choose to
remove the information resources with high update rates.<a class="pilcrow" href="#section-9.2-1">¶</a></p>
<p id="section-9.2-2">Also, under overloading, the client might no longer be able to detect
whether information is still fresh or has become stale.  In such a
case, the client should be careful in how it uses the information to
avoid stability or efficiency issues.<a class="pilcrow" href="#section-9.2-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-10-1">IANA has registered the following media types from the registry available at <span>[<a class="cite xref" href="#IANA-Media-Type">IANA-Media-Type</a>]</span>:<a class="pilcrow" href="#section-10-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10-2.1">application/alto-tips+json: as described in <a class="auto internal xref" href="#open-resp">Section 6.2</a>;<a class="pilcrow" href="#section-10-2.1">¶</a>
</li>
        <li class="normal" id="section-10-2.2">application/alto-tipsparams+json: as described in <a class="auto internal xref" href="#open-req">Section 6.1</a>;<a class="pilcrow" href="#section-10-2.2">¶</a>
</li>
      </ul>
<div id="applicationalto-tipsjson-media-type">
<section id="section-10.1">
        <h3 id="name-application-alto-tipsjson-m">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-application-alto-tipsjson-m">application/alto-tips+json Media Type</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-10.1-1">
          <dt id="section-10.1-1.1">Type name:</dt>
          <dd id="section-10.1-1.2" style="margin-left: 1.5em">application<a class="pilcrow" href="#section-10.1-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.3">Subtype name:</dt>
          <dd id="section-10.1-1.4" style="margin-left: 1.5em">alto-tips+json<a class="pilcrow" href="#section-10.1-1.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.5">Required parameters:</dt>
          <dd id="section-10.1-1.6" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.1-1.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.7">Optional parameters:</dt>
          <dd id="section-10.1-1.8" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.1-1.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.9">Encoding considerations:</dt>
          <dd id="section-10.1-1.10" style="margin-left: 1.5em">Encoding considerations are identical to those specified for the
"application/json" media type. See <span>[<a class="cite xref" href="#RFC8259">RFC8259</a>]</span>.<a class="pilcrow" href="#section-10.1-1.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.11">Security considerations:</dt>
          <dd id="section-10.1-1.12" style="margin-left: 1.5em">See the Security Considerations section of RFC 9569.<a class="pilcrow" href="#section-10.1-1.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.13">Interoperability considerations:</dt>
          <dd id="section-10.1-1.14" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.1-1.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.15">Published specification:</dt>
          <dd id="section-10.1-1.16" style="margin-left: 1.5em">
            <a class="auto internal xref" href="#open-resp">Section 6.2</a> of RFC 9569.<a class="pilcrow" href="#section-10.1-1.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.17">Applications that use this media type:</dt>
          <dd id="section-10.1-1.18" style="margin-left: 1.5em">ALTO servers and ALTO clients either stand alone or are embedded within other
applications.<a class="pilcrow" href="#section-10.1-1.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.19">Fragment identifier considerations:</dt>
          <dd id="section-10.1-1.20" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.1-1.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.21">Additional information:</dt>
          <dd id="section-10.1-1.22" style="margin-left: 1.5em">
            <p id="section-10.1-1.22.1"><br/></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.1-1.22.2">
              <dt id="section-10.1-1.22.2.1">Deprecated alias names for this type:</dt>
              <dd id="section-10.1-1.22.2.2" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.1-1.22.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-10.1-1.22.2.3">Magic number(s):</dt>
              <dd id="section-10.1-1.22.2.4" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.1-1.22.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-10.1-1.22.2.5">File extension(s):</dt>
              <dd id="section-10.1-1.22.2.6" style="margin-left: 1.5em">RFC 9569 uses the media type to refer to protocol messages; thus, it
 does not require a file extension.<a class="pilcrow" href="#section-10.1-1.22.2.6">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-10.1-1.22.2.7">Macintosh file type code(s):</dt>
              <dd id="section-10.1-1.22.2.8" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.1-1.22.2.8">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.23">Person &amp; email address to contact for further information:</dt>
          <dd id="section-10.1-1.24" style="margin-left: 1.5em">
            <br/>See the Authors' Addresses section of RFC 9569.<a class="pilcrow" href="#section-10.1-1.24">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.25">Intended usage:</dt>
          <dd id="section-10.1-1.26" style="margin-left: 1.5em">COMMON<a class="pilcrow" href="#section-10.1-1.26">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.27">Restrictions on usage:</dt>
          <dd id="section-10.1-1.28" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.1-1.28">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.29">Author:</dt>
          <dd id="section-10.1-1.30" style="margin-left: 1.5em">See the Authors' Addresses section of RFC 9569.<a class="pilcrow" href="#section-10.1-1.30">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.1-1.31">Change controller:</dt>
          <dd id="section-10.1-1.32" style="margin-left: 1.5em">Internet Engineering Task Force (iesg@ietf.org).<a class="pilcrow" href="#section-10.1-1.32">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="applicationalto-tipsparamsjson-media-type">
<section id="section-10.2">
        <h3 id="name-application-alto-tipsparams">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-application-alto-tipsparams">application/alto-tipsparams+json Media Type</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-10.2-1">
          <dt id="section-10.2-1.1">Type name:</dt>
          <dd id="section-10.2-1.2" style="margin-left: 1.5em">application<a class="pilcrow" href="#section-10.2-1.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.3">Subtype name:</dt>
          <dd id="section-10.2-1.4" style="margin-left: 1.5em">alto-tipsparams+json<a class="pilcrow" href="#section-10.2-1.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.5">Required parameters:</dt>
          <dd id="section-10.2-1.6" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.2-1.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.7">Optional parameters:</dt>
          <dd id="section-10.2-1.8" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.2-1.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.9">Encoding considerations:</dt>
          <dd id="section-10.2-1.10" style="margin-left: 1.5em">Encoding considerations are identical to those specified for the
 "application/json" media type. See <span>[<a class="cite xref" href="#RFC8259">RFC8259</a>]</span>.<a class="pilcrow" href="#section-10.2-1.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.11">Security considerations:</dt>
          <dd id="section-10.2-1.12" style="margin-left: 1.5em">See the Security Considerations section of RFC 9569.<a class="pilcrow" href="#section-10.2-1.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.13">Interoperability considerations:</dt>
          <dd id="section-10.2-1.14" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.2-1.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.15">Published specification:</dt>
          <dd id="section-10.2-1.16" style="margin-left: 1.5em">
            <a class="auto internal xref" href="#open-req">Section 6.1</a> of RFC 9569.<a class="pilcrow" href="#section-10.2-1.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.17">Applications that use this media type:</dt>
          <dd id="section-10.2-1.18" style="margin-left: 1.5em">ALTO servers and ALTO clients either stand alone or are embedded within other
applications.<a class="pilcrow" href="#section-10.2-1.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.19">Fragment identifier considerations:</dt>
          <dd id="section-10.2-1.20" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.2-1.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.21">Additional information:</dt>
          <dd id="section-10.2-1.22" style="margin-left: 1.5em">
            <p id="section-10.2-1.22.1"><br/></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-10.2-1.22.2">
              <dt id="section-10.2-1.22.2.1">Deprecated alias names for this type:</dt>
              <dd id="section-10.2-1.22.2.2" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.2-1.22.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-10.2-1.22.2.3">Magic number(s):</dt>
              <dd id="section-10.2-1.22.2.4" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.2-1.22.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-10.2-1.22.2.5">File extension(s):</dt>
              <dd id="section-10.2-1.22.2.6" style="margin-left: 1.5em">RFC 9569 uses the media type to refer to protocol messages; thus, it
 does not require a file extension.<a class="pilcrow" href="#section-10.2-1.22.2.6">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-10.2-1.22.2.7">Macintosh file type code(s):</dt>
              <dd id="section-10.2-1.22.2.8" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.2-1.22.2.8">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.23">Person &amp; email address to contact for further information:<br/>
</dt>
          <dd id="section-10.2-1.24" style="margin-left: 1.5em">
            <br/>See the Authors' Addresses section of RFC 9569.<a class="pilcrow" href="#section-10.2-1.24">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.25">Intended usage:</dt>
          <dd id="section-10.2-1.26" style="margin-left: 1.5em">COMMON<a class="pilcrow" href="#section-10.2-1.26">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.27">Restrictions on usage:</dt>
          <dd id="section-10.2-1.28" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-10.2-1.28">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.29">Author:</dt>
          <dd id="section-10.2-1.30" style="margin-left: 1.5em">See the Authors' Addresses section of RFC 9569.<a class="pilcrow" href="#section-10.2-1.30">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-10.2-1.31">Change controller:</dt>
          <dd id="section-10.2-1.32" style="margin-left: 1.5em">Internet Engineering Task Force (iesg@ietf.org).<a class="pilcrow" href="#section-10.2-1.32">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-11.1">11.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time class="refDate" datetime="2005-01">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7285">[RFC7285]</dt>
        <dd>
<span class="refAuthor">Alimi, R., Ed.</span>, <span class="refAuthor">Penno, R., Ed.</span>, <span class="refAuthor">Yang, Y., Ed.</span>, <span class="refAuthor">Kiesel, S.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Shalunov, S.</span>, and <span class="refAuthor">R. Woundy</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Protocol"</span>, <span class="seriesInfo">RFC 7285</span>, <span class="seriesInfo">DOI 10.17487/RFC7285</span>, <time class="refDate" datetime="2014-09">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7285">https://www.rfc-editor.org/info/rfc7285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time class="refDate" datetime="2017-12">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8895">[RFC8895]</dt>
        <dd>
<span class="refAuthor">Roome, W.</span> and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Incremental Updates Using Server-Sent Events (SSE)"</span>, <span class="seriesInfo">RFC 8895</span>, <span class="seriesInfo">DOI 10.17487/RFC8895</span>, <time class="refDate" datetime="2020-11">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8895">https://www.rfc-editor.org/info/rfc8895</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9112">[RFC9112]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP/1.1"</span>, <span class="seriesInfo">STD 99</span>, <span class="seriesInfo">RFC 9112</span>, <span class="seriesInfo">DOI 10.17487/RFC9112</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9112">https://www.rfc-editor.org/info/rfc9112</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9113">[RFC9113]</dt>
        <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">C. Benfield, Ed.</span>, <span class="refTitle">"HTTP/2"</span>, <span class="seriesInfo">RFC 9113</span>, <span class="seriesInfo">DOI 10.17487/RFC9113</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9113">https://www.rfc-editor.org/info/rfc9113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9114">[RFC9114]</dt>
        <dd>
<span class="refAuthor">Bishop, M., Ed.</span>, <span class="refTitle">"HTTP/3"</span>, <span class="seriesInfo">RFC 9114</span>, <span class="seriesInfo">DOI 10.17487/RFC9114</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9114">https://www.rfc-editor.org/info/rfc9114</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9325">[RFC9325]</dt>
      <dd>
<span class="refAuthor">Sheffer, Y.</span>, <span class="refAuthor">Saint-Andre, P.</span>, and <span class="refAuthor">T. Fossati</span>, <span class="refTitle">"Recommendations for Secure Use of Transport Layer Security (TLS) and Datagram Transport Layer Security (DTLS)"</span>, <span class="seriesInfo">BCP 195</span>, <span class="seriesInfo">RFC 9325</span>, <span class="seriesInfo">DOI 10.17487/RFC9325</span>, <time class="refDate" datetime="2022-11">November 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9325">https://www.rfc-editor.org/info/rfc9325</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-11.2">11.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="IANA-Media-Type">[IANA-Media-Type]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Media Types"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-types">https://www.iana.org/assignments/media-types</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7617">[RFC7617]</dt>
        <dd>
<span class="refAuthor">Reschke, J.</span>, <span class="refTitle">"The 'Basic' HTTP Authentication Scheme"</span>, <span class="seriesInfo">RFC 7617</span>, <span class="seriesInfo">DOI 10.17487/RFC7617</span>, <time class="refDate" datetime="2015-09">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7617">https://www.rfc-editor.org/info/rfc7617</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9205">[RFC9205]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Building Protocols with HTTP"</span>, <span class="seriesInfo">BCP 56</span>, <span class="seriesInfo">RFC 9205</span>, <span class="seriesInfo">DOI 10.17487/RFC9205</span>, <time class="refDate" datetime="2022-06">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9205">https://www.rfc-editor.org/info/rfc9205</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9562">[RFC9562]</dt>
      <dd>
<span class="refAuthor">Davis, K.</span>, <span class="refAuthor">Peabody, B.</span>, and <span class="refAuthor">P. Leach</span>, <span class="refTitle">"Universally Unique IDentifiers (UUIDs)"</span>, <span class="seriesInfo">RFC 9562</span>, <span class="seriesInfo">DOI 10.17487/RFC9562</span>, <time class="refDate" datetime="2024-05">May 2024</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9562">https://www.rfc-editor.org/info/rfc9562</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="sec-dep-model">
<section id="appendix-A">
      <h2 id="name-a-high-level-deployment-mod">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-a-high-level-deployment-mod">A High-Level Deployment Model</a>
      </h2>
<p id="appendix-A-1">Conceptually, the TIPS system consists of three types of resources:<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A-2">
        <dt id="appendix-A-2.1">(R1):</dt>
        <dd id="appendix-A-2.2" style="margin-left: 1.5em">The TIPS frontend to create TIPS views.<a class="pilcrow" href="#appendix-A-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.3">(R2):</dt>
        <dd id="appendix-A-2.4" style="margin-left: 1.5em">The TIPS view directory, which provides metadata (e.g., references) about the
network resource data.<a class="pilcrow" href="#appendix-A-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.5">(R3):</dt>
        <dd id="appendix-A-2.6" style="margin-left: 1.5em">The actual network resource data, encoded as complete ALTO network
resources (e.g., a cost map or a network map) or incremental updates.<a class="pilcrow" href="#appendix-A-2.6">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<span id="name-sample-tips-deployment-mode"></span><div id="fig-service-model">
<figure id="figure-17">
        <div class="alignCenter art-drawing art-text artwork" id="appendix-A-3.1">
<pre>                      +------------------------------------------------+
                      |                                                |
 +------+             |R1: Frontend/Open  R2: Directory/Meta  R3: Data |
 |      | "iget" base |     +-----+           +-----+         +-----+  |
 |      | resource 1  |     |     |           |     |         |     |  |
 |      |-------------|----&gt;|     |           |     |         |     |  |
 |      | incremental |     |     |           |     |--------&gt;|     |  |
 |      | transfer    |     |     |           |     |         |     |  |
 |      | resource    |     |     |           |     |         |     |  |
 |      |&lt;------------|-----------------------|     |         |     |  |
 |Client|             |     |     |           +-----+         +-----+  |
 |      | "iget" base |     |     |                                    |
 |      | resource 2  |     |     |           +-----+         +-----+  |
 |      |-------------|----&gt;|     |           |     |         |     |  |
 |      | incremental |     |     |           |     |         |     |  |
 |      | transfer    |     +-----+           |     | -------&gt;|     |  |
 |      | resource    |                       |     |         |     |  |
 |      |&lt;------------|-----------------------|     |         |     |  |
 +------+             |                       +-----+         +-----+  |
                      |                                                |
                      +------------------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-17">Figure 17</a>:
<a class="selfRef" href="#name-sample-tips-deployment-mode">Sample TIPS Deployment Model</a>
        </figcaption></figure>
</div>
<p id="appendix-A-4">Design Point: Component Resource Location<a class="pilcrow" href="#appendix-A-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-A-5">
        <dt id="appendix-A-5.1">Design 1 (Single):</dt>
        <dd id="appendix-A-5.2" style="margin-left: 1.5em">all the three resource types at the same single server (accessed via
relative reference).<a class="pilcrow" href="#appendix-A-5.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-5.3">Design 2 (Flexible):</dt>
        <dd id="appendix-A-5.4" style="margin-left: 1.5em">all three resource types can be at their own server (accessed via
absolute reference).<a class="pilcrow" href="#appendix-A-5.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-5.5">Design 3 (Dir + Data):</dt>
        <dd id="appendix-A-5.6" style="margin-left: 1.5em">R2 and R3 must remain together, though R1 might not be
on the same server.<a class="pilcrow" href="#appendix-A-5.6">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="appendix-A-6">This document supports Designs 1 and 3. For Design 1, the ALTO server
simply needs to always use the same host for the TIPS views. For Design 3, the
ALTO server can set tips-view-host to a different server. Note that the
deployment flexibility is at the logical level, as these services
can be distinguished by different paths and potentially be routed to different
physical servers by Layer 7 load balancing. See <a class="auto internal xref" href="#load-balancing">Section 8.1</a> for a
discussion on load balancing considerations. Future documents could extend the
protocol to support Design 2.<a class="pilcrow" href="#appendix-A-6">¶</a></p>
</section>
</div>
<div id="sec-bcp-http">
<section id="appendix-B">
      <h2 id="name-conformance-with-building-p">
<a class="section-number selfRef" href="#appendix-B">Appendix B. </a><a class="section-name selfRef" href="#name-conformance-with-building-p">Conformance with "Building Protocols with HTTP" (RFC 9205) Best Current Practices</a>
      </h2>
<p id="appendix-B-1">This specification adheres fully to <span>[<a class="cite xref" href="#RFC9205">RFC9205</a>]</span> as further elaborated below:<a class="pilcrow" href="#appendix-B-1">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-2.1">
          <p id="appendix-B-2.1.1">TIPS does not (as described in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-3.1">Section 3.1</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>):<a class="pilcrow" href="#appendix-B-2.1.1">¶</a></p>
<blockquote id="appendix-B-2.1.2">...redefine, refine, or overlay the semantics of
generic protocol elements such as methods, status codes, or
 existing header fields.<a class="pilcrow" href="#appendix-B-2.1.2">¶</a>
</blockquote>
<p id="appendix-B-2.1.3">and instead focuses on<a class="pilcrow" href="#appendix-B-2.1.3">¶</a></p>
<blockquote id="appendix-B-2.1.4">...protocol elements
 that are specific to [the TIPS] application -- namely, [its] HTTP
 resources.<a class="pilcrow" href="#appendix-B-2.1.4">¶</a>
</blockquote>
</li>
        <li class="normal" id="appendix-B-2.2">There are no statically defined URI components (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-3.2">Section 3.2</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>).<a class="pilcrow" href="#appendix-B-2.2">¶</a>
</li>
        <li class="normal" id="appendix-B-2.3">No minimum version of HTTP is specified by TIPS, which is
recommended (in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-4.1">Section 4.1</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>).<a class="pilcrow" href="#appendix-B-2.3">¶</a>
</li>
        <li class="normal" id="appendix-B-2.4">
          <p id="appendix-B-2.4.1">The TIPS design follows the advice (in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-4.1">Section 4.1</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>) that:<a class="pilcrow" href="#appendix-B-2.4.1">¶</a></p>
<blockquote id="appendix-B-2.4.2">When specifying examples of protocol interactions,
 applications should document both the request and response messages
 with complete header sections, preferably in HTTP/1.1 format...<a class="pilcrow" href="#appendix-B-2.4.2">¶</a>
</blockquote>
</li>
        <li class="normal" id="appendix-B-2.5">TIPS uses URI templates, which is recommended (in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-4.2">Section 4.2</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>).<a class="pilcrow" href="#appendix-B-2.5">¶</a>
</li>
        <li class="normal" id="appendix-B-2.6">
          <p id="appendix-B-2.6.1">TIPS follows the pattern (in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-4.4.1">Section 4.4.1</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>) that:<a class="pilcrow" href="#appendix-B-2.6.1">¶</a></p>
<blockquote id="appendix-B-2.6.2">Generally, a client will begin interacting with a given
   application server by requesting an initial document that contains
   information about that particular deployment, potentially including
   links to other relevant resources.  Doing so ensures that the
   deployment is as flexible as possible (potentially spanning multiple
   servers), allows evolution, and also gives the application the
   opportunity to tailor the "discovery document" to the
   client.<a class="pilcrow" href="#appendix-B-2.6.2">¶</a>
</blockquote>
</li>
        <li class="normal" id="appendix-B-2.7">TIPS uses existing HTTP schemes (<span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-4.4.2">Section 4.4.2</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>).<a class="pilcrow" href="#appendix-B-2.7">¶</a>
</li>
        <li class="normal" id="appendix-B-2.8">TIPS defines its errors "to use the most applicable status code"
(<span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-4.6">Section 4.6</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>).<a class="pilcrow" href="#appendix-B-2.8">¶</a>
</li>
        <li class="normal" id="appendix-B-2.9">
          <p id="appendix-B-2.9.1">TIPS does not (as in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-4.11">Section 4.11</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>):<a class="pilcrow" href="#appendix-B-2.9.1">¶</a></p>
<blockquote id="appendix-B-2.9.2">...make assumptions about the relationship between separate
 requests on a single transport connection; doing so breaks many of the
 assumptions of HTTP as a stateless protocol and will cause problems in
 interoperability, security, operability, and
 evolution.<a class="pilcrow" href="#appendix-B-2.9.2">¶</a>
</blockquote>
<p id="appendix-B-2.9.3">The only relationship between requests is that a
 client has to first discover where a TIPS view of a resource will be
 served, which is consistent with the URI discovery in <span><a class="relref" href="https://rfc-editor.org/rfc/rfc9205#section-4.4.1">Section 4.4.1</a> of [<a class="cite xref" href="#RFC9205">RFC9205</a>]</span>.<a class="pilcrow" href="#appendix-B-2.9.3">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="push">
<section id="appendix-C">
      <h2 id="name-push-mode-tips-using-http-s">
<a class="section-number selfRef" href="#appendix-C">Appendix C. </a><a class="section-name selfRef" href="#name-push-mode-tips-using-http-s">Push-Mode TIPS Using HTTP Server Push</a>
      </h2>
<p id="appendix-C-1">TIPS allows ALTO clients to subscribe to incremental updates of an ALTO
resource, and the specification in this document is based on the current best
practice of building such a service using basic HTTP. Earlier versions of this
document had investigated the possibility of enabling push-mode TIPS (i.e., by
taking advantage of the server push feature in HTTP/2 and HTTP/3).<a class="pilcrow" href="#appendix-C-1">¶</a></p>
<p id="appendix-C-2">In the ideal case, push-mode TIPS can potentially improve performance (e.g.,
latency) in more dynamic environments and use cases with wait-free message
delivery. Using the built-in HTTP server push also results in minimal changes to the
current protocol. While not adopted due to the lack of server push support and
increased protocol complexity, push-mode TIPS remains a potential direction of
protocol improvement.<a class="pilcrow" href="#appendix-C-2">¶</a></p>
</section>
</div>
<div id="persistent-http-connections">
<section id="appendix-D">
      <h2 id="name-persistent-http-connections">
<a class="section-number selfRef" href="#appendix-D">Appendix D. </a><a class="section-name selfRef" href="#name-persistent-http-connections">Persistent HTTP Connections</a>
      </h2>
<p id="appendix-D-1">Previous draft versions of this document use persistent HTTP connections to detect the
liveness of clients. However, this design does not conform well with the best
current practices of HTTP. For example, if an ALTO client is accessing a TIPS
view over an HTTP proxy, the connection is not established directly between the
ALTO client and the ALTO server, but between the ALTO client and the proxy and
between the proxy and the ALTO server. Thus, using persistent connections might
not correctly detect the right liveness state.<a class="pilcrow" href="#appendix-D-1">¶</a></p>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-E">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-E-1">The authors of this document would like to thank <span class="contact-name">Mark Nottingham</span> and <span class="contact-name">Spencer Dawkins</span>
      for providing invaluable reviews of earlier draft versions of this document;
      <span class="contact-name">Adrian Farrel</span>, <span class="contact-name">Qin Wu</span>, and
      <span class="contact-name">Jordi Ros Giralt</span> for their continuous feedback;      <span class="contact-name">Russ White</span>, <span class="contact-name">Donald Eastlake 3rd</span>,
      <span class="contact-name">Martin Thomson</span>, <span class="contact-name">Bernard       Aboba</span>, <span class="contact-name">Spencer Dawkins</span>, <span class="contact-name">Linda Dunbar</span>, and <span class="contact-name">Sheng Jiang</span> for the
      directorate reviews; <span class="contact-name">Martin Duke</span> for the area
      director review; <span class="contact-name">Francesca Palombini</span>, <span class="contact-name">Wesley Eddy</span>, <span class="contact-name">Roman Danyliw</span>, <span class="contact-name">Murray Kucherawy</span>, and <span class="contact-name">Zaheduzzaman       Sarker</span> for the telechat and IESG reviews; and <span class="contact-name">Mohamed Boucadair</span> for shepherding the document.<a class="pilcrow" href="#appendix-E-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-F">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Kai Gao</span></div>
<div class="left" dir="auto"><span class="org">Sichuan University</span></div>
<div class="left" dir="auto"><span class="street-address">No.24 South Section 1, Yihuan Road</span></div>
<div class="left" dir="auto"><span class="locality">Chengdu</span></div>
<div class="left" dir="auto"><span class="postal-code">610000</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:kaigao@scu.edu.cn">kaigao@scu.edu.cn</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Roland Schott</span></div>
<div class="left" dir="auto"><span class="org">Deutsche Telekom</span></div>
<div class="left" dir="auto"><span class="street-address">Deutsche-Telekom-Allee 9</span></div>
<div class="left" dir="auto">
<span class="postal-code">64295</span> <span class="locality">Darmstadt</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:Roland.Schott@telekom.de">Roland.Schott@telekom.de</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Yang Richard Yang</span></div>
<div class="left" dir="auto"><span class="org">Yale University</span></div>
<div class="left" dir="auto"><span class="street-address">51 Prospect Street</span></div>
<div class="left" dir="auto">
<span class="locality">New Haven</span>, <span class="region">CT</span> <span class="postal-code">06511</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:yry@cs.yale.edu">yry@cs.yale.edu</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Lauren Delwiche</span></div>
<div class="left" dir="auto"><span class="org">Yale University</span></div>
<div class="left" dir="auto"><span class="street-address">51 Prospect Street</span></div>
<div class="left" dir="auto">
<span class="locality">New Haven</span>, <span class="region">CT</span> <span class="postal-code">06511</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lauren.delwiche@yale.edu">lauren.delwiche@yale.edu</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Lachlan Keller</span></div>
<div class="left" dir="auto"><span class="org">Yale University</span></div>
<div class="left" dir="auto"><span class="street-address">51 Prospect Street</span></div>
<div class="left" dir="auto">
<span class="locality">New Haven</span>, <span class="region">CT</span> <span class="postal-code">06511</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lachlan.keller@aya.yale.edu">lachlan.keller@aya.yale.edu</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>