<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9341: Alternate-Marking Method</title>
<meta content="Giuseppe Fioccola" name="author"/>
<meta content="Mauro Cociglio" name="author"/>
<meta content="Greg Mirsky" name="author"/>
<meta content="Tal Mizrahi" name="author"/>
<meta content="Tianran Zhou" name="author"/>
<meta content="
       This document describes the Alternate-Marking technique to perform 
   packet loss, delay, and jitter measurements on live traffic.
   This technology can be applied in various situations and for different protocols.
   According to the classification defined in RFC 7799, it could be considered
   Passive or Hybrid depending on the application. This document obsoletes RFC 8321. 
    " name="description"/>
<meta content="xml2rfc 3.15.3" name="generator"/>
<meta content="Performance" name="keyword"/>
<meta content="Measurement" name="keyword"/>
<meta content="Monitoring" name="keyword"/>
<meta content="Passive" name="keyword"/>
<meta content="Hybrid" name="keyword"/>
<meta content="Loss" name="keyword"/>
<meta content="Delay" name="keyword"/>
<meta content="Delay Variation" name="keyword"/>
<meta content="9341" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.15.3
    Python 3.9.14
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.0
    MarkupSafe 2.1.1
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    wcwidth 0.2.5
    weasyprint 56.1
-->
<link href="rfc9341.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9341" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-ippm-rfc8321bis-04" rel="prev"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9341</td>
<td class="center">AltMark</td>
<td class="right">December 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Fioccola, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9341">9341</a></dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc8321">8321</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-12">December 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">G. Fioccola, <span class="editor">Ed.</span>
</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">M. Cociglio</div>
<div class="org">Telecom Italia</div>
</div>
<div class="author">
      <div class="author-name">G. Mirsky</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">T. Mizrahi</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">T. Zhou</div>
<div class="org">Huawei Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9341</h1>
<h1 id="title">Alternate-Marking Method</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document describes the Alternate-Marking technique to perform 
   packet loss, delay, and jitter measurements on live traffic.
   This technology can be applied in various situations and for different protocols.
   According to the classification defined in RFC 7799, it could be considered
   Passive or Hybrid depending on the application. This document obsoletes RFC 8321.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9341">https://www.rfc-editor.org/info/rfc9341</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-summary-of-changes-from-rfc">Summary of Changes from RFC 8321</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="auto internal xref" href="#section-1.2">1.2</a>.  <a class="internal xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-overview-of-the-method">Overview of the Method</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-detailed-description-of-the">Detailed Description of the Method</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-packet-loss-measurement">Packet-Loss Measurement</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-one-way-delay-measurement">One-Way Delay Measurement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a class="auto internal xref" href="#section-3.2.1">3.2.1</a>.  <a class="internal xref" href="#name-single-marking-methodology">Single-Marking Methodology</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a class="auto internal xref" href="#section-3.2.2">3.2.2</a>.  <a class="internal xref" href="#name-double-marking-methodology">Double-Marking Methodology</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="auto internal xref" href="#section-3.3">3.3</a>.  <a class="internal xref" href="#name-delay-variation-measurement">Delay Variation Measurement</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-alternate-marking-functions">Alternate-Marking Functions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="auto internal xref" href="#section-4.1">4.1</a>.  <a class="internal xref" href="#name-marking-the-packets">Marking the Packets</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="auto internal xref" href="#section-4.2">4.2</a>.  <a class="internal xref" href="#name-counting-and-timestamping-p">Counting and Timestamping Packets</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="auto internal xref" href="#section-4.3">4.3</a>.  <a class="internal xref" href="#name-data-collection-and-correla">Data Collection and Correlation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-synchronization-and-timing">Synchronization and Timing</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-packet-fragmentation">Packet Fragmentation</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-recommendations-for-deploym">Recommendations for Deployment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-controlled-domain-requireme">Controlled Domain Requirement</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#section-8">8</a>.  <a class="internal xref" href="#name-compliance-with-guidelines-">Compliance with Guidelines from RFC 6390</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#section-9">9</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#section-10">10</a>. <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#section-11">11</a>. <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="auto internal xref" href="#section-11.1">11.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="auto internal xref" href="#section-11.2">11.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-A"></a><a class="internal xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="auto internal xref" href="#appendix-B"></a><a class="internal xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">Most Service Providers' networks carry traffic with contents 
   that are highly sensitive to packet loss <span>[<a class="cite xref" href="#RFC7680">RFC7680</a>]</span>,
   delay <span>[<a class="cite xref" href="#RFC7679">RFC7679</a>]</span>, and jitter <span>[<a class="cite xref" href="#RFC3393">RFC3393</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">Methodologies and tools are therefore needed to monitor and accurately measure 
   network performance, in order to constantly control the quality of experience
      perceived by the end customers. Performance monitoring also provides useful information for
   improving network management (e.g., isolation of network problems, troubleshooting, etc.).<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3"><span>[<a class="cite xref" href="#RFC7799">RFC7799</a>]</span> defines Active, Passive, and Hybrid Methods of Measurement.
   In particular, Active Methods of Measurement depend on a dedicated measurement packet stream;
   Passive Methods of Measurement are based solely on observations of an undisturbed and unmodified 
   packet stream of interest; Hybrid Methods are Methods of Measurement that use a combination of 
      Active Methods and Passive Methods.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">This document proposes a performance monitoring technique, called the "Alternate-Marking Method", 
   which is potentially applicable to any kind of packet-based traffic, both point-to-point unicast and multicast, including Ethernet, IP, and MPLS. The method primarily addresses packet-loss measurement, but it can be easily 
   extended to one-way or two-way delay and delay variation measurements as well.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">The Alternate-Marking methodology, described in this document, allows the synchronization of the measurements
   at different points by dividing the packet flow into batches. So it is possible to get coherent counters and timestamps
   in every marking period and therefore measure the Performance Metrics for the monitored flow.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">The method has been explicitly designed for Passive or Hybrid measurements as stated in <span>[<a class="cite xref" href="#RFC8321">RFC8321</a>]</span>. 
   But, according to the definitions of <span>[<a class="cite xref" href="#RFC7799">RFC7799</a>]</span>, the Alternate-Marking Method can be classified 
   as Hybrid Type I. Indeed, Alternate Marking can be implemented by using reserved bits in the protocol header, and
   the change in value of these marking bits at the domain edges (and not along the path) is formally considered a 
   modification of the stream of interest.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">It is worth mentioning that this is a methodology document, so the mechanism that can be used to transmit 
   the counters and the timestamps is out of scope here. Additional details about the applicability of the Alternate-Marking 
    methodology are described in <span>[<a class="cite xref" href="#IEEE-NETWORK-PNPM">IEEE-NETWORK-PNPM</a>]</span>.<a class="pilcrow" href="#section-1-7">¶</a></p>
<section id="section-1.1">
        <h3 id="name-summary-of-changes-from-rfc">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-summary-of-changes-from-rfc">Summary of Changes from RFC 8321</a>
        </h3>
<p id="section-1.1-1">This document defines the Alternate-Marking Method, addressing

 ambiguities and building on its experimental phase that was based on 
   the original specification <span>[<a class="cite xref" href="#RFC8321">RFC8321</a>]</span>.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">The relevant changes are:<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.1-3.1">Added the recommendations about the methods to employ in case one or two flag bits 
 are available for marking (<a class="auto internal xref" href="#finding">Section 7</a>).<a class="pilcrow" href="#section-1.1-3.1">¶</a>
</li>
          <li class="normal" id="section-1.1-3.2">Changed the structure to improve the readability.<a class="pilcrow" href="#section-1.1-3.2">¶</a>
</li>
          <li class="normal" id="section-1.1-3.3">Removed the wording about the initial experiments of the method and considerations 
 that no longer apply.<a class="pilcrow" href="#section-1.1-3.3">¶</a>
</li>
          <li class="normal" id="section-1.1-3.4">Extended the description of detailed aspects of the methodology, e.g., synchronization, 
 timing, packet fragmentation, and marked and unmarked traffic handling.<a class="pilcrow" href="#section-1.1-3.4">¶</a>
</li>
        </ul>
<p id="section-1.1-4">It is important to note that all the changes are totally backward compatible with <span>[<a class="cite xref" href="#RFC8321">RFC8321</a>]</span> 
   and no new additional technique has been introduced in this document compared to <span>[<a class="cite xref" href="#RFC8321">RFC8321</a>]</span>.<a class="pilcrow" href="#section-1.1-4">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.2-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.2-1">¶</a></p>
</section>
</section>
</div>
<div id="brief">
<section id="section-2">
      <h2 id="name-overview-of-the-method">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-overview-of-the-method">Overview of the Method</a>
      </h2>
<p id="section-2-1">In order to perform packet-loss measurements on a production traffic flow,
      different approaches exist. The most intuitive one consists in numbering
      the packets so that each router that receives the flow can immediately
      detect a packet that is missing. This approach, though very simple in theory, is
      not simple to achieve: it requires the insertion of a sequence number
      into each packet, and the devices must be able to extract the number and
      check it in real time. Such a task can be difficult to implement on live
      traffic: if UDP is used as the transport protocol, the sequence number
      is not available; on the other hand, if a higher-layer sequence number
      (e.g., in the RTP header) is used, extracting that information from each
      packet and processing it in real time could overload the device.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">An alternate approach is to count the number of packets sent on one
      end, count the number of packets received on the other end, and compare the
      two values. This operation is much simpler to implement, but it requires
      the devices performing the measurement to be in sync: in order to
      compare two counters, it is required that they refer exactly to the same
      set of packets. Since a flow is continuous and cannot be stopped when a
      counter has to be read, it can be difficult to determine exactly when
      to read the counter. A possible solution to overcome this problem is to
      virtually split the flow in consecutive blocks by periodically
      inserting a delimiter so that each counter refers exactly to the same block of
      packets. The delimiter could be, for example, a special packet inserted
      artificially into the flow. However, delimiting the flow using specific
      packets has some limitations. First, it requires generating additional
      packets within the flow and requires the equipment to be able to process
      those packets. In addition, the method is vulnerable to out-of-order
      reception of delimiting packets and, to a lesser extent, to their
      loss.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">The method proposed in this document follows the second approach, but
      it doesn't use additional packets to virtually split the flow in blocks.
      Instead, it "marks" the packets so that the packets belonging to the
      same block will have the same notional "color", whilst consecutive blocks 
   will have different colors. Each change of color represents a sort of
      auto-synchronization signal that enhances the consistency of
      measurements taken by different devices along the path.<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4"><a class="auto internal xref" href="#Measurements">Figure 1</a> represents a very simple network and shows 
   how the method can be used to measure packet loss on different network segments: by
      enabling the measurement on several interfaces along the path, it is
      possible to perform link monitoring, node monitoring, or end-to-end
      monitoring. The method is flexible enough to measure packet loss on any
      segment of the network and can be used to isolate the faulty
      element.<a class="pilcrow" href="#section-2-4">¶</a></p>
<span id="name-available-measurements"></span><div id="Measurements">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-5.1">
<pre>                            Traffic Flow
     ========================================================&gt;
       +------+       +------+       +------+       +------+
   ---&lt;&gt;  R1  &lt;&gt;-----&lt;&gt;  R2  &lt;&gt;-----&lt;&gt;  R3  &lt;&gt;-----&lt;&gt;  R4  &lt;&gt;---
       +------+       +------+       +------+       +------+
       .              .      .              .       .      .
       .              .      .              .       .      .
       .              &lt;------&gt;              &lt;-------&gt;      .
       .          Node Packet Loss      Link Packet Loss   .
       .                                                   .
       &lt;---------------------------------------------------&gt;
                        End-to-End Packet Loss
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-available-measurements">Available Measurements</a>
        </figcaption></figure>
</div>
</section>
</div>
<div id="detailed">
<section id="section-3">
      <h2 id="name-detailed-description-of-the">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-detailed-description-of-the">Detailed Description of the Method</a>
      </h2>
<p id="section-3-1">This section describes, in detail, how the method operates. A special emphasis
      is given to the measurement of packet loss, which represents the core
      application of the method, but applicability to delay and jitter
      measurements is also considered.<a class="pilcrow" href="#section-3-1">¶</a></p>
<div id="ploss">
<section id="section-3.1">
        <h3 id="name-packet-loss-measurement">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-packet-loss-measurement">Packet-Loss Measurement</a>
        </h3>
<p id="section-3.1-1">The basic idea is to virtually split traffic flows into consecutive
        blocks: each block represents a measurable entity unambiguously
        recognizable by all network devices along the path. By counting the
        number of packets in each block and comparing the values measured by
        different network devices along the path, it is possible to measure if
        packet loss occurred in any single block between any two points.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">As discussed in the previous section, a simple way to create the
        blocks is to "color" the traffic (two colors are sufficient) so that
        packets belonging to alternate consecutive blocks will have different
        colors. Whenever the color changes, the previous block terminates
        and the new one begins. Hence, all the packets belonging to the same
        block will have the same color, and packets of different consecutive
        blocks will have different colors. The number of packets in each
        block depends on the criterion used to create the blocks:<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-3.1">if the color is switched after a fixed number of packets, then each block
        will contain the same number of packets (except for any losses); and<a class="pilcrow" href="#section-3.1-3.1">¶</a>
</li>
          <li class="normal" id="section-3.1-3.2">if the color is switched according to a fixed timer, then the number
        of packets may be different in each block depending on the packet
        rate.<a class="pilcrow" href="#section-3.1-3.2">¶</a>
</li>
        </ul>
<p id="section-3.1-4">The use of a fixed timer for the creation of blocks is <span class="bcp14">REQUIRED</span> when implementing 
 this specification. 
 The switching after a fixed number of packets is an additional possibility, but 
 its detailed specification is out of scope. An example of application is in 
 <span>[<a class="cite xref" href="#I-D.ietf-ippm-explicit-flow-measurements">EXPLICIT-FLOW-MEASUREMENTS</a>]</span>.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<p id="section-3.1-5">The following figure shows how a flow appears when it is split into traffic blocks
 with colored packets.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
<span id="name-traffic-coloring"></span><div id="coloring">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-3.1-6.1">
<pre>A: packet with A coloring
B: packet with B coloring

         |           |           |           |           |
         |           |    Traffic Flow       |           |
 -------------------------------------------------------------------&gt;
  BBBBBBB AAAAAAAAAAA BBBBBBBBBBB AAAAAAAAAAA BBBBBBBBBBB AAAAAAA
 -------------------------------------------------------------------&gt;
    ...  |  Block 5  |  Block 4  |  Block 3  |  Block 2  |  Block 1
         |           |           |           |           |
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-traffic-coloring">Traffic Coloring</a>
          </figcaption></figure>
</div>
<p id="section-3.1-7"><a class="auto internal xref" href="#FIG_simple_network">Figure 3</a> shows how the method can
        be used to measure link packet loss between two adjacent nodes.<a class="pilcrow" href="#section-3.1-7">¶</a></p>
<p id="section-3.1-8">Referring to the figure, let's assume we want to monitor the packet
        loss on the link between two routers: router R1 and router R2.
        According to the method, the traffic is colored alternatively with
        two different colors: A and B. Whenever the color changes, the
        transition generates a sort of square-wave signal, as depicted in the
        following figure.<a class="pilcrow" href="#section-3.1-8">¶</a></p>
<span id="name-computation-of-link-packet-"></span><div id="FIG_simple_network">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-3.1-9.1">
<pre>Color A   ----------+           +-----------+           +----------
                    |           |           |           |
Color B             +-----------+           +-----------+
           Block n        ...      Block 3     Block 2     Block 1
         &lt;---------&gt; &lt;---------&gt; &lt;---------&gt; &lt;---------&gt; &lt;---------&gt;

                             Traffic Flow
         ===========================================================&gt;
Color   ...AAAAAAAAAAA BBBBBBBBBBB AAAAAAAAAAA BBBBBBBBBBB AAAAAAA...
         ===========================================================&gt;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-computation-of-link-packet-">Computation of Link Packet Loss</a>
          </figcaption></figure>
</div>
<p id="section-3.1-10"></p>
<p id="section-3.1-11">Traffic coloring can be done by R1 itself if the traffic is not already colored. 
 R1 needs two counters, C(A)R1 and C(B)R1, on its egress
        interface: C(A)R1 counts the packets with color A and C(B)R1 counts
        those with color B. As long as traffic is colored as A, only counter
        C(A)R1 will be incremented, while C(B)R1 is not incremented;
        conversely, when the traffic is colored as B, only C(B)R1 is
        incremented. C(A)R1 and C(B)R1 can be used as reference values to
        determine the packet loss from R1 to any other measurement point down
        the path. Router R2, similarly, will need two counters on its ingress
        interface, C(A)R2 and C(B)R2, to count the packets received on that interface and colored 
        with A and B, respectively. When an A
        block ends, it is possible to compare C(A)R1 and C(A)R2 and calculate
        the packet loss within the block; similarly, when the successive B
        block terminates, it is possible to compare C(B)R1 with C(B)R2, and so
        on, for every successive block.<a class="pilcrow" href="#section-3.1-11">¶</a></p>
<p id="section-3.1-12">Likewise, by using two counters on the R2 egress interface, it is
        possible to count the packets sent out of the R2 interface and use them as
        reference values to calculate the packet loss from R2 to any
        measurement point downstream from R2.<a class="pilcrow" href="#section-3.1-12">¶</a></p>
<p id="section-3.1-13">The length of the blocks can be chosen large enough to simplify 
 the collection and the comparison of measures taken by different 
 network devices. It's preferable to read the value of the counters 
 not immediately after the color switch: some packets could arrive
 out of order and increment the counter associated with the
        previous block (color), so it is worth waiting for some time. 
 A safe choice is to wait L/2 time units (where L is the duration 
 for each block) after the color switch, to read the counter of 
 the previous color (<a class="auto internal xref" href="#sync-timing">Section 5</a>). 
 The drawback is that the longer the duration of the block, the less
        frequently the measurement can be taken.<a class="pilcrow" href="#section-3.1-13">¶</a></p>
<p id="section-3.1-14">Two different strategies that can be used when implementing the method are:<a class="pilcrow" href="#section-3.1-14">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.1-15">
          <dt id="section-3.1-15.1">flow-based:
          </dt>
          <dd id="section-3.1-15.2" style="margin-left: 1.5em">the flow-based strategy is used when well-defined traffic flows
   need to be monitored. According to this strategy, only the specified
   flow is colored. Counters for packet-loss measurements can be
   instantiated for each single flow, or for the set as a whole,
   depending on the desired granularity. With this approach, it is
   necessary to know in advance the path followed by flows that are
   subject to measurement.  Path rerouting and traffic load balancing
   need to be taken into account.<a class="pilcrow" href="#section-3.1-15.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-15.3">link-based:
          </dt>
          <dd id="section-3.1-15.4" style="margin-left: 1.5em">measurements are performed on all the traffic on a link-by-link
   basis. The link could be a physical link or a logical link. Counters
   could be instantiated for the traffic as a whole or for each traffic
   class (in case it is desired to monitor each class separately), but
   in the second case, two counters are needed for each class.<a class="pilcrow" href="#section-3.1-15.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.1-16">The flow-based strategy is <span class="bcp14">REQUIRED</span> when implementing this specification.
 It requires the identification of the flow to be monitored and the discovery 
 of the path followed by the selected flow. It is possible to monitor a single flow 
 or multiple flows grouped together, but in this case, measurement is consistent 
 only if all the flows in the group follow the same path.
        Moreover, if a measurement is performed by grouping many flows, it is not 
 possible to determine exactly which flow was affected by packet loss. 
 In order to have measures per single flow, it is necessary to configure 
 counters for each specific flow. Once the flow(s) to be monitored has 
 been identified, it is necessary to configure the monitoring on the proper nodes.
        Configuring the monitoring means configuring the rule to intercept the
        traffic and configuring the counters to count the packets. To have just
        an end-to-end monitoring, it is sufficient to enable the monitoring on
        the first- and last-hop routers of the path: the mechanism is
        completely transparent to intermediate nodes and independent of the
        path followed by traffic flows. On the contrary, to monitor the flow on
        a hop-by-hop basis along its whole path, it is necessary to enable the
        monitoring on every node from the source to the destination. In case the
        exact path followed by the flow is not known a priori (i.e., the flow has
        multiple paths to reach the destination), it is necessary to enable the
        monitoring on every path: counters on interfaces traversed by the flow 
 will report packet count, whereas counters on other interfaces will be null.<a class="pilcrow" href="#section-3.1-16">¶</a></p>
</section>
</div>
<div id="one-way_delay">
<section id="section-3.2">
        <h3 id="name-one-way-delay-measurement">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-one-way-delay-measurement">One-Way Delay Measurement</a>
        </h3>
<p id="section-3.2-1">The same principle used to measure packet loss can be applied also to
        one-way delay measurement. There are two methodologies, as described hereinafter.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">Note that, for all the one-way delay alternatives described in the next sections, 
 by summing the one-way delays of the two directions of a path, it is always possible to measure 
 the two-way delay (round-trip "virtual" delay). The Network Time Protocol (NTP) <span>[<a class="cite xref" href="#RFC5905">RFC5905</a>]</span>
 or the IEEE 1588 Precision Time Protocol (PTP) <span>[<a class="cite xref" href="#IEEE-1588">IEEE-1588</a>]</span> (as discussed in the previous section) can be used 
 for the timestamp formats depending on the needed precision.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<div id="single-marking">
<section id="section-3.2.1">
          <h4 id="name-single-marking-methodology">
<a class="section-number selfRef" href="#section-3.2.1">3.2.1. </a><a class="section-name selfRef" href="#name-single-marking-methodology">Single-Marking Methodology</a>
          </h4>
<p id="section-3.2.1-1">The alternation of colors can be used as a time reference to calculate 
        the delay.  Whenever the color changes (which means that a new block has 
 started), a network device can store the timestamp of the first packet of 
 the new block; that timestamp can be compared with the timestamp of the 
 same packet on a second router to compute packet delay.
 When looking at <a class="auto internal xref" href="#coloring">Figure 2</a>, R1 stores the timestamp TS(A1)R1
 when it sends the first packet of block 1 (A-colored), the timestamp 
 TS(B2)R1 when it sends the first packet of block 2 (B-colored), and
 so on for every other block.
 R2 performs the same operation on the receiving side, recording TS(A1)R2, 
 TS(B2)R2, and so on. Since the timestamps refer to specific packets (the first
        packet of each block), in the case where no packet loss or misordering exists,
 we would be sure that timestamps compared to compute delay refer to the same packets. 
 By comparing TS(A1)R1 with TS(A1)R2 (and similarly TS(B2)R1 with TS(B2)R2, and so on), 
 it is possible to measure the delay between R1 and R2. 
 In order to have more measurements, it is possible to take and store more timestamps,
        referring to other packets within each block. 
 The number of measurements could be increased by considering multiple packets
 in the block; for instance, a timestamp could be taken every N packets, thus 
 generating multiple delay measurements.  Taking this to the limit, in principle, 
 the delay could be measured for each packet by taking and comparing the
 corresponding timestamps (possible but impractical from an implementation point of view).<a class="pilcrow" href="#section-3.2.1-1">¶</a></p>
<p id="section-3.2.1-2">In order to coherently compare timestamps collected on different
        routers, the clocks on the network nodes <span class="bcp14">MUST</span> be in sync (<a class="auto internal xref" href="#sync-timing">Section 5</a>).
 Furthermore, a measurement is valid only if no packet loss occurs and if packet misordering 
 can be avoided; otherwise, the first packet of a block on R1 could be
        different from the first packet of the same block on R2 (for instance, if that
        packet is lost between R1 and R2 or it arrives after the next
        one). Since packet misordering is generally undetectable, it is not possible
 to check whether the first packet on R1 is the same on R2, and this is part of
 the intrinsic error in this measurement.<a class="pilcrow" href="#section-3.2.1-2">¶</a></p>
<div id="meand">
<section id="section-3.2.1.1">
            <h5 id="name-mean-delay">
<a class="section-number selfRef" href="#section-3.2.1.1">3.2.1.1. </a><a class="section-name selfRef" href="#name-mean-delay">Mean Delay</a>
            </h5>
<p id="section-3.2.1.1-1">The method previously exposed for measuring the delay is sensitive 
   to out-of-order reception of packets. In order to overcome this problem, 
   an approach based on the concept of mean delay can be considered. The mean
          delay is calculated by considering the average arrival time of the
          packets within a single block. The network device locally stores a
          timestamp for each packet received within a single block: summing
          all the timestamps and dividing by the total number of packets
          received, the average arrival time for that block of packets can be
          calculated. By subtracting the average arrival times of two adjacent
          devices, it is possible to calculate the mean delay between those
          nodes. 
   This method greatly reduces the number of timestamps that have to be collected
   (only one per block for each network device), and it is robust to out-of-order 
   packets with only a small error introduced in case of packet loss.
   But, when computing the mean delay, the measurement error could be augmented by accumulating 
   the measurement error of a lot of packets. Additionally, it only gives one measure 
   for the duration of the block, and it doesn't give the minimum, maximum, and median
          delay values <span>[<a class="cite xref" href="#RFC6703">RFC6703</a>]</span>. 
   This limitation could be overcome by reducing the duration of the block 
   (for instance, from minutes to seconds), which implies a highly 
   optimized implementation of the method. For this reason, the mean delay calculation may 
   not be so viable in some cases.<a class="pilcrow" href="#section-3.2.1.1-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="double-marking">
<section id="section-3.2.2">
          <h4 id="name-double-marking-methodology">
<a class="section-number selfRef" href="#section-3.2.2">3.2.2. </a><a class="section-name selfRef" href="#name-double-marking-methodology">Double-Marking Methodology</a>
          </h4>
<p id="section-3.2.2-1">As mentioned above, the Single-Marking methodology for one-way delay measurement
   has some limitations, since it is sensitive to out-of-order reception of packets, and 
   even the mean delay calculation is limited because it doesn't give information about 
   the delay value's distribution for the duration of the block. Actually, it may be useful 
   to have not only the mean delay but also the minimum, maximum, and median delay values 
   and, in wider terms, to know more about the statistical distribution of delay values.
          So, in order to have more information about the delay and to overcome 
   out-of-order issues, a different approach can be introduced, and it is based on 
          a Double-Marking methodology.<a class="pilcrow" href="#section-3.2.2-1">¶</a></p>
<p id="section-3.2.2-2">Basically, the idea is to use the first marking to create the alternate 
   flow and, within this colored flow, a second marking to select the packets 
          for measuring delay/jitter. The first marking is needed for packet loss and 
   may be used for mean delay measurement. The second marking creates a new set of 
   marked packets that are fully identified over the network so that a network device 
   can store the timestamps of these packets. These timestamps can be compared 
   with the timestamps of the same packets on the next node to compute packet 
   delay values for each packet. The number of measurements can be easily 
   increased by changing the frequency of the second marking.
                  But the frequency of the second marking must not be too high in order to 
   avoid out-of-order issues. Between packets with the second marking, there 
   should be an adequate time gap to avoid out-of-order issues and also to have
   a number of measurement packets that are rate independent. This gap may be, 
   at the minimum, the mean network delay calculated with the previous methodology.
   Therefore, it is possible to choose a proper time gap to guarantee a fixed number 
   of double-marked packets uniformly spaced in each block.
   If packets with the second marking are lost, it is easy to recognize the loss
   since the number of double-marked packets is known for each block. 
   Based on the spacing between these packets, it can also be possible to understand
   which packet of the second marking sequence has been lost and perform the measurements 
   only for the remaining packets. But this may be complicated if more packets
   are lost. In this case, an implementation may simply discard the delay measurements
   for the corrupted block and proceed with the next block.<a class="pilcrow" href="#section-3.2.2-2">¶</a></p>
<p id="section-3.2.2-3">An efficient and robust mode is to select a single packet with the second marking 
   for each block; in this way, there is no time gap to consider between the double-marked packets 
   to avoid their reorder. In addition, it is also easier to identify the only double-marked packet
   in each block and skip the delay measurement for the block if it is lost.<a class="pilcrow" href="#section-3.2.2-3">¶</a></p>
<p id="section-3.2.2-4">The Double-Marking methodology can also be used to get more statistics 
   of delay extent data, e.g., percentiles, variance, and median delay values. 
   Indeed, a subset of batch packets is selected for extensive delay calculation by using the second marking, 
   and it is possible to perform a detailed analysis on these double-marked packets. 
   It is worth noting that there are classic algorithms for median and variance calculation, 
   but they are out of the scope of this document.
   The conventional range (maximum-minimum) should be avoided for several reasons, 
   including stability of the maximum delay due to the influence by outliers. 
   In this regard, <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc5481#section-6.5">Section 6.5</a> of [<a class="cite xref" href="#RFC5481">RFC5481</a>]</span> highlights how the 99.9th percentile 
   of delay and delay variation is more helpful to performance planners.<a class="pilcrow" href="#section-3.2.2-4">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-3.3">
        <h3 id="name-delay-variation-measurement">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-delay-variation-measurement">Delay Variation Measurement</a>
        </h3>
<p id="section-3.3-1">Similar to one-way delay measurement (both for Single Marking 
 and Double Marking), the method can also be used to measure the 
 inter-arrival jitter. We refer to the definition in <span>[<a class="cite xref" href="#RFC3393">RFC3393</a>]</span>. 
 The alternation of colors, for a Single-Marking Method, can be used as a time reference 
 to measure delay variations. In case of Double Marking, the time reference is given by 
 the second-marked packets.
 Considering the example depicted in <a class="auto internal xref" href="#coloring">Figure 2</a>, R1 stores the timestamp 
 TS(A)R1 whenever it sends the first packet of a block, and R2 stores the timestamp TS(B)R2 
 whenever it receives the first packet of a block. The inter-arrival jitter can be 
 easily derived from one-way delay measurement, by evaluating the delay 
 variation of consecutive samples.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<p id="section-3.3-2">The concept of mean delay can also be applied to delay variation, 
 by evaluating the average variation of the interval between consecutive 
 packets of the flow from R1 to R2.<a class="pilcrow" href="#section-3.3-2">¶</a></p>
</section>
</section>
</div>
<section id="section-4">
      <h2 id="name-alternate-marking-functions">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-alternate-marking-functions">Alternate-Marking Functions</a>
      </h2>
<section id="section-4.1">
        <h3 id="name-marking-the-packets">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-marking-the-packets">Marking the Packets</a>
        </h3>
<p id="section-4.1-1">The coloring operation is fundamental in order to create packet
        blocks and marked packets. This implies choosing where to activate 
 the coloring and how to color the packets.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">In case of flow-based measurements, the flow to monitor can be defined 
 by a set of selection rules (e.g., header fields) used to match a subset of
 the packets; in this way, it is possible to control the number of nodes involved, 
 the path followed by the packets, and the size of the flows.  It is possible, in general, 
 to have multiple coloring nodes or a single coloring node that is easier to manage and
        doesn't raise any risk of conflict. Coloring in multiple nodes can be done, and the 
 requirement is that the coloring must change periodically between the nodes according 
 to the timing considerations in <a class="auto internal xref" href="#sync-timing">Section 5</a>; so every node that is 
 designated as a measurement point along the path should be able to identify 
 unambiguously the colored packets. Furthermore, <span>[<a class="cite xref" href="#RFC9342">RFC9342</a>]</span>
 generalizes the coloring for multipoint-to-multipoint flow.
 In addition, it can be advantageous to color the flow as close as possible to the source because 
 it allows an end-to-end measure if a measurement point is enabled on the last-hop router as well.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">For link-based measurements, all traffic needs to be colored when transmitted 
 on the link. If the traffic had already been colored, then it has to be re-colored 
 because the color must be consistent on the link. This means that each 
 hop along the path must (re-)color the traffic; the color is not required 
 to be consistent along different links.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4">Traffic coloring can be implemented by setting specific flags in
        the packet header and changing the value of that bit periodically.
 How to choose the marking field depends on the application and is 
 out of scope here.<a class="pilcrow" href="#section-4.1-4">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-counting-and-timestamping-p">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-counting-and-timestamping-p">Counting and Timestamping Packets</a>
        </h3>
<p id="section-4.2-1">For flow-based measurements, assuming that the coloring of the packets is 
 performed only by the source nodes, the nodes between source and destination 
 (inclusive) have to count and timestamp the colored packets that they receive and forward: 
 this operation can be enabled on every router along the path or only on a
        subset, depending on which network segment is being monitored (a single link, 
 a particular metro area, the backbone, or the whole path). Since the color switches 
 periodically between two values, two counters (one for each value) are needed 
 for each flow and for every interface being monitored. The number of timestamps 
 to be stored depends on the method for delay measurement that is applied.
 Furthermore, <span>[<a class="cite xref" href="#RFC9342">RFC9342</a>]</span>
 generalizes the counting for multipoint-to-multipoint flow.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">In case of link-based measurements, the behavior is similar except
        that coloring, counting, and timestamping operations are performed on a link-by-link
        basis at each endpoint of the link.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<p id="section-4.2-3">Another important consideration is when to read the counters or when 
 to select the packets to be double-marked for delay measurement.
 It involves timing aspects to consider that are further described in <a class="auto internal xref" href="#sync-timing">Section 5</a>.<a class="pilcrow" href="#section-4.2-3">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-data-collection-and-correla">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-data-collection-and-correla">Data Collection and Correlation</a>
        </h3>
<p id="section-4.3-1">The nodes enabled to perform performance monitoring collect the
        value of the counters and timestamps, but they are not able to directly use
 this information to measure packet loss and delay, because they only have their
 own samples.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">Data collection enables the transmission of the counters and timestamps 
 as soon as it has been read. Data correlation is the mechanism to compare
 counters and timestamps for packet loss, delay, and delay variation calculation.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<p id="section-4.3-3">There are two main possibilities to perform both data collection and correlation
      depending on the Alternate-Marking application and use case:<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-4.1">Use of a centralized solution using the Network Management System (NMS) to correlate data. 
         This can be done in Push Mode or Polling Mode. In the first case, each router periodically
      sends the information to the NMS; in the latter case, it is the NMS that periodically polls 
      routers to collect information.<a class="pilcrow" href="#section-4.3-4.1">¶</a>
</li>
          <li class="normal" id="section-4.3-4.2">Definition of a protocol-based distributed solution to exchange values of counters and timestamps
      between the endpoints. This can be done by introducing a new protocol or by extending the existing protocols 
         (e.g., the Two-Way Active Measurement Protocol (TWAMP) as defined in <span>[<a class="cite xref" href="#RFC5357">RFC5357</a>]</span> 
         or the One-Way Active Measurement Protocol (OWAMP) as defined in <span>[<a class="cite xref" href="#RFC4656">RFC4656</a>]</span>) 
      in order to communicate the counters and timestamps between nodes.<a class="pilcrow" href="#section-4.3-4.2">¶</a>
</li>
        </ul>
<p id="section-4.3-5">In the following paragraphs, an example data correlation mechanism is
        explained and could be used independently of the adopted solutions.<a class="pilcrow" href="#section-4.3-5">¶</a></p>
<p id="section-4.3-6">When data is collected on the upstream and downstream nodes, e.g.,
        packet counts for packet-loss measurement or timestamps for packet 
        delay measurement, and is periodically reported to or pulled by other nodes 
        or an NMS, a certain data correlation mechanism <span class="bcp14">SHOULD</span> be in use to 
        help the nodes or NMS tell whether any two or more packet counts 
        are related to the same block of markers or if any two timestamps are 
        related to the same marked packet.<a class="pilcrow" href="#section-4.3-6">¶</a></p>
<p id="section-4.3-7">The Alternate-Marking Method described in this document literally 
        splits the packets of the measured flow into different measurement
        blocks. An implementation <span class="bcp14">MAY</span> use a Block Number (BN) for data correlation.
 The BN <span class="bcp14">MUST</span> be assigned to each measurement block and associated with each 
 packet count and timestamp reported to or pulled by other nodes or NMSs.
 When the nodes or NMS see, for example, the same BNs associated with 
        two packet counts from an upstream and a downstream node, respectively, it 
        considers that these two packet counts correspond to the same 
        block. The assumption of this BN mechanism is that the measurement nodes 
 are time synchronized. This requires the measurement nodes to have a certain time 
        synchronization capability (e.g., the NTP <span>[<a class="cite xref" href="#RFC5905">RFC5905</a>]</span> 
 or the IEEE 1588 PTP <span>[<a class="cite xref" href="#IEEE-1588">IEEE-1588</a>]</span>).<a class="pilcrow" href="#section-4.3-7">¶</a></p>
</section>
</section>
<div id="sync-timing">
<section id="section-5">
      <h2 id="name-synchronization-and-timing">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-synchronization-and-timing">Synchronization and Timing</a>
      </h2>
<p id="section-5-1">Color switching is the reference for all the network devices acting as measurement points, 
 and the only requirement to be achieved is that they have to recognize the right batch along the path 
 in order to get the related information of counters and timestamps.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">In general, clocks in network devices are not accurate and for this reason, 
 there is a clock error between the measurement points R1 and R2. And, to implement the methodology,
 they must be synchronized to the same clock reference with an adequate accuracy
 in order to guarantee that all network devices consistently match the marking bit to the correct block.
 Additionally, in practice, besides clock errors, packet reordering is also common
 in a packet network due to equal-cost multipath (ECMP). In particular, the delay between
 measurement points is the main cause of out-of-order packets because each packet can be delayed differently.
 If the block is sufficiently large, packet reordering occurs only at the edge of adjacent blocks, and
 it can be easy to assign reordered packets to the right interval blocks.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">In summary, we need to take into account two contributions: clock error between network 
 devices and the interval we need to wait to avoid packets being out of order because of network delay.<a class="pilcrow" href="#section-5-3">¶</a></p>
<p id="section-5-4">The following figure explains both issues:<a class="pilcrow" href="#section-5-4">¶</a></p>
<span id="name-timing-aspects"></span><div id="timing">
<figure id="figure-4">
        <div class="alignLeft art-text artwork" id="section-5-5.1">
<pre>...BBBBBBBBB | AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA | BBBBBBBBB...
             |&lt;======================================&gt;|
             |                   L                    |
...=========&gt;|&lt;==================&gt;&lt;==================&gt;|&lt;==========...
             |       L/2                   L/2        |
             |&lt;===&gt;|                            |&lt;===&gt;|
                d  |                            |   d
                   |&lt;==========================&gt;|
                    available counting interval
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-timing-aspects">Timing Aspects</a>
        </figcaption></figure>
</div>
<p id="section-5-6">where L is the time duration of each block.<a class="pilcrow" href="#section-5-6">¶</a></p>
<p id="section-5-7">It is assumed that all network devices are synchronized to a common reference time 
 with an accuracy of +/- A/2. Thus, the difference between the clock values 
 of any two network devices is bounded by A.<a class="pilcrow" href="#section-5-7">¶</a></p>
<p id="section-5-8">The network delay between the network devices can be represented as a normal distribution
 and 99.7% of the samples are within 3 standard deviations of the average.<a class="pilcrow" href="#section-5-8">¶</a></p>
<p id="section-5-9">The guard band d is given by:<a class="pilcrow" href="#section-5-9">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-10">
<pre>d = A + D_avg + 3*D_stddev,
</pre><a class="pilcrow" href="#section-5-10">¶</a>
</div>
<p id="section-5-11">where A is the clock accuracy, D_avg is the average value of the network delay between
      the network devices, and D_stddev is the standard deviation of the delay.<a class="pilcrow" href="#section-5-11">¶</a></p>
<p id="section-5-12">The available counting interval is L - 2d, which must be &gt; 0.<a class="pilcrow" href="#section-5-12">¶</a></p>
<p id="section-5-13">The condition that <span class="bcp14">MUST</span> be satisfied and is a requirement on the synchronization accuracy is:<a class="pilcrow" href="#section-5-13">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-14">
<pre>d &lt; L/2.
</pre><a class="pilcrow" href="#section-5-14">¶</a>
</div>
<p id="section-5-15">This is the fundamental rule for deciding when to read the counters and when to select the packets 
 to be double-marked; indeed, packet counters and double-marked packets <span class="bcp14">MUST</span> respectively be 
 taken and chosen within the available counting interval that is not affected by error factors.<a class="pilcrow" href="#section-5-15">¶</a></p>
<p id="section-5-16">If the time duration L of each block is not so small, the synchronization requirement could be satisfied
 even with a relatively inaccurate synchronization method.<a class="pilcrow" href="#section-5-16">¶</a></p>
</section>
</div>
<div id="fragmentation">
<section id="section-6">
      <h2 id="name-packet-fragmentation">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-packet-fragmentation">Packet Fragmentation</a>
      </h2>
<p id="section-6-1">Fragmentation can be managed with the Alternate-Marking Method using the following guidance:<a class="pilcrow" href="#section-6-1">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-6-2.1">Marking nodes <span class="bcp14">MUST</span> mark all fragments if there are flag bits to use
    (i.e., it is in the specific encapsulation), as if they were separate packets.<a class="pilcrow" href="#section-6-2.1">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.2">Nodes that fragment packets within the measurement domain <span class="bcp14">SHOULD</span>, if they have the capability to do so, 
    ensure that only one resulting fragment carries the marking bit(s) of the original packet. 
    Failure to do so can introduce errors into the measurement.<a class="pilcrow" href="#section-6-2.2">¶</a>
</li>
        <li class="normal ulEmpty" id="section-6-2.3">Measurement points <span class="bcp14">SHOULD</span> simply ignore unmarked fragments and count
    marked fragments as full packets. However, if resources allow, measurement
    points <span class="bcp14">MAY</span> make note of both marked and unmarked initial fragments and 
    only increment the corresponding counter if (a) other fragments are also marked
    or (b) it observes all other fragments and they are unmarked.<a class="pilcrow" href="#section-6-2.3">¶</a>
</li>
      </ul>
<p id="section-6-3">The proposed approach allows the marking node to mark all the fragments except in the case 
 of fragmentation within the network domain; in that event, it is suggested to mark only the first fragment.<a class="pilcrow" href="#section-6-3">¶</a></p>
</section>
</div>
<div id="finding">
<section id="section-7">
      <h2 id="name-recommendations-for-deploym">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-recommendations-for-deploym">Recommendations for Deployment</a>
      </h2>
<p id="section-7-1">The methodology described in the previous sections can be applied to 
   various performance measurement problems. 
   The only requirement is to select and mark the flow to be monitored; 
   in this way, packets are batched by the sender, and each batch is alternately 
   marked such that it can be easily recognized by the receiver.
   <span>[<a class="cite xref" href="#RFC8321">RFC8321</a>]</span> reports experimental examples, and
   <span>[<a class="cite xref" href="#IEEE-NETWORK-PNPM">IEEE-NETWORK-PNPM</a>]</span> also includes some information about 
   the deployment experience.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">Either one or two flag bits might be available for marking in different
      deployments:<a class="pilcrow" href="#section-7-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7-3">
        <dt id="section-7-3.1">One flag:
        </dt>
        <dd id="section-7-3.2" style="margin-left: 1.5em">packet-loss measurement <span class="bcp14">MUST</span> be done as described
 in <a class="auto internal xref" href="#ploss">Section 3.1</a>, while delay measurement
 <span class="bcp14">MUST</span> be done according to the Single-Marking Method
 described in <a class="auto internal xref" href="#single-marking">Section 3.2.1</a>.  Mean
 delay (<a class="auto internal xref" href="#meand">Section 3.2.1.1</a>) <span class="bcp14">MAY</span>
 also be used but it could imply more computational load.<a class="pilcrow" href="#section-7-3.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-7-3.3">Two flags:
        </dt>
        <dd id="section-7-3.4" style="margin-left: 1.5em">packet-loss measurement <span class="bcp14">MUST</span> be done as described
 in <a class="auto internal xref" href="#ploss">Section 3.1</a>, while delay measurement
 <span class="bcp14">MUST</span> be done according to the Double-Marking Method as described in <a class="auto internal xref" href="#double-marking">Section 3.2.2</a>.  In this case,
 Single Marking <span class="bcp14">MAY</span> also be used in combination with
 Double Marking, and the two approaches provide slightly different
 pieces of information that can be combined to have a more robust data
 set.<a class="pilcrow" href="#section-7-3.4">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-7-4">There are some operational guidelines to consider for the purpose of deciding to follow the recommendations above 
      and to use one or two flags.<a class="pilcrow" href="#section-7-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-5.1">The Alternate-Marking Method utilizes specific flags in the packet header, so an important factor is the number of flags available 
    for the implementation. Indeed, if there is only one flag available, then there is no other way; if two flags are available,
    then the option with two flags is certainly more complete.<a class="pilcrow" href="#section-7-5.1">¶</a>
</li>
        <li class="normal" id="section-7-5.2">The duration of the Alternate-Marking period affects the frequency of the measurement, and this is a parameter that can be 
    decided on the basis of the required temporal sampling. But it cannot be freely chosen, as explained in <a class="auto internal xref" href="#sync-timing">Section 5</a>.<a class="pilcrow" href="#section-7-5.2">¶</a>
</li>
        <li class="normal" id="section-7-5.3">The Alternate-Marking methodologies enable packet loss, delay, and delay variation calculation, but in accordance with 
    the method used (e.g., Single Marking or Double Marking), there is a different kind of information that can be derived. 
    For example, to get more statistics of extent data, the option with two flags is desirable. For this reason, the type of data
    needed in the specific scenario is an additional element to take into account.<a class="pilcrow" href="#section-7-5.3">¶</a>
</li>
        <li class="normal" id="section-7-5.4">The Alternate-Marking Methods imply different computational load depending on the method employed. Therefore, the available 
    computational resources on the measurement points can also influence the choice. As an example, mean delay calculation may 
    require more processing, and it may not be the best option to minimize the computational load.<a class="pilcrow" href="#section-7-5.4">¶</a>
</li>
      </ul>
<p id="section-7-6">The experiment with Alternate-Marking methodologies confirmed the benefits already described in <span>[<a class="cite xref" href="#RFC8321">RFC8321</a>]</span>.<a class="pilcrow" href="#section-7-6">¶</a></p>
<p id="section-7-7">A deployment of the Alternate-Marking Method should also take into account how to handle and recognize
   marked and unmarked traffic. Since Alternate Marking normally employs a marking field that is dedicated, reserved, and 
   included in a protocol extension, the measurement points can learn whether the measurement is activated or not by checking 
   if the specific extension is included or not within the packets.<a class="pilcrow" href="#section-7-7">¶</a></p>
<p id="section-7-8">It is worth mentioning some related work; in particular, <span>[<a class="cite xref" href="#IEEE-NETWORK-PNPM">IEEE-NETWORK-PNPM</a>]</span> 
   explains the Alternate-Marking Method together with new mechanisms based on hashing techniques.<a class="pilcrow" href="#section-7-8">¶</a></p>
<section id="section-7.1">
        <h3 id="name-controlled-domain-requireme">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-controlled-domain-requireme">Controlled Domain Requirement</a>
        </h3>
<p id="section-7.1-1">The Alternate-Marking Method is an example of a solution limited to a controlled domain 
 <span>[<a class="cite xref" href="#RFC8799">RFC8799</a>]</span>.<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<p id="section-7.1-2">A controlled domain is a managed network that selects, monitors, and controls access by enforcing
 policies at the domain boundaries in order to discard undesired external packets 
 entering the domain and to check internal packets leaving the domain. It does not necessarily mean that 
 a controlled domain is a single administrative domain or a single organization.  A controlled domain 
 can correspond to a single administrative domain or multiple administrative domains under a defined
 network management. It must be possible to control the domain boundaries and use specific precautions 
 to ensure authentication, encryption, and integrity protection if traffic traverses the Internet.<a class="pilcrow" href="#section-7.1-2">¶</a></p>
<p id="section-7.1-3">For security reasons, the Alternate-Marking Method <span class="bcp14">MUST</span> only be applied to controlled domains.<a class="pilcrow" href="#section-7.1-3">¶</a></p>
</section>
</section>
</div>
<section id="section-8">
      <h2 id="name-compliance-with-guidelines-">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-compliance-with-guidelines-">Compliance with Guidelines from RFC 6390</a>
      </h2>
<p id="section-8-1"><span>[<a class="cite xref" href="#RFC6390">RFC6390</a>]</span>
 defines a framework and a process for developing Performance Metrics 
 for protocols above and below the IP layer (such as IP-based applications 
 that operate over reliable or datagram transport protocols).<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">This document doesn't aim to propose a new Performance Metric but rather a
        new Method of Measurement for a few Performance Metrics that have
        already been standardized.  Nevertheless, it's worth applying 
     guidelines from <span>[<a class="cite xref" href="#RFC6390">RFC6390</a>]</span> to the present document, 
 in order to provide a more complete and coherent description of the 
 proposed method.  

        The mechanisms described in this document use a combination of the 
 Performance Metric Definition template defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc6390#section-5.4">Section 5.4</a> of [<a class="cite xref" href="#RFC6390">RFC6390</a>]</span>
 and the Dependencies laid out in Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc6390#section-5.5">5.5</a> of that document.<a class="pilcrow" href="#section-8-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-3.1">Metric Name / Metric Description: as already stated, this document
            doesn't propose any new Performance Metrics.  On the contrary, it
            describes a novel method for measuring packet loss
 <span>[<a class="cite xref" href="#RFC7680">RFC7680</a>]</span>. The same concept, with small 
 differences, can also be used to measure delay
 <span>[<a class="cite xref" href="#RFC7679">RFC7679</a>]</span> and jitter
 <span>[<a class="cite xref" href="#RFC3393">RFC3393</a>]</span>.  
 The document mainly describes the applicability to packet-loss 
 measurement.<a class="pilcrow" href="#section-8-3.1">¶</a>
</li>
        <li class="normal" id="section-8-3.2">Method of Measurement or Calculation: according to the method
            described in the previous sections, the number of packets lost is
            calculated by subtracting the value of the counter on the source
            node from the value of the counter on the destination node.  Both
            counters must refer to the same color.  The calculation is
            performed when the value of the counters is in a steady state.
 The steady state is an intrinsic characteristic of the marking method 
 counters because the alternation of color makes the counter associated 
 with a color inactive for the duration of a marking period.<a class="pilcrow" href="#section-8-3.2">¶</a>
</li>
        <li class="normal" id="section-8-3.3">Units of Measurement: the method calculates and reports the exact
            number of packets sent by the source node and not received by the
            destination node.<a class="pilcrow" href="#section-8-3.3">¶</a>
</li>
        <li class="normal" id="section-8-3.4">Measurement Point(s) with Potential Measurement Domain: the measurement can be performed between
            adjacent nodes, on a per-link basis, or along a multi-hop path,
            provided that the traffic under measurement follows that path.  In
            case of a multi-hop path, the measurements can be performed both
            end to end and hop by hop.<a class="pilcrow" href="#section-8-3.4">¶</a>
</li>
        <li class="normal" id="section-8-3.5">Measurement Timing: the method has a constraint on the frequency
            of measurements. This is detailed in <a class="auto internal xref" href="#sync-timing">Section 5</a>, where it is specified that
 the marking period and the guard band interval are strictly related to each other
 to avoid out-of-order issues. That is because, in order to perform a measurement, 
 the counter must be in a steady state, and this happens when the traffic is being
            colored with the alternate color.<a class="pilcrow" href="#section-8-3.5">¶</a>
</li>
        <li class="normal" id="section-8-3.6">Implementation: the method uses one or two marking bits to color the packets; 
 this enables the use of policy configurations on the router to color the packets
            and accordingly configure the counter for each color.  The path
            followed by traffic being measured should be known in advance in
            order to configure the counters along the path and be able to
            compare the correct values.<a class="pilcrow" href="#section-8-3.6">¶</a>
</li>
        <li class="normal" id="section-8-3.7">Verification: the methodology has been tested and deployed experimentally 
 in both lab and operational network scenarios performing packet loss and delay measurements 
 on traffic patterns created by traffic generators together with precision test instruments 
 and network emulators.<a class="pilcrow" href="#section-8-3.7">¶</a>
</li>
        <li class="normal" id="section-8-3.8">Use and Applications: the method can be used to measure packet
            loss with high precision on live traffic; moreover, by combining 
 end-to-end and per-link measurements, the method is useful to pinpoint 
 the single link that is experiencing loss events.<a class="pilcrow" href="#section-8-3.8">¶</a>
</li>
        <li class="normal" id="section-8-3.9">Reporting Model: the value of the counters has to be sent to a
            centralized management system that performs the calculations; such
            samples must contain a reference to the time interval they refer
            to so that the management system can perform the correct
            correlation. The samples have to be sent while the corresponding
            counter is in a steady state (within a time interval); otherwise,
            the value of the sample should be stored locally.<a class="pilcrow" href="#section-8-3.9">¶</a>
</li>
        <li class="normal" id="section-8-3.10">Dependencies: the values of the counters have to be correlated to
            the time interval they refer to.<a class="pilcrow" href="#section-8-3.10">¶</a>
</li>
        <li class="normal" id="section-8-3.11">Organization of Results: the Method of Measurement produces
            singletons, according to the definition of <span>[<a class="cite xref" href="#RFC2330">RFC2330</a>]</span>.<a class="pilcrow" href="#section-8-3.11">¶</a>
</li>
        <li class="normal" id="section-8-3.12">Parameters: the main parameters of the method are the information about 
 the flow or the link to be measured, the time interval chosen to alternate the 
 colors and to read the counters, and the type of method selected for packet-loss 
 and delay measurements.<a class="pilcrow" href="#section-8-3.12">¶</a>
</li>
      </ul>
</section>
<section id="section-9">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-9-1">This document has no IANA actions.<a class="pilcrow" href="#section-9-1">¶</a></p>
</section>
<div id="seccons">
<section id="section-10">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-10-1">This document specifies a method to perform measurements that does not 
   directly affect Internet security nor applications that run on the Internet.
   However, implementation of this method must be mindful of security and privacy
      concerns.<a class="pilcrow" href="#section-10-1">¶</a></p>
<p id="section-10-2">There are two types of security concerns: potential harm caused by
      the measurements and potential harm to the measurements.<a class="pilcrow" href="#section-10-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10-3.1">Harm caused by the measurement: the measurements described in this document
      are Passive, so there are no new packets injected into the network causing
      potential harm to the network itself and to data traffic. Nevertheless,
      the method implies modifications on the fly to a header or encapsulation 
   of the data packets: this must be performed in a way that doesn't alter the quality
      of service experienced by packets subject to measurements and that
      preserves stability and performance of routers doing the measurements.
   One of the main security threats in Operations, Administration, and Maintenance (OAM) protocols is network reconnaissance;
   an attacker can gather information about the network performance by passively 
   eavesdropping on OAM messages. The advantage of the methods described in 
   this document is that the marking bits are the only information that is exchanged 
   between the network devices. Therefore, Passive eavesdropping on data plane traffic 
   does not allow attackers to gain information about the network performance.<a class="pilcrow" href="#section-10-3.1">¶</a>
</li>
        <li class="normal" id="section-10-3.2">Harm to the Measurement: the measurements could be harmed by routers altering 
   the marking of the packets or by an attacker injecting artificial
      traffic. Authentication techniques, such as digital signatures, may be
      used where appropriate to guard against injected traffic attacks. 
   Since the measurement itself may be affected by routers (or other
      network devices) along the path of IP packets intentionally altering the
      value of marking bits of packets, as mentioned above, the mechanism specified 
   in this document can be applied just in the context of a controlled domain;
   thus, the routers (or other network devices) are locally administered, 
   and this type of attack can be avoided.<a class="pilcrow" href="#section-10-3.2">¶</a>
</li>
      </ul>
<p id="section-10-4">An attacker that does not belong to the controlled domain can maliciously send marked packets.
   However, no problems occur if Alternate Marking is not supported in the controlled domain. 
If Alternate Marking is supported in the controlled domain, it is necessary to keep the 
  measurements from being affected; therefore, externally marked packets
  must be checked to see if they are marked and eventually filtered or cleared.<a class="pilcrow" href="#section-10-4">¶</a></p>
<p id="section-10-5">The precondition for the application of the Alternate-Marking Method is that it <span class="bcp14">MUST</span> be applied in specific 
   controlled domains, thus confining the potential attack vectors within the network domain.
   A limited administrative domain provides the network administrator with the means to select, monitor, and 
   control the access to the network, making it a trusted domain. In this regard, it is expected to enforce policies
      at the domain boundaries to filter both external marked packets entering the domain and internal marked packets
   leaving the domain. Therefore, the trusted domain is unlikely subject to the hijacking of packets since marked packets 
   are processed and used only within the controlled domain. But despite that, leakages may happen for 
   different reasons, such as a failure or a fault. In this case, nodes outside the domain are expected to 
   ignore marked packets since they are not configured to handle it and should not process it.<a class="pilcrow" href="#section-10-5">¶</a></p>
<p id="section-10-6">It might be theoretically possible to modulate the marking to serve as a covert channel to be used by an 
   on-path observer. This may affect both the data and management plane, but, here too, the application to a 
   controlled domain helps to reduce the effects.<a class="pilcrow" href="#section-10-6">¶</a></p>
<p id="section-10-7">It is worth highlighting that an attacker can't gain information about network performance
   from a single monitoring point; they must use synchronized monitoring points at multiple points on the path
   because they have to do the same kind of measurement and aggregation that Service Providers using 
   Alternate Marking must do.<a class="pilcrow" href="#section-10-7">¶</a></p>
<p id="section-10-8">Attacks on the data collection and reporting of the statistics between 
   the monitoring points and the NMS can interfere with the proper
      functioning of the system. Hence, the channels used to report back flow statistics
   <span class="bcp14">MUST</span> be secured.<a class="pilcrow" href="#section-10-8">¶</a></p>
<p id="section-10-9">The privacy concerns of network measurement are limited because the
      method only relies on information contained in the header or encapsulation without 
   any release of user data. Although information in the header or encapsulation is metadata that 
   can be used to compromise the privacy of users, the limited marking technique in this document 
   seems unlikely to substantially increase the existing privacy risks from header 
   or encapsulation metadata. It might be theoretically possible to modulate the marking to serve 
   as a covert channel, but it would have a very low data rate if it is to avoid adversely affecting 
   the measurement systems that monitor the marking.<a class="pilcrow" href="#section-10-9">¶</a></p>
<p id="section-10-10">Delay attacks are another potential threat in the context of this document. 
   Delay measurement is performed using a specific packet in each block, marked by 
   a dedicated color bit. Therefore, an on-path attacker can selectively 
   induce synthetic delay only to delay-colored packets, causing systematic error in 
   the delay measurements. As discussed in previous sections, the methods described 
   in this document rely on an underlying time synchronization protocol. Thus, by 
   attacking the time protocol, an attacker can potentially compromise the integrity 
   of the measurement. A detailed discussion about the threats against time protocols 
   and how to mitigate them is presented in <span>[<a class="cite xref" href="#RFC7384">RFC7384</a>]</span>.<a class="pilcrow" href="#section-10-10">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-11.1">11.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3393">[RFC3393]</dt>
        <dd>
<span class="refAuthor">Demichelis, C.</span> and <span class="refAuthor">P. Chimento</span>, <span class="refTitle">"IP Packet Delay Variation Metric for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">RFC 3393</span>, <span class="seriesInfo">DOI 10.17487/RFC3393</span>, <time class="refDate" datetime="2002-11">November 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3393">https://www.rfc-editor.org/info/rfc3393</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7679">[RFC7679]</dt>
        <dd>
<span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Kalidindi, S.</span>, <span class="refAuthor">Zekauskas, M.</span>, and <span class="refAuthor">A. Morton, Ed.</span>, <span class="refTitle">"A One-Way Delay Metric for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">STD 81</span>, <span class="seriesInfo">RFC 7679</span>, <span class="seriesInfo">DOI 10.17487/RFC7679</span>, <time class="refDate" datetime="2016-01">January 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7679">https://www.rfc-editor.org/info/rfc7679</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7680">[RFC7680]</dt>
        <dd>
<span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Kalidindi, S.</span>, <span class="refAuthor">Zekauskas, M.</span>, and <span class="refAuthor">A. Morton, Ed.</span>, <span class="refTitle">"A One-Way Loss Metric for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">STD 82</span>, <span class="seriesInfo">RFC 7680</span>, <span class="seriesInfo">DOI 10.17487/RFC7680</span>, <time class="refDate" datetime="2016-01">January 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7680">https://www.rfc-editor.org/info/rfc7680</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-11.2">11.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-ippm-explicit-flow-measurements">[EXPLICIT-FLOW-MEASUREMENTS]</dt>
        <dd>
<span class="refAuthor">Cociglio, M.</span>, <span class="refAuthor">Ferrieux, A.</span>, <span class="refAuthor">Fioccola, G.</span>, <span class="refAuthor">Lubashev, I.</span>, <span class="refAuthor">Bulgarella, F.</span>, <span class="refAuthor">Nilo, M.</span>, <span class="refAuthor">Hamchaoui, I.</span>, and <span class="refAuthor">R. Sisto</span>, <span class="refTitle">"Explicit Flow Measurements Techniques"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ippm-explicit-flow-measurements-02</span>, <time class="refDate" datetime="2022-10-13">13 October 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-ippm-explicit-flow-measurements-02">https://datatracker.ietf.org/doc/html/draft-ietf-ippm-explicit-flow-measurements-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE-1588">[IEEE-1588]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for a Precision Clock Synchronization Protocol for Networked Measurement and Control Systems"</span>, <span class="seriesInfo">IEEE Std 1588-2008</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2008.4579760</span>, <time class="refDate" datetime="2008-07">July 2008</time>, <span>&lt;<a href="https://doi.org/10.1109/IEEESTD.2008.4579760">https://doi.org/10.1109/IEEESTD.2008.4579760</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE-NETWORK-PNPM">[IEEE-NETWORK-PNPM]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refAuthor">Navon, G.</span>, <span class="refAuthor">Fioccola, G.</span>, <span class="refAuthor">Cociglio, M.</span>, <span class="refAuthor">Chen, M.</span>, and <span class="refAuthor">G. Mirsky</span>, <span class="refTitle">"AM-PM: Efficient Network Telemetry using Alternate Marking"</span>, <span class="seriesInfo">IEEE Network Vol. 33, Issue 4</span>, <span class="seriesInfo">DOI 10.1109/MNET.2019.1800152</span>, <time class="refDate" datetime="2019-07">July 2019</time>, <span>&lt;<a href="https://doi.org/10.1109/MNET.2019.1800152">https://doi.org/10.1109/MNET.2019.1800152</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2330">[RFC2330]</dt>
        <dd>
<span class="refAuthor">Paxson, V.</span>, <span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Mahdavi, J.</span>, and <span class="refAuthor">M. Mathis</span>, <span class="refTitle">"Framework for IP Performance Metrics"</span>, <span class="seriesInfo">RFC 2330</span>, <span class="seriesInfo">DOI 10.17487/RFC2330</span>, <time class="refDate" datetime="1998-05">May 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2330">https://www.rfc-editor.org/info/rfc2330</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4656">[RFC4656]</dt>
        <dd>
<span class="refAuthor">Shalunov, S.</span>, <span class="refAuthor">Teitelbaum, B.</span>, <span class="refAuthor">Karp, A.</span>, <span class="refAuthor">Boote, J.</span>, and <span class="refAuthor">M. Zekauskas</span>, <span class="refTitle">"A One-way Active Measurement Protocol (OWAMP)"</span>, <span class="seriesInfo">RFC 4656</span>, <span class="seriesInfo">DOI 10.17487/RFC4656</span>, <time class="refDate" datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4656">https://www.rfc-editor.org/info/rfc4656</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5357">[RFC5357]</dt>
        <dd>
<span class="refAuthor">Hedayat, K.</span>, <span class="refAuthor">Krzanowski, R.</span>, <span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Yum, K.</span>, and <span class="refAuthor">J. Babiarz</span>, <span class="refTitle">"A Two-Way Active Measurement Protocol (TWAMP)"</span>, <span class="seriesInfo">RFC 5357</span>, <span class="seriesInfo">DOI 10.17487/RFC5357</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5357">https://www.rfc-editor.org/info/rfc5357</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5481">[RFC5481]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span> and <span class="refAuthor">B. Claise</span>, <span class="refTitle">"Packet Delay Variation Applicability Statement"</span>, <span class="seriesInfo">RFC 5481</span>, <span class="seriesInfo">DOI 10.17487/RFC5481</span>, <time class="refDate" datetime="2009-03">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5481">https://www.rfc-editor.org/info/rfc5481</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5905">[RFC5905]</dt>
        <dd>
<span class="refAuthor">Mills, D.</span>, <span class="refAuthor">Martin, J., Ed.</span>, <span class="refAuthor">Burbank, J.</span>, and <span class="refAuthor">W. Kasch</span>, <span class="refTitle">"Network Time Protocol Version 4: Protocol and Algorithms Specification"</span>, <span class="seriesInfo">RFC 5905</span>, <span class="seriesInfo">DOI 10.17487/RFC5905</span>, <time class="refDate" datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5905">https://www.rfc-editor.org/info/rfc5905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6390">[RFC6390]</dt>
        <dd>
<span class="refAuthor">Clark, A.</span> and <span class="refAuthor">B. Claise</span>, <span class="refTitle">"Guidelines for Considering New Performance Metric Development"</span>, <span class="seriesInfo">BCP 170</span>, <span class="seriesInfo">RFC 6390</span>, <span class="seriesInfo">DOI 10.17487/RFC6390</span>, <time class="refDate" datetime="2011-10">October 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6390">https://www.rfc-editor.org/info/rfc6390</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6703">[RFC6703]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Ramachandran, G.</span>, and <span class="refAuthor">G. Maguluri</span>, <span class="refTitle">"Reporting IP Network Performance Metrics: Different Points of View"</span>, <span class="seriesInfo">RFC 6703</span>, <span class="seriesInfo">DOI 10.17487/RFC6703</span>, <time class="refDate" datetime="2012-08">August 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6703">https://www.rfc-editor.org/info/rfc6703</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7384">[RFC7384]</dt>
        <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refTitle">"Security Requirements of Time Protocols in Packet Switched Networks"</span>, <span class="seriesInfo">RFC 7384</span>, <span class="seriesInfo">DOI 10.17487/RFC7384</span>, <time class="refDate" datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7384">https://www.rfc-editor.org/info/rfc7384</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7799">[RFC7799]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Active and Passive Metrics and Methods (with Hybrid Types In-Between)"</span>, <span class="seriesInfo">RFC 7799</span>, <span class="seriesInfo">DOI 10.17487/RFC7799</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7799">https://www.rfc-editor.org/info/rfc7799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8321">[RFC8321]</dt>
        <dd>
<span class="refAuthor">Fioccola, G., Ed.</span>, <span class="refAuthor">Capello, A.</span>, <span class="refAuthor">Cociglio, M.</span>, <span class="refAuthor">Castaldelli, L.</span>, <span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Zheng, L.</span>, <span class="refAuthor">Mirsky, G.</span>, and <span class="refAuthor">T. Mizrahi</span>, <span class="refTitle">"Alternate-Marking Method for Passive and Hybrid Performance Monitoring"</span>, <span class="seriesInfo">RFC 8321</span>, <span class="seriesInfo">DOI 10.17487/RFC8321</span>, <time class="refDate" datetime="2018-01">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8321">https://www.rfc-editor.org/info/rfc8321</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8799">[RFC8799]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span> and <span class="refAuthor">B. Liu</span>, <span class="refTitle">"Limited Domains and Internet Protocols"</span>, <span class="seriesInfo">RFC 8799</span>, <span class="seriesInfo">DOI 10.17487/RFC8799</span>, <time class="refDate" datetime="2020-07">July 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8799">https://www.rfc-editor.org/info/rfc8799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9342">[RFC9342]</dt>
      <dd>
<span class="refAuthor">Fioccola, G., Ed.</span>, <span class="refAuthor">Cociglio, M.</span>, <span class="refAuthor">Sapio, A.</span>, <span class="refAuthor">Sisto, R.</span>, and <span class="refAuthor">T. Zhou</span>, <span class="refTitle">"Clustered Alternate-Marking Method"</span>, <span class="seriesInfo">RFC 9342</span>, <span class="seriesInfo">DOI 10.17487/RFC9342</span>, <time class="refDate" datetime="2022-12">December 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9342">https://www.rfc-editor.org/info/rfc9342</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Acknowledgements">
<section id="appendix-A">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-A-1">The authors would like to thank <span class="contact-name">Alberto Tempia Bonda</span>, <span class="contact-name">Luca Castaldelli</span>, 
   and <span class="contact-name">Lianshu Zheng</span> for their contribution to the experimentation of the method.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">The authors would also like to thank <span class="contact-name">Martin Duke</span> and <span class="contact-name">Tommy Pauly</span> 
   for their assistance and their detailed and precious reviews.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
</section>
</div>
<div id="Contributors">
<section id="appendix-B">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Xiao Min</span></div>
<div class="left" dir="auto"><span class="org">ZTE Corp.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:xiao.min2@zte.com.cn">xiao.min2@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Mach(Guoyi) Chen</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mach.chen@huawei.com">mach.chen@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Alessandro Capello</span></div>
<div class="left" dir="auto"><span class="org">Telecom Italia</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:alessandro.capello@telecomitalia.it">alessandro.capello@telecomitalia.it</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Giuseppe Fioccola (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="left" dir="auto"><span class="street-address">Riesstrasse, 25</span></div>
<div class="left" dir="auto">
<span class="postal-code">80992</span> <span class="locality">Munich</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:giuseppe.fioccola@huawei.com">giuseppe.fioccola@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Mauro Cociglio</span></div>
<div class="left" dir="auto"><span class="org">Telecom Italia</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mauro.cociglio@outlook.com">mauro.cociglio@outlook.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Greg Mirsky</span></div>
<div class="left" dir="auto"><span class="org">Ericsson</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:gregimirsky@gmail.com">gregimirsky@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tal Mizrahi</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tal.mizrahi.phd@gmail.com">tal.mizrahi.phd@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tianran Zhou</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="left" dir="auto"><span class="street-address">156 Beiqing Rd.</span></div>
<div class="left" dir="auto"><span class="locality">Beijing</span></div>
<div class="left" dir="auto"><span class="postal-code">100095</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:zhoutianran@huawei.com">zhoutianran@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>