<html><head></head><body><pre>Network Working Group                                         E. Harslem
Request for Comments: 40                                      J. Heafner
                                                                    RAND
                                                              March 1970

               <span class="h1">More Comments on the Forthcoming Protocol</span>

We have recently discussed NWG/RFC Nos. 36 and 39 with Steve Crocker,
UCLA.  Steve has asked that we elaborate on the errors, queries, and
HOST status that were mentioned in NWG/RFC #39.

Please voice your opinions soon in order to affect the forthcoming
protocol specifications.

ERROR MESSAGES

     &lt;ERR&gt; &lt;Code&gt; &lt;Command length&gt; &lt;Command in error&gt;

&lt;Code&gt; is an eight-bit field that specifies the error type.  The
assigned codes are shown below.  &lt;Command length&gt; is a 16-bit integer
that indicates the length of the &lt;Command in error&gt; in bits.  The
&lt;Command in error&gt; is the spurious command.

The ranges of &lt;Code&gt; are shown below in hexidecimal.

     00     Unspecified error types
     10-0F  Resource errors
     10-1F  Status errors
     20-2F  Content errors
     30-3F  Unused

Specific values of &lt;Code&gt; are shown below with their meaning.

     &lt;Code&gt; value   Semantics

         00         Unspecified errors.
         01         Request for an invalid resource.
         02         Request for an exhausted resource, try later.
        03-0F       Unused.
         10         Invalid &lt;RSM&gt;, i.e., link connected but unblocked.
         11         Invalid &lt;SPD&gt;.
         12         Invalid &lt;ASG&gt;, i.e., connected but no &lt;RDY&gt;
                      received.








<span class="grey">                                                                [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey">     &lt;Code&gt; value   Semantics</span>

         13         Message received on blocked link.
        14-1F       Unused.
         20         Unknown command code.
         21         Message received on unconnected link.
         22         Invalid &lt;RFC&gt;.
         23         Invalid &lt;CLS&gt;.
         24         Invalid &lt;RSM&gt;, i.e., link not connected.
         25         Invalid &lt;FND&gt;.
         26         Invalid &lt;END&gt;.
         27         Invalid &lt;RDY&gt;.
         28         Invalid &lt;ASG&gt;, i.e., not connected.
        29-2F       Unused.
        30-FF       Unused.

QUERIES

     &lt;QRY&gt; &lt;My Socket&gt;
or   &lt;RPY&gt; &lt;Your Socket&gt; &lt;Text&gt;

The &lt;QRY&gt; is the query indicated in NWG/RFC #39 and &lt;RPY&gt; is the reply.
The format of &lt;Text&gt; is shown below; also refer to NWG/RFC #36, p. 3.

&lt;Text&gt;::= &lt;16 bit count of relevant connection table entries&gt;
          &lt;relevant connection table entries&gt;

&lt;relevant connection table entries&gt;::=
                                     &lt;relevant connection table entries&gt;
                                     &lt;a relevant connection table entry&gt;
                                     &lt;a relevant connection table entry&gt;

&lt;a relevant connection table entry&gt;::= &lt;local socket&gt; &lt;foreign socket&gt;
                                       &lt;link&gt; &lt;connection state&gt;
                                       &lt;flow state and buffer control&gt;
                                       &lt;reconnection control state&gt;















<span class="grey">                                                                [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey">HOST STATUS</span>

     &lt;NOP&gt;

An NCP may be up, down, pending, etc.  When an NCP changes its
state to UP it should send a &lt;NOP&gt; to each remote NCP which
indicates the NCP is available.  The sending NCP can then
construct a vector of HOST status from the RFNMs it receives.  An
NCP receiving a &lt;NOP&gt; can update the availability of the sending
NCP in its HOST status vector.



       [ This RFC was put into machine readable form for entry ]
         [ into the online RFC archives by Richard Ames 6/97 ]




































                                                                [Page 3]
</pre>
</body></html>