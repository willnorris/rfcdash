<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8986: Segment Routing over IPv6 (SRv6) Network Programming</title>
<meta content="Clarence Filsfils" name="author"/>
<meta content="Pablo Camarillo Garvia" name="author"/>
<meta content="John Leddy" name="author"/>
<meta content="Daniel Voyer" name="author"/>
<meta content="Satoru Matsushima" name="author"/>
<meta content="Zhenbin Li" name="author"/>
<meta content="
       The Segment Routing over IPv6 (SRv6) Network Programming framework enables a
      network operator or an application to specify a packet processing
      program by encoding a sequence of instructions in the IPv6 packet
      header. 
       Each instruction is implemented on one or several nodes in the
      network and identified by an SRv6 Segment Identifier in the packet. 
       This document defines the SRv6 Network Programming concept and
      specifies the base set of SRv6 behaviors that enables the creation of
      interoperable overlays with underlay optimization. 
    " name="description"/>
<meta content="xml2rfc 3.5.0" name="generator"/>
<meta content="SRv6" name="keyword"/>
<meta content="Segment Routing" name="keyword"/>
<meta content="IPv6 Segment Routing" name="keyword"/>
<meta content="8986" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.5.0
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.3.5
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.19.0
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.3.1
    requests 2.22.0
    setuptools 40.6.2
    six 1.14.0
    WeasyPrint 51
-->
<link href="rfc8986.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8986" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-spring-srv6-network-programming-28" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8986</td>
<td class="center">SRv6 Network Programming</td>
<td class="right">February 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Filsfils, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8986">8986</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2021-02">February 2021</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">C. Filsfils, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">P. Camarillo, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">J. Leddy</div>
<div class="org">Akamai Technologies</div>
</div>
<div class="author">
      <div class="author-name">D. Voyer</div>
<div class="org">Bell Canada</div>
</div>
<div class="author">
      <div class="author-name">S. Matsushima</div>
<div class="org">SoftBank</div>
</div>
<div class="author">
      <div class="author-name">Z. Li</div>
<div class="org">Huawei Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8986</h1>
<h1 id="title">Segment Routing over IPv6 (SRv6) Network Programming</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">The Segment Routing over IPv6 (SRv6) Network Programming framework enables a
      network operator or an application to specify a packet processing
      program by encoding a sequence of instructions in the IPv6 packet
      header.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">Each instruction is implemented on one or several nodes in the
      network and identified by an SRv6 Segment Identifier in the packet.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
<p id="section-abstract-3">This document defines the SRv6 Network Programming concept and
      specifies the base set of SRv6 behaviors that enables the creation of
      interoperable overlays with underlay optimization.<a class="pilcrow" href="#section-abstract-3">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a><a class="pilcrow" href="#section-toc.1-1.2.2.1.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-srv6-sid">SRv6 SID</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-sid-format">SID Format</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-sid-allocation-within-an-sr">SID Allocation within an SR Domain</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-sid-reachability">SID Reachability</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-sr-endpoint-behaviors">SR Endpoint Behaviors</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-end-endpoint">End: Endpoint</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a class="xref" href="#section-4.1.1">4.1.1</a>.  <a class="xref" href="#name-upper-layer-header">Upper-Layer Header</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.2.1.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-endx-l3-cross-connect">End.X: L3 Cross-Connect</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-endt-specific-ipv6-table-lo">End.T: Specific IPv6 Table Lookup</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-enddx6-decapsulation-and-ip">End.DX6: Decapsulation and IPv6 Cross-Connect</a><a class="pilcrow" href="#section-toc.1-1.4.2.4.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a class="xref" href="#section-4.5">4.5</a>.  <a class="xref" href="#name-enddx4-decapsulation-and-ip">End.DX4: Decapsulation and IPv4 Cross-Connect</a><a class="pilcrow" href="#section-toc.1-1.4.2.5.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a class="xref" href="#section-4.6">4.6</a>.  <a class="xref" href="#name-enddt6-decapsulation-and-sp">End.DT6: Decapsulation and Specific IPv6 Table Lookup</a><a class="pilcrow" href="#section-toc.1-1.4.2.6.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a class="xref" href="#section-4.7">4.7</a>.  <a class="xref" href="#name-enddt4-decapsulation-and-sp">End.DT4: Decapsulation and Specific IPv4 Table Lookup</a><a class="pilcrow" href="#section-toc.1-1.4.2.7.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.8">
                <p id="section-toc.1-1.4.2.8.1"><a class="xref" href="#section-4.8">4.8</a>.  <a class="xref" href="#name-enddt46-decapsulation-and-s">End.DT46: Decapsulation and Specific IP Table Lookup</a><a class="pilcrow" href="#section-toc.1-1.4.2.8.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.9">
                <p id="section-toc.1-1.4.2.9.1"><a class="xref" href="#section-4.9">4.9</a>.  <a class="xref" href="#name-enddx2-decapsulation-and-l2">End.DX2: Decapsulation and L2 Cross-Connect</a><a class="pilcrow" href="#section-toc.1-1.4.2.9.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.10">
                <p id="section-toc.1-1.4.2.10.1"><a class="xref" href="#section-4.10">4.10</a>. <a class="xref" href="#name-enddx2v-decapsulation-and-v">End.DX2V: Decapsulation and VLAN L2 Table Lookup</a><a class="pilcrow" href="#section-toc.1-1.4.2.10.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.11">
                <p id="section-toc.1-1.4.2.11.1"><a class="xref" href="#section-4.11">4.11</a>. <a class="xref" href="#name-enddt2u-decapsulation-and-u">End.DT2U: Decapsulation and Unicast MAC L2 Table Lookup</a><a class="pilcrow" href="#section-toc.1-1.4.2.11.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.12">
                <p id="section-toc.1-1.4.2.12.1"><a class="xref" href="#section-4.12">4.12</a>. <a class="xref" href="#name-enddt2m-decapsulation-and-l">End.DT2M: Decapsulation and L2 Table Flooding</a><a class="pilcrow" href="#section-toc.1-1.4.2.12.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.13">
                <p id="section-toc.1-1.4.2.13.1"><a class="xref" href="#section-4.13">4.13</a>. <a class="xref" href="#name-endb6encaps-endpoint-bound-">End.B6.Encaps: Endpoint Bound to an SRv6 Policy with Encapsulation</a><a class="pilcrow" href="#section-toc.1-1.4.2.13.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.14">
                <p id="section-toc.1-1.4.2.14.1"><a class="xref" href="#section-4.14">4.14</a>. <a class="xref" href="#name-endb6encapsred-endb6encaps-">End.B6.Encaps.Red: End.B6.Encaps with Reduced SRH</a><a class="pilcrow" href="#section-toc.1-1.4.2.14.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.15">
                <p id="section-toc.1-1.4.2.15.1"><a class="xref" href="#section-4.15">4.15</a>. <a class="xref" href="#name-endbm-endpoint-bound-to-an-">End.BM: Endpoint Bound to an SR-MPLS Policy</a><a class="pilcrow" href="#section-toc.1-1.4.2.15.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.16">
                <p id="section-toc.1-1.4.2.16.1"><a class="xref" href="#section-4.16">4.16</a>. <a class="xref" href="#name-flavors">Flavors</a><a class="pilcrow" href="#section-toc.1-1.4.2.16.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.4.2.16.2.1">
                    <p id="section-toc.1-1.4.2.16.2.1.1"><a class="xref" href="#section-4.16.1">4.16.1</a>.  <a class="xref" href="#name-psp-penultimate-segment-pop">PSP: Penultimate Segment Pop of the SRH</a><a class="pilcrow" href="#section-toc.1-1.4.2.16.2.1.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.16.2.2">
                    <p id="section-toc.1-1.4.2.16.2.2.1"><a class="xref" href="#section-4.16.2">4.16.2</a>.  <a class="xref" href="#name-usp-ultimate-segment-pop-of">USP: Ultimate Segment Pop of the SRH</a><a class="pilcrow" href="#section-toc.1-1.4.2.16.2.2.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.4.2.16.2.3">
                    <p id="section-toc.1-1.4.2.16.2.3.1"><a class="xref" href="#section-4.16.3">4.16.3</a>.  <a class="xref" href="#name-usd-ultimate-segment-decaps">USD: Ultimate Segment Decapsulation</a><a class="pilcrow" href="#section-toc.1-1.4.2.16.2.3.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-sr-policy-headend-behaviors">SR Policy Headend Behaviors</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-hencaps-sr-headend-with-enc">H.Encaps: SR Headend with Encapsulation in an SR Policy</a><a class="pilcrow" href="#section-toc.1-1.5.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-hencapsred-hencaps-with-red">H.Encaps.Red: H.Encaps with Reduced Encapsulation</a><a class="pilcrow" href="#section-toc.1-1.5.2.2.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="xref" href="#section-5.3">5.3</a>.  <a class="xref" href="#name-hencapsl2-hencaps-applied-t">H.Encaps.L2: H.Encaps Applied to Received L2 Frames</a><a class="pilcrow" href="#section-toc.1-1.5.2.3.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="xref" href="#section-5.4">5.4</a>.  <a class="xref" href="#name-hencapsl2red-hencapsred-app">H.Encaps.L2.Red: H.Encaps.Red Applied to Received L2 Frames</a><a class="pilcrow" href="#section-toc.1-1.5.2.4.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-counters">Counters</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-flow-based-hash-computation">Flow-Based Hash Computation</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-control-plane">Control Plane</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-igp">IGP</a><a class="pilcrow" href="#section-toc.1-1.8.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-bgp-ls">BGP-LS</a><a class="pilcrow" href="#section-toc.1-1.8.2.2.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="xref" href="#section-8.3">8.3</a>.  <a class="xref" href="#name-bgp-ip-vpn-evpn">BGP IP/VPN/EVPN</a><a class="pilcrow" href="#section-toc.1-1.8.2.3.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a class="xref" href="#section-8.4">8.4</a>.  <a class="xref" href="#name-summary">Summary</a><a class="pilcrow" href="#section-toc.1-1.8.2.4.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a class="xref" href="#section-10.1">10.1</a>.  <a class="xref" href="#name-ethernet-next-header-type">Ethernet Next Header Type</a><a class="pilcrow" href="#section-toc.1-1.10.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a class="xref" href="#section-10.2">10.2</a>.  <a class="xref" href="#name-srv6-endpoint-behaviors-reg">SRv6 Endpoint Behaviors Registry</a><a class="pilcrow" href="#section-toc.1-1.10.2.2.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.10.2.2.2.1">
                    <p id="section-toc.1-1.10.2.2.2.1.1"><a class="xref" href="#section-10.2.1">10.2.1</a>.  <a class="xref" href="#name-registration-procedures">Registration Procedures</a><a class="pilcrow" href="#section-toc.1-1.10.2.2.2.1.1">¶</a></p>
</li>
                  <li class="toc compact ulEmpty" id="section-toc.1-1.10.2.2.2.2">
                    <p id="section-toc.1-1.10.2.2.2.2.1"><a class="xref" href="#section-10.2.2">10.2.2</a>.  <a class="xref" href="#name-initial-registrations">Initial Registrations</a><a class="pilcrow" href="#section-toc.1-1.10.2.2.2.2.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-11">11</a>. <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="xref" href="#section-11.1">11.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.11.2.1.1">¶</a></p>
</li>
              <li class="toc compact ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="xref" href="#section-11.2">11.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.11.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.12.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-contributors">Contributors</a><a class="pilcrow" href="#section-toc.1-1.13.1">¶</a></p>
</li>
          <li class="toc compact ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.14.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">Segment Routing <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span> leverages
      the source routing paradigm. An ingress node steers a packet through an
      ordered list of instructions, called "segments". Each one of these
      instructions represents a function to be called at a specific location
      in the network. A function is locally defined on the node where it is
      executed and may range from simply moving forward in the segment list to
      any complex user-defined behavior. Network Programming combines Segment
      Routing functions, both simple and complex, to achieve a networking
      objective that goes beyond mere packet routing.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">This document defines the SRv6 Network Programming concept and
      specifies the main Segment Routing behaviors to enable the creation of
      interoperable overlays with underlay optimization.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3"><span>[<a class="xref" href="#I-D.filsfils-spring-srv6-net-pgm-illustration">SRV6-NET-PGM-ILLUST</a>]</span> illustrates the concepts defined in this
      document.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">Familiarity with the <span><a class="xref" href="#RFC8754">Segment
      Routing Header</a> [<a class="xref" href="#RFC8754">RFC8754</a>]</span> is expected.<a class="pilcrow" href="#section-1-4">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">The following terms used within this document are defined in <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>: Segment Routing (SR), SR Domain, Segment
      ID (SID), SRv6, SRv6 SID, SR Policy, Prefix-SID, and Adj-SID.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">The following terms used within this document are defined in <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span>: Segment Routing Header (SRH), SR
      source node, transit node, SR Segment Endpoint Node, Reduced SRH,
      Segments Left, and Last Entry.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">The following terms are used in this document as defined below:<a class="pilcrow" href="#section-2-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-4">
        <dt id="section-2-4.1">FIB:
</dt>
        <dd id="section-2-4.2" style="margin-left: 1.5em">Forwarding Information Base. A FIB lookup is a lookup in the forwarding table.<a class="pilcrow" href="#section-2-4.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.3">SA:
</dt>
        <dd id="section-2-4.4" style="margin-left: 1.5em">Source Address<a class="pilcrow" href="#section-2-4.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.5">DA:
</dt>
        <dd id="section-2-4.6" style="margin-left: 1.5em">Destination Address<a class="pilcrow" href="#section-2-4.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.7">L3:
</dt>
        <dd id="section-2-4.8" style="margin-left: 1.5em">Layer 3<a class="pilcrow" href="#section-2-4.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.9">L2:
</dt>
        <dd id="section-2-4.10" style="margin-left: 1.5em">Layer 2<a class="pilcrow" href="#section-2-4.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.11">MAC:
</dt>
        <dd id="section-2-4.12" style="margin-left: 1.5em">Media Access Control<a class="pilcrow" href="#section-2-4.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.13">EVPN:
</dt>
        <dd id="section-2-4.14" style="margin-left: 1.5em">Ethernet VPN<a class="pilcrow" href="#section-2-4.14">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.15">ESI:
</dt>
        <dd id="section-2-4.16" style="margin-left: 1.5em">Ethernet Segment Identifier<a class="pilcrow" href="#section-2-4.16">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.17">Per-CE VPN label:
</dt>
        <dd id="section-2-4.18" style="margin-left: 1.5em">A single label for each attachment circuit that is shared by all routes
with the same "outgoing attachment circuit" (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4364#section-4.3.2">Section 4.3.2</a> of [<a class="xref" href="#RFC4364">RFC4364</a>]</span>)<a class="pilcrow" href="#section-2-4.18">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.19">Per-VRF VPN label:
</dt>
        <dd id="section-2-4.20" style="margin-left: 1.5em">A single label for the entire VPN Routing and Forwarding (VRF) table that is
shared by all routes from that VRF (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4364#section-4.3.2">Section 4.3.2</a> of [<a class="xref" href="#RFC4364">RFC4364</a>]</span>)<a class="pilcrow" href="#section-2-4.20">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.21">SL:
</dt>
        <dd id="section-2-4.22" style="margin-left: 1.5em">The Segments Left field of the SRH<a class="pilcrow" href="#section-2-4.22">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.23">SRv6 SID function:
</dt>
        <dd id="section-2-4.24" style="margin-left: 1.5em">The function part of the SID is an opaque identification of a local
behavior bound to the SID. It is formally defined in <a class="xref" href="#sid_format">Section 3.1</a> of this document.<a class="pilcrow" href="#section-2-4.24">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-4.25">SRv6 Endpoint behavior:
</dt>
        <dd id="section-2-4.26" style="margin-left: 1.5em">
          <p id="section-2-4.26.1">A packet processing behavior executed at an SRv6 Segment Endpoint
Node. <a class="xref" href="#behaviors">Section 4</a> of this document defines
SRv6 Endpoint behaviors related to traffic-engineering and overlay
use cases. Other behaviors (e.g., service programming) are outside the scope of
this document.<a class="pilcrow" href="#section-2-4.26.1">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-5">An SR Policy is resolved to a SID list. A SID list is represented as
&lt;S1, S2, S3&gt; where S1 is the first SID to visit, S2 is the second SID to
visit, and S3 is the last SID to visit along the SR path.<a class="pilcrow" href="#section-2-5">¶</a></p>
<p id="section-2-6">(SA,DA) (S3, S2, S1; SL) represents an IPv6 packet with:<a class="pilcrow" href="#section-2-6">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-7.1">Source Address (SA), Destination Address (DA),
      and next header (SRH).<a class="pilcrow" href="#section-2-7.1">¶</a>
</li>
        <li class="normal" id="section-2-7.2">
          <p id="section-2-7.2.1">SRH with SID list &lt;S1, S2, S3&gt;
      with Segments Left = SL.<a class="pilcrow" href="#section-2-7.2.1">¶</a></p>
<p id="section-2-7.2.2">Note the difference between the
      &lt;&gt; and () symbols: &lt;S1, S2, S3&gt; represents a SID list where
      S1 is the first SID and S3 is the last SID to traverse. (S3, S2, S1; SL)
      represents the same SID list but encoded in the SRH format where the
      rightmost SID in the SRH is the first SID and the leftmost SID in the
      SRH is the last SID. When referring to an SR Policy in a high-level
      use case, it is simpler to use the &lt;S1, S2, S3&gt; notation. When
      referring to an illustration of the detailed packet behavior, the (S3,
      S2, S1; SL) notation is more convenient.<a class="pilcrow" href="#section-2-7.2.2">¶</a></p>
</li>
        <li class="normal" id="section-2-7.3">The payload of the packet is omitted.<a class="pilcrow" href="#section-2-7.3">¶</a>
</li>
      </ul>
<section id="section-2.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-2.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are
    to be interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span>
          <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all capitals,
    as shown here.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
</section>
</section>
<section id="section-3">
      <h2 id="name-srv6-sid">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-srv6-sid">SRv6 SID</a>
      </h2>
<p id="section-3-1"><span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span> defines an SRv6 Segment Identifier as an IPv6 address
      explicitly associated with the segment.<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">When an SRv6 SID is in the Destination Address field of an IPv6
      header of a packet, it is routed through transit nodes in an IPv6
      network as an IPv6 address.<a class="pilcrow" href="#section-3-2">¶</a></p>
<p id="section-3-3">Its processing is defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-4.3">Section 4.3</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span> and reproduced here as a reminder:<a class="pilcrow" href="#section-3-3">¶</a></p>
<blockquote id="section-3-4">
        <p id="section-3-4.1">Without constraining the details of an implementation, the SR
        segment endpoint node creates Forwarding Information Base (FIB)
        entries for its local SIDs.<a class="pilcrow" href="#section-3-4.1">¶</a></p>
<p id="section-3-4.2">When an SRv6-capable node receives an IPv6 packet, it performs a
          longest-prefix-match lookup on the packet's destination address.
          This lookup can return any of the following:<a class="pilcrow" href="#section-3-4.2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-4.3.1">A FIB entry that represents a locally instantiated SRv6 SID<a class="pilcrow" href="#section-3-4.3.1">¶</a>
</li>
          <li class="normal" id="section-3-4.3.2">A FIB entry that represents a local interface, not locally instantiated as an SRv6 SID<a class="pilcrow" href="#section-3-4.3.2">¶</a>
</li>
          <li class="normal" id="section-3-4.3.3">A FIB entry that represents a nonlocal route<a class="pilcrow" href="#section-3-4.3.3">¶</a>
</li>
          <li class="normal" id="section-3-4.3.4">No Match<a class="pilcrow" href="#section-3-4.3.4">¶</a>
</li>
        </ul>
</blockquote>
<p id="section-3-5"><a class="xref" href="#behaviors">Section 4</a> of this document defines
      a new set of SRv6 SID behaviors in addition to that defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-4.3.1">Section 4.3.1</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span>.<a class="pilcrow" href="#section-3-5">¶</a></p>
<div id="sid_format">
<section id="section-3.1">
        <h3 id="name-sid-format">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-sid-format">SID Format</a>
        </h3>
<p id="section-3.1-1">This document defines an SRv6 SID as consisting of LOC:FUNCT:ARG,
        where a locator (LOC) is encoded in the L most significant bits of the
        SID, followed by F bits of function (FUNCT) and A bits of arguments
        (ARG).  L, the locator length, is flexible, and an operator is free to
        use the locator length of their choice. F and A may be any value as
        long as L+F+A &lt;= 128. When L+F+A is less than 128, then the
        remaining bits of the SID <span class="bcp14">MUST</span> be zero.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">A locator may be represented as B:N where B is the SRv6 SID block
        (IPv6 prefix allocated for SRv6 SIDs by the operator) and N is the
        identifier of the parent node instantiating the SID.<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<p id="section-3.1-3">When the LOC part of the SRv6 SIDs is routable, it leads to the
        node, which instantiates the SID.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">The FUNCT is an opaque identification of a local behavior bound to the SID.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<p id="section-3.1-5">The term "function" refers to the bit string in the SRv6 SID. The
        term "behavior" identifies the behavior bound to the SID. Some
        behaviors are defined in <a class="xref" href="#behaviors">Section 4</a> of this
        document.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
<p id="section-3.1-6">An SRv6 Endpoint behavior may require additional
        information for its processing (e.g., related to the flow or
        service). This information may be encoded in the ARG bits of the
        SID.<a class="pilcrow" href="#section-3.1-6">¶</a></p>
<p id="section-3.1-7">In such a case, the semantics and format of the ARG bits are
        defined as part of the SRv6 Endpoint behavior specification.<a class="pilcrow" href="#section-3.1-7">¶</a></p>
<p id="section-3.1-8">The ARG value of a routed SID <span class="bcp14">SHOULD</span> remain constant among packets in a given flow.  Varying ARG values among packets in a flow may result in different ECMP hashing and cause reordering.<a class="pilcrow" href="#section-3.1-8">¶</a></p>
</section>
</div>
<section id="section-3.2">
        <h3 id="name-sid-allocation-within-an-sr">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-sid-allocation-within-an-sr">SID Allocation within an SR Domain</a>
        </h3>
<p id="section-3.2-1">Locators are assigned consistent with IPv6 infrastructure allocation.  For example, a network operator may:<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-2.1">Assign block B::/48 to the SR domain<a class="pilcrow" href="#section-3.2-2.1">¶</a>
</li>
          <li class="normal" id="section-3.2-2.2">Assign a unique B:N::/64 block to each SRv6-enabled node in the domain<a class="pilcrow" href="#section-3.2-2.2">¶</a>
</li>
        </ul>
<p id="section-3.2-3">As an example, one mobile service provider has commercially
        deployed SRv6 across more than 1000 commercial routers and 1800
        whitebox routers. All these devices are enabled for SRv6 and advertise
        SRv6 SIDs. The provider historically deployed IPv6 and assigned
        infrastructure addresses from the Unique Local Address (ULA) space <span>[<a class="xref" href="#RFC4193">RFC4193</a>]</span>. They specifically allocated three
        /48 prefixes (Country X, Country Y, Country Z) to support their SRv6
        infrastructure. From those /48 prefixes, each router was assigned a /64
        prefix from which all SIDs of that router are allocated.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">In another example, a large mobile and fixed-line service provider
        has commercially deployed SRv6 in their country-wide network. This
        provider is assigned a /20 prefix by a Regional Internet
        Registry (RIR). They sub-allocated a few /48 prefixes to their
        infrastructure to deploy SRv6. Each router is assigned a /64 prefix
        from which all SIDs of that router are allocated.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<p id="section-3.2-5">IPv6 address consumption in both these examples is minimal,
        representing less than one billionth and one millionth of the
        available address space, respectively.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<p id="section-3.2-6">A service provider receiving the current minimum allocation of a
        /32 prefix from an RIR may assign a /48 prefix to their infrastructure
        deploying SRv6 and subsequently allocate /64 prefixes for SIDs at
        each SRv6 node. The /48 assignment is one sixty-five thousandth
        (1/2^16) of the usable IPv6 address space available for assignment by
        the provider.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
<p id="section-3.2-7">When an operator instantiates a SID at a node, they specify a SID
        value B:N:FUNCT and the behavior bound to the SID using one of the
        SRv6 Endpoint Behavior codepoints of the registry defined in this
        document (see <a class="xref" href="#endpoint_cp_types">Table 6</a>).<a class="pilcrow" href="#section-3.2-7">¶</a></p>
<p id="section-3.2-8">The node advertises the SID, B:N:FUNCT, in the control plane (see
        <a class="xref" href="#cp">Section 8</a>) together with the SRv6 Endpoint
        Behavior codepoint identifying the behavior of the SID.<a class="pilcrow" href="#section-3.2-8">¶</a></p>
<p id="section-3.2-9">An SR source node cannot infer the behavior by examination of the
        FUNCT value of a SID.<a class="pilcrow" href="#section-3.2-9">¶</a></p>
<p id="section-3.2-10">Therefore, the SRv6 Endpoint Behavior codepoint is advertised along
        with the SID in the control plane.<a class="pilcrow" href="#section-3.2-10">¶</a></p>
<p id="section-3.2-11">An SR source node uses the SRv6 Endpoint Behavior codepoint to map
        the received SID (B:N:FUNCT) to a behavior.<a class="pilcrow" href="#section-3.2-11">¶</a></p>
<p id="section-3.2-12">An SR source node selects a desired behavior at an advertising node
        by selecting the SID (B:N:FUNCT) advertised with the desired
        behavior.<a class="pilcrow" href="#section-3.2-12">¶</a></p>
<p id="section-3.2-13">As an example:<a class="pilcrow" href="#section-3.2-13">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-14.1">A network operator may assign an SRv6 SID block
          2001:db8:bbbb::/48 from their in-house operation block for their
          SRv6 infrastructure.<a class="pilcrow" href="#section-3.2-14.1">¶</a>
</li>
          <li class="normal" id="section-3.2-14.2">A network operator may assign an SRv6 Locator 2001:db8:bbbb:3::/64 to one particular
          router, for example Router 3, in their SR Domain.<a class="pilcrow" href="#section-3.2-14.2">¶</a>
</li>
          <li class="normal" id="section-3.2-14.3">
            <p id="section-3.2-14.3.1">At Router 3, within the locator 2001:db8:bbbb:3::/64, the
            network operator or the router performs dynamic assignment for:<a class="pilcrow" href="#section-3.2-14.3.1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-14.3.2.1">
                <p id="section-3.2-14.3.2.1.1">Function 0x0100 associated with the behavior End.X
                (Endpoint with L3 cross-connect) between router 3 and its
                connected neighbor router (e.g., Router 4). This function
                is encoded as a 16-bit value and has no arguments (F=16,
                A=0).<a class="pilcrow" href="#section-3.2-14.3.2.1.1">¶</a></p>
<p id="section-3.2-14.3.2.1.2">
                                This SID is advertised in the control plane as
                                2001:db8:bbbb:3:100:: with an SRv6 Endpoint
                                Behavior codepoint value of 5.<a class="pilcrow" href="#section-3.2-14.3.2.1.2">¶</a></p>
</li>
              <li class="normal" id="section-3.2-14.3.2.2">
                <p id="section-3.2-14.3.2.2.1">Function 0x0101 associated with the behavior End.X
                (Endpoint with L3 cross-connect) between router 3 and its
                connected neighbor router (e.g., Router 2). This function is
                encoded as a 16-bit value and has no arguments (F=16, A=0).<a class="pilcrow" href="#section-3.2-14.3.2.2.1">¶</a></p>
<p id="section-3.2-14.3.2.2.2">
                                This SID is advertised in the control plane as
                                2001:db8:bbbb:3:101:: with an SRv6 Endpoint
                                Behavior codepoint value of 5.<a class="pilcrow" href="#section-3.2-14.3.2.2.2">¶</a></p>
</li>
            </ul>
</li>
        </ul>
<p id="section-3.2-15">These examples do not preclude any other IPv6 addressing allocation scheme.<a class="pilcrow" href="#section-3.2-15">¶</a></p>
</section>
<section id="section-3.3">
        <h3 id="name-sid-reachability">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-sid-reachability">SID Reachability</a>
        </h3>
<p id="section-3.3-1">Most often, the node N would advertise IPv6 prefix(es) matching the
        LOC parts covering its SIDs or shorter-mask prefix. The distribution
        of these advertisements and calculation of their reachability are
        specific to the routing protocol and are outside of the scope of this
        document.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<p id="section-3.3-2">An SRv6 SID is said to be routed if its SID belongs to an IPv6
        prefix advertised via a routing protocol. An SRv6 SID that does not
        fulfill this condition is non-routed.<a class="pilcrow" href="#section-3.3-2">¶</a></p>
<p id="section-3.3-3">Let's provide a classic illustration:<a class="pilcrow" href="#section-3.3-3">¶</a></p>
<p id="section-3.3-4">Node N is configured explicitly with two SIDs: 2001:db8:b:1:100:: and 2001:db8:b:2:101::.<a class="pilcrow" href="#section-3.3-4">¶</a></p>
<p id="section-3.3-5">The network learns about a path to 2001:db8:b:1::/64 via the IGP;
        hence, a packet destined to 2001:db8:b:1:100:: would be routed up
        to N. The network does not learn about a path to 2001:db8:b:2::/64 via
        the IGP; hence, a packet destined to 2001:db8:b:2:101:: would not be
        routed up to N.<a class="pilcrow" href="#section-3.3-5">¶</a></p>
<p id="section-3.3-6">A packet could be steered through a non-routed SID
        2001:db8:b:2:101:: by using a SID list
        &lt;...,2001:db8:b:1:100::,2001:db8:b:2:101::,...&gt; where the
        non-routed SID is preceded by a routed SID to the same node. A packet
        could also be steered to a node instantiating a non-routed SID by
        preceding it in the SID list with an Adj-SID to that
        node. Routed and non-routed SRv6 SIDs are the SRv6 instantiation of
        global and local segments, respectively <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-3.3-6">¶</a></p>
</section>
</section>
<div id="behaviors">
<section id="section-4">
      <h2 id="name-sr-endpoint-behaviors">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-sr-endpoint-behaviors">SR Endpoint Behaviors</a>
      </h2>
<p id="section-4-1">The following is a set of well-known behaviors that can be associated with a SID.<a class="pilcrow" href="#section-4-1">¶</a></p>
<span id="name-endpoint-behaviors"></span><div id="endpoint">
<table class="center" id="table-1">
        <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-endpoint-behaviors">Endpoint Behaviors</a>
        </caption>
<tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.1.2.1">Endpoint<a class="pilcrow" href="#section-4-2.1.1.2.1">¶</a></p>
<p id="section-4-2.1.1.2.2">The SRv6 instantiation of a Prefix-SID <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span><a class="pilcrow" href="#section-4-2.1.1.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.X</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.2.2.1">Endpoint with L3 cross-connect<a class="pilcrow" href="#section-4-2.1.2.2.1">¶</a></p>
<p id="section-4-2.1.2.2.2">The SRv6 instantiation of an Adj-SID <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span><a class="pilcrow" href="#section-4-2.1.2.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.T</td>
            <td class="text-left" colspan="1" rowspan="1">Endpoint with specific IPv6 table lookup</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DX6</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.4.2.1">Endpoint with decapsulation and IPv6 cross-connect<a class="pilcrow" href="#section-4-2.1.4.2.1">¶</a></p>
<p id="section-4-2.1.4.2.2">e.g., IPv6-L3VPN (equivalent to per-CE VPN label)<a class="pilcrow" href="#section-4-2.1.4.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DX4</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.5.2.1">Endpoint with decapsulation and IPv4 cross-connect<a class="pilcrow" href="#section-4-2.1.5.2.1">¶</a></p>
<p id="section-4-2.1.5.2.2">e.g., IPv4-L3VPN (equivalent to per-CE VPN label)<a class="pilcrow" href="#section-4-2.1.5.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DT6</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.6.2.1">Endpoint with decapsulation and specific IPv6 table lookup<a class="pilcrow" href="#section-4-2.1.6.2.1">¶</a></p>
<p id="section-4-2.1.6.2.2">e.g., IPv6-L3VPN (equivalent to per-VRF VPN label)<a class="pilcrow" href="#section-4-2.1.6.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DT4</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.7.2.1">Endpoint with decapsulation and specific IPv4 table lookup<a class="pilcrow" href="#section-4-2.1.7.2.1">¶</a></p>
<p id="section-4-2.1.7.2.2">e.g., IPv4-L3VPN (equivalent to per-VRF VPN label)<a class="pilcrow" href="#section-4-2.1.7.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DT46</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.8.2.1">Endpoint with decapsulation and specific IP table lookup<a class="pilcrow" href="#section-4-2.1.8.2.1">¶</a></p>
<p id="section-4-2.1.8.2.2">e.g., IP-L3VPN (equivalent to per-VRF VPN label)<a class="pilcrow" href="#section-4-2.1.8.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DX2</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.9.2.1">Endpoint with decapsulation and L2 cross-connect<a class="pilcrow" href="#section-4-2.1.9.2.1">¶</a></p>
<p id="section-4-2.1.9.2.2">e.g., L2VPN use case<a class="pilcrow" href="#section-4-2.1.9.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DX2V</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.10.2.1">Endpoint with decapsulation and VLAN L2 table lookup<a class="pilcrow" href="#section-4-2.1.10.2.1">¶</a></p>
<p id="section-4-2.1.10.2.2">e.g., EVPN Flexible Cross-connect use case<a class="pilcrow" href="#section-4-2.1.10.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DT2U</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.11.2.1">Endpoint with decapsulation and unicast MAC L2 table lookup<a class="pilcrow" href="#section-4-2.1.11.2.1">¶</a></p>
<p id="section-4-2.1.11.2.2">e.g., EVPN Bridging Unicast use case<a class="pilcrow" href="#section-4-2.1.11.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.DT2M</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.12.2.1">Endpoint with decapsulation and L2 table flooding<a class="pilcrow" href="#section-4-2.1.12.2.1">¶</a></p>
<p id="section-4-2.1.12.2.2">e.g., EVPN Bridging Broadcast, Unknown Unicast, and Multicast (BUM) use case with Ethernet Segment Identifier (ESI) filtering<a class="pilcrow" href="#section-4-2.1.12.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.B6.Encaps</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.13.2.1">Endpoint bound to an SRv6 Policy with encapsulation<a class="pilcrow" href="#section-4-2.1.13.2.1">¶</a></p>
<p id="section-4-2.1.13.2.2">SRv6 instantiation of a Binding SID<a class="pilcrow" href="#section-4-2.1.13.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.B6.Encaps.Red</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.14.2.1">End.B6.Encaps with reduced SRH<a class="pilcrow" href="#section-4-2.1.14.2.1">¶</a></p>
<p id="section-4-2.1.14.2.2">SRv6 instantiation of a Binding SID<a class="pilcrow" href="#section-4-2.1.14.2.2">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">End.BM</td>
            <td class="text-left" colspan="1" rowspan="1">
              <p id="section-4-2.1.15.2.1">Endpoint bound to an SR-MPLS Policy<a class="pilcrow" href="#section-4-2.1.15.2.1">¶</a></p>
<p id="section-4-2.1.15.2.2">SRv6 instantiation of an SR-MPLS Binding SID<a class="pilcrow" href="#section-4-2.1.15.2.2">¶</a></p>
</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-4-3">The list is not exhaustive. In practice, any behavior can be attached
      to a local SID; for example, a node N can bind a SID to a local Virtual
      Machine (VM) or container that can apply any complex processing on the
      packet, provided there is an SRv6 Endpoint Behavior codepoint allocated
      for the processing.<a class="pilcrow" href="#section-4-3">¶</a></p>
<p id="section-4-4">When an SRv6-capable node (N) receives an IPv6 packet whose
      destination address matches a FIB entry that represents a locally
      instantiated SRv6 SID (S), the IPv6 header chain is processed as defined
      in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8200#section-4">Section 4</a> of [<a class="xref" href="#RFC8200">RFC8200</a>]</span>. For SRv6 SIDs
      associated with an Endpoint behavior defined in this document, the SRH
      and Upper-Layer header are processed as defined in the following
      subsections.<a class="pilcrow" href="#section-4-4">¶</a></p>
<p id="section-4-5">The pseudocode describing these behaviors details local processing at
      a node. An implementation of the pseudocode is compliant as long as the
      externally observable wire protocol is as described by the
      pseudocode.<a class="pilcrow" href="#section-4-5">¶</a></p>
<p id="section-4-6"><a class="xref" href="#BehFlavors">Section 4.16</a> defines flavors of some of these behaviors.<a class="pilcrow" href="#section-4-6">¶</a></p>
<p id="section-4-7"><a class="xref" href="#iana_registry">Section 10.2</a> of this document
      defines the IANA registry used to maintain all these behaviors as well
      as future ones defined in other documents.<a class="pilcrow" href="#section-4-7">¶</a></p>
<section id="section-4.1">
        <h3 id="name-end-endpoint">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-end-endpoint">End: Endpoint</a>
        </h3>
<p id="section-4.1-1">The Endpoint behavior ("End" for short) is the most basic
        behavior. It is the instantiation of a Prefix-SID <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">When N receives a packet whose IPv6 DA is S and S is a local End SID, N does the following:<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<div id="section-4.1-3">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left == 0) {
S03.      Stop processing the SRH, and proceed to process the next
             header in the packet, whose type is identified by
             the Next Header field in the routing header.
S04.   }
S05.   If (IPv6 Hop Limit &lt;= 1) {
S06.      Send an ICMP Time Exceeded message to the Source Address
             with Code 0 (Hop limit exceeded in transit),
             interrupt packet processing, and discard the packet.
S07.   }
S08.   max_LE = (Hdr Ext Len / 2) - 1
S09.   If ((Last Entry &gt; max_LE) or (Segments Left &gt; Last Entry+1)) {
S10.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.

S11.   }
S12.   Decrement IPv6 Hop Limit by 1
S13.   Decrement Segments Left by 1
S14.   Update IPv6 DA with Segment List[Segments Left]
S15.   Submit the packet to the egress IPv6 FIB lookup for
          transmission to the new destination
S16. }
</pre><a class="pilcrow" href="#section-4.1-3">¶</a>
</div>
<aside id="section-4.1-4">
          <p id="section-4.1-4.1">Note:<a class="pilcrow" href="#section-4.1-4.1">¶</a></p>
<p id="section-4.1-4.2">The End behavior operates on the same FIB table (i.e.,
identified by VRF or L3 relay ID) associated to the packet. Hence, the FIB
lookup on line S15 is done in the same FIB table as the ingress interface.<a class="pilcrow" href="#section-4.1-4.2">¶</a></p>
</aside>
<div id="upper">
<section id="section-4.1.1">
          <h4 id="name-upper-layer-header">
<a class="section-number selfRef" href="#section-4.1.1">4.1.1. </a><a class="section-name selfRef" href="#name-upper-layer-header">Upper-Layer Header</a>
          </h4>
<p id="section-4.1.1-1">When processing the Upper-Layer header of a packet matching a FIB
          entry locally instantiated as an End SID, N does the following:<a class="pilcrow" href="#section-4.1.1-1">¶</a></p>
<div id="section-4.1.1-2">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type is allowed by local configuration) {
S02.   Proceed to process the Upper-Layer header
S03. } Else {
S04.   Send an ICMP Parameter Problem to the Source Address
          with Code 4 (SR Upper-layer Header Error)
          and Pointer set to the offset of the Upper-Layer header,
          interrupt packet processing, and discard the packet.
S05  }
</pre><a class="pilcrow" href="#section-4.1.1-2">¶</a>
</div>
<p id="section-4.1.1-3">Allowing the processing of specific Upper-Layer header types is
          useful for Operations, Administration, and Maintenance (OAM). As an
          example, an operator might permit pinging of SIDs. To do this, they
          may enable local configuration to allow Upper-Layer header type 58
          (ICMPv6).<a class="pilcrow" href="#section-4.1.1-3">¶</a></p>
<p id="section-4.1.1-4">It is <span class="bcp14">RECOMMENDED</span> that an implementation of local
          configuration only allows Upper-Layer header processing of types
          that do not result in the packet being forwarded (e.g., ICMPv6).<a class="pilcrow" href="#section-4.1.1-4">¶</a></p>
</section>
</div>
</section>
<section id="section-4.2">
        <h3 id="name-endx-l3-cross-connect">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-endx-l3-cross-connect">End.X: L3 Cross-Connect</a>
        </h3>
<p id="section-4.2-1">The "Endpoint with L3 cross-connect" behavior ("End.X" for short) is a variant of the End behavior.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">It is the SRv6 instantiation of an Adj-SID <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>, and its main use is for traffic-engineering policies.<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<p id="section-4.2-3">Any SID instance of this behavior is associated with a set, J, of
        one or more L3 adjacencies.<a class="pilcrow" href="#section-4.2-3">¶</a></p>
<p id="section-4.2-4">When N receives a packet destined to S and S is a local End.X SID, the line S15 from the End processing is replaced by the following:<a class="pilcrow" href="#section-4.2-4">¶</a></p>
<div id="section-4.2-5">
<pre class="sourcecode lang-pseudocode">S15.   Submit the packet to the IPv6 module for transmission
          to the new destination via a member of J
</pre><a class="pilcrow" href="#section-4.2-5">¶</a>
</div>
<aside id="section-4.2-6">
          <p id="section-4.2-6.1">Note:<a class="pilcrow" href="#section-4.2-6.1">¶</a></p>
<p id="section-4.2-6.2"> S15. If the set J contains several L3 adjacencies, then one element
of the set is selected based on a hash of the packet's header (see <a class="xref" href="#OpsFlowLabel">Section 7</a>).<a class="pilcrow" href="#section-4.2-6.2">¶</a></p>
</aside>
<p id="section-4.2-7">If a node N has 30 outgoing interfaces to 30 neighbors, usually the
        operator would explicitly instantiate 30 End.X SIDs at N: one per
        L3 adjacency to a neighbor.  Potentially, more End.X could be
        explicitly defined (groups of L3 adjacencies to the same neighbor
        or to different neighbors).<a class="pilcrow" href="#section-4.2-7">¶</a></p>
<p id="section-4.2-8">Note that if N has an outgoing interface bundle I to a neighbor Q
        made of 10 member links, N might allocate up to 11 End.X local SIDs:
        one for the bundle itself and then up to one for each L2 member
        link. The flows steered using the End.X SID corresponding to the
        bundle itself get load-balanced across the member links via hashing
        while the flows steered using the End.X SID corresponding to a member
        link get steered over that specific member link alone.<a class="pilcrow" href="#section-4.2-8">¶</a></p>
<p id="section-4.2-9">When the End.X behavior is associated with a BGP Next-Hop, it is
        the SRv6 instantiation of the BGP peering segments <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-4.2-9">¶</a></p>
<p id="section-4.2-10">When processing the Upper-Layer header of a packet matching a FIB
        entry locally instantiated as an End.X SID, process the packet as per
        <a class="xref" href="#upper">Section 4.1.1</a>.<a class="pilcrow" href="#section-4.2-10">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-endt-specific-ipv6-table-lo">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-endt-specific-ipv6-table-lo">End.T: Specific IPv6 Table Lookup</a>
        </h3>
<p id="section-4.3-1">The "Endpoint with specific IPv6 table lookup" behavior ("End.T" for
        short) is a variant of the End behavior.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">The End.T behavior is used for multi-table operation in the
        core. For this reason, an instance of the End.T behavior is associated
        with an IPv6 FIB table T.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<p id="section-4.3-3">When N receives a packet destined to S and S is a local End.T SID,
        the line S15 from the End processing is replaced by the following:<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<div id="section-4.3-4">
<pre class="sourcecode lang-pseudocode">S15.1.   Set the packet's associated FIB table to T
S15.2.   Submit the packet to the egress IPv6 FIB lookup for
           transmission to the new destination
</pre><a class="pilcrow" href="#section-4.3-4">¶</a>
</div>
<p id="section-4.3-5">When processing the Upper-Layer header of a packet matching a FIB entry locally instantiated as an End.T SID, process the packet as per <a class="xref" href="#upper">Section 4.1.1</a>.<a class="pilcrow" href="#section-4.3-5">¶</a></p>
</section>
<section id="section-4.4">
        <h3 id="name-enddx6-decapsulation-and-ip">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-enddx6-decapsulation-and-ip">End.DX6: Decapsulation and IPv6 Cross-Connect</a>
        </h3>
<p id="section-4.4-1">The "Endpoint with decapsulation and IPv6 cross-connect" behavior ("End.DX6" for short) is a variant of the End.X behavior.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">One of the applications of the End.DX6 behavior is the L3VPNv6 use case where a FIB lookup in a specific tenant table at the egress Provider Edge (PE) is not required. This is equivalent to the per-CE VPN label in MPLS <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span>.<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<p id="section-4.4-3">The End.DX6 SID <span class="bcp14">MUST</span> be the last segment in an SR Policy, and it is associated with one or more L3 IPv6 adjacencies J.<a class="pilcrow" href="#section-4.4-3">¶</a></p>
<p id="section-4.4-4">When N receives a packet destined to S and S is a local End.DX6 SID, N does the following:<a class="pilcrow" href="#section-4.4-4">¶</a></p>
<div id="section-4.4-5">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left != 0) {
S03.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.
S04.   }
S05.   Proceed to process the next header in the packet
S06. }
</pre><a class="pilcrow" href="#section-4.4-5">¶</a>
</div>
<p id="section-4.4-6">When processing the Upper-Layer header of a packet matching a FIB entry locally instantiated as an End.DX6 SID, N does the following:<a class="pilcrow" href="#section-4.4-6">¶</a></p>
<div id="section-4.4-7">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 41(IPv6) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Forward the exposed IPv6 packet to the L3 adjacency J
S04. } Else {
S05.    Process as per Section 4.1.1
S06. }
</pre><a class="pilcrow" href="#section-4.4-7">¶</a>
</div>
<aside id="section-4.4-8">
          <p id="section-4.4-8.1">Note:<a class="pilcrow" href="#section-4.4-8.1">¶</a></p>
<p id="section-4.4-8.2">
                S01. "41" refers to "IPv6 encapsulation" as defined in the IANA
                "Assigned Internet Protocol Numbers" registry.<a class="pilcrow" href="#section-4.4-8.2">¶</a></p>
<p id="section-4.4-8.3">
S03. If the End.DX6 SID is bound to an array of L3 adjacencies, then one entry
of the array is selected based on the hash of the packet's header (see <a class="xref" href="#OpsFlowLabel">Section 7</a>).<a class="pilcrow" href="#section-4.4-8.3">¶</a></p>
</aside>
</section>
<section id="section-4.5">
        <h3 id="name-enddx4-decapsulation-and-ip">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-enddx4-decapsulation-and-ip">End.DX4: Decapsulation and IPv4 Cross-Connect</a>
        </h3>
<p id="section-4.5-1">The "Endpoint with decapsulation and IPv4 cross-connect" behavior
        ("End.DX4" for short) is a variant of the End.X behavior.<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<p id="section-4.5-2">One of the applications of the End.DX4 behavior is the L3VPNv4 use
        case where a FIB lookup in a specific tenant table at the egress PE is
        not required. This is equivalent to the per-CE VPN label in MPLS <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span>.<a class="pilcrow" href="#section-4.5-2">¶</a></p>
<p id="section-4.5-3">The End.DX4 SID <span class="bcp14">MUST</span> be the last segment in an SR
        Policy, and it is associated with one or more L3 IPv4 adjacencies
        J.<a class="pilcrow" href="#section-4.5-3">¶</a></p>
<p id="section-4.5-4">When N receives a packet destined to S and S is a local End.DX4
        SID, N does the following:<a class="pilcrow" href="#section-4.5-4">¶</a></p>
<div id="section-4.5-5">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left != 0) {
S03.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.
S04.   }
S05.   Proceed to process the next header in the packet
S06. }
</pre><a class="pilcrow" href="#section-4.5-5">¶</a>
</div>
<p id="section-4.5-6">When processing the Upper-Layer header of a packet matching a FIB entry locally instantiated as an End.DX4 SID, N does the following:<a class="pilcrow" href="#section-4.5-6">¶</a></p>
<div id="section-4.5-7">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 4(IPv4) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Forward the exposed IPv4 packet to the L3 adjacency J
S04. } Else {
S05.    Process as per Section 4.1.1
S06. }
</pre><a class="pilcrow" href="#section-4.5-7">¶</a>
</div>
<aside id="section-4.5-8">
          <p id="section-4.5-8.1">Note:<a class="pilcrow" href="#section-4.5-8.1">¶</a></p>
<p id="section-4.5-8.2">
                S01. "4" refers to "IPv4 encapsulation" as defined in the IANA
                "Assigned Internet Protocol Numbers" registry.<a class="pilcrow" href="#section-4.5-8.2">¶</a></p>
<p id="section-4.5-8.3">

S03. If the End.DX4 SID is bound to an array of L3 adjacencies, then one entry
of the array is selected based on the hash of the packet's header (see <a class="xref" href="#OpsFlowLabel">Section 7</a>).<a class="pilcrow" href="#section-4.5-8.3">¶</a></p>
</aside>
</section>
<section id="section-4.6">
        <h3 id="name-enddt6-decapsulation-and-sp">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-enddt6-decapsulation-and-sp">End.DT6: Decapsulation and Specific IPv6 Table Lookup</a>
        </h3>
<p id="section-4.6-1">The "Endpoint with decapsulation and specific IPv6 table lookup"
        behavior ("End.DT6" for short) is a variant of the End.T behavior.<a class="pilcrow" href="#section-4.6-1">¶</a></p>
<p id="section-4.6-2">One of the applications of the End.DT6 behavior is the
        L3VPNv6 use case where a FIB
        lookup in a specific tenant table at the egress PE is required. This
        is equivalent to the per-VRF VPN label in MPLS <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span>.<a class="pilcrow" href="#section-4.6-2">¶</a></p>
<p id="section-4.6-3">Note that an End.DT6 may be defined for the main IPv6 table, in
        which case an End.DT6 supports the equivalent of an IPv6-in-IPv6
        decapsulation (without VPN/tenant implication).<a class="pilcrow" href="#section-4.6-3">¶</a></p>
<p id="section-4.6-4">The End.DT6 SID <span class="bcp14">MUST</span> be the last segment in an SR
        Policy, and a SID instance is associated with an IPv6 FIB table T.<a class="pilcrow" href="#section-4.6-4">¶</a></p>
<p id="section-4.6-5">When N receives a packet destined to S and S is a local End.DT6 SID, N does the following:<a class="pilcrow" href="#section-4.6-5">¶</a></p>
<div id="section-4.6-6">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left != 0) {
S03.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.
S04.   }
S05.   Proceed to process the next header in the packet
S06. }
</pre><a class="pilcrow" href="#section-4.6-6">¶</a>
</div>
<p id="section-4.6-7">When processing the Upper-Layer header of a packet matching a FIB entry locally instantiated as an End.DT6 SID, N does the following:<a class="pilcrow" href="#section-4.6-7">¶</a></p>
<div id="section-4.6-8">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 41(IPv6) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Set the packet's associated FIB table to T
S04.    Submit the packet to the egress IPv6 FIB lookup for
           transmission to the new destination
S05. } Else {
S06.    Process as per Section 4.1.1
S07. }
</pre><a class="pilcrow" href="#section-4.6-8">¶</a>
</div>
</section>
<section id="section-4.7">
        <h3 id="name-enddt4-decapsulation-and-sp">
<a class="section-number selfRef" href="#section-4.7">4.7. </a><a class="section-name selfRef" href="#name-enddt4-decapsulation-and-sp">End.DT4: Decapsulation and Specific IPv4 Table Lookup</a>
        </h3>
<p id="section-4.7-1">The "Endpoint with decapsulation and specific IPv4 table lookup" behavior ("End.DT4" for short) is a variant of the End.T behavior.<a class="pilcrow" href="#section-4.7-1">¶</a></p>
<p id="section-4.7-2">One of the applications of the End.DT4 behavior is the L3VPNv4 use case where a FIB lookup in a specific tenant table at the egress PE is required. This is equivalent to the per-VRF VPN label in MPLS <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span>.<a class="pilcrow" href="#section-4.7-2">¶</a></p>
<p id="section-4.7-3">Note that an End.DT4 may be defined for the main IPv4 table, in which case an End.DT4 supports the equivalent of an IPv4-in-IPv6 decapsulation (without VPN/tenant implication).<a class="pilcrow" href="#section-4.7-3">¶</a></p>
<p id="section-4.7-4">The End.DT4 SID <span class="bcp14">MUST</span> be the last segment in an SR Policy, and a SID instance is associated with an IPv4 FIB table T.<a class="pilcrow" href="#section-4.7-4">¶</a></p>
<p id="section-4.7-5">When N receives a packet destined to S and S is a local End.DT4 SID, N does the following:<a class="pilcrow" href="#section-4.7-5">¶</a></p>
<div id="section-4.7-6">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left != 0) {
S03.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.
S04.   }
S05.   Proceed to process the next header in the packet
S06. }
</pre><a class="pilcrow" href="#section-4.7-6">¶</a>
</div>
<p id="section-4.7-7">When processing the Upper-Layer header of a packet matching a FIB entry locally instantiated as an End.DT4 SID, N does the following:<a class="pilcrow" href="#section-4.7-7">¶</a></p>
<div id="section-4.7-8">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 4(IPv4) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Set the packet's associated FIB table to T
S04.    Submit the packet to the egress IPv4 FIB lookup for
           transmission to the new destination
S05. } Else {
S06.    Process as per Section 4.1.1
S07. }
</pre><a class="pilcrow" href="#section-4.7-8">¶</a>
</div>
</section>
<section id="section-4.8">
        <h3 id="name-enddt46-decapsulation-and-s">
<a class="section-number selfRef" href="#section-4.8">4.8. </a><a class="section-name selfRef" href="#name-enddt46-decapsulation-and-s">End.DT46: Decapsulation and Specific IP Table Lookup</a>
        </h3>
<p id="section-4.8-1">The "Endpoint with decapsulation and specific IP table lookup"
        behavior ("End.DT46" for short) is a variant of the End.DT4 and End.DT6
        behavior.<a class="pilcrow" href="#section-4.8-1">¶</a></p>
<p id="section-4.8-2">One of the applications of the End.DT46 behavior is the L3VPN
        use case where a FIB lookup in a specific IP tenant table at the
        egress PE is required. This is equivalent to the single per-VRF VPN label
        (for IPv4 and IPv6) in MPLS <span>[<a class="xref" href="#RFC4364">RFC4364</a>]</span>.<a class="pilcrow" href="#section-4.8-2">¶</a></p>
<p id="section-4.8-3">Note that an End.DT46 may be defined for the main IP table, in which
        case an End.DT46 supports the equivalent of an IP-in-IPv6
        decapsulation (without VPN/tenant implication).<a class="pilcrow" href="#section-4.8-3">¶</a></p>
<p id="section-4.8-4">The End.DT46 SID <span class="bcp14">MUST</span> be the last segment in an SR
        Policy, and a SID instance is associated with an IPv4 FIB table T4 and
        an IPv6 FIB table T6.<a class="pilcrow" href="#section-4.8-4">¶</a></p>
<p id="section-4.8-5">When N receives a packet destined to S and S is a local End.DT46
        SID, N does the following:<a class="pilcrow" href="#section-4.8-5">¶</a></p>
<div id="section-4.8-6">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left != 0) {
S03.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.
S04.   }
S05.   Proceed to process the next header in the packet
S06. }
</pre><a class="pilcrow" href="#section-4.8-6">¶</a>
</div>
<p id="section-4.8-7">When processing the Upper-Layer header of a packet matching a FIB entry locally instantiated as an End.DT46 SID, N does the following:<a class="pilcrow" href="#section-4.8-7">¶</a></p>
<div id="section-4.8-8">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 4(IPv4) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Set the packet's associated FIB table to T4
S04.    Submit the packet to the egress IPv4 FIB lookup for
           transmission to the new destination
S05. } Else if (Upper-Layer header type == 41(IPv6) ) {
S06.    Remove the outer IPv6 header with all its extension headers
S07.    Set the packet's associated FIB table to T6
S08.    Submit the packet to the egress IPv6 FIB lookup for
           transmission to the new destination
S09. } Else {
S10.    Process as per Section 4.1.1
S11. }
</pre><a class="pilcrow" href="#section-4.8-8">¶</a>
</div>
</section>
<section id="section-4.9">
        <h3 id="name-enddx2-decapsulation-and-l2">
<a class="section-number selfRef" href="#section-4.9">4.9. </a><a class="section-name selfRef" href="#name-enddx2-decapsulation-and-l2">End.DX2: Decapsulation and L2 Cross-Connect</a>
        </h3>
<p id="section-4.9-1">The "Endpoint with decapsulation and L2 cross-connect" behavior
        ("End.DX2" for short) is a variant of the Endpoint behavior.<a class="pilcrow" href="#section-4.9-1">¶</a></p>
<p id="section-4.9-2">One of the applications of the End.DX2 behavior is the L2VPN <span>[<a class="xref" href="#RFC4664">RFC4664</a>]</span> / EVPN Virtual Private Wire Service (VPWS) <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span> <span>[<a class="xref" href="#RFC8214">RFC8214</a>]</span> use case.<a class="pilcrow" href="#section-4.9-2">¶</a></p>
<p id="section-4.9-3">The End.DX2 SID <span class="bcp14">MUST</span> be the last segment in an SR Policy, and it is associated with one outgoing interface I.<a class="pilcrow" href="#section-4.9-3">¶</a></p>
<p id="section-4.9-4">When N receives a packet destined to S and S is a local End.DX2 SID, N does the following:<a class="pilcrow" href="#section-4.9-4">¶</a></p>
<div id="section-4.9-5">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left != 0) {
S03.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.
S04.   }
S05.   Proceed to process the next header in the packet
S06. }
</pre><a class="pilcrow" href="#section-4.9-5">¶</a>
</div>
<p id="section-4.9-6">When processing the Upper-Layer header of a packet matching a FIB entry locally instantiated as an End.DX2 SID, N does the following:<a class="pilcrow" href="#section-4.9-6">¶</a></p>
<div id="section-4.9-7">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 143(Ethernet) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Forward the Ethernet frame to the OIF I
S04. } Else {
S05.    Process as per Section 4.1.1
S06. }
</pre><a class="pilcrow" href="#section-4.9-7">¶</a>
</div>
<aside id="section-4.9-8">
          <p id="section-4.9-8.1">Note:<a class="pilcrow" href="#section-4.9-8.1">¶</a></p>
<p id="section-4.9-8.2">S01. IANA has allocated value "143" for "Ethernet"
        <span>[<a class="xref" href="#IEEE.802.3_2018">IEEE.802.3_2018</a>]</span> in the "Assigned
        Internet Protocol Numbers" registry (see <a class="xref" href="#ianaethernet">Section 10.1</a>).<a class="pilcrow" href="#section-4.9-8.2">¶</a></p>
<p id="section-4.9-8.3">
S03. An End.DX2 behavior could be customized to expect a specific IEEE header
(e.g., VLAN tag) and rewrite the egress IEEE header before forwarding on the
outgoing interface.<a class="pilcrow" href="#section-4.9-8.3">¶</a></p>
</aside>
<p id="section-4.9-9">Note that an End.DX2 SID may also be associated with a bundle of
        outgoing interfaces.<a class="pilcrow" href="#section-4.9-9">¶</a></p>
</section>
<section id="section-4.10">
        <h3 id="name-enddx2v-decapsulation-and-v">
<a class="section-number selfRef" href="#section-4.10">4.10. </a><a class="section-name selfRef" href="#name-enddx2v-decapsulation-and-v">End.DX2V: Decapsulation and VLAN L2 Table Lookup</a>
        </h3>
<p id="section-4.10-1">The "Endpoint with decapsulation and VLAN L2 table lookup" behavior
        ("End.DX2V" for short) is a variant of the End.DX2 behavior.<a class="pilcrow" href="#section-4.10-1">¶</a></p>
<p id="section-4.10-2">One of the applications of the End.DX2V behavior is the EVPN
        Flexible Cross-connect use case. The End.DX2V behavior is used to
        perform a lookup of the Ethernet frame VLANs in a particular L2
        table. Any SID instance of this behavior is associated with an L2
        table T.<a class="pilcrow" href="#section-4.10-2">¶</a></p>
<p id="section-4.10-3">When N receives a packet whose IPv6 DA is S and S is a local
        End.DX2 SID, the processing is identical to the End.DX2 behavior
        except for the Upper-Layer header processing, which is modified as
        follows:<a class="pilcrow" href="#section-4.10-3">¶</a></p>
<div id="section-4.10-4">
<pre class="sourcecode lang-pseudocode">S03. Look up the exposed VLANs in L2 table T, and forward
        via the matched table entry.
</pre><a class="pilcrow" href="#section-4.10-4">¶</a>
</div>
<aside id="section-4.10-5">
          <p id="section-4.10-5.1">Note:<a class="pilcrow" href="#section-4.10-5.1">¶</a></p>
<p id="section-4.10-5.2"> S03. An End.DX2V behavior could be customized to expect a specific VLAN
format and rewrite the egress VLAN header before forwarding on the outgoing
interface.<a class="pilcrow" href="#section-4.10-5.2">¶</a></p>
</aside>
</section>
<section id="section-4.11">
        <h3 id="name-enddt2u-decapsulation-and-u">
<a class="section-number selfRef" href="#section-4.11">4.11. </a><a class="section-name selfRef" href="#name-enddt2u-decapsulation-and-u">End.DT2U: Decapsulation and Unicast MAC L2 Table Lookup</a>
        </h3>
<p id="section-4.11-1">The "Endpoint with decapsulation and unicast MAC L2 table lookup"
        behavior ("End.DT2U" for short) is a variant of the End behavior.<a class="pilcrow" href="#section-4.11-1">¶</a></p>
<p id="section-4.11-2">One of the applications of the End.DT2U behavior is the EVPN
        Bridging Unicast <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>. Any SID
        instance of the End.DT2U behavior is associated with an L2 table
        T.<a class="pilcrow" href="#section-4.11-2">¶</a></p>
<p id="section-4.11-3">When N receives a packet whose IPv6 DA is S and S is a local
        End.DT2U SID, the processing is identical to the End.DX2 behavior
        except for the Upper-Layer header processing, which is as follows:<a class="pilcrow" href="#section-4.11-3">¶</a></p>
<div id="section-4.11-4">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 143(Ethernet) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Learn the exposed MAC Source Address in L2 table T
S04.    Look up the exposed MAC Destination Address in L2 table T
S05.    If (matched entry in T) {
S06.       Forward via the matched table T entry
S07.    } Else {
S08.       Forward via all L2 OIFs in table T
S09.    }
S10. } Else {
S11.    Process as per Section 4.1.1
S12. }
</pre><a class="pilcrow" href="#section-4.11-4">¶</a>
</div>
<aside id="section-4.11-5">
          <p id="section-4.11-5.1">Note:<a class="pilcrow" href="#section-4.11-5.1">¶</a></p>
<p id="section-4.11-5.2">S01. IANA has allocated value "143" for "Ethernet" in
        the "Assigned Internet Protocol Numbers" registry (see <a class="xref" href="#ianaethernet">Section 10.1</a>).<a class="pilcrow" href="#section-4.11-5.2">¶</a></p>
<p id="section-4.11-5.3">
S03. In EVPN <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>, the learning of the
exposed MAC Source Address is done via the control plane. In L2VPN Virtual Private LAN Service (VPLS) <span>[<a class="xref" href="#RFC4761">RFC4761</a>]</span> <span>[<a class="xref" href="#RFC4762">RFC4762</a>]</span>,
reachability is obtained by standard learning bridge functions in the data
plane.<a class="pilcrow" href="#section-4.11-5.3">¶</a></p>
</aside>
</section>
<section id="section-4.12">
        <h3 id="name-enddt2m-decapsulation-and-l">
<a class="section-number selfRef" href="#section-4.12">4.12. </a><a class="section-name selfRef" href="#name-enddt2m-decapsulation-and-l">End.DT2M: Decapsulation and L2 Table Flooding</a>
        </h3>
<p id="section-4.12-1">The "Endpoint with decapsulation and L2 table flooding" behavior
        ("End.DT2M" for short) is a variant of the End.DT2U behavior.<a class="pilcrow" href="#section-4.12-1">¶</a></p>
<p id="section-4.12-2">Two of the applications of the End.DT2M behavior are the EVPN
        Bridging of Broadcast, Unknown Unicast, and Multicast (BUM) traffic
        with Ethernet Segment Identifier (ESI) filtering <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span> and the EVPN Ethernet-Tree
        (E-Tree) <span>[<a class="xref" href="#RFC8317">RFC8317</a>]</span> use cases.<a class="pilcrow" href="#section-4.12-2">¶</a></p>
<p id="section-4.12-3">Any SID instance of this behavior is associated with an L2 table
        T. The behavior also takes an argument: "Arg.FE2". This argument
        provides a local mapping to ESI for split-horizon filtering of the
        received traffic to exclude a specific OIF (or set of OIFs) from L2
        table T flooding. The allocation of the argument values is local to
        the SR Segment Endpoint Node instantiating this behavior, and the signaling of
        the argument to other nodes for the EVPN functionality occurs via the
        control plane.<a class="pilcrow" href="#section-4.12-3">¶</a></p>
<p id="section-4.12-4">When N receives a packet whose IPv6 DA is S and S is a local
        End.DT2M SID, the processing is identical to the End.DX2 behavior
        except for the Upper-Layer header processing, which is as follows:<a class="pilcrow" href="#section-4.12-4">¶</a></p>
<div id="section-4.12-5">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 143(Ethernet) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Learn the exposed MAC Source Address in L2 table T
S04.    Forward via all L2 OIFs excluding those associated with the
           identifier Arg.FE2
S05. } Else {
S06.    Process as per Section 4.1.1
S07. }
</pre><a class="pilcrow" href="#section-4.12-5">¶</a>
</div>
<aside id="section-4.12-6">
          <p id="section-4.12-6.1">Note:<a class="pilcrow" href="#section-4.12-6.1">¶</a></p>
<p id="section-4.12-6.2">S01. IANA has allocated value "143" for "Ethernet" in                                     
        the "Assigned Internet Protocol Numbers" registry (see <a class="xref" href="#ianaethernet">Section 10.1</a>).<a class="pilcrow" href="#section-4.12-6.2">¶</a></p>
<p id="section-4.12-6.3">
S03. In EVPN <span>[<a class="xref" href="#RFC7432">RFC7432</a>]</span>, the learning of the
exposed MAC Source Address is done via the control plane. In L2VPN VPLS <span>[<a class="xref" href="#RFC4761">RFC4761</a>]</span> <span>[<a class="xref" href="#RFC4762">RFC4762</a>]</span>,
reachability is obtained by standard learning bridge functions in the data
plane.<a class="pilcrow" href="#section-4.12-6.3">¶</a></p>
</aside>
</section>
<section id="section-4.13">
        <h3 id="name-endb6encaps-endpoint-bound-">
<a class="section-number selfRef" href="#section-4.13">4.13. </a><a class="section-name selfRef" href="#name-endb6encaps-endpoint-bound-">End.B6.Encaps: Endpoint Bound to an SRv6 Policy with Encapsulation</a>
        </h3>
<p id="section-4.13-1">This is a variation of the End behavior.<a class="pilcrow" href="#section-4.13-1">¶</a></p>
<p id="section-4.13-2">One of its applications is to express scalable traffic-engineering policies across multiple domains. It is one of the SRv6 instantiations of a Binding SID <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-4.13-2">¶</a></p>
<p id="section-4.13-3">Any SID instance of this behavior is associated with an SR Policy B and a source address A.<a class="pilcrow" href="#section-4.13-3">¶</a></p>
<p id="section-4.13-4">When N receives a packet whose IPv6 DA is S and S is a local End.B6.Encaps SID, N does the following:<a class="pilcrow" href="#section-4.13-4">¶</a></p>
<div id="section-4.13-5">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left == 0) {
S03.      Stop processing the SRH, and proceed to process the next
             header in the packet, whose type is identified by
             the Next Header field in the routing header.
S04.   }
S05.   If (IPv6 Hop Limit &lt;= 1) {
S06.      Send an ICMP Time Exceeded message to the Source Address
             with Code 0 (Hop limit exceeded in transit),
             interrupt packet processing, and discard the packet.
S07.   }
S08.   max_LE = (Hdr Ext Len / 2) - 1
S09.   If ((Last Entry &gt; max_LE) or (Segments Left &gt; Last Entry+1)) {
S10.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.
S11.   }
S12.   Decrement IPv6 Hop Limit by 1
S13.   Decrement Segments Left by 1
S14.   Update IPv6 DA with Segment List[Segments Left]
S15.   Push a new IPv6 header with its own SRH containing B
S16.   Set the outer IPv6 SA to A
S17.   Set the outer IPv6 DA to the first SID of B
S18.   Set the outer Payload Length, Traffic Class, Flow Label,
          Hop Limit, and Next Header fields
S19.   Submit the packet to the egress IPv6 FIB lookup for
          transmission to the new destination
S20. }
</pre><a class="pilcrow" href="#section-4.13-5">¶</a>
</div>
<aside id="section-4.13-6">
          <p id="section-4.13-6.1">Note:<a class="pilcrow" href="#section-4.13-6.1">¶</a></p>
<p id="section-4.13-6.2">
                S15. The SRH <span class="bcp14">MAY</span> be omitted when the SRv6 Policy B only contains one SID and there is no need to use any flag, tag, or TLV.<a class="pilcrow" href="#section-4.13-6.2">¶</a></p>
<p id="section-4.13-6.3">
S18. The Payload Length, Traffic Class, Hop Limit, and Next Header fields are set as per <span>[<a class="xref" href="#RFC2473">RFC2473</a>]</span>. The Flow Label is computed as per <span>[<a class="xref" href="#RFC6437">RFC6437</a>]</span>.<a class="pilcrow" href="#section-4.13-6.3">¶</a></p>
</aside>
<p id="section-4.13-7">When processing the Upper-Layer header of a packet matching a FIB
        entry locally instantiated as an End.B6.Encaps SID, process the packet
        as per <a class="xref" href="#upper">Section 4.1.1</a>.<a class="pilcrow" href="#section-4.13-7">¶</a></p>
</section>
<section id="section-4.14">
        <h3 id="name-endb6encapsred-endb6encaps-">
<a class="section-number selfRef" href="#section-4.14">4.14. </a><a class="section-name selfRef" href="#name-endb6encapsred-endb6encaps-">End.B6.Encaps.Red: End.B6.Encaps with Reduced SRH</a>
        </h3>
<p id="section-4.14-1">This is an optimization of the End.B6.Encaps behavior.<a class="pilcrow" href="#section-4.14-1">¶</a></p>
<p id="section-4.14-2">End.B6.Encaps.Red reduces the size of the SRH by one SID by excluding the first SID in the SRH of the new IPv6 header. Thus, the first segment is only placed in the IPv6 Destination Address of the new IPv6 header, and the packet is forwarded according to it.<a class="pilcrow" href="#section-4.14-2">¶</a></p>
<p id="section-4.14-3">The SRH Last Entry field is set as defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-4.1.1">Section 4.1.1</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span>.<a class="pilcrow" href="#section-4.14-3">¶</a></p>
<p id="section-4.14-4">The SRH <span class="bcp14">MAY</span> be omitted when the SRv6 Policy only contains one SID and there is no need to use any flag, tag, or TLV.<a class="pilcrow" href="#section-4.14-4">¶</a></p>
</section>
<section id="section-4.15">
        <h3 id="name-endbm-endpoint-bound-to-an-">
<a class="section-number selfRef" href="#section-4.15">4.15. </a><a class="section-name selfRef" href="#name-endbm-endpoint-bound-to-an-">End.BM: Endpoint Bound to an SR-MPLS Policy</a>
        </h3>
<p id="section-4.15-1">The "Endpoint bound to an SR-MPLS Policy" behavior ("End.BM" for short) is a variant of the End behavior.<a class="pilcrow" href="#section-4.15-1">¶</a></p>
<p id="section-4.15-2">The End.BM behavior is required to express scalable traffic-engineering policies across multiple domains where some domains support the MPLS instantiation of Segment Routing. This is an SRv6 instantiation of an SR-MPLS Binding SID <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.<a class="pilcrow" href="#section-4.15-2">¶</a></p>
<p id="section-4.15-3">Any SID instance of this behavior is associated with an SR-MPLS Policy B.<a class="pilcrow" href="#section-4.15-3">¶</a></p>
<p id="section-4.15-4">When N receives a packet whose IPv6 DA is S and S is a local End.BM SID, N does the following:<a class="pilcrow" href="#section-4.15-4">¶</a></p>
<div id="section-4.15-5">
<pre class="sourcecode lang-pseudocode">S01. When an SRH is processed {
S02.   If (Segments Left == 0) {
S03.      Stop processing the SRH, and proceed to process the next
             header in the packet, whose type is identified by
             the Next Header field in the routing header.
S04.   }
S05.   If (IPv6 Hop Limit &lt;= 1) {
S06.      Send an ICMP Time Exceeded message to the Source Address
             with Code 0 (Hop limit exceeded in transit),
             interrupt packet processing, and discard the packet.
S07.   }
S08.   max_LE = (Hdr Ext Len / 2) - 1
S09.   If ((Last Entry &gt; max_LE) or (Segments Left &gt; Last Entry+1)) {
S10.      Send an ICMP Parameter Problem to the Source Address
             with Code 0 (Erroneous header field encountered)
             and Pointer set to the Segments Left field,
             interrupt packet processing, and discard the packet.

S11.   }
S12.   Decrement IPv6 Hop Limit by 1
S13.   Decrement Segments Left by 1
S14.   Update IPv6 DA with Segment List[Segments Left]
S15.   Push the MPLS label stack for B
S16.   Submit the packet to the MPLS engine for transmission
S17. }
</pre><a class="pilcrow" href="#section-4.15-5">¶</a>
</div>
<p id="section-4.15-6">When processing the Upper-Layer header of a packet matching a FIB entry locally instantiated as an End.BM SID, process the packet as per <a class="xref" href="#upper">Section 4.1.1</a>.<a class="pilcrow" href="#section-4.15-6">¶</a></p>
</section>
<div id="BehFlavors">
<section id="section-4.16">
        <h3 id="name-flavors">
<a class="section-number selfRef" href="#section-4.16">4.16. </a><a class="section-name selfRef" href="#name-flavors">Flavors</a>
        </h3>
<p id="section-4.16-1">The Penultimate Segment Pop (PSP) of the SRH, Ultimate Segment Pop (USP) of the SRH, and Ultimate Segment Decapsulation (USD) flavors are variants of the End, End.X, and End.T behaviors. The End, End.X, and End.T behaviors can support these flavors either individually or in combinations.<a class="pilcrow" href="#section-4.16-1">¶</a></p>
<section id="section-4.16.1">
          <h4 id="name-psp-penultimate-segment-pop">
<a class="section-number selfRef" href="#section-4.16.1">4.16.1. </a><a class="section-name selfRef" href="#name-psp-penultimate-segment-pop">PSP: Penultimate Segment Pop of the SRH</a>
          </h4>
<section id="section-4.16.1.1">
            <h5 id="name-guidelines">
<a class="section-number selfRef" href="#section-4.16.1.1">4.16.1.1. </a><a class="section-name selfRef" href="#name-guidelines">Guidelines</a>
            </h5>
<p id="section-4.16.1.1-1">SR Segment Endpoint Nodes advertise the SIDs instantiated on
            them via control-plane protocols as described in <a class="xref" href="#cp">Section 8</a>. Different behavior IDs are allocated for
            flavored and unflavored SIDs (see <a class="xref" href="#endpoint_cp_types">Table 6</a>).<a class="pilcrow" href="#section-4.16.1.1-1">¶</a></p>
<p id="section-4.16.1.1-2">An SR Segment Endpoint Node that offers both PSP- and
            non-PSP-flavored behavior advertises them as two different
            SIDs.<a class="pilcrow" href="#section-4.16.1.1-2">¶</a></p>
<p id="section-4.16.1.1-3">The SR Segment Endpoint Node only advertises the PSP flavor if
            the operator enables this capability at the node.<a class="pilcrow" href="#section-4.16.1.1-3">¶</a></p>
<p id="section-4.16.1.1-4">The PSP operation is deterministically controlled by the SR
            source node.<a class="pilcrow" href="#section-4.16.1.1-4">¶</a></p>
<p id="section-4.16.1.1-5">A PSP-flavored SID is used by the SR source node when it needs
            to instruct the penultimate SR Segment Endpoint Node listed in the
            SRH to remove the SRH from the IPv6 header.<a class="pilcrow" href="#section-4.16.1.1-5">¶</a></p>
</section>
<section id="section-4.16.1.2">
            <h5 id="name-definition">
<a class="section-number selfRef" href="#section-4.16.1.2">4.16.1.2. </a><a class="section-name selfRef" href="#name-definition">Definition</a>
            </h5>
<p id="section-4.16.1.2-1">SR Segment Endpoint Nodes receive the IPv6 packet with the
            Destination Address field of the IPv6 header equal to its SID
            address.<a class="pilcrow" href="#section-4.16.1.2-1">¶</a></p>
<p id="section-4.16.1.2-2">A penultimate SR Segment Endpoint Node is one that, as part of
            the SID processing, copies the last SID from the SRH into the IPv6
            Destination Address and decrements the Segments Left value from
            one to zero.<a class="pilcrow" href="#section-4.16.1.2-2">¶</a></p>
<p id="section-4.16.1.2-3">The PSP operation only takes place at a penultimate SR Segment
            Endpoint Node and does not happen at any transit node. When a SID
            of PSP flavor is processed at a non-penultimate SR Segment
            Endpoint Node, the PSP behavior is not performed as described in
            the pseudocode below since Segments Left would not be zero.<a class="pilcrow" href="#section-4.16.1.2-3">¶</a></p>
<p id="section-4.16.1.2-4">The SRH processing of the End, End.X, and End.T behaviors are
            modified: after the instruction "S14. Update IPv6 DA with Segment
            List[Segments Left]" is executed, the following instructions must
            be executed as well:<a class="pilcrow" href="#section-4.16.1.2-4">¶</a></p>
<div id="section-4.16.1.2-5">
<pre class="sourcecode lang-pseudocode">S14.1.   If (Segments Left == 0) {
S14.2.      Update the Next Header field in the preceding header to
               the Next Header value from the SRH
S14.3.      Decrease the IPv6 header Payload Length by
               8*(Hdr Ext Len+1)
S14.4.      Remove the SRH from the IPv6 extension header chain
S14.5.   }
</pre><a class="pilcrow" href="#section-4.16.1.2-5">¶</a>
</div>
<p id="section-4.16.1.2-6">The usage of PSP does not increase the MTU of the IPv6 packet
            and hence does not have any impact on the Path MTU (PMTU)
            discovery mechanism.<a class="pilcrow" href="#section-4.16.1.2-6">¶</a></p>
<p id="section-4.16.1.2-7">As a reminder, <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-5">Section 5</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span> defines the SR Deployment Model
            within the SR Domain <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>. Within this framework, the Authentication
            Header (AH) is not used to secure the SRH as described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-7.5">Section 7.5</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span>. Hence, the discussion of applicability of PSP
            along with AH usage is beyond the scope of this document.<a class="pilcrow" href="#section-4.16.1.2-7">¶</a></p>
<p id="section-4.16.1.2-8">In the context of this specification, the End, End.X, and End.T
            behaviors with PSP do not contravene <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8200#section-4">Section 4</a> of [<a class="xref" href="#RFC8200">RFC8200</a>]</span> because the
            destination address of the incoming packet is the address of the
            node executing the behavior.<a class="pilcrow" href="#section-4.16.1.2-8">¶</a></p>
</section>
<section id="section-4.16.1.3">
            <h5 id="name-use-case">
<a class="section-number selfRef" href="#section-4.16.1.3">4.16.1.3. </a><a class="section-name selfRef" href="#name-use-case">Use Case</a>
            </h5>
<p id="section-4.16.1.3-1">One use case for the PSP functionality is streamlining the operation of an egress border router.<a class="pilcrow" href="#section-4.16.1.3-1">¶</a></p>
<span id="name-psp-use-case-topology"></span><div id="fig-psp">
<figure id="figure-1">
              <div class="artwork art-text alignLeft" id="section-4.16.1.3-2.1">
<pre>  +----------------------------------------------------+
  |                                                    |
+-+-+         +--+         +--+         +--+         +-+-+
|iPE+--------&gt;+R2+--------&gt;+R3+--------&gt;+R4+--------&gt;+ePE|
| R1|         +--+         +--+         +--+         |R5 |
+-+-+ +-----+      +-----+      +-----+      +-----+ +-+-+
  |   |IPv6 |      |IPv6 |      |IPv6 |      |IPv6 |   |
  |   |DA=R3|      |DA=R3|      |DA=R5|      |DA=R5|   |
  |   +-----+      +-----+      +-----+      +-----+   |
  |   | SRH |      | SRH |      | IP  |      | IP  |   |
  |   |SL=1 |      |SL=1 |      +-----+      +-----+   |
  |   | R5  |      | R5  |                             |
  |   +-----+      +-----+                             |
  |   | IP  |      | IP  |                             |
  |   +-----+      +-----+                             |
  |                                                    |
  +----------------------------------------------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-psp-use-case-topology">PSP Use Case Topology</a>
              </figcaption></figure>
</div>
<p id="section-4.16.1.3-3">In the above illustration, for a packet sent from the ingress
         provider edge (iPE) to the egress provider edge (ePE), node R3 is an
         intermediate traffic-engineering waypoint and is the penultimate
         segment endpoint router; this node copies the last segment from the
         SRH into the IPv6 Destination Address and decrements Segments Left to
         0. The Software-Defined Networking (SDN) controller knows that no
         other node after R3 needs to inspect the SRH, and it instructs R3 to
         remove the exhausted SRH from the packet by using a PSP-flavored
         SID.<a class="pilcrow" href="#section-4.16.1.3-3">¶</a></p>
<p id="section-4.16.1.3-4">The benefits for the egress PE are straightforward:<a class="pilcrow" href="#section-4.16.1.3-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.16.1.3-5.1">As part of the decapsulation process, the
            egress PE is required to parse and remove fewer bytes from the
            packet.<a class="pilcrow" href="#section-4.16.1.3-5.1">¶</a>
</li>
              <li class="normal" id="section-4.16.1.3-5.2">If a lookup on an upper-layer IP header is required (e.g.,
              per-VRF VPN), the header is more likely to be within the memory
              accessible to the lookup engine in the forwarding ASIC
              (Application-Specific Integrated Circuit).<a class="pilcrow" href="#section-4.16.1.3-5.2">¶</a>
</li>
            </ul>
</section>
</section>
<section id="section-4.16.2">
          <h4 id="name-usp-ultimate-segment-pop-of">
<a class="section-number selfRef" href="#section-4.16.2">4.16.2. </a><a class="section-name selfRef" href="#name-usp-ultimate-segment-pop-of">USP: Ultimate Segment Pop of the SRH</a>
          </h4>
<p id="section-4.16.2-1">The SRH processing of the End, End.X, and End.T behaviors are modified; the instructions S02-S04 are substituted by the following ones:<a class="pilcrow" href="#section-4.16.2-1">¶</a></p>
<div id="section-4.16.2-2">
<pre class="sourcecode lang-pseudocode">S02.     If (Segments Left == 0) {
S03.1.      Update the Next Header field in the preceding header to
               the Next Header value of the SRH
S03.2.      Decrease the IPv6 header Payload Length by
               8*(Hdr Ext Len+1)
S03.3.      Remove the SRH from the IPv6 extension header chain
S03.4.      Proceed to process the next header in the packet
S04.     }
</pre><a class="pilcrow" href="#section-4.16.2-2">¶</a>
</div>
<p id="section-4.16.2-3">One of the applications of the USP flavor is when a packet with an SRH is destined to an application on hosts with smartNICs ("Smart Network Interface Cards") implementing SRv6. The USP flavor is used to remove the consumed SRH from the extension header chain before sending the packet to the host.<a class="pilcrow" href="#section-4.16.2-3">¶</a></p>
</section>
<section id="section-4.16.3">
          <h4 id="name-usd-ultimate-segment-decaps">
<a class="section-number selfRef" href="#section-4.16.3">4.16.3. </a><a class="section-name selfRef" href="#name-usd-ultimate-segment-decaps">USD: Ultimate Segment Decapsulation</a>
          </h4>
<p id="section-4.16.3-1">The Upper-Layer header processing of the End, End.X, and End.T behaviors are modified as follows:<a class="pilcrow" href="#section-4.16.3-1">¶</a></p>
<p id="section-4.16.3-2">End:<a class="pilcrow" href="#section-4.16.3-2">¶</a></p>
<div id="section-4.16.3-3">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 41(IPv6) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Submit the packet to the egress IPv6 FIB lookup for
           transmission to the new destination
S04. } Else if (Upper-Layer header type == 4(IPv4) ) {
S05.    Remove the outer IPv6 header with all its extension headers
S06.    Submit the packet to the egress IPv4 FIB lookup for
           transmission to the new destination
S07. Else {
S08.    Process as per Section 4.1.1
S09. }
</pre><a class="pilcrow" href="#section-4.16.3-3">¶</a>
</div>
<p id="section-4.16.3-4">End.T:<a class="pilcrow" href="#section-4.16.3-4">¶</a></p>
<div id="section-4.16.3-5">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 41(IPv6) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Set the packet's associated FIB table to T
S04.    Submit the packet to the egress IPv6 FIB lookup for
           transmission to the new destination
S05. } Else if (Upper-Layer header type == 4(IPv4) ) {
S06.    Remove the outer IPv6 header with all its extension headers
S07.    Set the packet's associated FIB table to T
S08.    Submit the packet to the egress IPv4 FIB lookup for
           transmission to the new destination
S09. Else {
S10.    Process as per Section 4.1.1
S11. }
</pre><a class="pilcrow" href="#section-4.16.3-5">¶</a>
</div>
<p id="section-4.16.3-6">End.X:<a class="pilcrow" href="#section-4.16.3-6">¶</a></p>
<div id="section-4.16.3-7">
<pre class="sourcecode lang-pseudocode">S01. If (Upper-Layer header type == 41(IPv6) ||
          Upper-Layer header type == 4(IPv4) ) {
S02.    Remove the outer IPv6 header with all its extension headers
S03.    Forward the exposed IP packet to the L3 adjacency J
S04. } Else {
S05.    Process as per Section 4.1.1
S06. }
</pre><a class="pilcrow" href="#section-4.16.3-7">¶</a>
</div>
<p id="section-4.16.3-8">One of the applications of the USD flavor is the case of a
          Topology Independent Loop-Free Alternate (TI-LFA) in P routers with
          encapsulation. The USD flavor allows the last SR Segment Endpoint Node
          in the repair path list to decapsulate the IPv6 header added at the
          TI-LFA Point of Local Repair and forward the inner packet.<a class="pilcrow" href="#section-4.16.3-8">¶</a></p>
</section>
</section>
</div>
</section>
</div>
<section id="section-5">
      <h2 id="name-sr-policy-headend-behaviors">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-sr-policy-headend-behaviors">SR Policy Headend Behaviors</a>
      </h2>
<p id="section-5-1">This section describes a set of SRv6 Policy Headend <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span> behaviors.<a class="pilcrow" href="#section-5-1">¶</a></p>
<span id="name-sr-policy-headend-behaviors-2"></span><div id="headend">
<table class="center" id="table-2">
        <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-sr-policy-headend-behaviors-2">SR Policy Headend Behaviors</a>
        </caption>
<tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">H.Encaps
      </td>
            <td class="text-left" colspan="1" rowspan="1">SR Headend with Encapsulation in an SR Policy
      </td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">H.Encaps.Red
      </td>
            <td class="text-left" colspan="1" rowspan="1">H.Encaps with Reduced Encapsulation
      </td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">H.Encaps.L2
      </td>
            <td class="text-left" colspan="1" rowspan="1">H.Encaps Applied to Received L2 Frames
      </td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">H.Encaps.L2.Red
      </td>
            <td class="text-left" colspan="1" rowspan="1">H.Encaps.Red Applied to Received L2 Frames
      </td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-5-3">This list is not exhaustive, and future documents may define additional behaviors.<a class="pilcrow" href="#section-5-3">¶</a></p>
<section id="section-5.1">
        <h3 id="name-hencaps-sr-headend-with-enc">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-hencaps-sr-headend-with-enc">H.Encaps: SR Headend with Encapsulation in an SR Policy</a>
        </h3>
<p id="section-5.1-1">Node N receives two packets P1=(A, B2) and P2=(A,B2)(B3, B2, B1;
        SL=1). B2 is neither a local address nor SID of N.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">Node N is configured with an IPv6 address T (e.g., assigned to its
        loopback).<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<p id="section-5.1-3">N steers the transit packets P1 and P2 into an SRv6
        Policy with a Source Address T and a segment list &lt;S1, S2,
        S3&gt;.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
<p id="section-5.1-4">The H.Encaps encapsulation behavior is defined as follows:<a class="pilcrow" href="#section-5.1-4">¶</a></p>
<div id="section-5.1-5">
<pre class="sourcecode lang-pseudocode">S01.   Push an IPv6 header with its own SRH
S02.   Set outer IPv6 SA = T and outer IPv6 DA to the first SID
          in the segment list
S03.   Set outer Payload Length, Traffic Class, Hop Limit, and
          Flow Label fields
S04.   Set the outer Next Header value
S05.   Decrement inner IPv6 Hop Limit or IPv4 TTL
S06.   Submit the packet to the IPv6 module for transmission to S1
</pre><a class="pilcrow" href="#section-5.1-5">¶</a>
</div>
<aside id="section-5.1-6">
          <p id="section-5.1-6.1">Note:<a class="pilcrow" href="#section-5.1-6.1">¶</a></p>
<p id="section-5.1-6.2">
S03: As described in <span>[<a class="xref" href="#RFC2473">RFC2473</a>]</span> and <span>[<a class="xref" href="#RFC6437">RFC6437</a>]</span>.<a class="pilcrow" href="#section-5.1-6.2">¶</a></p>
</aside>
<p id="section-5.1-7">After the H.Encaps behavior, P1' and P2' respectively look like:<a class="pilcrow" href="#section-5.1-7">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1-8.1">(T, S1) (S3, S2, S1; SL=2) (A, B2)<a class="pilcrow" href="#section-5.1-8.1">¶</a>
</li>
          <li class="normal" id="section-5.1-8.2">(T, S1) (S3, S2, S1; SL=2) (A, B2) (B3, B2, B1; SL=1)<a class="pilcrow" href="#section-5.1-8.2">¶</a>
</li>
        </ul>
<p id="section-5.1-9">The received packet is encapsulated unmodified (with the exception of the IPv4 TTL or IPv6 Hop Limit that is decremented as described in <span>[<a class="xref" href="#RFC2473">RFC2473</a>]</span>).<a class="pilcrow" href="#section-5.1-9">¶</a></p>
<p id="section-5.1-10">The H.Encaps behavior is valid for any kind of L3 traffic. This behavior is commonly used for L3VPN with IPv4 and IPv6 deployments. It may be also used for TI-LFA <span>[<a class="xref" href="#I-D.ietf-rtgwg-segment-routing-ti-lfa">SR-TI-LFA</a>]</span> at the Point of Local Repair.<a class="pilcrow" href="#section-5.1-10">¶</a></p>
<p id="section-5.1-11">The push of the SRH <span class="bcp14">MAY</span> be omitted when the SRv6
        Policy only contains one segment and there is no need to use any flag,
        tag, or TLV.<a class="pilcrow" href="#section-5.1-11">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-hencapsred-hencaps-with-red">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-hencapsred-hencaps-with-red">H.Encaps.Red: H.Encaps with Reduced Encapsulation</a>
        </h3>
<p id="section-5.2-1">The H.Encaps.Red behavior is an optimization of the H.Encaps behavior.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">H.Encaps.Red reduces the length of the SRH by excluding the first
        SID in the SRH of the pushed IPv6 header. The first SID is only placed
        in the Destination Address field of the pushed IPv6 header.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">After the H.Encaps.Red behavior, P1' and P2' respectively look like:<a class="pilcrow" href="#section-5.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-4.1">(T, S1) (S3, S2; SL=2) (A, B2)<a class="pilcrow" href="#section-5.2-4.1">¶</a>
</li>
          <li class="normal" id="section-5.2-4.2">(T, S1) (S3, S2; SL=2) (A, B2) (B3, B2, B1; SL=1)<a class="pilcrow" href="#section-5.2-4.2">¶</a>
</li>
        </ul>
<p id="section-5.2-5">The push of the SRH <span class="bcp14">MAY</span> be omitted when the SRv6 Policy only contains one segment and there is no need to use any flag, tag, or TLV.<a class="pilcrow" href="#section-5.2-5">¶</a></p>
</section>
<section id="section-5.3">
        <h3 id="name-hencapsl2-hencaps-applied-t">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-hencapsl2-hencaps-applied-t">H.Encaps.L2: H.Encaps Applied to Received L2 Frames</a>
        </h3>
<p id="section-5.3-1">The H.Encaps.L2 behavior encapsulates a received Ethernet <span>[<a class="xref" href="#IEEE.802.3_2018">IEEE.802.3_2018</a>]</span> frame and its attached VLAN header, if present, in an IPv6 packet with an SRH. The Ethernet frame becomes the payload of the new IPv6 packet.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<p id="section-5.3-2">The Next Header field of the SRH <span class="bcp14">MUST</span> be set to 143.<a class="pilcrow" href="#section-5.3-2">¶</a></p>
<p id="section-5.3-3">The push of the SRH <span class="bcp14">MAY</span> be omitted when the SRv6
        Policy only contains one segment and there is no need to use any flag,
        tag, or TLV.<a class="pilcrow" href="#section-5.3-3">¶</a></p>
<p id="section-5.3-4">The encapsulating node <span class="bcp14">MUST</span> remove the preamble (if
        any) and frame check sequence (FCS) from the Ethernet frame upon
        encapsulation, and the decapsulating node <span class="bcp14">MUST</span>
        regenerate, as required, the preamble and FCS before forwarding the
        Ethernet frame.<a class="pilcrow" href="#section-5.3-4">¶</a></p>
</section>
<section id="section-5.4">
        <h3 id="name-hencapsl2red-hencapsred-app">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-hencapsl2red-hencapsred-app">H.Encaps.L2.Red: H.Encaps.Red Applied to Received L2 Frames</a>
        </h3>
<p id="section-5.4-1">The H.Encaps.L2.Red behavior is an optimization of the H.Encaps.L2 behavior.<a class="pilcrow" href="#section-5.4-1">¶</a></p>
<p id="section-5.4-2">H.Encaps.L2.Red reduces the length of the SRH by excluding the first SID in the SRH of the pushed IPv6 header. The first SID is only placed in the Destination Address field of the pushed IPv6 header.<a class="pilcrow" href="#section-5.4-2">¶</a></p>
<p id="section-5.4-3">The push of the SRH <span class="bcp14">MAY</span> be omitted when the SRv6 Policy only contains one segment and there is no need to use any flag, tag, or TLV.<a class="pilcrow" href="#section-5.4-3">¶</a></p>
</section>
</section>
<section id="section-6">
      <h2 id="name-counters">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-counters">Counters</a>
      </h2>
<p id="section-6-1">A node supporting this document <span class="bcp14">SHOULD</span> implement a pair of traffic counters (one for packets and one for bytes) per local SID entry, for traffic that matched that SID and was processed successfully (i.e., packets that generate ICMP Error Messages or are dropped are not counted). The retrieval of these counters from MIB, NETCONF/YANG, or any other data structure is outside the scope of this document.<a class="pilcrow" href="#section-6-1">¶</a></p>
</section>
<div id="OpsFlowLabel">
<section id="section-7">
      <h2 id="name-flow-based-hash-computation">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-flow-based-hash-computation">Flow-Based Hash Computation</a>
      </h2>
<p id="section-7-1">When a flow-based selection within a set needs to be performed, the
      IPv6 Source Address, the IPv6 Destination Address, and the IPv6 Flow
      Label of the outer IPv6 header <span class="bcp14">MUST</span> be included in the
      flow-based hash.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">This may occur in any of the following scenarios:<a class="pilcrow" href="#section-7-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-3.1">
          <p id="section-7-3.1.1">A FIB lookup is performed and multiple ECMP paths
      exist to the updated destination address.<a class="pilcrow" href="#section-7-3.1.1">¶</a></p>
</li>
        <li class="normal" id="section-7-3.2">
          <p id="section-7-3.2.1">End.X, End.DX4, or End.DX6 is bound to an array of adjacencies.<a class="pilcrow" href="#section-7-3.2.1">¶</a></p>
</li>
        <li class="normal" id="section-7-3.3">
          <p id="section-7-3.3.1">The packet is steered in an SR Policy whose selected
      path has multiple SID lists.<a class="pilcrow" href="#section-7-3.3.1">¶</a></p>
</li>
      </ul>
<p id="section-7-4">Additionally, any transit router in an SRv6 domain includes the outer
      flow label in its ECMP flow-based hash <span>[<a class="xref" href="#RFC6437">RFC6437</a>]</span>.<a class="pilcrow" href="#section-7-4">¶</a></p>
</section>
</div>
<div id="cp">
<section id="section-8">
      <h2 id="name-control-plane">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-control-plane">Control Plane</a>
      </h2>
<p id="section-8-1">In an SDN environment, one expects the controller to explicitly
      provision the SIDs and/or discover them as part of a service discovery
      function. Applications residing on top of the controller could then
      discover the required SIDs and combine them to form a distributed
      network program.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">The concept of "SRv6 Network Programming" refers to the capability of
      an application to encode any complex program as a set of individual
      functions distributed through the network. Some functions relate to
      underlay SLA, others to overlay/tenant, and others to complex
      applications residing in VMs and containers.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3">While not necessary for an SDN control plane, the remainder of this
      section provides a high-level illustrative overview of how control-plane
      protocols may be involved with SRv6. Their specification is outside the
      scope of this document.<a class="pilcrow" href="#section-8-3">¶</a></p>
<div id="igp">
<section id="section-8.1">
        <h3 id="name-igp">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-igp">IGP</a>
        </h3>
<p id="section-8.1-1">The End, End.T, and End.X SIDs express topological behaviors and
        hence are expected to be signaled in the IGP together with the flavors
        PSP, USP, and USD. The IGP should also advertise the Maximum SID
        Depth (MSD) capability of the node for each type of SRv6 operation --
        in particular, the SR source (e.g., H.Encaps), intermediate endpoint
        (e.g., End and End.X), and final endpoint (e.g., End.DX4 and End.DT6)
        behaviors. These capabilities are factored in by an SR source node (or
        a controller) during the SR Policy computation.<a class="pilcrow" href="#section-8.1-1">¶</a></p>
<p id="section-8.1-2">The presence of SIDs in the IGP does not imply any routing semantics to the addresses represented by these SIDs. The routing reachability to an IPv6 address is solely governed by the non-SID-related IGP prefix reachability information that includes locators. Routing is neither governed nor influenced in any way by a SID advertisement in the IGP.<a class="pilcrow" href="#section-8.1-2">¶</a></p>
<p id="section-8.1-3">These SIDs provide important topological behaviors for the IGP to
        build Fast Reroute (FRR) solutions based on TI-LFA <span>[<a class="xref" href="#I-D.ietf-rtgwg-segment-routing-ti-lfa">SR-TI-LFA</a>]</span> and
        for TE processes relying on an IGP topology database to build SR
        Policies.<a class="pilcrow" href="#section-8.1-3">¶</a></p>
</section>
</div>
<section id="section-8.2">
        <h3 id="name-bgp-ls">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-bgp-ls">BGP-LS</a>
        </h3>
<p id="section-8.2-1">BGP-LS provides the functionality for topology discovery that
        includes the SRv6 capabilities of the nodes, their locators, and
        locally instantiated SIDs. This enables controllers or applications to
        build an inter-domain topology that can be used for computation of SR
        Policies using the SRv6 SIDs.<a class="pilcrow" href="#section-8.2-1">¶</a></p>
</section>
<section id="section-8.3">
        <h3 id="name-bgp-ip-vpn-evpn">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-bgp-ip-vpn-evpn">BGP IP/VPN/EVPN</a>
        </h3>
<p id="section-8.3-1">The End.DX4, End.DX6, End.DT4, End.DT6, End.DT46, End.DX2,
        End.DX2V, End.DT2U, and End.DT2M SIDs can be signaled in BGP.<a class="pilcrow" href="#section-8.3-1">¶</a></p>
<p id="section-8.3-2">In some scenarios, an egress PE advertising a VPN route might wish
        to abstract the specific behavior bound to the SID from the ingress PE
        and other routers in the network. In such case, the SID may be
        advertised using the Opaque SRv6 Endpoint Behavior codepoint defined
        in <a class="xref" href="#endpoint_cp_types">Table 6</a>. The details of
        such control-plane signaling mechanisms are out of the scope of this
        document.<a class="pilcrow" href="#section-8.3-2">¶</a></p>
</section>
<section id="section-8.4">
        <h3 id="name-summary">
<a class="section-number selfRef" href="#section-8.4">8.4. </a><a class="section-name selfRef" href="#name-summary">Summary</a>
        </h3>
<p id="section-8.4-1">The following table summarizes which SID behaviors
        may be signaled in which control-plane protocol.<a class="pilcrow" href="#section-8.4-1">¶</a></p>
<span id="name-srv6-locally-instantiated-s"></span><div id="localsid_signaling">
<table class="center" id="table-3">
          <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-srv6-locally-instantiated-s">SRv6 Locally Instantiated SIDs Signaling</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"></th>
              <th class="text-center" colspan="1" rowspan="1">IGP</th>
              <th class="text-center" colspan="1" rowspan="1">BGP-LS</th>
              <th class="text-center" colspan="1" rowspan="1">BGP IP/VPN/EVPN</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End   (PSP, USP, USD)</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.X (PSP, USP, USD)</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.T (PSP, USP, USD)</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DX6</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DX4</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DT6</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DT4</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DT46</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DX2</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DX2V</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DT2U</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.DT2M</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.B6.Encaps</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.B6.Encaps.Red</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">End.B6.BM</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-8.4-3">The following table summarizes which SR Policy Headend capabilities
        may be signaled in which control-plane protocol.<a class="pilcrow" href="#section-8.4-3">¶</a></p>
<span id="name-srv6-policy-headend-behavio"></span><div id="transit_signaling">
<table class="center" id="table-4">
          <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-srv6-policy-headend-behavio">SRv6 Policy Headend Behaviors Signaling</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1"></th>
              <th class="text-center" colspan="1" rowspan="1">IGP</th>
              <th class="text-center" colspan="1" rowspan="1">BGP-LS</th>
              <th class="text-center" colspan="1" rowspan="1">BGP IP/VPN/EVPN</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">H.Encaps</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">H.Encaps.Red</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">H.Encaps.L2</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">H.Encaps.L2.Red</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
              <td class="text-center" colspan="1" rowspan="1">X</td>
              <td class="text-center" colspan="1" rowspan="1"></td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-8.4-5">The previous table describes generic capabilities. It does not
        describe specific instantiated SR Policies.<a class="pilcrow" href="#section-8.4-5">¶</a></p>
<p id="section-8.4-6">For example, a BGP-LS advertisement of H.Encaps behavior would
        describe the capability of node N to perform H.Encaps
        behavior. Specifically, it would describe how many SIDs could be
        pushed by N without significant performance degradation.<a class="pilcrow" href="#section-8.4-6">¶</a></p>
<p id="section-8.4-7"></p>
<p id="section-8.4-8">As a reminder, an SR Policy is always assigned a Binding SID
        <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>. Binding SIDs are also advertised
        in BGP-LS as shown in <a class="xref" href="#localsid_signaling">Table 3</a>. Hence, <a class="xref" href="#transit_signaling">Table 4</a> only focuses on the generic capabilities related to
        H.Encaps.<a class="pilcrow" href="#section-8.4-8">¶</a></p>
</section>
</section>
</div>
<section id="section-9">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-9-1">The security considerations for Segment Routing are discussed in
      <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>.  <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-5">Section 5</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span> describes the SR
      Deployment Model and the requirements for securing the SR Domain. The
      security considerations of <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span> also cover topics
      such as attack vectors and their mitigation mechanisms that also apply
      the behaviors introduced in this document.  Together, they describe the
      required security mechanisms that allow establishment of an SR domain of
      trust.  Having such a well-defined trust boundary is necessary in order
      to operate SRv6-based services for internal traffic while preventing any
      external traffic from accessing or exploiting the SRv6-based services.
      Care and rigor in IPv6 address allocation for use for SRv6 SID
      allocations and network infrastructure addresses, as distinct from IPv6
      addresses allocated for end users and systems (as illustrated in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-5.1">Section 5.1</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span>),
      can provide the clear distinction between internal and external address
      space that is required to maintain the integrity and security of the
      SRv6 Domain.  Additionally, <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span>
      defines a Hashed Message Authentication Code (HMAC) TLV permitting SR
      Segment Endpoint Nodes in the SR domain to verify that the SRH applied to a
      packet was selected by an authorized party and to ensure that the
      segment list is not modified after generation, regardless of the number
      of segments in the segment list. When enabled by local configuration,
      HMAC processing occurs at the beginning of SRH processing as defined in
      <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8754#section-2.1.2.1">Section 2.1.2.1</a> of [<a class="xref" href="#RFC8754">RFC8754</a>]</span>.<a class="pilcrow" href="#section-9-1">¶</a></p>
<p id="section-9-2">This document introduces SRv6 Endpoint and SR Policy Headend
      behaviors for implementation on SRv6-capable nodes in the network. The
      definition of the SR Policy Headend should be consistent with the
      specific behavior used and any local configuration (as specified in
      <a class="xref" href="#upper">Section 4.1.1</a>). As such, this document does not introduce any
      new security considerations.<a class="pilcrow" href="#section-9-2">¶</a></p>
<p id="section-9-3">The SID behaviors specified in this document have the same HMAC TLV
      handling and mutability properties with regard to the Flags, Tag, and Segment List
      field as the SID behavior specified in <span>[<a class="xref" href="#RFC8754">RFC8754</a>]</span>.<a class="pilcrow" href="#section-9-3">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<div id="ianaethernet">
<section id="section-10.1">
        <h3 id="name-ethernet-next-header-type">
<a class="section-number selfRef" href="#section-10.1">10.1. </a><a class="section-name selfRef" href="#name-ethernet-next-header-type">Ethernet Next Header Type</a>
        </h3>
<p id="section-10.1-1">IANA has allocated "Ethernet" (value 143) in the "Assigned
        Internet Protocol Numbers" registry (see <span>&lt;<a href="https://www.iana.org/assignments/protocol-numbers/">https://www.iana.org/assignments/protocol-numbers/</a>&gt;</span>).  
        Value 143 in the Next Header field of an IPv6 header or any extension
        header indicates that the payload is an Ethernet frame <span>[<a class="xref" href="#IEEE.802.3_2018">IEEE.802.3_2018</a>]</span>.<a class="pilcrow" href="#section-10.1-1">¶</a></p>
</section>
</div>
<div id="iana_registry">
<section id="section-10.2">
        <h3 id="name-srv6-endpoint-behaviors-reg">
<a class="section-number selfRef" href="#section-10.2">10.2. </a><a class="section-name selfRef" href="#name-srv6-endpoint-behaviors-reg">SRv6 Endpoint Behaviors Registry</a>
        </h3>
<p id="section-10.2-1">IANA has created a new top-level registry
        called "Segment Routing" (see <span>&lt;<a href="https://www.iana.org/assignments/segment-routing/">https://www.iana.org/assignments/segment-routing/</a>&gt;</span>). This
        registry serves as a top-level registry for all
        Segment Routing subregistries.<a class="pilcrow" href="#section-10.2-1">¶</a></p>
<p id="section-10.2-2">Additionally, IANA has created a new subregistry called "SRv6 Endpoint Behaviors"
        under the top-level "Segment Routing" registry. This
        subregistry maintains 16-bit identifiers for the SRv6 Endpoint
        behaviors. This registry is established to provide consistency for
        control-plane protocols that need to refer to these behaviors. These
        values are not encoded in the function bits within a SID.<a class="pilcrow" href="#section-10.2-2">¶</a></p>
<div id="iana_policy">
<section id="section-10.2.1">
          <h4 id="name-registration-procedures">
<a class="section-number selfRef" href="#section-10.2.1">10.2.1. </a><a class="section-name selfRef" href="#name-registration-procedures">Registration Procedures</a>
          </h4>
<p id="section-10.2.1-1">The range of the registry is 0-65535 (0x0000-0xFFFF). The table below contains the allocation ranges and 
        registration policies <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span> for each:<a class="pilcrow" href="#section-10.2.1-1">¶</a></p>
<span id="name-registration-procedures-2"></span><div id="endpoint_cp_codepoint_ranges">
<table class="center" id="table-5">
            <caption>
<a class="selfRef" href="#table-5">Table 5</a>:
<a class="selfRef" href="#name-registration-procedures-2">Registration Procedures</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Range</th>
                <th class="text-center" colspan="1" rowspan="1">Range (Hex)</th>
                <th class="text-center" colspan="1" rowspan="1">Registration Procedures</th>
                <th class="text-center" colspan="1" rowspan="1">Note</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-center" colspan="1" rowspan="1">0x0000</td>
                <td class="text-center" colspan="1" rowspan="1">Reserved</td>
                <td class="text-center" colspan="1" rowspan="1">Not to be allocated</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">1-32767</td>
                <td class="text-center" colspan="1" rowspan="1">0x0001-0x7FFF</td>
                <td class="text-center" colspan="1" rowspan="1">First Come First Served</td>
                <td class="text-center" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">32768-34815</td>
                <td class="text-center" colspan="1" rowspan="1">0x8000-0x87FF</td>
                <td class="text-center" colspan="1" rowspan="1">Private Use</td>
                <td class="text-center" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">34816-65534</td>
                <td class="text-center" colspan="1" rowspan="1">0x8800-0xFFFE</td>
                <td class="text-center" colspan="1" rowspan="1">Reserved</td>
                <td class="text-center" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">65535</td>
                <td class="text-center" colspan="1" rowspan="1">0xFFFF</td>
                <td class="text-center" colspan="1" rowspan="1">Reserved</td>
                <td class="text-center" colspan="1" rowspan="1">Opaque</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</div>
<section id="section-10.2.2">
          <h4 id="name-initial-registrations">
<a class="section-number selfRef" href="#section-10.2.2">10.2.2. </a><a class="section-name selfRef" href="#name-initial-registrations">Initial Registrations</a>
          </h4>
<p id="section-10.2.2-1">The initial registrations for the subregistry are as follows:<a class="pilcrow" href="#section-10.2.2-1">¶</a></p>
<span id="name-initial-registrations-2"></span><div id="endpoint_cp_types">
<table class="center" id="table-6">
            <caption>
<a class="selfRef" href="#table-6">Table 6</a>:
<a class="selfRef" href="#name-initial-registrations-2">Initial Registrations</a>
            </caption>
<thead>
              <tr>
                <th class="text-left" colspan="1" rowspan="1">Value</th>
                <th class="text-center" colspan="1" rowspan="1">Hex</th>
                <th class="text-center" colspan="1" rowspan="1">Endpoint Behavior</th>
                <th class="text-center" colspan="1" rowspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">0</td>
                <td class="text-center" colspan="1" rowspan="1">0x0000</td>
                <td class="text-center" colspan="1" rowspan="1">Reserved</td>
                <td class="text-center" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">1</td>
                <td class="text-center" colspan="1" rowspan="1">0x0001</td>
                <td class="text-center" colspan="1" rowspan="1">End</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">2</td>
                <td class="text-center" colspan="1" rowspan="1">0x0002</td>
                <td class="text-center" colspan="1" rowspan="1">End with PSP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">3</td>
                <td class="text-center" colspan="1" rowspan="1">0x0003</td>
                <td class="text-center" colspan="1" rowspan="1">End with USP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">4</td>
                <td class="text-center" colspan="1" rowspan="1">0x0004</td>
                <td class="text-center" colspan="1" rowspan="1">End with PSP &amp; USP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">5</td>
                <td class="text-center" colspan="1" rowspan="1">0x0005</td>
                <td class="text-center" colspan="1" rowspan="1">End.X</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">6</td>
                <td class="text-center" colspan="1" rowspan="1">0x0006</td>
                <td class="text-center" colspan="1" rowspan="1">End.X with PSP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">7</td>
                <td class="text-center" colspan="1" rowspan="1">0x0007</td>
                <td class="text-center" colspan="1" rowspan="1">End.X with USP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">8</td>
                <td class="text-center" colspan="1" rowspan="1">0x0008</td>
                <td class="text-center" colspan="1" rowspan="1">End.X with PSP &amp; USP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">9</td>
                <td class="text-center" colspan="1" rowspan="1">0x0009</td>
                <td class="text-center" colspan="1" rowspan="1">End.T</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">10</td>
                <td class="text-center" colspan="1" rowspan="1">0x000A</td>
                <td class="text-center" colspan="1" rowspan="1">End.T with PSP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">11</td>
                <td class="text-center" colspan="1" rowspan="1">0x000B</td>
                <td class="text-center" colspan="1" rowspan="1">End.T with USP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">12</td>
                <td class="text-center" colspan="1" rowspan="1">0x000C</td>
                <td class="text-center" colspan="1" rowspan="1">End.T with PSP &amp; USP</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">13</td>
                <td class="text-center" colspan="1" rowspan="1">0x000D</td>
                <td class="text-center" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-center" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">14</td>
                <td class="text-center" colspan="1" rowspan="1">0x000E</td>
                <td class="text-center" colspan="1" rowspan="1">End.B6.Encaps</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">15</td>
                <td class="text-center" colspan="1" rowspan="1">0x000F</td>
                <td class="text-center" colspan="1" rowspan="1">End.BM</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">16</td>
                <td class="text-center" colspan="1" rowspan="1">0x0010</td>
                <td class="text-center" colspan="1" rowspan="1">End.DX6</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">17</td>
                <td class="text-center" colspan="1" rowspan="1">0x0011</td>
                <td class="text-center" colspan="1" rowspan="1">End.DX4</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">18</td>
                <td class="text-center" colspan="1" rowspan="1">0x0012</td>
                <td class="text-center" colspan="1" rowspan="1">End.DT6</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">19</td>
                <td class="text-center" colspan="1" rowspan="1">0x0013</td>
                <td class="text-center" colspan="1" rowspan="1">End.DT4</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">20</td>
                <td class="text-center" colspan="1" rowspan="1">0x0014</td>
                <td class="text-center" colspan="1" rowspan="1">End.DT46</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">21</td>
                <td class="text-center" colspan="1" rowspan="1">0x0015</td>
                <td class="text-center" colspan="1" rowspan="1">End.DX2</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">22</td>
                <td class="text-center" colspan="1" rowspan="1">0x0016</td>
                <td class="text-center" colspan="1" rowspan="1">End.DX2V</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">23</td>
                <td class="text-center" colspan="1" rowspan="1">0x0017</td>
                <td class="text-center" colspan="1" rowspan="1">End.DT2U</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">24</td>
                <td class="text-center" colspan="1" rowspan="1">0x0018</td>
                <td class="text-center" colspan="1" rowspan="1">End.DT2M</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">25</td>
                <td class="text-center" colspan="1" rowspan="1">0x0019</td>
                <td class="text-center" colspan="1" rowspan="1">Reserved</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">26</td>
                <td class="text-center" colspan="1" rowspan="1">0x001A</td>
                <td class="text-center" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-center" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">27</td>
                <td class="text-center" colspan="1" rowspan="1">0x001B</td>
                <td class="text-center" colspan="1" rowspan="1">End.B6.Encaps.Red</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">28</td>
                <td class="text-center" colspan="1" rowspan="1">0x001C</td>
                <td class="text-center" colspan="1" rowspan="1">End with USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">29</td>
                <td class="text-center" colspan="1" rowspan="1">0x001D</td>
                <td class="text-center" colspan="1" rowspan="1">End with PSP &amp; USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">30</td>
                <td class="text-center" colspan="1" rowspan="1">0x001E</td>
                <td class="text-center" colspan="1" rowspan="1">End with USP &amp; USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">31</td>
                <td class="text-center" colspan="1" rowspan="1">0x001F</td>
                <td class="text-center" colspan="1" rowspan="1">End with PSP, USP  &amp;  USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">32</td>
                <td class="text-center" colspan="1" rowspan="1">0x0020</td>
                <td class="text-center" colspan="1" rowspan="1">End.X with USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">33</td>
                <td class="text-center" colspan="1" rowspan="1">0x0021</td>
                <td class="text-center" colspan="1" rowspan="1">End.X with PSP &amp; USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">34</td>
                <td class="text-center" colspan="1" rowspan="1">0x0022</td>
                <td class="text-center" colspan="1" rowspan="1">End.X with USP &amp; USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">35</td>
                <td class="text-center" colspan="1" rowspan="1">0x0023</td>
                <td class="text-center" colspan="1" rowspan="1">End.X with PSP, USP &amp; USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">36</td>
                <td class="text-center" colspan="1" rowspan="1">0x0024</td>
                <td class="text-center" colspan="1" rowspan="1">End.T with USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">37</td>
                <td class="text-center" colspan="1" rowspan="1">0x0025</td>
                <td class="text-center" colspan="1" rowspan="1">End.T with PSP &amp; USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">38</td>
                <td class="text-center" colspan="1" rowspan="1">0x0026</td>
                <td class="text-center" colspan="1" rowspan="1">End.T with USP &amp; USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">39</td>
                <td class="text-center" colspan="1" rowspan="1">0x0027</td>
                <td class="text-center" colspan="1" rowspan="1">End.T with PSP, USP &amp; USD</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">40-32766</td>
                <td class="text-center" colspan="1" rowspan="1">0x0028-0x7FFE</td>
                <td class="text-center" colspan="1" rowspan="1">Unassigned</td>
                <td class="text-center" colspan="1" rowspan="1"></td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">32767</td>
                <td class="text-center" colspan="1" rowspan="1">0x7FFF</td>
                <td class="text-center" colspan="1" rowspan="1">The SID defined in RFC 8754</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986, RFC 8754</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">32768-34815</td>
                <td class="text-center" colspan="1" rowspan="1">0x8000-0x87FF</td>
                <td class="text-center" colspan="1" rowspan="1">Reserved for Private Use</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">34816-65534</td>
                <td class="text-center" colspan="1" rowspan="1">0x8800-0xFFFE</td>
                <td class="text-center" colspan="1" rowspan="1">Reserved</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
              <tr>
                <td class="text-left" colspan="1" rowspan="1">65535</td>
                <td class="text-center" colspan="1" rowspan="1">0xFFFF</td>
                <td class="text-center" colspan="1" rowspan="1">Opaque</td>
                <td class="text-center" colspan="1" rowspan="1">RFC 8986</td>
              </tr>
            </tbody>
          </table>
</div>
</section>
</section>
</div>
</section>
<section id="section-11">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-11.1">11.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="IEEE.802.3_2018">[IEEE.802.3_2018]</dt>
        <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Ethernet"</span>, <span class="refContent">IEEE 802.3-2018</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2018.8457469</span>, <time class="refDate" datetime="2018-08-31">31 August 2018</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8457469">https://ieeexplore.ieee.org/document/8457469</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2473">[RFC2473]</dt>
        <dd>
<span class="refAuthor">Conta, A.</span><span class="refAuthor"> and S. Deering</span>, <span class="refTitle">"Generic Packet Tunneling in IPv6 Specification"</span>, <span class="seriesInfo">RFC 2473</span>, <span class="seriesInfo">DOI 10.17487/RFC2473</span>, <time class="refDate" datetime="1998-12">December 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2473">https://www.rfc-editor.org/info/rfc2473</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6437">[RFC6437]</dt>
        <dd>
<span class="refAuthor">Amante, S.</span><span class="refAuthor">, Carpenter, B.</span><span class="refAuthor">, Jiang, S.</span><span class="refAuthor">, and J. Rajahalme</span>, <span class="refTitle">"IPv6 Flow Label Specification"</span>, <span class="seriesInfo">RFC 6437</span>, <span class="seriesInfo">DOI 10.17487/RFC6437</span>, <time class="refDate" datetime="2011-11">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6437">https://www.rfc-editor.org/info/rfc6437</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span><span class="refAuthor"> and R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time class="refDate" datetime="2017-07">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span><span class="refAuthor">, Previdi, S., Ed.</span><span class="refAuthor">, Ginsberg, L.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, Litkowski, S.</span><span class="refAuthor">, and R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time class="refDate" datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8754">[RFC8754]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span><span class="refAuthor">, Dukes, D., Ed.</span><span class="refAuthor">, Previdi, S.</span><span class="refAuthor">, Leddy, J.</span><span class="refAuthor">, Matsushima, S.</span><span class="refAuthor">, and D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="seriesInfo">RFC 8754</span>, <span class="seriesInfo">DOI 10.17487/RFC8754</span>, <time class="refDate" datetime="2020-03">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-11.2">11.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC4193">[RFC4193]</dt>
        <dd>
<span class="refAuthor">Hinden, R.</span><span class="refAuthor"> and B. Haberman</span>, <span class="refTitle">"Unique Local IPv6 Unicast Addresses"</span>, <span class="seriesInfo">RFC 4193</span>, <span class="seriesInfo">DOI 10.17487/RFC4193</span>, <time class="refDate" datetime="2005-10">October 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4193">https://www.rfc-editor.org/info/rfc4193</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4364">[RFC4364]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span><span class="refAuthor"> and Y. Rekhter</span>, <span class="refTitle">"BGP/MPLS IP Virtual Private Networks (VPNs)"</span>, <span class="seriesInfo">RFC 4364</span>, <span class="seriesInfo">DOI 10.17487/RFC4364</span>, <time class="refDate" datetime="2006-02">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4364">https://www.rfc-editor.org/info/rfc4364</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4664">[RFC4664]</dt>
        <dd>
<span class="refAuthor">Andersson, L., Ed.</span><span class="refAuthor"> and E. Rosen, Ed.</span>, <span class="refTitle">"Framework for Layer 2 Virtual Private Networks (L2VPNs)"</span>, <span class="seriesInfo">RFC 4664</span>, <span class="seriesInfo">DOI 10.17487/RFC4664</span>, <time class="refDate" datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4664">https://www.rfc-editor.org/info/rfc4664</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4761">[RFC4761]</dt>
        <dd>
<span class="refAuthor">Kompella, K., Ed.</span><span class="refAuthor"> and Y. Rekhter, Ed.</span>, <span class="refTitle">"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling"</span>, <span class="seriesInfo">RFC 4761</span>, <span class="seriesInfo">DOI 10.17487/RFC4761</span>, <time class="refDate" datetime="2007-01">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4761">https://www.rfc-editor.org/info/rfc4761</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4762">[RFC4762]</dt>
        <dd>
<span class="refAuthor">Lasserre, M., Ed.</span><span class="refAuthor"> and V. Kompella, Ed.</span>, <span class="refTitle">"Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling"</span>, <span class="seriesInfo">RFC 4762</span>, <span class="seriesInfo">DOI 10.17487/RFC4762</span>, <time class="refDate" datetime="2007-01">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4762">https://www.rfc-editor.org/info/rfc4762</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7432">[RFC7432]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span><span class="refAuthor">, Aggarwal, R.</span><span class="refAuthor">, Bitar, N.</span><span class="refAuthor">, Isaac, A.</span><span class="refAuthor">, Uttaro, J.</span><span class="refAuthor">, Drake, J.</span><span class="refAuthor">, and W. Henderickx</span>, <span class="refTitle">"BGP MPLS-Based Ethernet VPN"</span>, <span class="seriesInfo">RFC 7432</span>, <span class="seriesInfo">DOI 10.17487/RFC7432</span>, <time class="refDate" datetime="2015-02">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7432">https://www.rfc-editor.org/info/rfc7432</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span><span class="refAuthor">, Leiba, B.</span><span class="refAuthor">, and T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8214">[RFC8214]</dt>
        <dd>
<span class="refAuthor">Boutros, S.</span><span class="refAuthor">, Sajassi, A.</span><span class="refAuthor">, Salam, S.</span><span class="refAuthor">, Drake, J.</span><span class="refAuthor">, and J. Rabadan</span>, <span class="refTitle">"Virtual Private Wire Service Support in Ethernet VPN"</span>, <span class="seriesInfo">RFC 8214</span>, <span class="seriesInfo">DOI 10.17487/RFC8214</span>, <time class="refDate" datetime="2017-08">August 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8214">https://www.rfc-editor.org/info/rfc8214</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8317">[RFC8317]</dt>
        <dd>
<span class="refAuthor">Sajassi, A., Ed.</span><span class="refAuthor">, Salam, S.</span><span class="refAuthor">, Drake, J.</span><span class="refAuthor">, Uttaro, J.</span><span class="refAuthor">, Boutros, S.</span><span class="refAuthor">, and J. Rabadan</span>, <span class="refTitle">"Ethernet-Tree (E-Tree) Support in Ethernet VPN (EVPN) and Provider Backbone Bridging EVPN (PBB-EVPN)"</span>, <span class="seriesInfo">RFC 8317</span>, <span class="seriesInfo">DOI 10.17487/RFC8317</span>, <time class="refDate" datetime="2018-01">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8317">https://www.rfc-editor.org/info/rfc8317</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-rtgwg-segment-routing-ti-lfa">[SR-TI-LFA]</dt>
        <dd>
<span class="refAuthor">Litkowski, S.</span><span class="refAuthor">, Bashandy, A.</span><span class="refAuthor">, Filsfils, C.</span><span class="refAuthor">, Francois, P.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, and D. Voyer</span>, <span class="refTitle">"Topology Independent Fast Reroute using Segment Routing"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtgwg-segment-routing-ti-lfa-06</span>, <time class="refDate" datetime="2021-02-01">1 February 2021</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-rtgwg-segment-routing-ti-lfa-06">https://tools.ietf.org/html/draft-ietf-rtgwg-segment-routing-ti-lfa-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.filsfils-spring-srv6-net-pgm-illustration">[SRV6-NET-PGM-ILLUST]</dt>
      <dd>
<span class="refAuthor">Filsfils, C.</span><span class="refAuthor">, Camarillo, P., Ed.</span><span class="refAuthor">, Li, Z.</span><span class="refAuthor">, Matsushima, S.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, Steinberg, D.</span><span class="refAuthor">, Lebrun, D.</span><span class="refAuthor">, Raszuk, R.</span><span class="refAuthor">, and J. Leddy</span>, <span class="refTitle">"Illustrations for SRv6 Network Programming"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-filsfils-spring-srv6-net-pgm-illustration-03</span>, <time class="refDate" datetime="2020-09-25">25 September 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-filsfils-spring-srv6-net-pgm-illustration-03">https://tools.ietf.org/html/draft-filsfils-spring-srv6-net-pgm-illustration-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Acknowledgements">
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">The authors would like to acknowledge <span class="contact-name">Stefano Previdi</span>, <span class="contact-name">Dave Barach</span>, <span class="contact-name">Mark Townsley</span>, <span class="contact-name">Peter Psenak</span>, <span class="contact-name">Thierry Couture</span>, <span class="contact-name">Kris Michielsen</span>, <span class="contact-name">Paul Wells</span>, <span class="contact-name">Robert Hanzl</span>, <span class="contact-name">Dan Ye</span>, <span class="contact-name">Gaurav Dawra</span>, <span class="contact-name">Faisal Iqbal</span>, <span class="contact-name">Jaganbabu Rajamanickam</span>, <span class="contact-name">David Toscano</span>, <span class="contact-name">Asif Islam</span>, <span class="contact-name">Jianda Liu</span>, <span class="contact-name">Yunpeng Zhang</span>, <span class="contact-name">Jiaoming Li</span>, <span class="contact-name">Narendra A.K</span>, <span class="contact-name">Mike Mc Gourty</span>, <span class="contact-name">Bhupendra Yadav</span>, <span class="contact-name">Sherif Toulan</span>, <span class="contact-name">Satish Damodaran</span>, <span class="contact-name">John Bettink</span>, <span class="contact-name">Kishore Nandyala Veera Venk</span>, <span class="contact-name">Jisu Bhattacharya</span>, <span class="contact-name">Saleem Hafeez</span>, and <span class="contact-name">Brian Carpenter</span>.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
</section>
</div>
<section id="section-appendix.b">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Daniel Bernier</span></div>
<div class="left" dir="auto"><span class="org">Bell Canada</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:daniel.bernier@bell.ca">daniel.bernier@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Dirk Steinberg</span></div>
<div class="left" dir="auto"><span class="org">Lapishills Consulting Limited</span></div>
<div class="left" dir="auto"><span class="country-name">Cyprus</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:dirk@lapishills.com">dirk@lapishills.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Robert Raszuk</span></div>
<div class="left" dir="auto"><span class="org">Bloomberg LP</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:robert@raszuk.net">robert@raszuk.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Bruno Decraene</span></div>
<div class="left" dir="auto"><span class="org">Orange</span></div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:bruno.decraene@orange.com">bruno.decraene@orange.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Bart Peirens</span></div>
<div class="left" dir="auto"><span class="org">Proximus</span></div>
<div class="left" dir="auto"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:bart.peirens@proximus.com">bart.peirens@proximus.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Hani Elmalky</span></div>
<div class="left" dir="auto"><span class="org">Google</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:helmalky@google.com">helmalky@google.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Prem Jonnalagadda</span></div>
<div class="left" dir="auto"><span class="org">Barefoot Networks</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:prem@barefootnetworks.com">prem@barefootnetworks.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Milad Sharif</span></div>
<div class="left" dir="auto"><span class="org">SambaNova Systems</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:milad.sharif@sambanova.ai">milad.sharif@sambanova.ai</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">David Lebrun</span></div>
<div class="left" dir="auto"><span class="org">Google</span></div>
<div class="left" dir="auto"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:dlebrun@google.com">dlebrun@google.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Stefano Salsano</span></div>
<div class="left" dir="auto"><span class="org">Universita di Roma "Tor Vergata"</span></div>
<div class="left" dir="auto"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:stefano.salsano@uniroma2.it">stefano.salsano@uniroma2.it</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ahmed AbdelSalam</span></div>
<div class="left" dir="auto"><span class="org">Gran Sasso Science Institute</span></div>
<div class="left" dir="auto"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ahmed.abdelsalam@gssi.it">ahmed.abdelsalam@gssi.it</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Gaurav Naik</span></div>
<div class="left" dir="auto"><span class="org">Drexel University</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:gn@drexel.edu">gn@drexel.edu</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Arthi Ayyangar</span></div>
<div class="left" dir="auto"><span class="org">Arrcus, Inc</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:arthi@arrcus.com">arthi@arrcus.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Satish Mynam</span></div>
<div class="left" dir="auto"><span class="org">Arrcus, Inc</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:satishm@arrcus.com">satishm@arrcus.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Wim Henderickx</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:wim.henderickx@nokia.com">wim.henderickx@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Shaowen Ma</span></div>
<div class="left" dir="auto"><span class="org">Juniper</span></div>
<div class="left" dir="auto"><span class="country-name">Singapore</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mashao@juniper.net">mashao@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ahmed Bashandy</span></div>
<div class="left" dir="auto"><span class="org">Individual</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:abashandy.ietf@gmail.com">abashandy.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Francois Clad</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:fclad@cisco.com">fclad@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Kamran Raza</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:skraza@cisco.com">skraza@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Darren Dukes</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ddukes@cisco.com">ddukes@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Patrice Brissete</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pbrisset@cisco.com">pbrisset@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Zafar Ali</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:zali@cisco.com">zali@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ketan Talaulikar</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ketant@cisco.com">ketant@cisco.com</a>
</div>
</address>
</section>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Clarence Filsfils (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cf@cisco.com">cf@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Pablo Camarillo Garvia (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="country-name">Spain</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pcamaril@cisco.com">pcamaril@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">John Leddy</span></div>
<div class="left" dir="auto"><span class="org">Akamai Technologies</span></div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:john@leddy.net">john@leddy.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Daniel Voyer</span></div>
<div class="left" dir="auto"><span class="org">Bell Canada</span></div>
<div class="left" dir="auto"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:daniel.voyer@bell.ca">daniel.voyer@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Satoru Matsushima</span></div>
<div class="left" dir="auto"><span class="org">SoftBank</span></div>
<div class="left" dir="auto"><span class="country-name">Japan</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:satoru.matsushima@g.softbank.co.jp">satoru.matsushima@g.softbank.co.jp</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Zhenbin Li</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:lizhenbin@huawei.com">lizhenbin@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>