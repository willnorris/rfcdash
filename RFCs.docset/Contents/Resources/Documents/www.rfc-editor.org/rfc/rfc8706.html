<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8706: Restart Signaling for IS-IS</title>
<meta content="Les Ginsberg" name="author"/>
<meta content="Paul Wells" name="author"/>
<meta content="
       This document describes a mechanism for a restarting router to signal
      to its neighbors that it is restarting, allowing them to reestablish
      their adjacencies without cycling through the DOWN state while still
      correctly initiating database synchronization. 
       This document additionally describes a mechanism for a router to
      signal its neighbors that it is preparing to initiate a restart while
      maintaining forwarding-plane state. This allows the neighbors to
      maintain their adjacencies until the router has restarted but also
      allows the neighbors
      to bring the adjacencies down in the event of other
      topology changes. 
       This document additionally describes a mechanism for a restarting
      router to determine when it has achieved Link State Protocol Data Unit
      (LSP) database synchronization with its neighbors and a mechanism to
      optimize LSP database synchronization while minimizing transient
      routing disruption when a router starts. 
       This document obsoletes RFC 5306. 
    " name="description"/>
<meta content="xml2rfc 2.40.0" name="generator"/>
<meta content="IGP" name="keyword"/>
<meta content="IS-IS" name="keyword"/>
<meta content="graceful restart" name="keyword"/>
<meta content="8706" name="rfc.number"/>
<link href="rfc8706.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/*
  The margin-left: 0 on <dd> removes all distinction
  between levels from nested <dl>s.  Undo that.
*/
dl.olPercent > dd,
dd {
  margin-left: revert;
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8706" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-lsr-isis-rfc5306bis-09" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8706</td>
<td class="center">Restart Signaling for IS-IS</td>
<td class="right">February 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Ginsberg &amp; Wells</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8706">8706</a></dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc5306">5306</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2020-02">February 2020</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">L. Ginsberg</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">P. Wells</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8706</h1>
<h1 id="title">Restart Signaling for IS-IS</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document describes a mechanism for a restarting router to signal
      to its neighbors that it is restarting, allowing them to reestablish
      their adjacencies without cycling through the DOWN state while still
      correctly initiating database synchronization.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">This document additionally describes a mechanism for a router to
      signal its neighbors that it is preparing to initiate a restart while
      maintaining forwarding-plane state. This allows the neighbors to
      maintain their adjacencies until the router has restarted but also
      allows the neighbors
      to bring the adjacencies down in the event of other
      topology changes.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
<p id="section-abstract-3">This document additionally describes a mechanism for a restarting
      router to determine when it has achieved Link State Protocol Data Unit
      (LSP) database synchronization with its neighbors and a mechanism to
      optimize LSP database synchronization while minimizing transient
      routing disruption when a router starts.<a class="pilcrow" href="#section-abstract-3">¶</a></p>
<p id="section-abstract-4">This document obsoletes RFC 5306.<a class="pilcrow" href="#section-abstract-4">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8706">https://www.rfc-editor.org/info/rfc8706</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-overview">Overview</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-conventions-used-in-this-do">Conventions Used in This Document</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a><a class="pilcrow" href="#section-toc.1-1.2.2.1.1">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-approach">Approach</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-timers">Timers</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-restart-tlv">Restart TLV</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a class="xref" href="#section-3.2.1">3.2.1</a>.  <a class="xref" href="#name-use-of-rr-and-ra-bits">Use of RR and RA Bits</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.2.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a class="xref" href="#section-3.2.2">3.2.2</a>.  <a class="xref" href="#name-use-of-the-sa-bit">Use of the SA Bit</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.2.2.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.3">
                    <p id="section-toc.1-1.3.2.2.2.3.1"><a class="xref" href="#section-3.2.3">3.2.3</a>.  <a class="xref" href="#name-use-of-pr-and-pa-bits">Use of PR and PA Bits</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.2.3.1">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-adjacency-reacquisition">Adjacency (Re)Acquisition</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a class="xref" href="#section-3.3.1">3.3.1</a>.  <a class="xref" href="#name-adjacency-reacquisition-dur">Adjacency Reacquisition during Restart</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.2.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.2">
                    <p id="section-toc.1-1.3.2.3.2.2.1"><a class="xref" href="#section-3.3.2">3.3.2</a>.  <a class="xref" href="#name-adjacency-acquisition-durin">Adjacency Acquisition during Start</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.2.2.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.3">
                    <p id="section-toc.1-1.3.2.3.2.3.1"><a class="xref" href="#section-3.3.3">3.3.3</a>.  <a class="xref" href="#name-multiple-levels">Multiple Levels</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.2.3.1">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="xref" href="#section-3.4">3.4</a>.  <a class="xref" href="#name-database-synchronization">Database Synchronization</a><a class="pilcrow" href="#section-toc.1-1.3.2.4.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a class="xref" href="#section-3.4.1">3.4.1</a>.  <a class="xref" href="#name-lsp-generation-and-flooding">LSP Generation and Flooding and SPF Computation</a><a class="pilcrow" href="#section-toc.1-1.3.2.4.2.1.1">¶</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-state-tables">State Tables</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-running-router">Running Router</a><a class="pilcrow" href="#section-toc.1-1.4.2.1.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-restarting-router">Restarting Router</a><a class="pilcrow" href="#section-toc.1-1.4.2.2.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-starting-router">Starting Router</a><a class="pilcrow" href="#section-toc.1-1.4.2.3.1">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-manageability-consideration">Manageability Considerations</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-appendix.a">Appendix A</a>.  <a class="xref" href="#name-summary-of-changes-from-rfc">Summary of Changes from RFC 5306</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-overview">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-overview">Overview</a>
      </h2>
<p id="section-1-1">The Intermediate System to Intermediate System (IS-IS) routing
      protocol <span>[<a class="xref" href="#RFC1195">RFC1195</a>]</span> <span>[<a class="xref" href="#ISO10589">ISO10589</a>]</span> is a link state intra-domain routing
      protocol. Normally, when an IS-IS router is restarted, temporary
      disruption of routing occurs due to events in both the restarting router
      and the neighbors of the restarting router.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">The router that has been restarted computes its own routes before
      achieving database synchronization with its neighbors. The results of
      this computation are likely to be non-convergent with the routes
      computed by other routers in the area/domain.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">Neighbors of the restarting router detect the restart event and cycle
      their adjacencies with the restarting router through the DOWN state. The
      cycling of the adjacency state causes the neighbors to regenerate their
      LSPs describing the adjacency concerned. This in turn causes a temporary
      disruption of routes passing through the restarting router.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">In certain scenarios, the temporary disruption of the routes is
      highly undesirable. This document describes mechanisms to avoid or
      minimize the disruption due to both of these causes.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">When an adjacency is reinitialized as a result of a neighbor
      restarting, a router does three things:<a class="pilcrow" href="#section-1-5">¶</a></p>
<ol class="normal type-1" id="section-1-6" start="1" type="1">
        <li id="section-1-6.1">It causes its own LSP(s) to be regenerated, thus triggering
 Shortest Path First (SPF)
          runs throughout the area (or in the case of Level 2, throughout the
          domain).<a class="pilcrow" href="#section-1-6.1">¶</a>
</li>
<li id="section-1-6.2">It sets SRMflags on its own LSP database on the adjacency
          concerned.<a class="pilcrow" href="#section-1-6.2">¶</a>
</li>
<li id="section-1-6.3">In the case of a Point-to-Point link, it transmits a complete set
          of Complete Sequence Number PDUs (CSNPs), over the adjacency.<a class="pilcrow" href="#section-1-6.3">¶</a>
</li>
</ol>
<p id="section-1-7">In the case of a restarting router process, the first of these is
      highly undesirable, but the second is essential in order to ensure
      synchronization of the LSP database.<a class="pilcrow" href="#section-1-7">¶</a></p>
<p id="section-1-8">The third action above minimizes the number of LSPs that must be
      exchanged and, if made reliable, provides a means of determining when
      the LSP databases of the neighboring routers have been synchronized.
      This is desirable whether or not the router is being restarted (so that
      the overload bit can be cleared in the router's own LSP, for
      example).<a class="pilcrow" href="#section-1-8">¶</a></p>
<p id="section-1-9">This document describes a mechanism for a restarting router to signal
      to its neighbors that it is restarting. The mechanism further allows the
      neighbors to reestablish their adjacencies with the restarting router
      without cycling through the DOWN state while still correctly initiating
      database synchronization.<a class="pilcrow" href="#section-1-9">¶</a></p>
<p id="section-1-10">This document additionally describes a mechanism for a restarting
      router to determine when it has achieved LSP database synchronization
      with its neighbors and a mechanism to optimize LSP database
      synchronization and minimize transient routing disruption when a router
      starts.<a class="pilcrow" href="#section-1-10">¶</a></p>
<p id="section-1-11">It is assumed that the three-way handshake <span>[<a class="xref" href="#RFC5303">RFC5303</a>]</span>
      is being used on Point-to-Point circuits.<a class="pilcrow" href="#section-1-11">¶</a></p>
</section>
<div id="conventions">
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-conventions-used-in-this-do">Conventions Used in This Document</a>
      </h2>
<p id="section-2-1">If the control and forwarding functions in a router can be maintained
      independently, it is possible for the forwarding function state to be
      maintained across a resumption of control function operations. This
      functionality is assumed when the terms "restart/restarting" are used in
      this document.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">The terms "start/starting" are used to refer to a router in which the
      control function has either commenced operations for the first time or
      has resumed operations, but the forwarding functions have not been
      maintained in a prior state.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">The terms "(re)start/(re)starting" are used when the text is
      applicable to both a "starting" and a "restarting" router.<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4">The terms "normal IIH" or "IIH normal" refer to IS-IS Hellos (IIHs)
      in which the Restart TLV (defined later in this document) has no flags
      set.<a class="pilcrow" href="#section-2-4">¶</a></p>
<section id="section-2.1">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-2.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
</section>
</section>
</div>
<section id="section-3">
      <h2 id="name-approach">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-approach">Approach</a>
      </h2>
<section id="section-3.1">
        <h3 id="name-timers">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-timers">Timers</a>
        </h3>
<p id="section-3.1-1">Three additional timers (T1, T2, and T3) are required to support
        the mechanisms defined in this document. Timers T1 and T2 are used
        both by a restarting router and a starting router. Timer T3 is used
        only by a restarting router.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">NOTE: These timers are NOT applicable to a router that is
        preparing to do a planned restart.<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<p id="section-3.1-3">An instance of the timer T1 is maintained per interface and
        indicates the time after which an unacknowledged (re)start attempt
        will be repeated. A typical value is 3 seconds.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">An instance of the timer T2 is maintained for each LSP database
        (LSPDB) present in the system. For example, for a Level 1/2 system,
        there will be an instance of the timer T2 for Level 1 and an instance
        for Level 2. This is the maximum time that the system will wait for
        LSPDB synchronization. A typical value is 60 seconds.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<p id="section-3.1-5">A single instance of the timer T3 is maintained for the entire
        system. It indicates the time after which the router will declare that
        it has failed to achieve database synchronization (by setting the
        overload bit in its own LSP). This is initialized to 65535 seconds
        but is set to the minimum of the remaining times of received IIHs
        containing a Restart TLV with the Restart Acknowledgement (RA) set and
        an indication that the neighbor has an adjacency in the UP state to
        the restarting router. (See <a class="xref" href="#itema">item a</a> in <a class="xref" href="#useofrrrabitssection">Section 3.2.1</a>.)<a class="pilcrow" href="#section-3.1-5">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-restart-tlv">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-restart-tlv">Restart TLV</a>
        </h3>
<p id="section-3.2-1">A new TLV is defined to be included in IIH PDUs. The TLV includes
        flags that are used to convey information during a (re)start. The
        absence of this TLV indicates that the sender supports none of the
        functionality defined in this document. Therefore, if a router
        supports any of the functionality defined in this document it <span class="bcp14">MUST</span> include this TLV in all transmitted IIHs.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<dl class="dlNewline" id="section-3.2-2">
          <dt id="section-3.2-2.1">Type:</dt>
<dd id="section-3.2-2.2">211<a class="pilcrow" href="#section-3.2-2.2">¶</a>
</dd>
<dt id="section-3.2-2.3">Length:</dt>
<dd id="section-3.2-2.4">Number of octets in the Value field (1 to (3 + ID
Length))<a class="pilcrow" href="#section-3.2-2.4">¶</a>
</dd>
<dt id="section-3.2-2.5">Value:</dt>
<dd id="section-3.2-2.6">
            <div class="artwork art-text alignLeft" id="section-3.2-2.6.1">
<pre>                                      No. of octets
        +-----------------------+
        |   Flags               |     1
        +-----------------------+
        | Remaining Time        |     2
        +-----------------------+
        | Restarting Neighbor ID|     ID Length
        +-----------------------+
</pre><a class="pilcrow" href="#section-3.2-2.6.1">¶</a>
</div>
<dl class="dlNewline" id="section-3.2-2.6.2">
              <dt id="section-3.2-2.6.2.1">Flags (1 octet)</dt>
<dd id="section-3.2-2.6.2.2">
                <div class="artwork art-text alignLeft" id="section-3.2-2.6.2.2.1">
<pre>      0  1  2  3  4  5  6  7
     +--+--+--+--+--+--+--+--+
     |Reserved|PA|PR|SA|RA|RR|
     +--+--+--+--+--+--+--+--+
</pre><a class="pilcrow" href="#section-3.2-2.6.2.2.1">¶</a>
</div>
<dl class="dlParallel dlCompact" id="section-3.2-2.6.2.2.2">
                  <dt id="section-3.2-2.6.2.2.2.1">RR -</dt>
<dd id="section-3.2-2.6.2.2.2.2">Restart Request<a class="pilcrow" href="#section-3.2-2.6.2.2.2.2">¶</a>
</dd>
<dt id="section-3.2-2.6.2.2.2.3">RA -</dt>
<dd id="section-3.2-2.6.2.2.2.4">Restart Acknowledgement<a class="pilcrow" href="#section-3.2-2.6.2.2.2.4">¶</a>
</dd>
<dt id="section-3.2-2.6.2.2.2.5">SA -</dt>
<dd id="section-3.2-2.6.2.2.2.6">Suppress adjacency advertisement<a class="pilcrow" href="#section-3.2-2.6.2.2.2.6">¶</a>
</dd>
<dt id="section-3.2-2.6.2.2.2.7">PR -</dt>
<dd id="section-3.2-2.6.2.2.2.8">Restart is planned<a class="pilcrow" href="#section-3.2-2.6.2.2.2.8">¶</a>
</dd>
<dt id="section-3.2-2.6.2.2.2.9">PA -</dt>
<dd id="section-3.2-2.6.2.2.2.10">Planned restart acknowledgement<a class="pilcrow" href="#section-3.2-2.6.2.2.2.10">¶</a>
</dd>
</dl>
</dd>
<dt id="section-3.2-2.6.2.3">Remaining Time (2 octets)</dt>
<dd id="section-3.2-2.6.2.4">
                <p id="section-3.2-2.6.2.4.1">Remaining Holding Time (in seconds).<a class="pilcrow" href="#section-3.2-2.6.2.4.1">¶</a></p>
<p id="section-3.2-2.6.2.4.2">Required when the RA, PR, or PA bit is set. Otherwise, this field
<span class="bcp14">SHOULD</span> be omitted when sent and <span class="bcp14">MUST</span> be ignored
when received.<a class="pilcrow" href="#section-3.2-2.6.2.4.2">¶</a></p>
</dd>
<dt id="section-3.2-2.6.2.5">Restarting Neighbor System ID (ID Length octets)</dt>
<dd id="section-3.2-2.6.2.6">
                <p id="section-3.2-2.6.2.6.1">The System ID of the neighbor to which an RA/PA refers.<a class="pilcrow" href="#section-3.2-2.6.2.6.1">¶</a></p>
<p id="section-3.2-2.6.2.6.2">Required when the RA or PA bit is set. Otherwise,
        this field <span class="bcp14">SHOULD</span> be omitted when sent and 
        <span class="bcp14">MUST</span> be ignored when received.<a class="pilcrow" href="#section-3.2-2.6.2.6.2">¶</a></p>
<p id="section-3.2-2.6.2.6.3">Note: Very early draft versions of the restart functionality
        did not include the Restarting Neighbor System ID in the TLV.
        RFC 5306 allowed for the possibility of interoperating with 
        legacy implementations by stating that a router that 
        is expecting an RA on a LAN circuit should assume that the
        acknowledgement is directed at the local system if the TLV
        is received with RA set and Restarting Neighbor System ID
        is not present. It is an implementation choice whether to
        continue to accept (on a LAN) a TLV with RA set and
        Restarting Neighbor System ID absent. Note that the omission
        of the Restarting Neighbor System ID only introduces ambiguity
        in the case where there are multiple systems on a LAN
        simultaneously performing restart.<a class="pilcrow" href="#section-3.2-2.6.2.6.3">¶</a></p>
</dd>
</dl>
</dd>
</dl>
<p id="section-3.2-3">The RR and SA flags may both be set in the TLV under the conditions
        described in <a class="xref" href="#adjacencyacqsection">Section 3.3.2</a>. All other combinations where multiple
        flags are set are invalid and <span class="bcp14">MUST NOT</span> be transmitted. Received TLVs
        that have invalid flag combinations set <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<div id="useofrrrabitssection">
<section id="section-3.2.1">
          <h4 id="name-use-of-rr-and-ra-bits">
<a class="section-number selfRef" href="#section-3.2.1">3.2.1. </a><a class="section-name selfRef" href="#name-use-of-rr-and-ra-bits">Use of RR and RA Bits</a>
          </h4>
<p id="section-3.2.1-1">The RR bit is used by a (re)starting router to signal to its
          neighbors that a (re)start is in progress, that an existing
          adjacency <span class="bcp14">SHOULD</span> be maintained even under circumstances when the
          normal operation of the adjacency state machine would require the
          adjacency to be reinitialized, to request a set of CSNPs, and to
          request setting of the SRMflags.<a class="pilcrow" href="#section-3.2.1-1">¶</a></p>
<p id="section-3.2.1-2">The RA bit is sent by the neighbor of a (re)starting router to
          acknowledge the receipt of a Restart TLV with the RR bit set.<a class="pilcrow" href="#section-3.2.1-2">¶</a></p>
<p id="section-3.2.1-3">When the neighbor of a (re)starting router receives an IIH with
          the Restart TLV having the RR bit set, if there exists on this
          interface an adjacency in the UP state with the same System ID and, in
          the case of a LAN circuit, with the same source LAN address, then
          irrespective of the other contents of the "Intermediate System
          Neighbors" option (LAN circuits) or the "Point-to-Point Three-Way
          Adjacency" option (Point-to-Point circuits):<a class="pilcrow" href="#section-3.2.1-3">¶</a></p>
<ol class="normal type-a" id="section-3.2.1-4" start="1" type="a">
            <div id="itema">
<li id="section-3.2.1-4.1">the state of the adjacency is not changed. If this is the
              first IIH with the RR bit set that this system has received
              associated with this adjacency, then the adjacency is marked as
              being in "Restart mode" and the adjacency Holding Time is
              refreshed -- otherwise, the Holding Time is not refreshed. The
              Remaining Time transmitted according to (b) below <span class="bcp14">MUST</span> reflect
              the actual time after which the adjacency will now expire.
              Receipt of an IIH with the RR bit reset will clear the "Restart
              mode" state. This procedure allows the restarting router to
              cause the neighbor to maintain the adjacency long enough for
              restart to successfully complete while also preventing
              repetitive restarts from maintaining an adjacency indefinitely.
              Whether or not an adjacency is marked as being in "Restart mode"
              has no effect on adjacency state transitions.<a class="pilcrow" href="#section-3.2.1-4.1">¶</a>
</li>
</div>
<li id="section-3.2.1-4.2">immediately (i.e., without waiting for any currently running
              timer interval to expire but with a small random delay of a few
              tens of milliseconds on LANs to avoid "storms") transmit over
              the corresponding interface an IIH including the Restart TLV
              with the RR bit clear and the RA bit set, in the case of
              Point-to-Point adjacencies having updated the "Point-to-Point
              Three-Way Adjacency" option to reflect any new values received
              from the (re)starting router. (This allows a restarting router
              to quickly acquire the correct information to place in its
              hellos.) The Remaining Time <span class="bcp14">MUST</span> be set to the current time
              (in seconds) before the holding timer on this adjacency is due
              to expire. If the corresponding interface is a LAN interface,
              then the Restarting Neighbor System ID <span class="bcp14">SHOULD</span> be set to the
              System ID of the router from which the IIH with the RR bit set
              was received. This is required to correctly associate the
              acknowledgement and Holding Time in the case where multiple
              systems on a LAN restart at approximately the same time. This
              IIH <span class="bcp14">SHOULD</span> be transmitted before any LSPs or SNPs are
              transmitted as a result of the receipt of the original IIH.<a class="pilcrow" href="#section-3.2.1-4.2">¶</a>
</li>
<div id="itemc">
<li id="section-3.2.1-4.3">if the corresponding interface is a Point-to-Point interface,
              or if the receiving router has the highest LnRouterPriority
              (with the highest source Media Access Control (MAC) address
              breaking ties) among those routers to which the receiving router
              has an adjacency in the UP state on this interface whose IIHs
              contain the Restart TLV, excluding adjacencies to all routers
              that are considered in "Restart mode" (note the actual
       Designated Intermediate System (DIS) is
              NOT changed by this process), initiate the transmission over the
              corresponding interface of a complete set of CSNPs, and set
              SRMflags on the corresponding interface for all LSPs in the
              local LSP database.<a class="pilcrow" href="#section-3.2.1-4.3">¶</a>
</li>
</div>
</ol>
<p id="section-3.2.1-5">Otherwise (i.e., if there was no adjacency in the UP
          state to the System ID in question), process the IIH as normal by
          reinitializing the adjacency and setting the RA bit in the returned
          IIH.<a class="pilcrow" href="#section-3.2.1-5">¶</a></p>
</section>
</div>
<div id="useofsabitsection">
<section id="section-3.2.2">
          <h4 id="name-use-of-the-sa-bit">
<a class="section-number selfRef" href="#section-3.2.2">3.2.2. </a><a class="section-name selfRef" href="#name-use-of-the-sa-bit">Use of the SA Bit</a>
          </h4>
<p id="section-3.2.2-1">The SA bit is used by a starting router to request that its
          neighbor suppress advertisement of the adjacency to the starting
          router in the neighbor's LSPs.<a class="pilcrow" href="#section-3.2.2-1">¶</a></p>
<p id="section-3.2.2-2">A router that is starting has no maintained forwarding function
          state. This may or may not be the first time the router has started.
          If this is not the first time the router has started, copies of LSPs
          generated by this router in its previous incarnation may exist in
          the LSP databases of other routers in the network. These copies are
          likely to appear "newer" than LSPs initially generated by the
          starting router due to the reinitialization of LSP fragment sequence
          numbers by the starting router. This may cause temporary blackholes
          to occur until the normal operation of the update process causes the
          starting router to regenerate and flood copies of its own LSPs with
          higher sequence numbers. The temporary blackholes can be avoided if
          the starting router's neighbors suppress advertising an adjacency to
          the starting router until the starting router has been able to
          propagate newer versions of LSPs generated by previous
          incarnations.<a class="pilcrow" href="#section-3.2.2-2">¶</a></p>
<p id="section-3.2.2-3">When a router receives an IIH with the Restart TLV having the SA
          bit set, if there exists on this interface an adjacency in the UP state
           with the same System ID and, in the case of a LAN circuit, with
          the same source LAN address, then the router <span class="bcp14">MUST</span> suppress
          advertisement of the adjacency to the neighbor in its own LSPs.
          Until an IIH with the SA bit clear has been received, the neighbor
          advertisement <span class="bcp14">MUST</span> continue to be suppressed. If the adjacency
          transitions to the UP state, the new adjacency <span class="bcp14">MUST NOT</span> be
          advertised until an IIH with the SA bit clear has been received.<a class="pilcrow" href="#section-3.2.2-3">¶</a></p>
<p id="section-3.2.2-4">Note that a router that suppresses advertisement of an adjacency
          <span class="bcp14">MUST NOT</span> use this adjacency when performing its SPF calculation. In
          particular, if an implementation follows the example guidelines
          presented in <span>[<a class="xref" href="#ISO10589">ISO10589</a>]</span>, Annex C.2.5, Step 0:b) "pre-load TENT with
          the local adjacency database", the suppressed adjacency <span class="bcp14">MUST NOT</span> be
          loaded into TENT.<a class="pilcrow" href="#section-3.2.2-4">¶</a></p>
</section>
</div>
<section id="section-3.2.3">
          <h4 id="name-use-of-pr-and-pa-bits">
<a class="section-number selfRef" href="#section-3.2.3">3.2.3. </a><a class="section-name selfRef" href="#name-use-of-pr-and-pa-bits">Use of PR and PA Bits</a>
          </h4>
<p id="section-3.2.3-1">The PR bit is used by a router that is planning to initiate a
          restart to signal to its neighbors that it will be restarting. The
          router sending an IIH with PR bit set <span class="bcp14">SHOULD</span> set the Remaining
          Time to a value greater than the expected control-plane restart
          time. The PR bit <span class="bcp14">SHOULD</span> remain set in IIHs until the restart is
          initiated.<a class="pilcrow" href="#section-3.2.3-1">¶</a></p>
<p id="section-3.2.3-2">The PA bit is sent by the neighbor of a router planning to
          restart to acknowledge receipt of a Restart TLV with the PR bit
          set.<a class="pilcrow" href="#section-3.2.3-2">¶</a></p>
<p id="section-3.2.3-3">When the neighbor of a router planning a restart receives an IIH
          with the Restart TLV having the PR bit set, if there exists on this
          interface an adjacency in the UP state with the same System ID and, in
          the case of a LAN circuit, with the same source LAN address,
          then:<a class="pilcrow" href="#section-3.2.3-3">¶</a></p>
<ol class="normal type-a" id="section-3.2.3-4" start="1" type="a">
            <li id="section-3.2.3-4.1">if this is the first IIH with the PR bit set that this system
              has received associated with this adjacency, then the adjacency
              is marked as being in Planned Restart State and the adjacency
              Holding Time is refreshed -- otherwise, the Holding Time is not
              refreshed. The Holding Time <span class="bcp14">SHOULD</span> be set to the Remaining
              Time specified in the received IIH with PR set. The Remaining
              Time transmitted according to (b) below <span class="bcp14">MUST</span> reflect the actual
              time after which the adjacency will now expire. Receipt of an
              IIH with the PR bit reset will clear the Planned Restart State
              and cause the receiving router to set the adjacency Holding Time to
              the locally configured value. This procedure allows the router
              planning a restart to cause the neighbor to maintain the
              adjacency long enough for restart to successfully complete.
              Whether or not an adjacency is marked as being in Planned
              Restart State has no effect on adjacency state transitions.<a class="pilcrow" href="#section-3.2.3-4.1">¶</a>
</li>
<li id="section-3.2.3-4.2">immediately (i.e., without waiting for any currently running
              timer interval to expire, but with a small random delay of a few
              tens of milliseconds on LANs to avoid "storms") transmit over
              the corresponding interface an IIH including the Restart TLV
              with the PR bit clear and the PA bit set. The Remaining Time
              <span class="bcp14">MUST</span> be set to the current time (in seconds) before the holding
              timer on this adjacency is due to expire. If the corresponding
              interface is a LAN interface, then the Restarting Neighbor
              System ID <span class="bcp14">SHOULD</span> be set to the System ID of the router from
              which the IIH with the PR bit set was received. This is required
              to correctly associate the acknowledgement and Holding Time in
              the case where multiple systems on a LAN are planning a restart
              at approximately the same time.<a class="pilcrow" href="#section-3.2.3-4.2">¶</a>
</li>
</ol>
<p id="section-3.2.3-5">NOTE: Receipt of an IIH with PA bit set indicates to the router
          planning a restart that the neighbor is aware of the planned restart
          and -- in the absence of topology changes as described below -- will
          maintain the adjacency for the Remaining Time included in the IIH
          with PA set.<a class="pilcrow" href="#section-3.2.3-5">¶</a></p>
<p id="section-3.2.3-6">By definition, a restarting router maintains forwarding state
          across the control-plane restart (see <a class="xref" href="#conventions">Section 2</a>). But while a
          control-plane restart is in progress, it is expected that the
          restarting router will be unable to respond to topology changes. It
          is therefore useful to signal a planned restart so that the
          neighbors of the restarting router can determine whether it is safe
          to maintain the adjacency if other topology changes occur prior to
          the completion of the restart. Signaling a planned restart in the
          absence of maintained forwarding-plane state is likely to lead to
          significant traffic loss and <span class="bcp14">MUST NOT</span> be done.<a class="pilcrow" href="#section-3.2.3-6">¶</a></p>
<p id="section-3.2.3-7">Neighbors of the router that have signaled planned restart <span class="bcp14">SHOULD</span>
          maintain the adjacency in a Planned Restart State until it receives
          an IIH with the RR bit set, it receives an IIH with both PR and RR bits
          clear, or the adjacency Holding Time expires -- whichever occurs
          first. Neighbors that choose not to follow the recommended behavior
          need to consider the impact on traffic delivery of not using the
          restarting router for forwarding traffic during the restart
          period.<a class="pilcrow" href="#section-3.2.3-7">¶</a></p>
<p id="section-3.2.3-8">While the adjacency is in Planned Restart State, some or all of
          the following actions <span class="bcp14">MAY</span> be taken:<a class="pilcrow" href="#section-3.2.3-8">¶</a></p>
<ol class="normal type-a" id="section-3.2.3-9" start="1" type="a">
            <li id="section-3.2.3-9.1">If additional topology changes occur, the adjacency that is
              in Planned Restart State <span class="bcp14">MAY</span> be brought down even though the
              Holding Time has not yet expired. Given that the neighbor that has
              signaled a planned restart is not expected to update its
              forwarding plane in response to signaling of the topology
              changes (since it is restarting) traffic that transits that
              node is at risk of being improperly forwarded. On a LAN circuit,
              if the router in Planned Restart State is the DIS at any
              supported level, the adjacency or adjacencies <span class="bcp14">SHOULD</span> be brought down
              whenever any LSP update is either generated or received so as
              to trigger a new DIS election. Failure to do so will compromise
              the reliability of the update process on that circuit. What
              other criteria are used to determine what topology changes will
              trigger bringing the adjacency down is a local implementation
              decision.<a class="pilcrow" href="#section-3.2.3-9.1">¶</a>
</li>
<li id="section-3.2.3-9.2">If a Bidirectional Forwarding Detection (BFD) <span>[<a class="xref" href="#RFC5880">RFC5880</a>]</span> Session to the neighbor
              that signals a planned restart is in the UP state and
              subsequently goes down, the event <span class="bcp14">MAY</span> be ignored since it is
              possible this is an expected side effect of the restart. Use of
              the Control-Plane Independent state as signaled in BFD control
              packets <span class="bcp14">SHOULD</span> be considered in the decision to ignore a BFD
              Session DOWN event.<a class="pilcrow" href="#section-3.2.3-9.2">¶</a>
</li>
<li id="section-3.2.3-9.3">On a Point-to-Point circuit, transmission of LSPs, CSNPs, and
              Partial Sequence Number PDU (PSNPs) <span class="bcp14">MAY</span> be suppressed. It is expected that the PDUs will not
              be received.<a class="pilcrow" href="#section-3.2.3-9.3">¶</a>
</li>
</ol>
<p id="section-3.2.3-10">Use of the PR bit provides a means to safely support restart
          periods that are significantly longer than standard Holding Times.<a class="pilcrow" href="#section-3.2.3-10">¶</a></p>
</section>
</section>
<section id="section-3.3">
        <h3 id="name-adjacency-reacquisition">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-adjacency-reacquisition">Adjacency (Re)Acquisition</a>
        </h3>
<p id="section-3.3-1">Adjacency (re)acquisition is the first step in (re)initialization.
        Restarting and starting routers will make use of the RR bit in the
        Restart TLV, though each will use it at different stages of the
        (re)start procedure.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<div id="adjacencyreacqsection">
<section id="section-3.3.1">
          <h4 id="name-adjacency-reacquisition-dur">
<a class="section-number selfRef" href="#section-3.3.1">3.3.1. </a><a class="section-name selfRef" href="#name-adjacency-reacquisition-dur">Adjacency Reacquisition during Restart</a>
          </h4>
<p id="section-3.3.1-1">The restarting router explicitly notifies its neighbor that the
          adjacency is being reacquired and, hence, that it <span class="bcp14">SHOULD NOT</span>
          reinitialize the adjacency. This is achieved by setting the RR bit
          in the Restart TLV. When the neighbor of a restarting router
          receives an IIH with the Restart TLV having the RR bit set, if there
          exists on this interface an adjacency in the UP state with the same
          System ID and, in the case of a LAN circuit, with the same source
          LAN address, then the procedures described in <a class="xref" href="#useofrrrabitssection">Section 3.2.1</a> are
          followed.<a class="pilcrow" href="#section-3.3.1-1">¶</a></p>
<p id="section-3.3.1-2">A router that does not support the restart capability will ignore
          the Restart TLV and reinitialize the adjacency as normal, returning
          an IIH without the Restart TLV.<a class="pilcrow" href="#section-3.3.1-2">¶</a></p>
<p id="section-3.3.1-3">On restarting, a router initializes the timer T3, starts the
          timer T2 for each LSPDB, and for each interface (and in the case of
          a LAN circuit, for each level) starts the timer T1 and transmits an
          IIH containing the Restart TLV with the RR bit set.<a class="pilcrow" href="#section-3.3.1-3">¶</a></p>
<p id="section-3.3.1-4">On a Point-to-Point circuit, the restarting router <span class="bcp14">SHOULD</span> set the
          "Adjacency Three-Way State" to "Init", because the receipt of the
          acknowledging IIH (with RA set) <span class="bcp14">MUST</span> cause the adjacency to enter
          the UP state immediately.<a class="pilcrow" href="#section-3.3.1-4">¶</a></p>
<p id="section-3.3.1-5">On a LAN circuit, the LAN-ID assigned to the circuit <span class="bcp14">SHOULD</span> be
          the same as that used prior to the restart. In particular, for any
          circuits for which the restarting router was previously DIS, the use
          of a different LAN-ID would necessitate the generation of a new set
          of pseudonode LSPs and corresponding changes in all the LSPs
          referencing them from other routers on the LAN. By preserving the
          LAN-ID across the restart, this churn can be prevented. To enable a
          restarting router to learn the LAN-ID used prior to restart, the
          LAN-ID specified in an IIH with RR set <span class="bcp14">MUST</span> be ignored.<a class="pilcrow" href="#section-3.3.1-5">¶</a></p>
<p id="section-3.3.1-6">Transmission of "normal IIHs" is inhibited until the conditions
          described below are met (in order to avoid causing an unnecessary
          adjacency initialization). Upon expiry of the timer T1, it is
          restarted and the IIH is retransmitted as above.<a class="pilcrow" href="#section-3.3.1-6">¶</a></p>
<p id="section-3.3.1-7">When a restarting router receives an IIH a local adjacency is
          established as usual, and if the IIH contains a Restart TLV with the
          RA bit set (and on LAN circuits with a Restart Neighbor System ID
          that matches that of the local system), the receipt of the
          acknowledgement over that interface is noted. When the RA bit is set
          and the state of the remote adjacency is UP, then the timer T3 is
          set to the minimum of its current value and the value of the
          Remaining Time field in the received IIH.<a class="pilcrow" href="#section-3.3.1-7">¶</a></p>
<p id="section-3.3.1-8">On a Point-to-Point link, receipt of an IIH not containing the
          Restart TLV is also treated as an acknowledgement, since it
          indicates that the neighbor is not restart capable. However, since
          no CSNP is guaranteed to be received over this interface, the timer
          T1 is canceled immediately without waiting for a complete set of
          CSNPs. Synchronization may therefore be deemed complete even though
          there are some LSPs that are held (only) by this neighbor (see
          <a class="xref" href="#dbsyncsection">Section 3.4</a>). In this case, we also want to be certain that the
          neighbor will reinitialize the adjacency in order to guarantee that
          the SRMflags have been set on its database, thus ensuring eventual
          LSPDB synchronization. This is guaranteed to happen except in the
          case where the Adjacency Three-Way State in the received IIH is UP
          and the Neighbor Extended Local Circuit ID matches the Extended
          Local Circuit ID assigned by the restarting router. In this case,
          the restarting router <span class="bcp14">MUST</span> force the adjacency to reinitialize by
          setting the local Adjacency Three-Way State to DOWN and sending a
          normal IIH.<a class="pilcrow" href="#section-3.3.1-8">¶</a></p>
<p id="section-3.3.1-9">In the case of a LAN interface, receipt of an IIH not containing
          the Restart TLV is unremarkable since synchronization can still
          occur so long as at least one of the non-restarting neighboring
          routers on the LAN supports restart. Therefore, T1 continues to run
          in this case. If none of the neighbors on the LAN are restart
          capable, T1 will eventually expire after the locally defined number
          of retries.<a class="pilcrow" href="#section-3.3.1-9">¶</a></p>
<p id="section-3.3.1-10">In the case of a Point-to-Point circuit, the LocalCircuitID and
          Extended Local Circuit ID information contained in the IIH can be
          used immediately to generate an IIH containing the correct three-way
          handshake information. The presence of Neighbor Extended Local
          Circuit ID information that does not match the value currently in
          use by the local system is ignored (since the IIH may have been
          transmitted before the neighbor had received the new value from the
          restarting router), but the adjacency remains in the initializing
          state until the correct information is received.<a class="pilcrow" href="#section-3.3.1-10">¶</a></p>
<p id="section-3.3.1-11">In the case of a LAN circuit, the source neighbor information
          (e.g., SNPAAddress) is recorded and used for adjacency establishment
          and maintenance as normal.<a class="pilcrow" href="#section-3.3.1-11">¶</a></p>
<p id="section-3.3.1-12">When BOTH a complete set of CSNPs (for each active level, in the
          case of a Point-to-Point circuit) and an acknowledgement have been
          received over the interface, the timer T1 is canceled.<a class="pilcrow" href="#section-3.3.1-12">¶</a></p>
<p id="section-3.3.1-13">Once the timer T1 has been canceled, subsequent IIHs are
          transmitted according to the normal algorithms but including the
          Restart TLV with both RR and RA clear.<a class="pilcrow" href="#section-3.3.1-13">¶</a></p>
<p id="section-3.3.1-14">If a LAN contains a mixture of systems, only some of which
          support the new algorithm, database synchronization is still
          guaranteed, but the "old" systems will have reinitialized their
          adjacencies.<a class="pilcrow" href="#section-3.3.1-14">¶</a></p>
<p id="section-3.3.1-15">If an interface is active but does not have any neighboring
          router reachable over that interface, the timer T1 would never be
          canceled, and according to <a class="xref" href="#restartingsection">Section 3.4.1.1</a>, the SPF would never be
          run. Therefore, timer T1 is canceled after some predetermined
          number of expirations (which <span class="bcp14">MAY</span> be 1).<a class="pilcrow" href="#section-3.3.1-15">¶</a></p>
</section>
</div>
<div id="adjacencyacqsection">
<section id="section-3.3.2">
          <h4 id="name-adjacency-acquisition-durin">
<a class="section-number selfRef" href="#section-3.3.2">3.3.2. </a><a class="section-name selfRef" href="#name-adjacency-acquisition-durin">Adjacency Acquisition during Start</a>
          </h4>
<p id="section-3.3.2-1">The starting router wants to ensure that in the event that a
          neighboring router has an adjacency to the starting router in the
          UP state (from a previous incarnation of the starting router),
          this adjacency is reinitialized. The starting router also wants
          neighboring routers to suppress advertisement of an adjacency to the
          starting router until LSP database synchronization is achieved. This
          is achieved by sending IIHs with the RR bit clear and the SA bit set
          in the Restart TLV. The RR bit remains clear and the SA bit remains
          set in subsequent transmissions of IIHs until the adjacency has
          reached the UP state and the initial T1 timer interval (see below)
          has expired.<a class="pilcrow" href="#section-3.3.2-1">¶</a></p>
<p id="section-3.3.2-2">Receipt of an IIH with the RR bit clear will result in the
          neighboring router utilizing normal operation of the adjacency state
          machine. This will ensure that any old adjacency on the neighboring
          router will be reinitialized.<a class="pilcrow" href="#section-3.3.2-2">¶</a></p>
<p id="section-3.3.2-3">Upon receipt of an IIH with the SA bit set, the behavior
          described in <a class="xref" href="#useofsabitsection">Section 3.2.2</a> is followed.<a class="pilcrow" href="#section-3.3.2-3">¶</a></p>
<p id="section-3.3.2-4">Upon starting, a router starts timer T2 for each LSPDB.<a class="pilcrow" href="#section-3.3.2-4">¶</a></p>
<p id="section-3.3.2-5">For each interface (and in the case of a LAN circuit, for each
          level), when an adjacency reaches the UP state, the starting
          router starts a timer T1 and transmits an IIH containing the restart
          TLV with the RR bit clear and SA bit set. Upon expiry of the timer
          T1, it is restarted and the IIH is retransmitted with both RR and SA
          bits set (only the RR bit has changed state from earlier IIHs).<a class="pilcrow" href="#section-3.3.2-5">¶</a></p>
<p id="section-3.3.2-6">Upon receipt of an IIH with the RR bit set (regardless of whether
          or not the SA bit is set), the behavior described in <a class="xref" href="#useofrrrabitssection">Section 3.2.1</a>
          is followed.<a class="pilcrow" href="#section-3.3.2-6">¶</a></p>
<p id="section-3.3.2-7">When an IIH is received by the starting router and the IIH
          contains a Restart TLV with the RA bit set (and on LAN circuits with
          a Restart Neighbor System ID that matches that of the local system),
          the receipt of the acknowledgement over that interface is noted.<a class="pilcrow" href="#section-3.3.2-7">¶</a></p>
<p id="section-3.3.2-8">On a Point-to-Point link, receipt of an IIH not containing the
          Restart TLV is also treated as an acknowledgement, since it
          indicates that the neighbor is not restart capable. Since the
          neighbor will have reinitialized the adjacency, this guarantees that
          SRMflags have been set on its database, thus ensuring eventual LSPDB
          synchronization. However, since no CSNP is guaranteed to be received
          over this interface, the timer T1 is canceled immediately without
          waiting for a complete set of CSNPs. Synchronization may therefore
          be deemed complete even though there are some LSPs that are held
          (only) by this neighbor (see <a class="xref" href="#dbsyncsection">Section 3.4</a>).<a class="pilcrow" href="#section-3.3.2-8">¶</a></p>
<p id="section-3.3.2-9">In the case of a LAN interface, receipt of an IIH not containing
          the Restart TLV is unremarkable since synchronization can still
          occur so long as at least one of the non-restarting neighboring
          routers on the LAN supports restart. Therefore, T1 continues to run
          in this case. If none of the neighbors on the LAN are restart
          capable, T1 will eventually expire after the locally defined number
          of retries. The usual operation of the update process will ensure
          that synchronization is eventually achieved.<a class="pilcrow" href="#section-3.3.2-9">¶</a></p>
<p id="section-3.3.2-10">When BOTH a complete set of CSNPs (for each active level, in the
          case of a Point-to-Point circuit) and an acknowledgement have been
          received over the interface, the timer T1 is canceled. Subsequent
          IIHs sent by the starting router have the RR and RA bits clear and
          the SA bit set in the Restart TLV.<a class="pilcrow" href="#section-3.3.2-10">¶</a></p>
<p id="section-3.3.2-11">Timer T1 is canceled after some predetermined number of
          expirations (which <span class="bcp14">MAY</span> be 1).<a class="pilcrow" href="#section-3.3.2-11">¶</a></p>
<p id="section-3.3.2-12">When the T2 timer(s) are canceled or expire, transmission of
          "normal IIHs" will begin.<a class="pilcrow" href="#section-3.3.2-12">¶</a></p>
</section>
</div>
<section id="section-3.3.3">
          <h4 id="name-multiple-levels">
<a class="section-number selfRef" href="#section-3.3.3">3.3.3. </a><a class="section-name selfRef" href="#name-multiple-levels">Multiple Levels</a>
          </h4>
<p id="section-3.3.3-1">A router that is operating as both a Level 1 and a Level 2 router
          on a particular interface <span class="bcp14">MUST</span> perform the above operations for each
          level.<a class="pilcrow" href="#section-3.3.3-1">¶</a></p>
<p id="section-3.3.3-2">On a LAN interface, it <span class="bcp14">MUST</span> send and receive both Level 1 and
          Level 2 IIHs and perform the CSNP synchronizations independently for
          each level.<a class="pilcrow" href="#section-3.3.3-2">¶</a></p>
<p id="section-3.3.3-3">On a Point-to-Point interface, only a single IIH (indicating
          support for both levels) is required, but it <span class="bcp14">MUST</span> perform the CSNP
          synchronizations independently for each level.<a class="pilcrow" href="#section-3.3.3-3">¶</a></p>
</section>
</section>
<div id="dbsyncsection">
<section id="section-3.4">
        <h3 id="name-database-synchronization">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-database-synchronization">Database Synchronization</a>
        </h3>
<p id="section-3.4-1">When a router is started or restarted, it can expect to receive a
        complete set of CSNPs over each interface. The arrival of the CSNP(s)
        is now guaranteed, since an IIH with the RR bit set will be
        retransmitted until the CSNP(s) are correctly received.<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<p id="section-3.4-2">The CSNPs describe the set of LSPs that are currently held by each
        neighbor. Synchronization will be complete when all these LSPs have
        been received.<a class="pilcrow" href="#section-3.4-2">¶</a></p>
<p id="section-3.4-3">When (re)starting, a router starts an instance of timer T2 for each
        LSPDB, as described in <a class="xref" href="#adjacencyreacqsection">Section 3.3.1</a> or <a class="xref" href="#adjacencyacqsection">Section 3.3.2</a>. In addition to
        normal processing of the CSNPs, the set of LSPIDs contained in the
        first complete set of CSNPs received over each interface is recorded,
        together with their remaining lifetime. In the case of a LAN
        interface, a complete set of CSNPs <span class="bcp14">MUST</span> consist of CSNPs received from
        neighbors that are not restarting. If there are multiple interfaces on
        the (re)starting router, the recorded set of LSPIDs is the union of
        those received over each interface. LSPs with a remaining lifetime of
        zero are NOT so recorded.<a class="pilcrow" href="#section-3.4-3">¶</a></p>
<p id="section-3.4-4">As LSPs are received (by the normal operation of the update
        process) over any interface, the corresponding LSPID entry is removed
        (it is also removed if an LSP arrives before the CSNP containing the
        reference). When an LSPID has been held in the list for its indicated
        remaining lifetime, it is removed from the list. When the list of
        LSPIDs is empty and the timer T1 has been canceled for all the
        interfaces that have an adjacency at this level, the timer T2 is
        canceled.<a class="pilcrow" href="#section-3.4-4">¶</a></p>
<p id="section-3.4-5">At this point, the local database is guaranteed to contain all the
        LSP(s) (either the same sequence number or a more recent sequence
        number) that were present in the neighbors' databases at the time of
        (re)starting. LSPs that arrived in a neighbor's database after the
        time of (re)starting may or may not be present, but the normal
        operation of the update process will guarantee that they will
        eventually be received. At this point, the local database is deemed to
        be "synchronized".<a class="pilcrow" href="#section-3.4-5">¶</a></p>
<p id="section-3.4-6">Since LSPs mentioned in the CSNP(s) with a zero remaining lifetime
        are not recorded and those with a short remaining lifetime are
        deleted from the list when the lifetime expires, cancellation of the
        timer T2 will not be prevented by waiting for an LSP that will never
        arrive.<a class="pilcrow" href="#section-3.4-6">¶</a></p>
<section id="section-3.4.1">
          <h4 id="name-lsp-generation-and-flooding">
<a class="section-number selfRef" href="#section-3.4.1">3.4.1. </a><a class="section-name selfRef" href="#name-lsp-generation-and-flooding">LSP Generation and Flooding and SPF Computation</a>
          </h4>
<p id="section-3.4.1-1">The operation of a router starting, as opposed to restarting, is
          somewhat different. These two cases are dealt with separately
          below.<a class="pilcrow" href="#section-3.4.1-1">¶</a></p>
<div id="restartingsection">
<section id="section-3.4.1.1">
            <h5 id="name-restarting">
<a class="section-number selfRef" href="#section-3.4.1.1">3.4.1.1. </a><a class="section-name selfRef" href="#name-restarting">Restarting</a>
            </h5>
<p id="section-3.4.1.1-1">In order to avoid causing unnecessary routing churn in other
            routers, it is highly desirable that the router's own LSPs
            generated by the restarting system are the same as those
            previously present in the network (assuming no other changes have
            taken place). It is important therefore not to regenerate and
            flood the LSPs until all the adjacencies have been reestablished
            and any information required for propagation into the local LSPs
            is fully available. Ideally, the information is loaded into the
            LSPs in a deterministic way, such that the same information occurs
            in the same place in the same LSP (and hence the LSPs are
            identical to their previous versions). If this can be achieved,
            the new versions may not even cause SPF to be run in other
            systems. However, provided the same information is included in the
            set of LSPs (albeit in a different order, and possibly different
            LSPs), the result of running the SPF will be the same and will not
            cause churn to the forwarding tables.<a class="pilcrow" href="#section-3.4.1.1-1">¶</a></p>
<p id="section-3.4.1.1-2">In the case of a restarting router, none of the router's own
            LSPs are transmitted, nor are the router's own forwarding tables
            updated while the timer T3 is running.<a class="pilcrow" href="#section-3.4.1.1-2">¶</a></p>
<p id="section-3.4.1.1-3">Redistribution of inter-level information <span class="bcp14">MUST</span> be regenerated
            before this router's LSP is flooded to other nodes. Therefore, the
            Level-n non-pseudonode LSP(s) <span class="bcp14">MUST NOT</span> be flooded until the other
            level's T2 timer has expired and its SPF has been run. This
            ensures that any inter-level information that is to be propagated
            can be included in the Level-n LSP(s).<a class="pilcrow" href="#section-3.4.1.1-3">¶</a></p>
<p id="section-3.4.1.1-4">During this period, if one of the router's own (including
            pseudonodes) LSPs is received, which the local router does not
            currently have in its own database, it is NOT purged. Under normal
            operation, such an LSP would be purged, since the LSP clearly
            should not be present in the global LSP database. However, in the
            present circumstances, this would be highly undesirable, because
            it could cause premature removal of a router's own LSP -- and
            hence churn in remote routers. Even if the local system has one or
            more of the router's own LSPs (which it has generated but not yet
            transmitted), it is still not valid to compare the received LSP
            against this set, since it may be that as a result of propagation
            between Level 1 and Level 2 (or vice versa), a further router's
            own LSP will need to be generated when the LSP databases have
            synchronized.<a class="pilcrow" href="#section-3.4.1.1-4">¶</a></p>
<p id="section-3.4.1.1-5">During this period, a restarting router <span class="bcp14">SHOULD</span> send CSNPs as it
            normally would. Information about the router's own LSPs <span class="bcp14">MAY</span> be
            included, but if it is included, it <span class="bcp14">MUST</span> be based on LSPs that have
            been received, not on versions that have been generated (but not
            yet transmitted). This restriction is necessary to prevent
            premature removal of an LSP from the global LSP database.<a class="pilcrow" href="#section-3.4.1.1-5">¶</a></p>
<p id="section-3.4.1.1-6">When the timer T2 expires or is canceled, indicating that
            synchronization for that level is complete, the SPF for that level
            is run in order to derive any information that is required to be
            propagated to another level, but the forwarding tables are not yet
            updated.<a class="pilcrow" href="#section-3.4.1.1-6">¶</a></p>
<p id="section-3.4.1.1-7">Once the other level's SPF has run and any inter-level
            propagation has been resolved, the router's own LSPs can be
            generated and flooded. Any own LSPs that were previously ignored,
            but that are not part of the current set of own LSPs (including
            pseudonodes), <span class="bcp14">MUST</span> then be purged. Note that it is possible that a
            Designated Router change may have taken place and, consequently,
            the router <span class="bcp14">SHOULD</span> purge those pseudonode LSPs that it previously
            owned but that are now no longer part of its set of pseudonode
            LSPs.<a class="pilcrow" href="#section-3.4.1.1-7">¶</a></p>
<p id="section-3.4.1.1-8">When all the T2 timers have expired or been canceled, the
            timer T3 is canceled, and the local forwarding tables are
            updated.<a class="pilcrow" href="#section-3.4.1.1-8">¶</a></p>
<p id="section-3.4.1.1-9">If the timer T3 expires before all the T2 timers have expired
            or been canceled, this indicates that the synchronization process
            is taking longer than the minimum Holding Time of the neighbors.
            The router's own LSP(s) for levels that have not yet completed
            their first SPF computation are then flooded with the overload bit
            set to indicate that the router's LSPDB is not yet synchronized
            (and therefore other routers <span class="bcp14">MUST NOT</span> compute routes through this
            router). Normal operation of the update process resumes, and the
            local forwarding tables are updated. In order to prevent the
            neighbor's adjacencies from expiring, IIHs with the normal
            interface value for the Holding Time are transmitted over all
            interfaces with neither RR nor RA set in the Restart TLV. This
            will cause the neighbors to refresh their adjacencies. The
            router's own LSP(s) will continue to have the overload bit set
            until timer T2 has expired or been canceled.<a class="pilcrow" href="#section-3.4.1.1-9">¶</a></p>
</section>
</div>
<section id="section-3.4.1.2">
            <h5 id="name-starting">
<a class="section-number selfRef" href="#section-3.4.1.2">3.4.1.2. </a><a class="section-name selfRef" href="#name-starting">Starting</a>
            </h5>
<p id="section-3.4.1.2-1">In the case of a starting router, as soon as each adjacency is
            established, and before any CSNP exchanges, the router's own
            zeroth LSP is transmitted with the overload bit set. This prevents
            other routers from computing routes through the router until it
            has reliably acquired the complete set of LSPs. The overload bit
            remains set in subsequent transmissions of the zeroth LSP (such as
            will occur if a previous copy of the router's own zeroth LSP is
            still present in the network) while any timer T2 is running.<a class="pilcrow" href="#section-3.4.1.2-1">¶</a></p>
<p id="section-3.4.1.2-2">When all the T2 timers have been canceled, the router's own
            LSP(s) <span class="bcp14">MAY</span> be regenerated with the overload bit clear (assuming
            the router is not in fact overloaded, and there is no other
            reason, such as incomplete BGP convergence, to keep the overload
            bit set) and flooded as normal.<a class="pilcrow" href="#section-3.4.1.2-2">¶</a></p>
<p id="section-3.4.1.2-3">Other LSPs owned by this router (including pseudonodes) are
            generated and flooded as normal, irrespective of the timer T2. The
            SPF is also run as normal and the Routing Information Base (RIB)
            and Forwarding Information Base (FIB) updated as routes become
            available.<a class="pilcrow" href="#section-3.4.1.2-3">¶</a></p>
<p id="section-3.4.1.2-4">To avoid the possible formation of temporary blackholes, the
            starting router sets the SA bit in the Restart TLV (as described
            in <a class="xref" href="#adjacencyacqsection">Section 3.3.2</a>) in all IIHs that it sends.<a class="pilcrow" href="#section-3.4.1.2-4">¶</a></p>
<p id="section-3.4.1.2-5">When all T2 timers have been canceled, the starting router
            <span class="bcp14">MUST</span> transmit IIHs with the SA bit clear.<a class="pilcrow" href="#section-3.4.1.2-5">¶</a></p>
</section>
</section>
</section>
</div>
</section>
<section id="section-4">
      <h2 id="name-state-tables">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-state-tables">State Tables</a>
      </h2>
<p id="section-4-1">This section presents state tables that summarize the behaviors
      described in this document. Other behaviors, in particular adjacency
      state transitions and LSP database update operations, are NOT included in
      the state tables except where this document modifies the behaviors
      described in <span>[<a class="xref" href="#ISO10589">ISO10589</a>]</span> and <span>[<a class="xref" href="#RFC5303">RFC5303</a>]</span>.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">The states named in the columns of the tables below are a mixture of
      states that are specific to a single adjacency (ADJ suppressed, ADJ Seen
      RA, ADJ Seen CSNP) and states that are indicative of the state of the
      protocol instance (Running, Restarting, Starting, SPF Wait).<a class="pilcrow" href="#section-4-2">¶</a></p>
<p id="section-4-3">Three state tables are presented from the point of view of a running
      router, a restarting router, and a starting router.<a class="pilcrow" href="#section-4-3">¶</a></p>
<section id="section-4.1">
        <h3 id="name-running-router">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-running-router">Running Router</a>
        </h3>
<span id="name-running-router-2"></span><div id="table1">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-running-router-2">Running Router</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Event</th>
              <th class="text-left" colspan="1" rowspan="1">Running</th>
              <th class="text-left" colspan="1" rowspan="1">ADJ suppressed</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX PR</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.1-1.2.1.2.1">Set Planned Restart State<br/>
      Update Holding Time<br/>
      Send PA<a class="pilcrow" href="#section-4.1-1.2.1.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX PR clr and RR clr</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.1-1.2.2.2.1">Clear Planned Restart State<br/>
      Restore Holding Time to local value<a class="pilcrow" href="#section-4.1-1.2.2.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX RR</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.1-1.2.3.2.1">Maintain ADJ State<br/>
 Send RA<br/>
 Set SRM, send CSNP (<a class="xref" href="#note1">Note 1</a>)<br/>
 Update Holding Time,<br/> set Restart Mode (<a class="xref" href="#note2">Note 2</a>)<a class="pilcrow" href="#section-4.1-1.2.3.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX RR clr</td>
              <td class="text-left" colspan="1" rowspan="1">Clr Restart mode</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX SA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.1-1.2.5.2.1">Suppress IS neighbor TLV in LSP⁠(s)<br/>
 Goto ADJ Suppressed<a class="pilcrow" href="#section-4.1-1.2.5.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX SA clr</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.1-1.2.6.3.1">Unsuppress IS neighbor TLV in LSP⁠(s)<br/>
 Goto Running<a class="pilcrow" href="#section-4.1-1.2.6.3.1">¶</a></p>
</td>
            </tr>
          </tbody>
        </table>
</div>
<dl class="olPercent" id="section-4.1-2">
          <dt>Note 1:</dt>
<div id="note1">
<dd id="section-4.1-2.1">CSNPs are sent by routers in accordance with <a class="xref" href="#itemc">item c</a> in <a class="xref" href="#useofrrrabitssection">Section 3.2.1</a><a class="pilcrow" href="#section-4.1-2.1">¶</a>
</dd>
</div>
<dt>Note 2:</dt>
<div id="note2">
<dd id="section-4.1-2.2">If Restart Mode clear<a class="pilcrow" href="#section-4.1-2.2">¶</a>
</dd>
</div>
</dl>
</section>
<section id="section-4.2">
        <h3 id="name-restarting-router">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-restarting-router">Restarting Router</a>
        </h3>
<span id="name-restarting-router-2"></span><div id="table2">
<table class="center" id="table-2">
          <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-restarting-router-2">Restarting Router</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Event</th>
              <th class="text-left" colspan="1" rowspan="1">Restarting</th>
              <th class="text-left" colspan="1" rowspan="1">ADJ Seen RA</th>
              <th class="text-left" colspan="1" rowspan="1">ADJ Seen CSNP</th>
              <th class="text-left" colspan="1" rowspan="1">SPF Wait</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Restart planned</td>
              <td class="text-left" colspan="1" rowspan="1">Send PR</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Planned restart canceled</td>
              <td class="text-left" colspan="1" rowspan="1">Send PR clr</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX PA</td>
              <td class="text-left" colspan="1" rowspan="1">Proceed with planned restart</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Router restarts</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.4.2.1">Send IIH/RR<br/>
 ADJ Init<br/>
 Start T1, T2, T3<a class="pilcrow" href="#section-4.2-1.2.4.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX RR</td>
              <td class="text-left" colspan="1" rowspan="1">Send RA</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX RA</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.6.2.1">Adjust T3<br/>
      Goto ADJ Seen RA<a class="pilcrow" href="#section-4.2-1.2.6.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.6.4.1">Cancel T1<br/>
      Adjust T3<a class="pilcrow" href="#section-4.2-1.2.6.4.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX CSNP set</td>
              <td class="text-left" colspan="1" rowspan="1">Goto ADJ Seen CSNP</td>
              <td class="text-left" colspan="1" rowspan="1">Cancel T1</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX IIH w/o Restart TLV</td>
              <td class="text-left" colspan="1" rowspan="1">Cancel T1 (Point-to-point only)</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">T1 expires</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.9.2.1">Send IIH/RR<br/>
 Restart T1<a class="pilcrow" href="#section-4.2-1.2.9.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.9.3.1">Send IIH/RR<br/>
 Restart T1<a class="pilcrow" href="#section-4.2-1.2.9.3.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.9.4.1">Send IIH/RR<br/>
 Restart T1<a class="pilcrow" href="#section-4.2-1.2.9.4.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">T1 expires nth time</td>
              <td class="text-left" colspan="1" rowspan="1">Send IIH/normal</td>
              <td class="text-left" colspan="1" rowspan="1">Send IIH/normal</td>
              <td class="text-left" colspan="1" rowspan="1">Send IIH/normal</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">T2 expires</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.11.2.1">Trigger SPF<br/>
      Goto SPF Wait<a class="pilcrow" href="#section-4.2-1.2.11.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">T3 expires</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.12.2.1">Set overload bit<br/>
      Flood local LSPs<br/>
      Update fwd plane<a class="pilcrow" href="#section-4.2-1.2.12.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">LSP DB Sync</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.13.2.1">Cancel T2 and T3<br/>
      Trigger SPF<br/>
      Goto SPF wait<a class="pilcrow" href="#section-4.2-1.2.13.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">All SPF done</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.2-1.2.14.5.1">Clear overload bit<br/>
      Update fwd plane<br/>
      Flood local LSPs<br/>
      Goto Running<a class="pilcrow" href="#section-4.2-1.2.14.5.1">¶</a></p>
</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
<section id="section-4.3">
        <h3 id="name-starting-router">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-starting-router">Starting Router</a>
        </h3>
<span id="name-starting-router-2"></span><div id="table3">
<table class="center" id="table-3">
          <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-starting-router-2">Starting Router</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Event</th>
              <th class="text-left" colspan="1" rowspan="1">Starting</th>
              <th class="text-left" colspan="1" rowspan="1">ADJ Seen RA</th>
              <th class="text-left" colspan="1" rowspan="1">ADJ Seen CSNP</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Router starts</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.3-1.2.1.2.1">Send IIH/SA<br/>
      Start T1 and T2<a class="pilcrow" href="#section-4.3-1.2.1.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX RR</td>
              <td class="text-left" colspan="1" rowspan="1">Send RA</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX RA</td>
              <td class="text-left" colspan="1" rowspan="1">Goto ADJ Seen RA</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1">Cancel T1</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX CSNP Set</td>
              <td class="text-left" colspan="1" rowspan="1">Goto ADJ Seen CSNP</td>
              <td class="text-left" colspan="1" rowspan="1">Cancel T1</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">RX IIH w no Restart TLV</td>
              <td class="text-left" colspan="1" rowspan="1">Cancel T1 (Point-to-Point only)</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">ADJ UP</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.3-1.2.6.2.1">Start T1<br/>
      Send local LSPs with overload bit set<a class="pilcrow" href="#section-4.3-1.2.6.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">T1 expires</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.3-1.2.7.2.1">Send IIH/RR and SA<br/>
 Restart T1<a class="pilcrow" href="#section-4.3-1.2.7.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.3-1.2.7.3.1">Send IIH/RR and SA<br/>
      Restart T1<a class="pilcrow" href="#section-4.3-1.2.7.3.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.3-1.2.7.4.1">Send IIH/RR and SA<br/>
      Restart T1<a class="pilcrow" href="#section-4.3-1.2.7.4.1">¶</a></p>
</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">T1 expires nth time</td>
              <td class="text-left" colspan="1" rowspan="1">Send IIH/SA</td>
              <td class="text-left" colspan="1" rowspan="1">Send IIH/SA</td>
              <td class="text-left" colspan="1" rowspan="1">Send IIH/SA</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">T2 expires</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.3-1.2.9.2.1">Clear overload bit<br/>
      Send IIH normal<br/>
      Goto Running<a class="pilcrow" href="#section-4.3-1.2.9.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">LSP DB Sync</td>
              <td class="text-left" colspan="1" rowspan="1">
                <p id="section-4.3-1.2.10.2.1">Cancel T2<br/>
      Clear overload bit<br/>
      Send IIH normal<a class="pilcrow" href="#section-4.3-1.2.10.2.1">¶</a></p>
</td>
              <td class="text-left" colspan="1" rowspan="1"></td>
              <td class="text-left" colspan="1" rowspan="1"></td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</section>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document defines the following IS-IS TLV that is listed in the
      "IS-IS TLV Codepoints" registry.<a class="pilcrow" href="#section-5-1">¶</a></p>
<div id="ianatable">
<table class="left" id="table-4">
        <caption><a class="selfRef" href="#table-4">Table 4</a></caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Type</th>
            <th class="text-left" colspan="1" rowspan="1">Description</th>
            <th class="text-left" colspan="1" rowspan="1">IIH</th>
            <th class="text-left" colspan="1" rowspan="1">LSP</th>
            <th class="text-left" colspan="1" rowspan="1">SNP</th>
            <th class="text-left" colspan="1" rowspan="1">Purge</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">211</td>
            <td class="text-left" colspan="1" rowspan="1">Restart TLV</td>
            <td class="text-left" colspan="1" rowspan="1">y</td>
            <td class="text-left" colspan="1" rowspan="1">n</td>
            <td class="text-left" colspan="1" rowspan="1">n</td>
            <td class="text-left" colspan="1" rowspan="1">n</td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-5-3">IANA has updated the entry in registry to point to
      this document.<a class="pilcrow" href="#section-5-3">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-6-1">Any new security issues raised by the procedures in this document
      depend upon the ability of an attacker to inject a false but apparently
      valid IIH, the ease/difficulty of which has not been altered.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">If the RR bit is set in a false IIH, neighbors who receive such an
      IIH will continue to maintain an existing adjacency in the UP state
      and may (re)send a complete set of CSNPs. While the latter action is
      wasteful, neither action causes any disruption in correct protocol
      operation.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">If the RA bit is set in a false IIH, a (re)starting router that
      receives such an IIH may falsely believe that there is a neighbor on the
      corresponding interface that supports the procedures described in this
      document. In the absence of receipt of a complete set of CSNPs on that
      interface, this could delay the completion of (re)start procedures by
      requiring the timer T1 to time out the locally defined maximum number of
      retries. This behavior is the same as would occur on a LAN where none of
      the (re)starting router's neighbors support the procedures in this
      document and is covered in Sections <a class="xref" href="#adjacencyreacqsection">3.3.1</a> and <a class="xref" href="#adjacencyacqsection">3.3.2</a>.<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">If the SA bit is set in a false IIH, this could cause suppression of
      the advertisement of an IS neighbor, which could either continue for an
      indefinite period or occur intermittently with the result being a
      possible loss of reachability to some destinations in the network and/or
      increased frequency of LSP flooding and SPF calculation.<a class="pilcrow" href="#section-6-4">¶</a></p>
<p id="section-6-5">If the PR bit is set in a false IIH, neighbors who receive such an
      IIH could modify the Holding Time of an existing adjacency
      inappropriately. In the event of topology changes, the neighbor might
      also choose to not flood the topology updates and/or bring the adjacency
      down in the false belief that the forwarding plane of the router
      identified as the source of the false IIH is not currently processing
      announced topology changes. This would result in unnecessary forwarding
      disruption.<a class="pilcrow" href="#section-6-5">¶</a></p>
<p id="section-6-6">If the PA bit is set in a false IIH, a router that receives such an
      IIH may falsely believe that the neighbor on the corresponding interface
      supports the planned restart procedures defined in this document. If
      such a router is planning to restart, it might then proceed to initiate a
      restart in the false expectation that the neighbor has updated its
      Holding Time as requested. This may result in the neighbor bringing down
      the adjacency while the receiving router is restarting, causing
      unnecessary disruption to forwarding.<a class="pilcrow" href="#section-6-6">¶</a></p>
<p id="section-6-7">The possibility of IS-IS PDU spoofing can be reduced by the use of
      authentication, as described in <span>[<a class="xref" href="#RFC1195">RFC1195</a>]</span>
      and <span>[<a class="xref" href="#ISO10589">ISO10589</a>]</span>, and especially by
      the use of cryptographic authentication, as described in <span>[<a class="xref" href="#RFC5304">RFC5304</a>]</span> and <span>[<a class="xref" href="#RFC5310">RFC5310</a>]</span>.<a class="pilcrow" href="#section-6-7">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-manageability-consideration">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-manageability-consideration">Manageability Considerations</a>
      </h2>
<p id="section-7-1">These extensions that have been designed, developed, and deployed for
      many years do not have any new impact on management and operation of the
      IS-IS protocol via this standardization process.<a class="pilcrow" href="#section-7-1">¶</a></p>
</section>
<section id="section-8">
      <h2 id="name-normative-references">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
      </h2>
<dl class="references">
<dt id="ISO10589">[ISO10589]</dt>
<dd>
<span class="refAuthor">ISO</span>, <span class="refTitle">"Information technology -- Telecommunications and information exchange between systems -- Intermediate System to Intermediate System intra-domain routeing information exchange protocol for use in conjunction with the protocol for providing the connectionless-mode network service (ISO 8473)"</span>, <span class="seriesInfo">ISO/IEC 10589:2002, Second Edition</span>, <time datetime="2002-11">November 2002</time>. </dd>
<dt id="RFC1195">[RFC1195]</dt>
<dd>
<span class="refAuthor">Callon, R.</span>, <span class="refTitle">"Use of OSI IS-IS for routing in TCP/IP and dual environments"</span>, <span class="seriesInfo">RFC 1195</span>, <span class="seriesInfo">DOI 10.17487/RFC1195</span>, <time datetime="1990-12">December 1990</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1195">https://www.rfc-editor.org/info/rfc1195</a>&gt;</span>. </dd>
<dt id="RFC2119">[RFC2119]</dt>
<dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dt id="RFC5303">[RFC5303]</dt>
<dd>
<span class="refAuthor">Katz, D.</span><span class="refAuthor">, Saluja, R.</span><span class="refAuthor">, and D. Eastlake 3rd</span>, <span class="refTitle">"Three-Way Handshake for IS-IS Point-to-Point Adjacencies"</span>, <span class="seriesInfo">RFC 5303</span>, <span class="seriesInfo">DOI 10.17487/RFC5303</span>, <time datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5303">https://www.rfc-editor.org/info/rfc5303</a>&gt;</span>. </dd>
<dt id="RFC5304">[RFC5304]</dt>
<dd>
<span class="refAuthor">Li, T.</span><span class="refAuthor"> and R. Atkinson</span>, <span class="refTitle">"IS-IS Cryptographic Authentication"</span>, <span class="seriesInfo">RFC 5304</span>, <span class="seriesInfo">DOI 10.17487/RFC5304</span>, <time datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5304">https://www.rfc-editor.org/info/rfc5304</a>&gt;</span>. </dd>
<dt id="RFC5310">[RFC5310]</dt>
<dd>
<span class="refAuthor">Bhatia, M.</span><span class="refAuthor">, Manral, V.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, Atkinson, R.</span><span class="refAuthor">, White, R.</span><span class="refAuthor">, and M. Fanto</span>, <span class="refTitle">"IS-IS Generic Cryptographic Authentication"</span>, <span class="seriesInfo">RFC 5310</span>, <span class="seriesInfo">DOI 10.17487/RFC5310</span>, <time datetime="2009-02">February 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5310">https://www.rfc-editor.org/info/rfc5310</a>&gt;</span>. </dd>
<dt id="RFC5880">[RFC5880]</dt>
<dd>
<span class="refAuthor">Katz, D.</span><span class="refAuthor"> and D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD)"</span>, <span class="seriesInfo">RFC 5880</span>, <span class="seriesInfo">DOI 10.17487/RFC5880</span>, <time datetime="2010-06">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5880">https://www.rfc-editor.org/info/rfc5880</a>&gt;</span>. </dd>
<dt id="RFC8174">[RFC8174]</dt>
<dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-appendix.a">
      <h2 id="name-summary-of-changes-from-rfc">
<a class="section-number selfRef" href="#section-appendix.a">Appendix A. </a><a class="section-name selfRef" href="#name-summary-of-changes-from-rfc">Summary of Changes from RFC 5306</a>
      </h2>
<p id="section-appendix.a-1">This document extends RFC 5306 by introducing support for signaling
      the neighbors of a restarting router that a planned restart is about to
      occur. This allows the neighbors to be aware of the state of the
      restarting router so that appropriate action may be taken if other
      topology changes occur while the planned restart is in progress. Since
      the forwarding plane of the restarting router is maintained based upon
      the pre-restart state of the network, additional topology changes
      introduce the possibility that traffic may be lost if paths via the
      restarting router continue to be used while the restart is in
      progress.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
<p id="section-appendix.a-2">In support of this new functionality, two new flags have been
      introduced:<a class="pilcrow" href="#section-appendix.a-2">¶</a></p>
<dl class="dlParallel" id="section-appendix.a-3">
        <dt id="section-appendix.a-3.1">PR -</dt>
<dd id="section-appendix.a-3.2" style="margin-left: 1.0em">Restart is planned<a class="pilcrow" href="#section-appendix.a-3.2">¶</a>
</dd>
<dt id="section-appendix.a-3.3">PA -</dt>
<dd id="section-appendix.a-3.4" style="margin-left: 1.0em">Planned restart acknowledgement<a class="pilcrow" href="#section-appendix.a-3.4">¶</a>
</dd>
</dl>
<p id="section-appendix.a-4">No changes to the post-restart exchange between the restarting router
      and its neighbors have been introduced.<a class="pilcrow" href="#section-appendix.a-4">¶</a></p>
</section>
<div id="Acknowledgements">
<section id="section-appendix.b">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.b-1">For RFC 5306, the authors acknowledged contributions made by 
<span class="contact-name">Jeff Parker</span>,
<span class="contact-name">Radia Perlman</span>,
<span class="contact-name">Mark Schaefer</span>,
<span class="contact-name">Naiming Shen</span>,
<span class="contact-name">Nischal Sheth</span>,
<span class="contact-name">Russ White</span>, and
<span class="contact-name">Rena Yang</span>.<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
<p id="section-appendix.b-2">The authors of this updated document acknowledge the contribution of
<span class="contact-name">Mike Shand</span>, coauthor of RFC 5306.<a class="pilcrow" href="#section-appendix.b-2">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Les Ginsberg</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ginsberg@cisco.com">ginsberg@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Paul Wells</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pauwells@cisco.com">pauwells@cisco.com</a>
</div>
</address>
</section>
</div>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>


</body></html>