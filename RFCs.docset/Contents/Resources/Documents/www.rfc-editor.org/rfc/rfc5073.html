<html><head></head><body><pre>Network Working Group                                  J.P. Vasseur, Ed.
Request for Comments: 5073                           Cisco Systems, Inc.
Category: Standards Track                              J.L. Le Roux, Ed.
                                                          France Telecom
                                                           December 2007


                  <span class="h1">IGP Routing Protocol Extensions for</span>
           <span class="h1">Discovery of Traffic Engineering Node Capabilities</span>

Status of This Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the "Internet
   Official Protocol Standards" (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Abstract

   It is highly desired, in several cases, to take into account Traffic
   Engineering (TE) node capabilities during Multi Protocol Label
   Switching (MPLS) and Generalized MPLS (GMPLS) Traffic Engineered
   Label Switched Path (TE-LSP) selection, such as, for instance, the
   capability to act as a branch Label Switching Router (LSR) of a
   Point-To-MultiPoint (P2MP) LSP.  This requires advertising these
   capabilities within the Interior Gateway Protocol (IGP).  For that
   purpose, this document specifies Open Shortest Path First (OSPF) and
   Intermediate System-Intermediate System (IS-IS) traffic engineering
   extensions for the advertisement of control plane and data plane
   traffic engineering node capabilities.




















<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction.....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Terminology......................................................<a href="#page-3">3</a>
   <a href="#section-3">3</a>. TE Node Capability Descriptor ...................................<a href="#page-3">3</a>
      <a href="#section-3.1">3.1</a>. Description ................................................<a href="#page-3">3</a>
      <a href="#section-3.2">3.2</a>. Required Information .......................................<a href="#page-3">3</a>
   <a href="#section-4">4</a>. TE Node Capability Descriptor TLV Formats .......................<a href="#page-4">4</a>
      <a href="#section-4.1">4.1</a>. OSPF TE Node Capability Descriptor TLV Format ..............<a href="#page-4">4</a>
      <a href="#section-4.2">4.2</a>. IS-IS TE Node Capability Descriptor sub-TLV format .........<a href="#page-5">5</a>
   <a href="#section-5">5</a>. Elements of Procedure ...........................................<a href="#page-6">6</a>
      <a href="#section-5.1">5.1</a>. OSPF .......................................................<a href="#page-6">6</a>
      <a href="#section-5.2">5.2</a>. IS-IS ......................................................<a href="#page-7">7</a>
   <a href="#section-6">6</a>. Backward Compatibility ..........................................<a href="#page-8">8</a>
   <a href="#section-7">7</a>. Security Considerations .........................................<a href="#page-8">8</a>
   <a href="#section-8">8</a>. IANA Considerations .............................................<a href="#page-8">8</a>
      <a href="#section-8.1">8.1</a>. OSPF TLV ...................................................<a href="#page-8">8</a>
      <a href="#section-8.2">8.2</a>. ISIS sub-TLV ...............................................<a href="#page-8">8</a>
      <a href="#section-8.3">8.3</a>. Capability Registry ........................................<a href="#page-9">9</a>
   <a href="#section-9">9</a>. Acknowledgments .................................................<a href="#page-9">9</a>
   <a href="#section-10">10</a>. References ....................................................<a href="#page-10">10</a>
      <a href="#section-10.1">10.1</a>. Normative References .....................................<a href="#page-10">10</a>
      <a href="#section-10.2">10.2</a>. Informative References ...................................<a href="#page-11">11</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   Multi Protocol Label Switching-Traffic Engineering (MPLS-TE) routing
   ([<a href="./rfc3784" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Traffic Engineering (TE)"'>RFC3784</a>], [<a href="./rfc3630" title='"Traffic Engineering (TE) Extensions to OSPF Version 2"'>RFC3630</a>], [<a href="#ref-OSPFv3-TE" title='"Traffic Engineering Extensions to OSPF version 3"'>OSPFv3-TE</a>]) relies on extensions to link
   state Interior Gateway Protocols (IGP) ([<a href="#ref-IS-IS" title='"Intermediate System to Intermediate System Intra-Domain Routeing Exchange Protocol for use in Conjunction with the Protocol for Providing the Connectionless-mode Network Service (ISO 8473)"'>IS-IS</a>], [<a href="./rfc1195" title='"Use of OSI IS-IS for routing in TCP/IP and dual environments"'>RFC1195</a>],
   [<a href="./rfc2328" title='"OSPF Version 2"'>RFC2328</a>], [<a href="./rfc2740" title='"OSPF for IPv6"'>RFC2740</a>]) in order to advertise Traffic Engineering (TE)
   link information used for constraint-based routing.  Further
   Generalized MPLS (GMPLS) related routing extensions are defined in
   [<a href="./rfc4205" title='"Intermediate System to Intermediate System (IS-IS) Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)"'>RFC4205</a>] and [<a href="./rfc4203" title='"OSPF Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)"'>RFC4203</a>].

   It is desired to complement these routing extensions in order to
   advertise TE node capabilities, in addition to TE link information.
   These TE node capabilities will be taken into account as constraints
   during path selection.

   Indeed, it is useful to advertise data plane TE node capabilities,
   such as the capability for a Label Switching Router (LSR) to be a
   branch LSR or a bud-LSR of a Point-To-MultiPoint (P2MP) Label
   Switched Path (LSP).  These capabilities can then be taken into
   account as constraints when computing the route of TE LSPs.

   It is also useful to advertise control plane TE node capabilities
   such as the capability to support GMPLS signaling for a packet LSR,
   or the capability to support P2MP (Point to Multipoint) TE LSP



<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


   signaling.  This allows selecting a path that avoids nodes that do
   not support a given control plane feature, or triggering a mechanism
   to support such nodes on a path.  Hence, this facilitates backward
   compatibility.

   For that purpose, this document specifies IGP (OSPF and IS-IS)
   extensions in order to advertise data plane and control plane
   capabilities of a node.

   A new TLV is defined for OSPF, the TE Node Capability Descriptor TLV,
   to be carried within the Router Information LSA ([<a href="./rfc4970" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC4970</a>]).  A new
   sub-TLV is defined for IS-IS, the TE Node Capability Descriptor
   sub-TLV, to be carried within the IS-IS Capability TLV ([<a href="./rfc4971" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>RFC4971</a>]).

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Terminology"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Terminology</span>

   This document uses terminologies defined in [<a href="./rfc3031" title='"Multiprotocol Label Switching Architecture"'>RFC3031</a>], [<a href="./rfc3209" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>], and
   [<a href="./rfc4461" title='"Signaling Requirements for Point- to-Multipoint Traffic-Engineered MPLS Label Switched Paths (LSPs)"'>RFC4461</a>].

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="./rfc2119">RFC 2119</a> [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20TE%20Node%20Capability%20Descriptor"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  TE Node Capability Descriptor</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.%20%20Description"></a><a class="selflink" href="#section-3.1" id="section-3.1">3.1</a>.  Description</span>

   LSRs in a network may have distinct control plane and data plane
   Traffic Engineering capabilities.  The TE Node Capability Descriptor
   information defined in this document describes data and control plane
   capabilities of an LSR.  Such information can be used during path
   computation so as to avoid nodes that do not support a given TE
   feature either in the control or data plane, or to trigger procedures
   to handle these nodes along the path (e.g., trigger LSP hierarchy to
   support a legacy transit LSR on a P2MP LSP (see [<a href="./rfc4875" title='"Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to- Multipoint TE Label Switched Paths (LSPs)"'>RFC4875</a>])).

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.2.%20%20Required%20Information"></a><a class="selflink" href="#section-3.2" id="section-3.2">3.2</a>.  Required Information</span>

   The TE Node Capability Descriptor contains a variable-length set of
   bit flags, where each bit corresponds to a given TE node capability.











<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


   Five TE Node Capabilities are defined in this document:

      - B bit: when set, this flag indicates that the LSR can act
               as a branch node on a P2MP LSP (see [<a href="./rfc4461" title='"Signaling Requirements for Point- to-Multipoint Traffic-Engineered MPLS Label Switched Paths (LSPs)"'>RFC4461</a>]);
      - E bit: when set, this flag indicates that the LSR can act
               as a bud LSR on a P2MP LSP, i.e., an LSR that is both
               transit and egress (see [<a href="./rfc4461" title='"Signaling Requirements for Point- to-Multipoint Traffic-Engineered MPLS Label Switched Paths (LSPs)"'>RFC4461</a>]);
      - M bit: when set, this flag indicates that the LSR supports
               MPLS-TE signaling ([<a href="./rfc3209" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]);
      - G bit: when set this flag indicates that the LSR supports
               GMPLS signaling ([<a href="./rfc3473" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>]);
      - P bit: when set, this flag indicates that the LSR supports
               P2MP MPLS-TE signaling ([<a href="./rfc4875" title='"Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to- Multipoint TE Label Switched Paths (LSPs)"'>RFC4875</a>]).

   Note that new capability bits may be added in the future if required.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20TE%20Node%20Capability%20Descriptor%20TLV%20Formats"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  TE Node Capability Descriptor TLV Formats</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.1.%20%20OSPF%20TE%20Node%20Capability%20Descriptor%20TLV%20Format"></a><a class="selflink" href="#section-4.1" id="section-4.1">4.1</a>.  OSPF TE Node Capability Descriptor TLV Format</span>

   The OSPF TE Node Capability Descriptor TLV is a variable length TLV
   that contains a series of bit flags, where each bit correspond to a
   TE node capability.  The bit-field MAY be extended with additional
   32-bit words if more bit flags need to be assigned.  Any unknown bit
   flags SHALL be treated as Reserved bits.

   The OSPF TE Node Capability Descriptor TLV is carried within an OSPF
   Router Information LSA, which is defined in [<a href="./rfc4970" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC4970</a>].

   The format of the OSPF TE Node Capability Descriptor TLV is the same
   as the TLV format used by the Traffic Engineering Extensions to OSPF
   [<a href="./rfc3630" title='"Traffic Engineering (TE) Extensions to OSPF Version 2"'>RFC3630</a>].  That is, the TLV is composed of 2 octets for the type, 2
   octets specifying the length of the value field, and a value field.

   The OSPF TE Node Capability Descriptor TLV has the following format:

      TYPE:     5 (see <a href="#section-8.1">Section 8.1</a>)
      LENGTH:   Variable (multiple of 4).
      VALUE:    Array of units of 32 flags numbered from the most
                significant bit as bit zero, where each bit represents
                a TE node capability.










<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


   The following bits are defined:

   Bit       Capabilities

   0      B bit: P2MP Branch Node capability: When set, this indicates
          that the LSR can act as a branch node on a P2MP LSP
          [<a href="./rfc4461" title='"Signaling Requirements for Point- to-Multipoint Traffic-Engineered MPLS Label Switched Paths (LSPs)"'>RFC4461</a>].
   1      E bit: P2MP Bud-LSR capability: When set, this indicates
          that the LSR can act as a bud LSR on a P2MP LSP, i.e., an
          LSR that is both transit and egress [<a href="./rfc4461" title='"Signaling Requirements for Point- to-Multipoint Traffic-Engineered MPLS Label Switched Paths (LSPs)"'>RFC4461</a>].
   2      M bit: If set, this indicates that the LSR supports MPLS-TE
          signaling ([<a href="./rfc3209" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]).
   3      G bit: If set, this indicates that the LSR supports GMPLS
          signaling ([<a href="./rfc3473" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>]).
   4      P bit: If set, this indicates that the LSR supports P2MP
          MPLS-TE signaling ([<a href="./rfc4875" title='"Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to- Multipoint TE Label Switched Paths (LSPs)"'>RFC4875</a>]).

   5-31   Reserved for future assignments by IANA.

   Reserved bits MUST be set to zero on transmission, and MUST be
   ignored on reception.  If the length field is greater than 4,
   implying that there are more than 32 bits in the value field, then
   any additional bits (i.e., not yet assigned) are reserved.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.2.%20%20IS-IS%20TE%20Node%20Capability%20Descriptor%20sub-TLV%20format"></a><a class="selflink" href="#section-4.2" id="section-4.2">4.2</a>.  IS-IS TE Node Capability Descriptor sub-TLV format</span>

   The IS-IS TE Node Capability Descriptor sub-TLV is a variable length
   sub-TLV that contains a series of bit flags, where each bit
   corresponds to a TE node capability.  The bit-field MAY be extended
   with additional bytes if more bit flags need to be assigned.  Any
   unknown bit flags SHALL be treated as Reserved bits.

   The IS-IS TE Node Capability Descriptor sub-TLV is carried within an
   IS-IS CAPABILITY TLV, which is defined in [<a href="./rfc4971" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>RFC4971</a>].

   The format of the IS-IS TE Node Capability sub-TLV is the same as the
   sub-TLV format used by the Traffic Engineering Extensions to IS-IS
   [<a href="./rfc3784" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Traffic Engineering (TE)"'>RFC3784</a>].  That is, the sub-TLV is composed of 1 octet for the type,
   1 octet specifying the length of the value field.

   The IS-IS TE Node Capability Descriptor sub-TLV has the following
   format:

      TYPE:   1 (see <a href="#section-8.2">Section 8.2</a>)
      LENGTH: Variable
      VALUE:  Array of units of 8 flags numbered from the most
              significant bit as bit zero, where each bit represents
              a TE node capability.



<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


   The following bits are defined:

   Bit       Capabilities

    0      B bit: P2MP Branch Node capability: When set, this indicates
           that the LSR can act as a branch node on a P2MP LSP
           [<a href="./rfc4461" title='"Signaling Requirements for Point- to-Multipoint Traffic-Engineered MPLS Label Switched Paths (LSPs)"'>RFC4461</a>].
    1      E bit: P2MP Bud-LSR capability: When set, this indicates
           that the LSR can act as a bud LSR on a P2MP LSP, i.e., an
           LSR that is both transit and egress [<a href="./rfc4461" title='"Signaling Requirements for Point- to-Multipoint Traffic-Engineered MPLS Label Switched Paths (LSPs)"'>RFC4461</a>].
    2      M bit: If set, this indicates that the LSR supports MPLS-TE
           signaling ([<a href="./rfc3209" title='"RSVP-TE: Extensions to RSVP for LSP Tunnels"'>RFC3209</a>]).
    3      G bit: If set, this indicates that the LSR supports GMPLS
           signaling ([<a href="./rfc3473" title='"Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions"'>RFC3473</a>]).
    4      P bit: If set, this indicates that the LSR supports P2MP
           MPLS-TE signaling ([<a href="./rfc4875" title='"Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to- Multipoint TE Label Switched Paths (LSPs)"'>RFC4875</a>]).

    5-7    Reserved for future assignments by IANA.

   Reserved bits MUST be set to zero on transmission, and MUST be
   ignored on reception.  If the length field is great than 1, implying
   that there are more than 8 bits in the value field, then any
   additional bits (i.e., not yet assigned) are reserved.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Elements%20of%20Procedure"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Elements of Procedure</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.1.%20%20OSPF"></a><a class="selflink" href="#section-5.1" id="section-5.1">5.1</a>.  OSPF</span>

   The TE Node Capability Descriptor TLV is advertised, within an OSPFv2
   Router Information LSA (Opaque type of 4 and Opaque ID of 0) or an
   OSPFv3 Router Information LSA (function code of 12), which are
   defined in [<a href="./rfc4970" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC4970</a>].  As such, elements of procedure are inherited
   from those defined in [<a href="./rfc2328" title='"OSPF Version 2"'>RFC2328</a>], [<a href="./rfc2740" title='"OSPF for IPv6"'>RFC2740</a>], and [<a href="./rfc4970" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC4970</a>].

   The TE Node Capability Descriptor TLV advertises capabilities that
   may be taken into account as constraints during path selection.
   Hence, its flooding scope is area-local, and it MUST be carried
   within an OSPFv2 type 10 Router Information LSA (as defined in
   [<a href="./rfc2370" title='"The OSPF Opaque LSA Option"'>RFC2370</a>]) or an OSPFv3 Router Information LSA with the S1 bit set
   and the S2 bit cleared (as defined in [<a href="./rfc2740" title='"OSPF for IPv6"'>RFC2740</a>]).

   A router MUST originate a new OSPF Router Information LSA whenever
   the content of the TE Node Capability Descriptor TLV changes or
   whenever required by the regular OSPF procedure (LSA refresh (every
   LSRefreshTime)).






<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


   The TE Node Capability Descriptor TLV is OPTIONAL and MUST NOT appear
   more than once in an OSPF Router Information LSA.  If a TE Node
   Capability Descriptor TLV appears more than once in an OSPF Router
   Information LSA, only the first occurrence MUST be processed and
   others MUST be ignored.

   When an OSPF Router Information LSA does not contain any TE Node
   Capability Descriptor TLV, this means that the TE node capabilities
   of that LSR are unknown.

   Note that a change in any of these capabilities MAY trigger
   Constrained Shortest Path First (CSPF) computation, but MUST NOT
   trigger normal SPF computation.

   Note also that TE node capabilities are expected to be fairly static.
   They may change as the result of configuration change or software
   upgrade.  This is expected not to appear more than once a day.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.2.%20%20IS-IS"></a><a class="selflink" href="#section-5.2" id="section-5.2">5.2</a>.  IS-IS</span>

   The TE Node Capability sub-TLV is carried within an IS-IS CAPABILITY
   TLV defined in [<a href="./rfc4971" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>RFC4971</a>].  As such, elements of procedure are
   inherited from those defined in [<a href="./rfc4971" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>RFC4971</a>].

   The TE Node Capability Descriptor sub-TLV advertises capabilities
   that may be taken into account as constraints during path selection.
   Hence, its flooding is area-local, and it MUST be carried within an
   IS-IS CAPABILITY TLV having the S flag cleared.

   An IS-IS router MUST originate a new IS-IS LSP whenever the content
   of any of the TE Node Capability sub-TLV changes or whenever required
   by the regular IS-IS procedure (LSP refresh).

   The TE Node Capability Descriptor sub-TLV is OPTIONAL and MUST NOT
   appear more than once in an ISIS Router Capability TLV.

   When an IS-IS LSP does not contain any TE Node Capability Descriptor
   sub-TLV, this means that the TE node capabilities of that LSR are
   unknown.

   Note that a change in any of these capabilities MAY trigger CSPF
   computation, but MUST NOT trigger normal SPF computation.

   Note also that TE node capabilities are expected to be fairly static.
   They may change as the result of configuration change, or software
   upgrade.  This is expected not to appear more than once a day.





<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 7]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-8"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20Backward%20Compatibility"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  Backward Compatibility</span>

   The TE Node Capability Descriptor TLVs defined in this document do
   not introduce any interoperability issues.  For OSPF, a router not
   supporting the TE Node Capability Descriptor TLV will just silently
   ignore the TLV, as specified in [<a href="./rfc4970" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC4970</a>].  For IS-IS, a router not
   supporting the TE Node Capability Descriptor sub-TLV will just
   silently ignore the sub-TLV, as specified in [<a href="./rfc4971" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>RFC4971</a>].

   When the TE Node Capability Descriptor TLV is absent, this means that
   the TE Capabilities of that LSR are unknown.

   The absence of a word of capability flags in OSPF or an octet of
   capability flags in IS-IS means that these capabilities are unknown.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20Security%20Considerations"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  Security Considerations</span>

   This document specifies the content of the TE Node Capability
   Descriptor TLV in IS-IS and OSPF to be used for (G)MPLS-TE path
   computation.  As this TLV is not used for SPF computation or normal
   routing, the extensions specified here have no direct effect on IP
   routing.  Tampering with this TLV may have an effect on Traffic
   Engineering computation.  Mechanisms defined to secure IS-IS Link
   State PDUs [<a href="./rfc3567" title='"Intermediate System to Intermediate System (IS-IS) Cryptographic Authentication"'>RFC3567</a>], OSPF LSAs [<a href="./rfc2154" title='"OSPF with Digital Signatures"'>RFC2154</a>], and their TLVs can be used
   to secure this TLV as well.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  IANA Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.1.%20%20OSPF%20TLV"></a><a class="selflink" href="#section-8.1" id="section-8.1">8.1</a>.  OSPF TLV</span>

   [<a id="ref-RFC4970">RFC4970</a>] defines a new codepoint registry for TLVs carried in the
   Router Information LSA defined in [<a href="./rfc4970" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC4970</a>].

   IANA has made a new codepoint assignment from that registry for the
   TE Node Capability Descriptor TLV defined in this document and
   carried within the Router Information LSA.  The value is 5.  See
   <a href="#section-4.1">Section 4.1</a> of this document.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.2.%20%20ISIS%20sub-TLV"></a><a class="selflink" href="#section-8.2" id="section-8.2">8.2</a>.  ISIS sub-TLV</span>

   IANA has defined a registry for sub-TLVs of the IS-IS CAPABILITY TLV
   defined in [<a href="./rfc4971" title='"Intermediate System to Intermediate System (IS-IS) Extensions for Advertising Router Information"'>RFC4971</a>].

   IANA has made a new codepoint assignment from that registry for the
   TE Node Capability Descriptor sub-TLV defined in this document, and
   carried within the ISIS CAPABILITY TLV.  The value is 1.  See <a href="#section-4.2">Section</a>
   <a href="#section-4.2">4.2</a> of this document.




<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 8]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-9"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.3.%20%20Capability%20Registry"></a><a class="selflink" href="#section-8.3" id="section-8.3">8.3</a>.  Capability Registry</span>

   IANA has created a new registry to manage the space of capability bit
   flags carried within the OSPF and ISIS TE Node Capability Descriptor.

   A single registry must be defined for both protocols.  A new base
   registry has been created to cover IGP-TE registries that apply to
   both OSPF and IS-IS, and the new registry requested by this document
   is a sub-registry of this new base registry.

   Bits in the new registry should be numbered in the usual IETF
   notation, starting with the most significant bit as bit zero.

   New bit numbers may be allocated only by an IETF Consensus action.

      Each bit should be tracked with the following qualities:
         - Bit number
         - Defining RFC
         - Name of bit

   IANA has made assignments for the five TE node capabilities defined
   in this document (see Sections <a href="#section-8.1">8.1</a> and <a href="#section-8.2">8.2</a>) using the following
   values:

   Bit No.  Name                                    Reference
   --------+---------------------------------------+---------------
   0        B bit: P2MP Branch LSR capability       [<a href="./rfc5073">RFC5073</a>]
   1        E bit: P2MP Bud LSR capability          [<a href="./rfc5073">RFC5073</a>]
   2        M bit: MPLS-TE support                  [<a href="./rfc5073">RFC5073</a>]
   3        G bit: GMPLS support                    [<a href="./rfc5073">RFC5073</a>]
   4        P bit: P2MP RSVP-TE support             [<a href="./rfc5073">RFC5073</a>]
   5-7      Unassigned                              [<a href="./rfc5073">RFC5073</a>]

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.%20%20Acknowledgments"></a><a class="selflink" href="#section-9" id="section-9">9</a>.  Acknowledgments</span>

   We would like to thank Benoit Fondeviole, Adrian Farrel, Dimitri
   Papadimitriou, Acee Lindem, and David Ward for their useful comments
   and suggestions.

   We would also like to thank authors of [<a href="./rfc4420" title='"Encoding of Attributes for Multiprotocol Label Switching (MPLS) Label Switched Path (LSP) Establishment Using Resource ReserVation Protocol- Traffic Engineering (RSVP-TE)"'>RFC4420</a>] and [<a href="./rfc4970" title='"Extensions to OSPF for Advertising Optional Router Capabilities"'>RFC4970</a>] by
   which some text of this document has been inspired.

   Adrian Farrel prepared the final version of this document for
   submission to the IESG.







<span class="grey">Vasseur &amp; Le Roux           Standards Track                     [Page 9]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-10"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.%20%20References"></a><a class="selflink" href="#section-10" id="section-10">10</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.1.%20%20Normative%20References"></a><a class="selflink" href="#section-10.1" id="section-10.1">10.1</a>.  Normative References</span>

   [<a id="ref-RFC1195">RFC1195</a>]    Callon, R., "Use of OSI IS-IS for routing in TCP/IP and
                dual environments", <a href="./rfc1195">RFC 1195</a>, December 1990.

   [<a id="ref-RFC2119">RFC2119</a>]    Bradner, S., "Key words for use in RFCs to Indicate
                Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>, March 1997.

   [<a id="ref-RFC2328">RFC2328</a>]    Moy, J., "OSPF Version 2", STD 54, <a href="./rfc2328">RFC 2328</a>, April 1998.

   [<a id="ref-RFC2370">RFC2370</a>]    Coltun, R., "The OSPF Opaque LSA Option", <a href="./rfc2370">RFC 2370</a>, July
                1998.

   [<a id="ref-RFC2740">RFC2740</a>]    Coltun, R., Ferguson, D., and J. Moy, "OSPF for IPv6",
                <a href="./rfc2740">RFC 2740</a>, December 1999.

   [<a id="ref-RFC3031">RFC3031</a>]    Rosen, E., Viswanathan, A., and R. Callon,
                "Multiprotocol Label Switching Architecture", <a href="./rfc3031">RFC 3031</a>,
                January 2001.

   [<a id="ref-RFC3209">RFC3209</a>]    Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan,
                V., and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
                Tunnels", <a href="./rfc3209">RFC 3209</a>, December 2001.

   [<a id="ref-RFC3473">RFC3473</a>]    Berger, L., Ed., "Generalized Multi-Protocol Label
                Switching (GMPLS) Signaling Resource ReserVation
                Protocol-Traffic Engineering (RSVP-TE) Extensions", <a href="./rfc3473">RFC</a>
                <a href="./rfc3473">3473</a>, January 2003.

   [<a id="ref-RFC3630">RFC3630</a>]    Katz, D., Kompella, K., and D. Yeung, "Traffic
                Engineering (TE) Extensions to OSPF Version 2", <a href="./rfc3630">RFC</a>
                <a href="./rfc3630">3630</a>, September 2003.

   [<a id="ref-RFC3784">RFC3784</a>]    Smit, H. and T. Li, "Intermediate System to Intermediate
                System (IS-IS) Extensions for Traffic Engineering (TE)",
                <a href="./rfc3784">RFC 3784</a>, June 2004.

   [<a id="ref-IS-IS">IS-IS</a>]      "Intermediate System to Intermediate System Intra-Domain
                Routeing Exchange Protocol for use in Conjunction with
                the Protocol for Providing the Connectionless-mode
                Network Service (ISO 8473)", ISO 10589.

   [<a id="ref-RFC4971">RFC4971</a>]    Vasseur, JP., Ed., Shen, N., Ed., and R. Aggarwal, Ed.,
                "Intermediate System to Intermediate System (IS-IS)
                Extensions for Advertising Router Information", <a href="./rfc4971">RFC</a>
                <a href="./rfc4971">4971</a>, July 2007.



<span class="grey">Vasseur &amp; Le Roux           Standards Track                    [Page 10]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-11"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


   [<a id="ref-RFC4970">RFC4970</a>]    Lindem, A., Ed., Shen, N., Vasseur, JP., Aggarwal, R.,
                and S. Shaffer, "Extensions to OSPF for Advertising
                Optional Router Capabilities", <a href="./rfc4970">RFC 4970</a>, July 2007.

   [<a id="ref-RFC4875">RFC4875</a>]    Aggarwal, R., Ed., Papadimitriou, D., Ed., and S.
                Yasukawa, Ed., "Extensions to Resource Reservation
                Protocol - Traffic Engineering (RSVP-TE) for Point-to-
                Multipoint TE Label Switched Paths (LSPs)", <a href="./rfc4875">RFC 4875</a>,
                May 2007.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.2.%20%20Informative%20References"></a><a class="selflink" href="#section-10.2" id="section-10.2">10.2</a>.  Informative References</span>

   [<a id="ref-RFC2154">RFC2154</a>]    Murphy, S., Badger, M., and B. Wellington, "OSPF with
                Digital Signatures", <a href="./rfc2154">RFC 2154</a>, June 1997.

   [<a id="ref-RFC3567">RFC3567</a>]    Li, T. and R. Atkinson, "Intermediate System to
                Intermediate System (IS-IS) Cryptographic
                Authentication", <a href="./rfc3567">RFC 3567</a>, July 2003.

   [<a id="ref-RFC4203">RFC4203</a>]    Kompella, K., Ed., and Y. Rekhter, Ed., "OSPF Extensions
                in Support of Generalized Multi-Protocol Label Switching
                (GMPLS)", <a href="./rfc4203">RFC 4203</a>, October 2005.

   [<a id="ref-RFC4205">RFC4205</a>]    Kompella, K., Ed., and Y. Rekhter, Ed., "Intermediate
                System to Intermediate System (IS-IS) Extensions in
                Support of Generalized Multi-Protocol Label Switching
                (GMPLS)", <a href="./rfc4205">RFC 4205</a>, October 2005.

   [<a id="ref-RFC4420">RFC4420</a>]    Farrel, A., Ed., Papadimitriou, D., Vasseur, J.-P., and
                A. Ayyangar, "Encoding of Attributes for Multiprotocol
                Label Switching (MPLS) Label Switched Path (LSP)
                Establishment Using Resource ReserVation Protocol-
                Traffic Engineering (RSVP-TE)", <a href="./rfc4420">RFC 4420</a>, February 2006.

   [<a id="ref-RFC4461">RFC4461</a>]    Yasukawa, S., Ed., "Signaling Requirements for Point-
                to-Multipoint Traffic-Engineered MPLS Label Switched
                Paths (LSPs)", <a href="./rfc4461">RFC 4461</a>, April 2006.

   [<a id="ref-OSPFv3-TE">OSPFv3-TE</a>]  Ishiguro K., Manral V., Davey A., and Lindem A.,
                "Traffic Engineering Extensions to OSPF version 3", Work
                in Progress.










<span class="grey">Vasseur &amp; Le Roux           Standards Track                    [Page 11]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-12"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


Contributors' Addresses

   Seisho Yasukawa
   NTT
   3-9-11 Midori-cho,
   Musashino-shi, Tokyo 180-8585, Japan
   EMail: s.yasukawa@hco.ntt.co.jp

   Stefano Previdi
   Cisco Systems, Inc
   Via Del Serafico 200
   Roma, 00142
   Italy
   EMail: sprevidi@cisco.com

   Peter Psenak
   Cisco Systems, Inc
   Pegasus Park DE Kleetlaan 6A
   Diegmen, 1831
   BELGIUM
   EMail: ppsenak@cisco.com

   Paul Mabbey
   Comcast
   USA

Editors' Addresses

   Jean-Philippe Vasseur
   Cisco Systems, Inc.
   1414 Massachusetts Avenue
   Boxborough, MA, 01719
   USA
   EMail: jpv@cisco.com

   Jean-Louis Le Roux
   France Telecom
   2, avenue Pierre-Marzin
   22307 Lannion Cedex
   FRANCE
   EMail: jeanlouis.leroux@orange-ftgroup.com










<span class="grey">Vasseur &amp; Le Roux           Standards Track                    [Page 12]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-13"></span>
<span class="grey"><a href="./rfc5073">RFC 5073</a>         IGP Ext for Discovery of TE Node Cap      December 2007</span>


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a>, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and <a href="https://www.rfc-editor.org/bcp/bcp79">BCP 79</a>.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   <a href="http://www.ietf.org/ipr">http://www.ietf.org/ipr</a>.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.












Vasseur &amp; Le Roux           Standards Track                    [Page 13]
</pre>
</body></html>