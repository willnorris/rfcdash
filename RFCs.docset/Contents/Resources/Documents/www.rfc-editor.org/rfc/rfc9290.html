<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Hebrew,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9290: Concise Problem Details for Constrained Application Protocol (CoAP) APIs</title>
<meta content="Thomas Fossati" name="author"/>
<meta content="Carsten Bormann" name="author"/>
<meta content='
       This document defines a concise "problem detail" as a way to carry
machine-readable details of errors in a Representational State Transfer (REST) response to avoid the
need to define new error response formats for REST APIs for
constrained environments.
The format
is inspired by, but intended to be more concise than, the problem
details for HTTP APIs defined in RFC 7807. 
    ' name="description"/>
<meta content="xml2rfc 3.15.1" name="generator"/>
<meta content="CoAP" name="keyword"/>
<meta content="API" name="keyword"/>
<meta content="Problem Details" name="keyword"/>
<meta content="CBOR Tag" name="keyword"/>
<meta content="Language Tag" name="keyword"/>
<meta content="Bidi" name="keyword"/>
<meta content="9290" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.15.1
    Python 3.9.13
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 3.1.2
    kitchen 1.2.6
    lxml 4.9.0
    MarkupSafe 2.1.1
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.28.0
    setuptools 44.1.1
    six 1.16.0
    weasyprint 56.1
-->
<link href="rfc9290.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  pre.breakable {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9290" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-core-problem-details-08" rel="prev"/>
  </head>
<body class="xml2rfc">
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9290</td>
<td class="center">CoRE Problem Details</td>
<td class="right">October 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Fossati &amp; Bormann</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9290">9290</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-10">October 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">T. Fossati</div>
<div class="org">Arm Limited</div>
</div>
<div class="author">
      <div class="author-name">C. Bormann</div>
<div class="org">Universität Bremen TZI</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9290</h1>
<h1 id="title">Concise Problem Details for Constrained Application Protocol (CoAP) APIs</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document defines a concise "problem detail" as a way to carry
machine-readable details of errors in a Representational State Transfer (REST) response to avoid the
need to define new error response formats for REST APIs for
constrained environments.
The format
is inspired by, but intended to be more concise than, the problem
details for HTTP APIs defined in RFC 7807.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9290">https://www.rfc-editor.org/info/rfc9290</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="auto internal xref" href="#section-1">1</a>.  <a class="internal xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="auto internal xref" href="#section-1.1">1.1</a>.  <a class="internal xref" href="#name-terminology-and-requirement">Terminology and Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="auto internal xref" href="#section-2">2</a>.  <a class="internal xref" href="#name-basic-problem-details">Basic Problem Details</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="auto internal xref" href="#section-3">3</a>.  <a class="internal xref" href="#name-extending-concise-problem-d">Extending Concise Problem Details</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="auto internal xref" href="#section-3.1">3.1</a>.  <a class="internal xref" href="#name-standard-problem-detail-ent">Standard Problem Detail Entries</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a class="auto internal xref" href="#section-3.1.1">3.1.1</a>.  <a class="internal xref" href="#name-standard-problem-detail-entr">Standard Problem Detail Entry: Unprocessed CoAP Option</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="auto internal xref" href="#section-3.2">3.2</a>.  <a class="internal xref" href="#name-custom-problem-detail-entri">Custom Problem Detail Entries</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="auto internal xref" href="#section-4">4</a>.  <a class="internal xref" href="#name-privacy-considerations">Privacy Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="auto internal xref" href="#section-5">5</a>.  <a class="internal xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="auto internal xref" href="#section-6">6</a>.  <a class="internal xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a class="auto internal xref" href="#section-6.1">6.1</a>.  <a class="internal xref" href="#name-standard-problem-detail-key">Standard Problem Detail Keys Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a class="auto internal xref" href="#section-6.2">6.2</a>.  <a class="internal xref" href="#name-custom-problem-detail-keys-">Custom Problem Detail Keys Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a class="auto internal xref" href="#section-6.3">6.3</a>.  <a class="internal xref" href="#name-media-type">Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a class="auto internal xref" href="#section-6.4">6.4</a>.  <a class="internal xref" href="#name-content-format">Content-Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a class="auto internal xref" href="#section-6.5">6.5</a>.  <a class="internal xref" href="#name-cbor-tag-38">CBOR Tag 38</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="auto internal xref" href="#section-7">7</a>.  <a class="internal xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="auto internal xref" href="#section-7.1">7.1</a>.  <a class="internal xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="auto internal xref" href="#section-7.2">7.2</a>.  <a class="internal xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="auto internal xref" href="#appendix-A">Appendix A</a>.  <a class="internal xref" href="#name-language-tagged-strings">Language-Tagged Strings</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="auto internal xref" href="#appendix-A.1">A.1</a>.  <a class="internal xref" href="#name-introduction-2">Introduction</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="auto internal xref" href="#appendix-A.2">A.2</a>.  <a class="internal xref" href="#name-detailed-semantics">Detailed Semantics</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="auto internal xref" href="#appendix-A.3">A.3</a>.  <a class="internal xref" href="#name-examples">Examples</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="auto internal xref" href="#appendix-B">Appendix B</a>.  <a class="internal xref" href="#name-interworking-with-rfc-7807">Interworking with RFC 7807</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="auto internal xref" href="#appendix-C"></a><a class="internal xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="auto internal xref" href="#appendix-D"></a><a class="internal xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="auto internal xref" href="#appendix-E"></a><a class="internal xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">REST response status information such as Constrained Application Protocol (CoAP) response
codes (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7252#section-5.9">Section 5.9</a> of [<a class="cite xref" href="#RFC7252">RFC7252</a>]</span>) is sometimes not sufficient to convey enough information about
an error to be helpful.  This specification defines a simple and extensible
framework to define Concise Binary Object Representation (CBOR) <span>[<a class="cite xref" href="#STD94">STD94</a>]</span> data items to suit this purpose.
This framework is designed to be reused by REST APIs, which can identify distinct
"shapes" of these data items specific to their needs.
Thus, API clients can be informed of both the high-level error class
(using the response code) and the finer-grained details of the problem
(using the vocabulary defined here).
      This pattern of communication is illustrated in <a class="auto internal xref" href="#fig-problem-details">Figure 1</a>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<span id="name-problem-details-example-wit"></span><div id="fig-problem-details">
<figure id="figure-1">
        <div id="section-1-2.1">
          <div class="alignCenter art-svg artwork" id="section-1-2.1.1">
<svg class="diagram" font-family="Roboto Mono" font-size="13px" height="256" text-anchor="middle" version="1.1" viewBox="0 0 288 256" width="288" xmlns="http://www.w3.org/2000/svg">
              <path d="M 8,32 L 8,80" fill="none" stroke="black"></path>
              <path d="M 48,80 L 48,240" fill="none" stroke="black"></path>
              <path d="M 80,32 L 80,80" fill="none" stroke="black"></path>
              <path d="M 168,32 L 168,80" fill="none" stroke="black"></path>
              <path d="M 200,80 L 200,240" fill="none" stroke="black"></path>
              <path d="M 240,32 L 240,80" fill="none" stroke="black"></path>
              <path d="M 8,32 L 80,32" fill="none" stroke="black"></path>
              <path d="M 168,32 L 240,32" fill="none" stroke="black"></path>
              <path d="M 8,80 L 80,80" fill="none" stroke="black"></path>
              <path d="M 168,80 L 240,80" fill="none" stroke="black"></path>
              <path d="M 56,128 L 192,128" fill="none" stroke="black"></path>
              <path d="M 56,160 L 192,160" fill="none" stroke="black"></path>
              <polygon class="arrowhead" fill="black" points="200,128 188,122.4 188,133.6" transform="rotate(0,192,128)"></polygon>
              <polygon class="arrowhead" fill="black" points="64,160 52,154.4 52,165.6" transform="rotate(180,56,160)"></polygon>
              <circle class="opendot" cx="48" cy="128" fill="white" r="6" stroke="black"></circle>
              <circle class="opendot" cx="200" cy="160" fill="white" r="6" stroke="black"></circle>
              <g class="text">
                <text x="44" y="52">CoAP</text>
                <text x="204" y="52">CoAP</text>
                <text x="44" y="68">Client</text>
                <text x="204" y="68">Server</text>
                <text x="88" y="116">Request</text>
                <text x="248" y="148">(failure)</text>
                <text x="96" y="180">Error</text>
                <text x="156" y="180">Response</text>
                <text x="116" y="196">with</text>
                <text x="144" y="196">a</text>
                <text x="172" y="196">CBOR</text>
                <text x="76" y="212">data</text>
                <text x="116" y="212">item</text>
                <text x="164" y="212">giving</text>
                <text x="96" y="228">Problem</text>
                <text x="160" y="228">Details</text>
              </g>
            </svg><a class="pilcrow" href="#section-1-2.1.1">¶</a>
</div>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-problem-details-example-wit">Problem Details: Example with CoAP</a>
        </figcaption></figure>
</div>
<p id="section-1-3">The framework presented is largely inspired by the problem details for HTTP APIs defined in <span>[<a class="cite xref" href="#RFC7807">RFC7807</a>]</span>.
<a class="auto internal xref" href="#comp7807">Appendix B</a> discusses applications where interworking with <span>[<a class="cite xref" href="#RFC7807">RFC7807</a>]</span> is required.<a class="pilcrow" href="#section-1-3">¶</a></p>
<div id="terminology-and-requirements-language">
<section id="section-1.1">
        <h3 id="name-terminology-and-requirement">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-terminology-and-requirement">Terminology and Requirements Language</a>
        </h3>
<p id="section-1.1-1">The terminology from <span>[<a class="cite xref" href="#RFC7252">RFC7252</a>]</span>, <span>[<a class="cite xref" href="#STD94">STD94</a>]</span>, and <span>[<a class="cite xref" href="#RFC8610">RFC8610</a>]</span> applies; in particular, CBOR
diagnostic notation is defined in Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8949#section-8">8</a> of RFC 8949 <span>[<a class="cite xref" href="#STD94">STD94</a>]</span> and <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8610#appendix-G">Appendix G</a> of [<a class="cite xref" href="#RFC8610">RFC8610</a>]</span>.
Readers are also expected to be familiar with the terminology from <span>[<a class="cite xref" href="#RFC7807">RFC7807</a>]</span>.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<p id="section-1.1-2">In this document, the structure of data is specified in Concise Data Definition Language (CDDL) <span>[<a class="cite xref" href="#RFC8610">RFC8610</a>]</span> <span>[<a class="cite xref" href="#RFC9165">RFC9165</a>]</span>.<a class="pilcrow" href="#section-1.1-2">¶</a></p>
<p id="section-1.1-3">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
    described in BCP 14 <span>[<a class="cite xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="cite xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-3">¶</a></p>
</section>
</div>
</section>
</div>
<div id="basic">
<section id="section-2">
      <h2 id="name-basic-problem-details">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-basic-problem-details">Basic Problem Details</a>
      </h2>
<p id="section-2-1">A Concise Problem Details data item is a CBOR data item with the following
structure (rules named starting with <code>tag38</code> are defined in <a class="auto internal xref" href="#tag38">Appendix A</a>):<a class="pilcrow" href="#section-2-1">¶</a></p>
<span id="name-structure-of-concise-proble"></span><div id="cddl">
<figure id="figure-2">
        <div id="section-2-2.1">
<pre class="lang-cddl sourcecode">problem-details = non-empty&lt;{
  ? &amp;(title: -1) =&gt; oltext
  ? &amp;(detail: -2) =&gt; oltext
  ? &amp;(instance: -3) =&gt; ~uri
  ? &amp;(response-code: -4) =&gt; uint .size 1
  ? &amp;(base-uri: -5) =&gt; ~uri
  ? &amp;(base-lang: -6) =&gt; tag38-ltag
  ? &amp;(base-rtl: -7) =&gt; tag38-direction
  standard-problem-detail-entries
  custom-problem-detail-entries
}&gt;

standard-problem-detail-entries = (
  * nint =&gt; any
)

custom-problem-detail-entries = (
  * (uint/~uri) =&gt; { + any =&gt; any }
)

non-empty&lt;M&gt; = (M) .and ({ + any =&gt; any })

oltext = text / tag38

</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-structure-of-concise-proble">Structure of Concise Problem Details Data Item</a>
        </figcaption></figure>
</div>
<p id="section-2-3">(Examples of elaborated Concise Problem Details data items can
be found later in the document, e.g., <a class="auto internal xref" href="#fig-example-custom-with-uri">Figure 3</a>.)<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4">A number of problem detail entries, the Standard Problem Detail
entries, are predefined (more predefined details can be registered,
see <a class="auto internal xref" href="#new-spdk">Section 3.1</a>).<a class="pilcrow" href="#section-2-4">¶</a></p>
<p id="section-2-5">Note that, unlike <span>[<a class="cite xref" href="#RFC7807">RFC7807</a>]</span>, Concise Problem Details data items have
no explicit "problem type".
Instead, the category (or, one could say, Gestalt) of the problem can
be understood from the shape of the problem details offered. We talk of
a "problem shape" for short.<a class="pilcrow" href="#section-2-5">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-6">
        <dt id="section-2-6.1">The title (key -1):</dt>
        <dd id="section-2-6.2" style="margin-left: 1.5em">
          <p id="section-2-6.2.1">A short, human-readable summary of the problem shape.
Beyond the shape of the problem, it is not intended to summarize all
the specific information given with the problem details.
For instance, the summary might include that an account does not
have enough money for a transaction to succeed but not the detailed
information such as the account number, how much money that account
has, and how much would be needed.<a class="pilcrow" href="#section-2-6.2.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.3">The detail (key -2):</dt>
        <dd id="section-2-6.4" style="margin-left: 1.5em">
          <p id="section-2-6.4.1">A human-readable explanation specific to this occurrence of the problem.<a class="pilcrow" href="#section-2-6.4.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.5">The instance (key -3):</dt>
        <dd id="section-2-6.6" style="margin-left: 1.5em">
          <p id="section-2-6.6.1">A URI reference that identifies the specific occurrence of the problem.
It may or may not yield further information if dereferenced.<a class="pilcrow" href="#section-2-6.6.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.7">The response-code (key -4):</dt>
        <dd id="section-2-6.8" style="margin-left: 1.5em">
          <p id="section-2-6.8.1">The CoAP response code (Sections <a class="relref" href="https://www.rfc-editor.org/rfc/rfc7252#section-5.9">5.9</a> and <a class="relref" href="https://www.rfc-editor.org/rfc/rfc7252#section-12.1.2">12.1.2</a> of <span>[<a class="cite xref" href="#RFC7252">RFC7252</a>]</span>) generated by the origin
server for this occurrence of the problem.<a class="pilcrow" href="#section-2-6.8.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.9">The base-uri (key -5):</dt>
        <dd id="section-2-6.10" style="margin-left: 1.5em">
          <p id="section-2-6.10.1">The base URI (see Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-5.1">5.1</a> of RFC 3986 <span>[<a class="cite xref" href="#STD66">STD66</a>]</span>) that should be used to resolve
relative URI references embedded in this Concise Problem Details
data item.<a class="pilcrow" href="#section-2-6.10.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.11">The base-lang (key -6):</dt>
        <dd id="section-2-6.12" style="margin-left: 1.5em">
          <p id="section-2-6.12.1">The language-tag (tag38-ltag) that applies to the presentation of
unadorned text strings (not using tag 38) in this Concise Problem
Details data item; see <a class="auto internal xref" href="#tag38">Appendix A</a>.<a class="pilcrow" href="#section-2-6.12.1">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-6.13">The base-rtl (key -7):</dt>
        <dd id="section-2-6.14" style="margin-left: 1.5em">
          <p id="section-2-6.14.1">The writing-direction (tag38-direction) that applies to the
presentation of unadorned text strings (not using tag 38) in this
Concise Problem Details data item; see <a class="auto internal xref" href="#tag38">Appendix A</a>.<a class="pilcrow" href="#section-2-6.14.1">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-7">Both "title" and "detail" can use either an unadorned CBOR text string
(<code>text</code>) or a language-tagged text string (<code>tag38</code>); see <a class="auto internal xref" href="#tag38">Appendix A</a> for
the definition of the latter.
Language tag and writing direction information for unadorned text
strings is intended to be obtained from context; if that context
needs to be saved or forwarded with a Concise Problem Details data
item, "base-lang" and "base-rtl" can be used.
If no such (explicitly saved or implicit) context information is
available, unadorned text is interpreted with language-tag "en" and
writing-direction "false" (ltr).<a class="pilcrow" href="#section-2-7">¶</a></p>
<p id="section-2-8">The "title" string is advisory and included to give
consumers a shorthand for the category (problem shape) of the error encountered.<a class="pilcrow" href="#section-2-8">¶</a></p>
<p id="section-2-9">The "detail" member, if present, ought to focus on helping the client
correct the problem rather than giving extensive server-side
debugging information.
Consumers <span class="bcp14">SHOULD NOT</span> parse the "detail" member for information;
extensions (see <a class="auto internal xref" href="#sec-new-attributes">Section 3</a>) are more suitable and less
error-prone ways to obtain such information.
Note that the "instance" URI reference may be relative; this means
that it must be resolved relative to the representation's base URI, as
per Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-5">5</a> of RFC 3986 <span>[<a class="cite xref" href="#STD66">STD66</a>]</span>.<a class="pilcrow" href="#section-2-9">¶</a></p>
<p id="section-2-10">The "response-code" member, if present, is only advisory; it conveys
the CoAP response code used for the convenience of the consumer.
Generators <span class="bcp14">MUST</span> use the same response code here as in the actual CoAP
response; the latter is needed to assure that generic CoAP software that
does not understand the problem-details format still behaves
correctly.
Consumers can use the "response-code" member to determine what the
original response code used by the generator was, in cases where it
has been changed (e.g., by an intermediary or cache), and when message
bodies persist without CoAP information (e.g., in an events log or analytics
database).
Generic CoAP software will still use the CoAP response code.
To support the use case of message-body persistence without support by
the problem-details generator, the entity that persists the Concise
Problem Details data item can copy over the CoAP response code
that it received on the CoAP level.
Note that the "response-code" value is a numeric representation of the
actual code (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7252#section-3">Section 3</a> of [<a class="cite xref" href="#RFC7252">RFC7252</a>]</span>), so it does not take the usual
presentation form that resembles an
HTTP status code: <code>4.04 Not Found</code> is represented by the number 132.<a class="pilcrow" href="#section-2-10">¶</a></p>
<p id="section-2-11">The "base-uri" member is usually not present in the initial
request-response communication as it can be inferred as per Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-5.1.3">5.1.3</a> of RFC 3986 <span>[<a class="cite xref" href="#STD66">STD66</a>]</span>.
An entity that stores a Concise Problem Details data item or otherwise
makes it available for consumers without this context might add in a
"base-uri" member to allow those consumers to perform resolution of any
relative URI references embedded in the data item.<a class="pilcrow" href="#section-2-11">¶</a></p>
</section>
</div>
<div id="sec-new-attributes">
<section id="section-3">
      <h2 id="name-extending-concise-problem-d">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-extending-concise-problem-d">Extending Concise Problem Details</a>
      </h2>
<p id="section-3-1">This specification defines a generic problem-details container with only a
minimal set of attributes to make it usable.<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">It is expected that applications will extend the base format by defining new
attributes.<a class="pilcrow" href="#section-3-2">¶</a></p>
<p id="section-3-3">These new attributes fall into two categories: generic and application
specific.<a class="pilcrow" href="#section-3-3">¶</a></p>
<p id="section-3-4">Generic attributes will be allocated in the <code>standard-problem-detail-entries</code>
slot according to the registration procedure defined in <a class="auto internal xref" href="#new-spdk">Section 3.1</a>.<a class="pilcrow" href="#section-3-4">¶</a></p>
<p id="section-3-5">Application-specific attributes will be allocated in the
<code>custom-problem-detail-entries</code> slot according to the procedure described in
<a class="auto internal xref" href="#new-cpdk">Section 3.2</a>.<a class="pilcrow" href="#section-3-5">¶</a></p>
<div id="ignore-unknown">
<p id="section-3-6">Consumers of a Concise Problem Details data item <span class="bcp14">MUST</span> ignore any
Standard Problem Detail entries or Custom Problem Detail entries, or keys inside the Custom
Problem Detail entries, that they do not recognize ("ignore-unknown
rule"); this allows problem details to evolve.  When storing the data item for future use or forwarding it to other
consumers, it is strongly <span class="bcp14">RECOMMENDED</span> to retain the unrecognized
entries; exceptions might be when storage or forwarding occurs in a
different format/protocol that cannot accommodate them or when the
storage or forwarding function needs to filter out privacy-sensitive
information and for that needs to assume unrecognized entries might be
privacy-sensitive.<a class="pilcrow" href="#section-3-6">¶</a></p>
</div>
<div id="new-spdk">
<section id="section-3.1">
        <h3 id="name-standard-problem-detail-ent">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-standard-problem-detail-ent">Standard Problem Detail Entries</a>
        </h3>
<p id="section-3.1-1">Beyond the Standard Problem Detail keys defined in <a class="auto internal xref" href="#cddl">Figure 2</a>, additional
Standard Problem Detail keys can be registered for use in the
<code>standard-problem-detail-entries</code> slot (see <a class="auto internal xref" href="#iana-spdk">Section 6.1</a>).<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">Standard Problem Detail keys are negative integers, so they can never
conflict with Custom Problem Detail keys defined for a specific
application domain
(which are unsigned integers or URIs.)<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<p id="section-3.1-3">In summary, the keys for Standard Problem Detail entries are in a
global namespace that is not specific to a particular application domain.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<div id="uco">
<section id="section-3.1.1">
          <h4 id="name-standard-problem-detail-entr">
<a class="section-number selfRef" href="#section-3.1.1">3.1.1. </a><a class="section-name selfRef" href="#name-standard-problem-detail-entr">Standard Problem Detail Entry: Unprocessed CoAP Option</a>
          </h4>
<p id="section-3.1.1-1"><a class="auto internal xref" href="#basic">Section 2</a> provides a number of generally applicable Standard Problem
Detail entries.  The present section both registers another useful
Standard Problem Detail entry and serves as an example of a Standard
Problem Detail Entry registration, in the registration template format
that would be ready for registration.<a class="pilcrow" href="#section-3.1.1-1">¶</a></p>
<span class="break"></span><dl class="dlCompact dlNewline" id="section-3.1.1-2">
            <dt id="section-3.1.1-2.1">Key value:</dt>
            <dd id="section-3.1.1-2.2" style="margin-left: 1.5em">
              <p id="section-3.1.1-2.2.1">-8<a class="pilcrow" href="#section-3.1.1-2.2.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-2.3">Name:</dt>
            <dd id="section-3.1.1-2.4" style="margin-left: 1.5em">
              <p id="section-3.1.1-2.4.1">unprocessed-coap-option<a class="pilcrow" href="#section-3.1.1-2.4.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-2.5">CDDL type:</dt>
            <dd id="section-3.1.1-2.6" style="margin-left: 1.5em">
              <p id="section-3.1.1-2.6.1"><code>one-or-more&lt;uint&gt;</code>, where<a class="pilcrow" href="#section-3.1.1-2.6.1">¶</a></p>
<div id="section-3.1.1-2.6.2">
<pre class="sourcecode">one-or-more&lt;T&gt; = T / [ 2* T ]
</pre><a class="pilcrow" href="#section-3.1.1-2.6.2">¶</a>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-2.7">Brief description:</dt>
            <dd id="section-3.1.1-2.8" style="margin-left: 1.5em">
              <p id="section-3.1.1-2.8.1">Option number(s) of CoAP option(s) that were not understood<a class="pilcrow" href="#section-3.1.1-2.8.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-2.9">Specification reference:</dt>
            <dd id="section-3.1.1-2.10" style="margin-left: 1.5em">
              <p id="section-3.1.1-2.10.1"><a class="auto internal xref" href="#uco">Section 3.1.1</a> of RFC 9290<a class="pilcrow" href="#section-3.1.1-2.10.1">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-3.1.1-3">The specification of the Standard Problem Detail entry referenced by
the above registration template follows:<a class="pilcrow" href="#section-3.1.1-3">¶</a></p>
<p id="section-3.1.1-4">The Standard Problem Detail entry <code>unprocessed-coap-option</code> provides
the option number or numbers of any CoAP options present in the request that
could not be processed by the server.<a class="pilcrow" href="#section-3.1.1-4">¶</a></p>
<p id="section-3.1.1-5">This may be a critical option that the server is unaware of, or an
option the server is aware of but could not process (and chose not
to, or was not allowed to, ignore it).<a class="pilcrow" href="#section-3.1.1-5">¶</a></p>
<p id="section-3.1.1-6">The Concise Problem Details data item including this Standard
Problem Detail Entry can be used in fulfillment of the "<span class="bcp14">SHOULD</span>"
requirement in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7252#section-5.4.1">Section 5.4.1</a> of [<a class="cite xref" href="#RFC7252">RFC7252</a>]</span>.<a class="pilcrow" href="#section-3.1.1-6">¶</a></p>
<p id="section-3.1.1-7">Several option numbers may be given in a list (in no particular order),
without any guarantee that the list is a complete representation of
all the problems in the request (as the server might
have stopped processing already at one of the problematic options).
If an option with the given number was repeated, there is no
indication which of the values caused the error.<a class="pilcrow" href="#section-3.1.1-7">¶</a></p>
<p id="section-3.1.1-8">Clients need to expect to see options in the list that they did not send
in the request; this can happen if the request traversed a proxy
that added the option but did not act on the problem-details
response being returned by the origin server.<a class="pilcrow" href="#section-3.1.1-8">¶</a></p>
<p id="section-3.1.1-9">For a few special values of unprocessed CoAP
options (such as Accept or Proxy-Uri), note that there are special response
codes (4.06 Not Acceptable, 5.05 Proxying Not Supported,
respectively) to be sent instead of 4.02 Bad Option.<a class="pilcrow" href="#section-3.1.1-9">¶</a></p>
</section>
</div>
</section>
</div>
<div id="new-cpdk">
<section id="section-3.2">
        <h3 id="name-custom-problem-detail-entri">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-custom-problem-detail-entri">Custom Problem Detail Entries</a>
        </h3>
<p id="section-3.2-1">Applications may extend the Concise Problem Details data item with
additional entries to convey additional, application-specific information.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">Such new entries are allocated in the <code>custom-problem-detail-entries</code> slot and
carry a nested map specific to that application.  The map key can be either
an (absolute!) URI (under control of the entity defining this extension)
or an unsigned integer.
Only the latter needs to be registered (<a class="auto internal xref" href="#iana-cpdk">Section 6.2</a>).<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">Within the nested map, any number of attributes can be given for a
single extension.
The semantics of each custom attribute <span class="bcp14">MUST</span> be described in the
documentation for the extension; for extensions that are registered
(i.e., are identified by an unsigned int), that documentation goes
along with the registration.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">The unsigned integer form allows a more compact representation.
In
exchange, authors are expected to comply with the required
registration and documentation process.
In comparison, the URI form is less space efficient but requires no
registration.  Therefore, it is useful for experimenting during the development
cycle and for applications deployed in environments where producers and
consumers of Concise Problem Details are more tightly integrated.
(Thus, the URI form covers the potential need we might otherwise have for a "Private Use" range for the unsigned integers.)<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<div id="no-dereference">
<p id="section-3.2-5">Note that the URI given for the extension is for identification
purposes only and, even if dereferenceable in principle, it <span class="bcp14">MUST NOT</span> be
dereferenced in the normal course of handling problem details (i.e., outside
diagnostic or debugging procedures involving humans).<a class="pilcrow" href="#section-3.2-5">¶</a></p>
</div>
<p id="section-3.2-6"><a class="auto internal xref" href="#fig-example-custom-with-uri">Figure 3</a> shows an example (in CBOR diagnostic notation)
of a custom extension using a (made-up) URI as the <code>custom-problem-detail-entries</code> key.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
<span id="name-example-extension-with-uri-"></span><div id="fig-example-custom-with-uri">
<figure id="figure-3">
          <div id="section-3.2-7.1">
<pre class="lang-cbor-diag sourcecode">{
  / title /         -1: "title of the error",
  / detail /        -2: "detailed information about the error",
  / instance /      -3: "coaps://pd.example/FA317434",
  / response-code / -4: 128, / 4.00 /

  "tag:3gpp.org,2022-03:TS29112": {
    / cause /  0: "machine-readable error cause",
    / invalidParams / 1: [
      [
        / param / "first parameter name",
        / reason / "must be a positive integer"
      ],
      [
        / param / "second parameter name"
      ]
    ],
    / supportedFeatures / 2: "d34db33f"
  }
}
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-example-extension-with-uri-">Example Extension with URI Key</a>
          </figcaption></figure>
</div>
<p id="section-3.2-8">Obviously, a Standards Development Organization (SDO) like 3GPP can also easily register such a Custom
Problem Detail entry to receive a more efficient unsigned integer key;
<a class="auto internal xref" href="#fig-example-custom-with-uint">Figure 4</a> shows how
the same example would look using a (made-up) registered unsigned int as the
<code>custom-problem-detail-entries</code> key:<a class="pilcrow" href="#section-3.2-8">¶</a></p>
<span id="name-example-extension-with-unsi"></span><div id="fig-example-custom-with-uint">
<figure id="figure-4">
          <div id="section-3.2-9.1">
<pre class="lang-cbor-diag sourcecode">{
  / title /         -1: "title of the error",
  / detail /        -2: "detailed information about the error",
  / instance /      -3: "coaps://pd.example/FA317434",
  / response-code / -4: 128, / 4.00 /

  /4711 is made-up example key that is not actually registered:/
  4711: {
    / cause /  0: "machine-readable error cause",
    / invalidParams / 1: [
      [
        / param / "first parameter name",
        / reason / "must be a positive integer"
      ],
      [
        / param / "second parameter name"
      ]
    ],
    / supportedFeatures / 2: "d34db33f"
  }
}
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-example-extension-with-unsi">Example Extension with Unsigned Int (Registered) Key</a>
          </figcaption></figure>
</div>
<p id="section-3.2-10">In summary, the keys for the maps used inside Custom Problem Detail
entries are defined specifically for use with the identifier of that Custom
Problem Detail entry, the documentation of which defines these
internal entries, typically chosen to address a given application
domain.<a class="pilcrow" href="#section-3.2-10">¶</a></p>
<p id="section-3.2-11">When there is a need to evolve a Custom Problem Detail entry definition, the
"ignore-unknown rule" discussed in <a class="auto internal xref" href="#sec-new-attributes">Section 3</a> provides an easy way to include additional information.
The assumption is that this is done in a backward- and forward-compatible way.
Sometimes, Custom Problem Detail entries may need to evolve in a way where
forward compatibility by applying the "ignore-unknown rule" would not
be appropriate: for example, when adding a "must-understand" member,
which can only
be ignored at the peril of misunderstanding the Concise Problem
Details data item ("false interoperability").
In this case, a new Custom Problem Detail key can simply be
registered for this case, keeping the old key backward and
forward compatible.<a class="pilcrow" href="#section-3.2-11">¶</a></p>
</section>
</div>
</section>
</div>
<div id="privcons">
<section id="section-4">
      <h2 id="name-privacy-considerations">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-privacy-considerations">Privacy Considerations</a>
      </h2>
<p id="section-4-1">Problem details may unintentionally disclose information.
This can lead to both privacy and security problems.
See <a class="auto internal xref" href="#seccons">Section 5</a> for more details that apply to both domains; particular
attention needs to be given to unintentionally disclosing Personally
Identifiable Information (PII).<a class="pilcrow" href="#section-4-1">¶</a></p>
</section>
</div>
<div id="seccons">
<section id="section-5">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-5-1">Concise Problem Details can contain URIs that are not intended to be
dereferenced (<a class="auto internal xref" href="#no-dereference">Section 3.2, Paragraph 5</a>).  One reason is that dereferencing
these can lead to information disclosure (tracking).
Information disclosure can also be caused by URIs in problem details
that <em>are</em> intended for dereferencing, e.g., the "instance" URI.
Implementations need to consider which component of a client should
perform the dereferencing and which servers are trusted with serving
them.
In any case, the security considerations of Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc3986#section-7">7</a> of RFC 3986 <span>[<a class="cite xref" href="#STD66">STD66</a>]</span> apply.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">The security and privacy considerations outlined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7807#section-5">Section 5</a> of [<a class="cite xref" href="#RFC7807">RFC7807</a>]</span> apply in full.

While these are phrased in terms of security considerations for new RFC 7807 problem types, they equally apply to the problem detail
entry definitions used here (<a class="auto internal xref" href="#sec-new-attributes">Section 3</a>). In summary, both
when defining new detail entries and when actually using them to generate a
Concise Problem Details data item, care needs to be taken that they do
not leak sensitive information.
Entities storing or forwarding Concise Problem Details data items need
to consider whether this leads to information being transferred out of
the context within which access to sensitive information was acceptable.
See also <a class="auto internal xref" href="#ignore-unknown">Section 3, Paragraph 6</a> (the last paragraph of the introduction to
that section).
Privacy-sensitive information in the problem details <span class="bcp14">SHOULD NOT</span> be obscured in ways that might lead to misclassification as
non-sensitive (e.g., by base64-encoding).<a class="pilcrow" href="#section-5-2">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<div id="iana-spdk">
<section id="section-6.1">
        <h3 id="name-standard-problem-detail-key">
<a class="section-number selfRef" href="#section-6.1">6.1. </a><a class="section-name selfRef" href="#name-standard-problem-detail-key">Standard Problem Detail Keys Registry</a>
        </h3>
<p id="section-6.1-1">This specification defines a new subregistry titled "Standard Problem
Detail Keys" in the "Constrained RESTful Environments (CoRE) Parameters" registry <span>[<a class="cite xref" href="#IANA.core-parameters">IANA.core-parameters</a>]</span>,
with "Specification Required" as the Registration Procedure (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8126#section-4.6">Section 4.6</a> of [<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>).<a class="pilcrow" href="#section-6.1-1">¶</a></p>
<p id="section-6.1-2">Each entry in the registry must include:<a class="pilcrow" href="#section-6.1-2">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.1-3">
          <dt id="section-6.1-3.1">Key Value:</dt>
          <dd id="section-6.1-3.2" style="margin-left: 1.5em">
            <p id="section-6.1-3.2.1">a negative integer to be used as the value of the key<a class="pilcrow" href="#section-6.1-3.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-3.3">Name:</dt>
          <dd id="section-6.1-3.4" style="margin-left: 1.5em">
            <p id="section-6.1-3.4.1">a name that could be used in implementations for the key<a class="pilcrow" href="#section-6.1-3.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-3.5">CDDL Type:</dt>
          <dd id="section-6.1-3.6" style="margin-left: 1.5em">
            <p id="section-6.1-3.6.1">type of the data associated with the key in CDDL notation<a class="pilcrow" href="#section-6.1-3.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-3.7">Brief Description:</dt>
          <dd id="section-6.1-3.8" style="margin-left: 1.5em">
            <p id="section-6.1-3.8.1">a brief description<a class="pilcrow" href="#section-6.1-3.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-3.9">Reference:</dt>
          <dd id="section-6.1-3.10" style="margin-left: 1.5em">
            <p id="section-6.1-3.10.1">a reference document<a class="pilcrow" href="#section-6.1-3.10.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-3.11">Change Controller:</dt>
          <dd id="section-6.1-3.12" style="margin-left: 1.5em">
            <p id="section-6.1-3.12.1">(see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8126#section-2.3">Section 2.3</a> of [<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>)<a class="pilcrow" href="#section-6.1-3.12.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.1-4">The designated expert is requested to assign the shortest key values (1+0 and
1+1 encoding) to registrations that are likely to enjoy wide use and
can benefit from short encodings.<a class="pilcrow" href="#section-6.1-4">¶</a></p>
<p id="section-6.1-5">To be immediately useful in CDDL and programming-language contexts, a
name consists of a lowercase ASCII letter (a-z) and zero or more
additional ASCII characters that are either lowercase letters,
digits, or a hyphen-minus, i.e., it matches <code>[a-z][-a-z0-9]*</code>.
As with the key values, names need to be unique.<a class="pilcrow" href="#section-6.1-5">¶</a></p>
<p id="section-6.1-6">The specification in the reference document needs to provide a
description of the Standard Problem Detail entry, replicating the CDDL
description in "CDDL Type", and describing the semantics of the
presence of this entry and the semantics of the value given with it.<a class="pilcrow" href="#section-6.1-6">¶</a></p>
<p id="section-6.1-7">Initial entries in this subregistry are as follows:<a class="pilcrow" href="#section-6.1-7">¶</a></p>
<span id="name-initial-entries-in-the-stan"></span><div id="spdk">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-initial-entries-in-the-stan">Initial Entries in the Standard Problem Detail Keys Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Key Value</th>
              <th class="text-left" colspan="1" rowspan="1">Name</th>
              <th class="text-left" colspan="1" rowspan="1">CDDL Type</th>
              <th class="text-left" colspan="1" rowspan="1">Brief Description</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
              <th class="text-left" colspan="1" rowspan="1">Change Controller</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">-1</td>
              <td class="text-left" colspan="1" rowspan="1">title</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>text / tag38</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">Short, human-readable summary of the problem shape</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">-2</td>
              <td class="text-left" colspan="1" rowspan="1">detail</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>text / tag38</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">Human-readable explanation specific to this occurrence of the problem</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">-3</td>
              <td class="text-left" colspan="1" rowspan="1">instance</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>~uri</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">URI reference identifying specific occurrence of the problem</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">-4</td>
              <td class="text-left" colspan="1" rowspan="1">response-code</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>uint .size 1</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">CoAP response code</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">-5</td>
              <td class="text-left" colspan="1" rowspan="1">base-uri</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>~uri</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">Base URI</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">-6</td>
              <td class="text-left" colspan="1" rowspan="1">base-lang</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>tag38-ltag</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">Base language tag (see <a class="auto internal xref" href="#tag38">Appendix A</a>)</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">-7</td>
              <td class="text-left" colspan="1" rowspan="1">base-rtl</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>tag38-direction</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">Base writing direction (see <a class="auto internal xref" href="#tag38">Appendix A</a>)</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">-8</td>
              <td class="text-left" colspan="1" rowspan="1">unprocessed-coap-option</td>
              <td class="text-left" colspan="1" rowspan="1">
                <code>one-or-more&lt;uint&gt;</code>
</td>
              <td class="text-left" colspan="1" rowspan="1">Option number(s) of CoAP option(s) that were not understood</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290, <a class="auto internal xref" href="#uco">Section 3.1.1</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-cpdk">
<section id="section-6.2">
        <h3 id="name-custom-problem-detail-keys-">
<a class="section-number selfRef" href="#section-6.2">6.2. </a><a class="section-name selfRef" href="#name-custom-problem-detail-keys-">Custom Problem Detail Keys Registry</a>
        </h3>
<p id="section-6.2-1">This specification defines a new subregistry titled "Custom Problem
Detail Keys" in the "Constrained RESTful Environments (CoRE) Parameters" registry <span>[<a class="cite xref" href="#IANA.core-parameters">IANA.core-parameters</a>]</span>,
 with as "Expert Review" as the Registration Procedure (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8126#section-4.5">Section 4.5</a> of [<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>).<a class="pilcrow" href="#section-6.2-1">¶</a></p>
<p id="section-6.2-2">The designated expert is instructed to attempt making the registration experience
as close to First Come First Served as reasonably achievable, but
checking that the reference document does provide a description as set
out below.
(This requirement is a relaxed version of "Specification Required" as
defined in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8126#section-4.6">Section 4.6</a> of [<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>.)<a class="pilcrow" href="#section-6.2-2">¶</a></p>
<p id="section-6.2-3">Each entry in the registry must include:<a class="pilcrow" href="#section-6.2-3">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.2-4">
          <dt id="section-6.2-4.1">Key Value:</dt>
          <dd id="section-6.2-4.2" style="margin-left: 1.5em">
            <p id="section-6.2-4.2.1">an unsigned integer to be used as the value of the key<a class="pilcrow" href="#section-6.2-4.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.3">Name:</dt>
          <dd id="section-6.2-4.4" style="margin-left: 1.5em">
            <p id="section-6.2-4.4.1">a name that could be used in implementations for the key<a class="pilcrow" href="#section-6.2-4.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.5">Brief Description:</dt>
          <dd id="section-6.2-4.6" style="margin-left: 1.5em">
            <p id="section-6.2-4.6.1">a brief description<a class="pilcrow" href="#section-6.2-4.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.7">Reference:</dt>
          <dd id="section-6.2-4.8" style="margin-left: 1.5em">
            <p id="section-6.2-4.8.1">a reference document that provides a description of the map,
including a CDDL description, that describes all inside keys and
values<a class="pilcrow" href="#section-6.2-4.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.9">Change Controller</dt>
          <dd id="section-6.2-4.10" style="margin-left: 1.5em">
            <p id="section-6.2-4.10.1">(see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8126#section-2.3">Section 2.3</a> of [<a class="cite xref" href="#RFC8126">RFC8126</a>]</span>)<a class="pilcrow" href="#section-6.2-4.10.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.2-5">The designated expert is requested to assign the shortest key values (1+0 and
1+1 encoding) to registrations that are likely to enjoy wide use and
can benefit from short encodings.<a class="pilcrow" href="#section-6.2-5">¶</a></p>
<p id="section-6.2-6">To be immediately useful in CDDL and programming-language contexts, a
name consists of a lowercase ASCII letter (a-z) and zero or more
additional ASCII characters that are either lowercase letters,
digits, or a hyphen-minus, i.e., it matches <code>[a-z][-a-z0-9]*</code>.
As with the key values, names need to be unique.<a class="pilcrow" href="#section-6.2-6">¶</a></p>
<p id="section-6.2-7">Initial entries in this subregistry are as follows:<a class="pilcrow" href="#section-6.2-7">¶</a></p>
<span id="name-initial-entries-in-the-cust"></span><div id="cpdk">
<table class="center" id="table-2">
          <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-initial-entries-in-the-cust">Initial Entries in the Custom Problem Detail Key Registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Key Value</th>
              <th class="text-left" colspan="1" rowspan="1">Name</th>
              <th class="text-left" colspan="1" rowspan="1">Brief Description</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
              <th class="text-left" colspan="1" rowspan="1">Change Controller</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">7807</td>
              <td class="text-left" colspan="1" rowspan="1">tunnel-7807</td>
              <td class="text-left" colspan="1" rowspan="1">Carry RFC 7807 problem details in a Concise Problem Details data item</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290, <a class="auto internal xref" href="#comp7807">Appendix B</a>
</td>
              <td class="text-left" colspan="1" rowspan="1">IETF</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="media-type">
<section id="section-6.3">
        <h3 id="name-media-type">
<a class="section-number selfRef" href="#section-6.3">6.3. </a><a class="section-name selfRef" href="#name-media-type">Media Type</a>
        </h3>
<p id="section-6.3-1">IANA has added the following media type to the "Media Types"
registry <span>[<a class="cite xref" href="#IANA.media-types">IANA.media-types</a>]</span>.<a class="pilcrow" href="#section-6.3-1">¶</a></p>
<span id="name-new-media-type-application-"></span><div id="new-media-type">
<table class="left" id="table-3">
          <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-new-media-type-application-">New Media Type 'application/concise-problem-details+cbor'</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Name</th>
              <th class="text-left" colspan="1" rowspan="1">Template</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">concise-problem-details+cbor</td>
              <td class="text-left" colspan="1" rowspan="1">application/concise-problem-details+cbor</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290, <a class="auto internal xref" href="#media-type">Section 6.3</a>
</td>
            </tr>
          </tbody>
        </table>
</div>
<span class="break"></span><dl class="dlParallel" id="section-6.3-3">
          <dt id="section-6.3-3.1">Type name:</dt>
          <dd id="section-6.3-3.2" style="margin-left: 1.5em">
            <p id="section-6.3-3.2.1">application<a class="pilcrow" href="#section-6.3-3.2.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.3">Subtype name:</dt>
          <dd id="section-6.3-3.4" style="margin-left: 1.5em">
            <p id="section-6.3-3.4.1">concise-problem-details+cbor<a class="pilcrow" href="#section-6.3-3.4.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.5">Required parameters:</dt>
          <dd id="section-6.3-3.6" style="margin-left: 1.5em">
            <p id="section-6.3-3.6.1">N/A<a class="pilcrow" href="#section-6.3-3.6.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.7">Optional parameters:</dt>
          <dd id="section-6.3-3.8" style="margin-left: 1.5em">
            <p id="section-6.3-3.8.1">N/A<a class="pilcrow" href="#section-6.3-3.8.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.9">Encoding considerations:</dt>
          <dd id="section-6.3-3.10" style="margin-left: 1.5em">
            <p id="section-6.3-3.10.1">binary (CBOR data item)<a class="pilcrow" href="#section-6.3-3.10.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.11">Security considerations:</dt>
          <dd id="section-6.3-3.12" style="margin-left: 1.5em">
            <p id="section-6.3-3.12.1"><a class="auto internal xref" href="#seccons">Section 5</a> of RFC 9290<a class="pilcrow" href="#section-6.3-3.12.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.13">Interoperability considerations:</dt>
          <dd id="section-6.3-3.14" style="margin-left: 1.5em">
            <p id="section-6.3-3.14.1">none<a class="pilcrow" href="#section-6.3-3.14.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.15">Published specification:</dt>
          <dd id="section-6.3-3.16" style="margin-left: 1.5em">
            <p id="section-6.3-3.16.1"><a class="auto internal xref" href="#media-type">Section 6.3</a> of RFC 9290<a class="pilcrow" href="#section-6.3-3.16.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.17">Applications that use this media type:</dt>
          <dd id="section-6.3-3.18" style="margin-left: 1.5em">
            <p id="section-6.3-3.18.1">Clients and servers in the Internet of Things<a class="pilcrow" href="#section-6.3-3.18.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.19">Fragment identifier considerations:</dt>
          <dd id="section-6.3-3.20" style="margin-left: 1.5em">
            <p id="section-6.3-3.20.1">The syntax and semantics of fragment identifiers is as specified for
"application/cbor".  (At publication of RFC 9290, there is no
fragment identification syntax defined for "application/cbor".)<a class="pilcrow" href="#section-6.3-3.20.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.21">Additional information:</dt>
          <dd id="section-6.3-3.22" style="margin-left: 1.5em">
            <p id="section-6.3-3.22.1"><br/></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-6.3-3.22.2">
              <dt id="section-6.3-3.22.2.1">Deprecated alias names for this type:</dt>
              <dd id="section-6.3-3.22.2.2" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-6.3-3.22.2.2">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-6.3-3.22.2.3">Magic number(s):</dt>
              <dd id="section-6.3-3.22.2.4" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-6.3-3.22.2.4">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-6.3-3.22.2.5">File extension(s):</dt>
              <dd id="section-6.3-3.22.2.6" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-6.3-3.22.2.6">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-6.3-3.22.2.7">Macintosh file type code(s):</dt>
              <dd id="section-6.3-3.22.2.8" style="margin-left: 1.5em">N/A<a class="pilcrow" href="#section-6.3-3.22.2.8">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.23">Person &amp; email address to contact for further information:</dt>
          <dd id="section-6.3-3.24" style="margin-left: 1.5em">
            <p id="section-6.3-3.24.1">CoRE WG mailing list (core@ietf.org)
or IETF Applications and Real-Time Area (art@ietf.org)<a class="pilcrow" href="#section-6.3-3.24.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.25">Intended usage:</dt>
          <dd id="section-6.3-3.26" style="margin-left: 1.5em">
            <p id="section-6.3-3.26.1">COMMON<a class="pilcrow" href="#section-6.3-3.26.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.27">Restrictions on usage:</dt>
          <dd id="section-6.3-3.28" style="margin-left: 1.5em">
            <p id="section-6.3-3.28.1">none<a class="pilcrow" href="#section-6.3-3.28.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.29">Author/Change controller:</dt>
          <dd id="section-6.3-3.30" style="margin-left: 1.5em">
            <p id="section-6.3-3.30.1">IETF<a class="pilcrow" href="#section-6.3-3.30.1">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.3-3.31">Provisional registration:</dt>
          <dd id="section-6.3-3.32" style="margin-left: 1.5em">
            <p id="section-6.3-3.32.1">no<a class="pilcrow" href="#section-6.3-3.32.1">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="content-format">
<section id="section-6.4">
        <h3 id="name-content-format">
<a class="section-number selfRef" href="#section-6.4">6.4. </a><a class="section-name selfRef" href="#name-content-format">Content-Format</a>
        </h3>
<p id="section-6.4-1">IANA has registered a Content-Format number in the
<a class="relref" href="https://www.iana.org/assignments/core-parameters#content-formats">"CoAP Content-Formats"</a>
subregistry, within the "Constrained RESTful Environments (CoRE)
Parameters" registry <span>[<a class="cite xref" href="#IANA.core-parameters">IANA.core-parameters</a>]</span>, as follows:<a class="pilcrow" href="#section-6.4-1">¶</a></p>
<span id="name-content-format-registration"></span><table class="left" id="table-4">
          <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-content-format-registration">Content-Format Registration</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Media Type</th>
              <th class="text-left" colspan="1" rowspan="1">Encoding</th>
              <th class="text-left" colspan="1" rowspan="1">ID</th>
              <th class="text-left" colspan="1" rowspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">application/concise-problem-details+cbor</td>
              <td class="text-left" colspan="1" rowspan="1">-</td>
              <td class="text-left" colspan="1" rowspan="1">257</td>
              <td class="text-left" colspan="1" rowspan="1">RFC 9290</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="iana-tag38">
<section id="section-6.5">
        <h3 id="name-cbor-tag-38">
<a class="section-number selfRef" href="#section-6.5">6.5. </a><a class="section-name selfRef" href="#name-cbor-tag-38">CBOR Tag 38</a>
        </h3>
<p id="section-6.5-1">In the registry "<a class="relref" href="https://www.iana.org/assignments/cbor-tags#cbor-tags">CBOR Tags</a>" <span>[<a class="cite xref" href="#IANA.cbor-tags">IANA.cbor-tags</a>]</span>,
 IANA has registered CBOR tag 38.

 
IANA has updated the reference for CBOR tag 38 to point to RFC 9290, <a class="auto internal xref" href="#tag38">Appendix A</a>.<a class="pilcrow" href="#section-6.5-1">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="IANA.cbor-tags">[IANA.cbor-tags]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR) Tags"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cbor-tags">https://www.iana.org/assignments/cbor-tags</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.core-parameters">[IANA.core-parameters]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Constrained RESTful Environments (CoRE) Parameters"</span>, <span>&lt;<a href="https://www.iana.org/assignments/core-parameters">https://www.iana.org/assignments/core-parameters</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.media-types">[IANA.media-types]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Provisional Standard Media Type Registry"</span>, <span>&lt;<a href="https://www.iana.org/assignments/provisional-standard-media-types">https://www.iana.org/assignments/provisional-standard-media-types</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4647">[RFC4647]</dt>
        <dd>
<span class="refAuthor">Phillips, A., Ed.</span> and <span class="refAuthor">M. Davis, Ed.</span>, <span class="refTitle">"Matching of Language Tags"</span>, <span class="seriesInfo">BCP 47</span>, <span class="seriesInfo">RFC 4647</span>, <span class="seriesInfo">DOI 10.17487/RFC4647</span>, <time class="refDate" datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4647">https://www.rfc-editor.org/info/rfc4647</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5646">[RFC5646]</dt>
        <dd>
<span class="refAuthor">Phillips, A., Ed.</span> and <span class="refAuthor">M. Davis, Ed.</span>, <span class="refTitle">"Tags for Identifying Languages"</span>, <span class="seriesInfo">BCP 47</span>, <span class="seriesInfo">RFC 5646</span>, <span class="seriesInfo">DOI 10.17487/RFC5646</span>, <time class="refDate" datetime="2009-09">September 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5646">https://www.rfc-editor.org/info/rfc5646</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7252">[RFC7252]</dt>
        <dd>
<span class="refAuthor">Shelby, Z.</span>, <span class="refAuthor">Hartke, K.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"The Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 7252</span>, <span class="seriesInfo">DOI 10.17487/RFC7252</span>, <time class="refDate" datetime="2014-06">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7252">https://www.rfc-editor.org/info/rfc7252</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7807">[RFC7807]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">E. Wilde</span>, <span class="refTitle">"Problem Details for HTTP APIs"</span>, <span class="seriesInfo">RFC 7807</span>, <span class="seriesInfo">DOI 10.17487/RFC7807</span>, <time class="refDate" datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7807">https://www.rfc-editor.org/info/rfc7807</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8610">[RFC8610]</dt>
        <dd>
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Vigano, C.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures"</span>, <span class="seriesInfo">RFC 8610</span>, <span class="seriesInfo">DOI 10.17487/RFC8610</span>, <time class="refDate" datetime="2019-06">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8610">https://www.rfc-editor.org/info/rfc8610</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9165">[RFC9165]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refTitle">"Additional Control Operators for the Concise Data Definition Language (CDDL)"</span>, <span class="seriesInfo">RFC 9165</span>, <span class="seriesInfo">DOI 10.17487/RFC9165</span>, <time class="refDate" datetime="2021-12">December 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9165">https://www.rfc-editor.org/info/rfc9165</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STD66">[STD66]</dt>
        <dd>
<div class="refInstance" id="RFC3986">
            <span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <time class="refDate" datetime="2005-01">January 2005</time>. </div>
<span>&lt;<a href="https://www.rfc-editor.org/info/std66">https://www.rfc-editor.org/info/std66</a>&gt;</span>
</dd>
<dd class="break"></dd>
<dt id="STD94">[STD94]</dt>
      <dd>
<div class="refInstance" id="RFC8949">
            <span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <time class="refDate" datetime="2020-12">December 2020</time>. </div>
<span>&lt;<a href="https://www.rfc-editor.org/info/std94">https://www.rfc-editor.org/info/std94</a>&gt;</span>
</dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-httpapi-rfc7807bis">[HTTPAPI]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refAuthor">Wilde, E.</span>, and <span class="refAuthor">S. Dalal</span>, <span class="refTitle">"Problem Details for HTTP APIs"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpapi-rfc7807bis-04</span>, <time class="refDate" datetime="2022-09-05">5 September 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpapi-rfc7807bis-04">https://datatracker.ietf.org/doc/html/draft-ietf-httpapi-rfc7807bis-04</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RDF">[RDF]</dt>
        <dd>
<span class="refAuthor">Cyganiak, R.</span>, <span class="refAuthor">Wood, D.</span>, and <span class="refAuthor">M. Lanthaler</span>, <span class="refTitle">"RDF 1.1 Concepts and Abstract Syntax"</span>, <span class="refContent">W3C Recommendation</span>, <time class="refDate" datetime="2014-02-25">25 February 2014</time>, <span>&lt;<a href="http://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/">http://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4648">[RFC4648]</dt>
        <dd>
<span class="refAuthor">Josefsson, S.</span>, <span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time class="refDate" datetime="2006-10">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4648">https://www.rfc-editor.org/info/rfc4648</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6082">[RFC6082]</dt>
        <dd>
<span class="refAuthor">Whistler, K.</span>, <span class="refAuthor">Adams, G.</span>, <span class="refAuthor">Duerst, M.</span>, <span class="refAuthor">Presuhn, R., Ed.</span>, and <span class="refAuthor">J. Klensin</span>, <span class="refTitle">"Deprecating Unicode Language Tag Characters: RFC 2482 is Historic"</span>, <span class="seriesInfo">RFC 6082</span>, <span class="seriesInfo">DOI 10.17487/RFC6082</span>, <time class="refDate" datetime="2010-11">November 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6082">https://www.rfc-editor.org/info/rfc6082</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Unicode-14.0.0">[Unicode-14.0.0]</dt>
        <dd>
<span class="refAuthor">The Unicode Consortium</span>, <span class="refTitle">"The Unicode Standard, Version 14.0.0"</span>, <span class="refContent">Mountain View: The Unicode Consortium</span>, <span class="seriesInfo">ISBN 978-1-936213-29-0</span>, <time class="refDate" datetime="2021-09">September 2021</time>, <span>&lt;<a href="https://www.unicode.org/versions/Unicode14.0.0/">https://www.unicode.org/versions/Unicode14.0.0/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Unicode-14.0.0-bidi">[Unicode-14.0.0-bidi]</dt>
      <dd>
<span class="refAuthor">The Unicode Consortium</span>, <span class="refTitle">"Unicode Standard Annex #9 --- Unicode Bidirectional Algorithm"</span>, <time class="refDate" datetime="2021-08-27">27 August 2021</time>, <span>&lt;<a href="https://www.unicode.org/reports/tr9/#Markup_And_Formatting">https://www.unicode.org/reports/tr9/#Markup_And_Formatting</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="tag38">
<section id="appendix-A">
      <h2 id="name-language-tagged-strings">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-language-tagged-strings">Language-Tagged Strings</a>
      </h2>
<p id="appendix-A-1">This appendix serves as the archival documentation for CBOR tag 38, a
tag for serializing language-tagged text strings in CBOR.
The text of this appendix is adapted from the specification text
supplied for its initial registration.
It has been extended to allow supplementing the language tag by a
direction indication.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">As with any IANA-registered item, a specification that further updates this
registration needs to update the reference column of the IANA registry (see
<a class="auto internal xref" href="#iana-tag38">Section 6.5</a>).
Future specifications may update this appendix, other parts of this document,
or both.
(When updating this appendix, keep in mind that applications beyond
Concise Problem Details data items may adopt the tag defined here.)
Users of this tag are advised to consult the registry to obtain the
most recent update for this appendix.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
<div id="introduction-1">
<section id="appendix-A.1">
        <h3 id="name-introduction-2">
<a class="section-number selfRef" href="#appendix-A.1">A.1. </a><a class="section-name selfRef" href="#name-introduction-2">Introduction</a>
        </h3>
<p id="appendix-A.1-1">In some cases, it is useful to specify the natural language of a text
string.  This specification defines a tag that does just that.  One
technology that supports language-tagged strings is the Resource
Description Framework (RDF) <span>[<a class="cite xref" href="#RDF">RDF</a>]</span>.<a class="pilcrow" href="#appendix-A.1-1">¶</a></p>
</section>
</div>
<div id="detailed-semantics">
<section id="appendix-A.2">
        <h3 id="name-detailed-semantics">
<a class="section-number selfRef" href="#appendix-A.2">A.2. </a><a class="section-name selfRef" href="#name-detailed-semantics">Detailed Semantics</a>
        </h3>
<p id="appendix-A.2-1">A language-tagged text string in CBOR has the tag 38 and consists of an array
with a length of 2 or 3.<a class="pilcrow" href="#appendix-A.2-1">¶</a></p>
<p id="appendix-A.2-2">The first element is a well-formed language tag described in BCP 47 (<span>[<a class="cite xref" href="#RFC5646">RFC5646</a>]</span> and <span>[<a class="cite xref" href="#RFC4647">RFC4647</a>]</span>), represented as a UTF-8 text
string (major type 3).<a class="pilcrow" href="#appendix-A.2-2">¶</a></p>
<p id="appendix-A.2-3">The second element is an arbitrary UTF-8 text string (major type
3). Both the language tag and the arbitrary string can optionally be
annotated with CBOR tags; this is not shown in the CDDL below.<a class="pilcrow" href="#appendix-A.2-3">¶</a></p>
<p id="appendix-A.2-4">The optional third element, if present, represents a ternary value that
indicates a direction, as follows:<a class="pilcrow" href="#appendix-A.2-4">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-5.1">
            <code>false</code>: left-to-right direction ("ltr").
The text is expected to be displayed with left-to-right base
direction if standalone and isolated with left-to-right direction
(as if enclosed in LRI ... PDI or equivalent, see <span>[<a class="cite xref" href="#Unicode-14.0.0-bidi">Unicode-14.0.0-bidi</a>]</span>) in the
context of a longer string or text.<a class="pilcrow" href="#appendix-A.2-5.1">¶</a>
</li>
          <li class="normal" id="appendix-A.2-5.2">
            <code>true</code>: right-to-left direction ("rtl").
The text is expected to be displayed with right-to-left base
direction if standalone and isolated with right-to-left direction
(as if enclosed in RLI ... PDI or equivalent, see <span>[<a class="cite xref" href="#Unicode-14.0.0-bidi">Unicode-14.0.0-bidi</a>]</span>) in the context
of a longer string or text.<a class="pilcrow" href="#appendix-A.2-5.2">¶</a>
</li>
          <li class="normal" id="appendix-A.2-5.3">
            <code>null:</code> indicates that no indication is made about the direction
("auto"), enabling an internationalization library to make an auto-detection
decision such as treating the string as if enclosed in FSI ... PDI
or equivalent, see <span>[<a class="cite xref" href="#Unicode-14.0.0-bidi">Unicode-14.0.0-bidi</a>]</span>.<a class="pilcrow" href="#appendix-A.2-5.3">¶</a>
</li>
        </ul>
<p id="appendix-A.2-6">If the third element is absent, directionality context may be applied
(e.g., base-directionality information for an entire CBOR message or
part thereof).  If there is no directionality context applied, the
default interpretation is the same as for <code>null</code> ("auto").<a class="pilcrow" href="#appendix-A.2-6">¶</a></p>
<p id="appendix-A.2-7">In CDDL:<a class="pilcrow" href="#appendix-A.2-7">¶</a></p>
<div id="appendix-A.2-8">
<pre class="lang-cddl sourcecode">tag38 = #6.38([tag38-ltag, text, ?tag38-direction])
tag38-ltag = text .regexp "[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*"
tag38-direction = &amp;(ltr: false, rtl: true, auto: null)
</pre><a class="pilcrow" href="#appendix-A.2-8">¶</a>
</div>
<p id="appendix-A.2-9">NOTE: Language tags of any combination of case are allowed. But
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc5646#section-2.1.1">Section 2.1.1</a> of [<a class="cite xref" href="#RFC5646">RFC5646</a>]</span>, part of BCP 47,
recommends a case combination for language tags that encoders that
support tag 38 may wish to follow when generating language tags.<a class="pilcrow" href="#appendix-A.2-9">¶</a></p>
<p id="appendix-A.2-10">Data items with tag 38 that do not meet the criteria above are not valid
(see Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8949#section-5.3.2">5.3.2</a> of RFC 8949 <span>[<a class="cite xref" href="#STD94">STD94</a>]</span>).<a class="pilcrow" href="#appendix-A.2-10">¶</a></p>
<p id="appendix-A.2-11">NOTE: The Unicode Standard <span>[<a class="cite xref" href="#Unicode-14.0.0">Unicode-14.0.0</a>]</span> includes a set of characters
designed for tagging text (including language tagging) in the range
U+E0000 to U+E007F. Although many applications, including RDF,
do not disallow these characters in text strings, the Unicode Consortium
has deprecated these characters and recommends annotating language via a
higher-level protocol instead. See the section "Deprecated Tag
Characters" in Section 23.9 of <span>[<a class="cite xref" href="#Unicode-14.0.0">Unicode-14.0.0</a>]</span> as well as <span>[<a class="cite xref" href="#RFC6082">RFC6082</a>]</span>.<a class="pilcrow" href="#appendix-A.2-11">¶</a></p>
<p id="appendix-A.2-12">NOTE: while this document references a version of Unicode that was
              recent at the time of writing, the statements made based
              on this version are expected to remain valid for future
              versions.<a class="pilcrow" href="#appendix-A.2-12">¶</a></p>
</section>
</div>
<div id="examples">
<section id="appendix-A.3">
        <h3 id="name-examples">
<a class="section-number selfRef" href="#appendix-A.3">A.3. </a><a class="section-name selfRef" href="#name-examples">Examples</a>
        </h3>
<p id="appendix-A.3-1">Examples in this section are given in CBOR diagnostic notation first and then
as a pretty-printed hexadecimal representation of the encoded item.<a class="pilcrow" href="#appendix-A.3-1">¶</a></p>
<p id="appendix-A.3-2">The following example shows how the English-language string "Hello" is
represented.<a class="pilcrow" href="#appendix-A.3-2">¶</a></p>
<div id="appendix-A.3-3">
<pre class="lang-cbor-diag sourcecode">38(["en", "Hello"])
</pre><a class="pilcrow" href="#appendix-A.3-3">¶</a>
</div>
<div id="appendix-A.3-4">
<pre class="lang-cbor-pretty sourcecode">D8 26               # tag(38)
   82               # array(2)
      62            # text(2)
         656E       # "en"
      65            # text(5)
         48656C6C6F # "Hello"
</pre><a class="pilcrow" href="#appendix-A.3-4">¶</a>
</div>
<p id="appendix-A.3-5">The following example shows how the French-language string "Bonjour" is
represented.<a class="pilcrow" href="#appendix-A.3-5">¶</a></p>
<div id="appendix-A.3-6">
<pre class="lang-cbor-diag sourcecode">38(["fr", "Bonjour"])
</pre><a class="pilcrow" href="#appendix-A.3-6">¶</a>
</div>
<div id="appendix-A.3-7">
<pre class="lang-cbor-pretty sourcecode">D8 26                   # tag(38)
   82                   # array(2)
      62                # text(2)
         6672           # "fr"
      67                # text(7)
         426F6E6A6F7572 # "Bonjour"
</pre><a class="pilcrow" href="#appendix-A.3-7">¶</a>
</div>
<p id="appendix-A.3-8">The following example uses right-to-left (RTL) script, which in the context of this specification may be rendered differently by different document presentation environments.  The descriptive text may be more reliable to follow than the necessarily device- and application-specific rendering.
The example shows how the Hebrew-language string<a class="pilcrow" href="#appendix-A.3-8">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.3-9">
<pre>שלום
</pre><a class="pilcrow" href="#appendix-A.3-9">¶</a>
</div>
<p id="appendix-A.3-10">is represented, where in direction of reading, the sequence of characters is: 
<span class="unicode">"ש" (HEBREW LETTER SHIN, U+05E9)</span>,
<span class="unicode">"ל" (HEBREW LETTER LAMED, U+05DC)</span>,
<span class="unicode">"ו" (HEBREW LETTER VAV, U+05D5)</span>,
<span class="unicode">"ם" (HEBREW LETTER FINAL MEM, U+05DD)</span>.
Note the <code>rtl</code> direction expressed by setting the third element in the array to "true".<a class="pilcrow" href="#appendix-A.3-10">¶</a></p>
<div id="appendix-A.3-11">
<pre class="lang-cbor-diag sourcecode">38(["he", "שלום", true])
</pre><a class="pilcrow" href="#appendix-A.3-11">¶</a>
</div>
<div id="appendix-A.3-12">
<pre class="lang-cbor-pretty sourcecode">D8 26                     # tag(38)
   83                     # array(3)
      62                  # text(2)
         6865             # "he"
      68                  # text(8)
         D7A9D79CD795D79D # "שלום"
      F5                  # primitive(21)
</pre><a class="pilcrow" href="#appendix-A.3-12">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="comp7807">
<section id="appendix-B">
      <h2 id="name-interworking-with-rfc-7807">
<a class="section-number selfRef" href="#appendix-B">Appendix B. </a><a class="section-name selfRef" href="#name-interworking-with-rfc-7807">Interworking with RFC 7807</a>
      </h2>
<p id="appendix-B-1">On certain occasions, it will be necessary to carry ("tunnel")
<span>[<a class="cite xref" href="#RFC7807">RFC7807</a>]</span> problem details in a Concise Problem Details data item.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
<p id="appendix-B-2">This appendix defines a Custom Problem Detail entry for that purpose.
This is assigned Custom Problem Detail key 7807 in <a class="auto internal xref" href="#iana-cpdk">Section 6.2</a>.
Its structure is:<a class="pilcrow" href="#appendix-B-2">¶</a></p>
<div id="appendix-B-3">
<pre class="lang-cddl sourcecode">tunnel-7807 = {
  ? &amp;(type: 0) =&gt; ~uri
  ? &amp;(status: 1) =&gt; 0..999
  * text =&gt; any
}
</pre><a class="pilcrow" href="#appendix-B-3">¶</a>
</div>
<p id="appendix-B-4">To carry an <span>[<a class="cite xref" href="#RFC7807">RFC7807</a>]</span> problem details JSON object in a Concise Problem
Details data item, first convert the JSON object to CBOR as per Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc8949#section-6.2">6.2</a> of RFC 8949 <span>[<a class="cite xref" href="#STD94">STD94</a>]</span>.  Create an empty Concise Problem Details data item.<a class="pilcrow" href="#appendix-B-4">¶</a></p>
<p id="appendix-B-5">Move the values for "title", "detail", and "instance", if present,
from the <span>[<a class="cite xref" href="#RFC7807">RFC7807</a>]</span> problem details to the equivalent Standard Problem
Detail entries.
Create a Custom Problem Detail entry with key 7807.
Move the values for "type" and "status", if present, to the equivalent
keys 0 and 1 of the Custom Problem Detail entry.
Move all remaining key/value pairs (additional members as per <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7807#section-3.2">Section 3.2</a> of [<a class="cite xref" href="#RFC7807">RFC7807</a>]</span>) in the converted <span>[<a class="cite xref" href="#RFC7807">RFC7807</a>]</span> problem
details object to the Custom Problem Detail map unchanged.<a class="pilcrow" href="#appendix-B-5">¶</a></p>
<p id="appendix-B-6">The inverse direction, carrying Concise Problem Details in an RFC 7807 problem
details JSON object requires the additional support provided by
<span>[<a class="cite xref" href="#I-D.ietf-httpapi-rfc7807bis">HTTPAPI</a>]</span>, which is planned to create the HTTP Problem Types
Registry.  An HTTP Problem Type can then be registered that extracts
top-level items from the Concise Problem Details data item in a similar way
to the conversion described above and that carries the rest of the
Concise Problem Details data item in an additional member via base64url
encoding without padding (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4648#section-5">Section 5</a> of [<a class="cite xref" href="#RFC4648">RFC4648</a>]</span>).  Details can be defined
in a separate document when the work on <span>[<a class="cite xref" href="#I-D.ietf-httpapi-rfc7807bis">HTTPAPI</a>]</span> is completed.<a class="pilcrow" href="#appendix-B-6">¶</a></p>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-C">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-C-1">The authors would like to thank <span class="contact-name">Mark Nottingham</span> and <span class="contact-name">Erik Wilde</span>, the authors of RFC 7807;  <span class="contact-name">Klaus Hartke</span> and <span class="contact-name">Jaime Jiménez</span>, the coauthors of an earlier draft version of this
specification;  <span class="contact-name">Christian Amsüss</span>, <span class="contact-name">Marco Tiloca</span>, <span class="contact-name">Ari Keränen</span>,
and <span class="contact-name">Michael Richardson</span> for review and comments on this document.
<span class="contact-name">Francesca Palombini</span> for her review (and support) as responsible AD,
and <span class="contact-name">Joel Jaeggli</span> for his OPSDIR review, both of which brought
significant additional considerations to this document.<a class="pilcrow" href="#appendix-C-1">¶</a></p>
<p id="appendix-C-2">For <a class="auto internal xref" href="#tag38">Appendix A</a>, <span class="contact-name">John Cowan</span> and <span class="contact-name">Doug Ewell</span> are also to be acknowledged.
The content of an earlier draft version of this appendix was also discussed
in the "apps-discuss@ietf.org" and "ltru@ietf.org" mailing
lists.
More recently, the authors initiated a discussion about the handling
of writing direction information in conjunction with language tags.
That led to discussions within the W3C Internationalization Core
Working Group.
The authors would like to acknowledge that cross-organization
cooperation and particular contributions from <span class="contact-name">John Klensin</span> and
<span class="contact-name">Addison Phillips</span> and specific text proposals by <span class="contact-name">Martin Dürst</span>.<a class="pilcrow" href="#appendix-C-2">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="appendix-D">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Peter Occil</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:poccil14@gmail.com">poccil14@gmail.com</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="http://peteroupc.github.io/CBOR/">http://peteroupc.github.io/CBOR/</a>
</div>
</address>
<p id="appendix-D-1">Peter defined CBOR tag 38, basis of <a class="auto internal xref" href="#tag38">Appendix A</a>.<a class="pilcrow" href="#appendix-D-1">¶</a></p>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Christian Amsüss</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:christian@amsuess.com">christian@amsuess.com</a>
</div>
</address>
<p id="appendix-D-2">Christian contributed what became <a class="auto internal xref" href="#uco">Section 3.1.1</a>.<a class="pilcrow" href="#appendix-D-2">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-E">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Thomas Fossati</span></div>
<div class="left" dir="auto"><span class="org">Arm Limited</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:thomas.fossati@arm.com">thomas.fossati@arm.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Carsten Bormann</span></div>
<div class="left" dir="auto"><span class="org">Universität Bremen TZI</span></div>
<div class="left" dir="auto"><span class="street-address">Postfach 330440</span></div>
<div class="left" dir="auto">
<span class="postal-code">D-28359</span> <span class="locality">Bremen</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+49-421-218-63921">+49-421-218-63921</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cabo@tzi.org">cabo@tzi.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>