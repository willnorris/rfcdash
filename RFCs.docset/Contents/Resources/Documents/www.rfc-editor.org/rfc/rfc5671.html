<html><head></head><body><pre>Network Working Group                                        S. Yasukawa
Request for Comments: 5671                                           NTT
Category: Informational                                   A. Farrel, Ed.
                                                      Old Dog Consulting
                                                            October 2009


         <span class="h1">Applicability of the Path Computation Element (PCE) to</span>
   <span class="h1">Point-to-Multipoint (P2MP) MPLS and GMPLS Traffic Engineering (TE)</span>

Abstract

   The Path Computation Element (PCE) provides path computation
   functions in support of traffic engineering in Multiprotocol Label
   Switching (MPLS) and Generalized MPLS (GMPLS) networks.

   Extensions to the MPLS and GMPLS signaling and routing protocols have
   been made in support of point-to-multipoint (P2MP) Traffic Engineered
   (TE) Label Switched Paths (LSPs).

   This document examines the applicability of PCE to path computation
   for P2MP TE LSPs in MPLS and GMPLS networks.  It describes the
   motivation for using a PCE to compute these paths and examines which
   of the PCE architectural models are appropriate.

Status of This Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the BSD License.






<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-2">2</a>
   <a href="#section-2">2</a>. Architectural Considerations ....................................<a href="#page-4">4</a>
      <a href="#section-2.1">2.1</a>. Offline Computation ........................................<a href="#page-4">4</a>
      <a href="#section-2.2">2.2</a>. Online Computation .........................................<a href="#page-4">4</a>
           <a href="#section-2.2.1">2.2.1</a>. LSR Loading .........................................<a href="#page-5">5</a>
           <a href="#section-2.2.2">2.2.2</a>. PCE Overload ........................................<a href="#page-6">6</a>
           <a href="#section-2.2.3">2.2.3</a>. PCE Capabilities ....................................<a href="#page-6">6</a>
   <a href="#section-3">3</a>. Fragmenting the P2MP Tree .......................................<a href="#page-7">7</a>
   <a href="#section-4">4</a>. Central Replication Points ......................................<a href="#page-8">8</a>
   <a href="#section-5">5</a>. Reoptimization and Modification .................................<a href="#page-9">9</a>
   <a href="#section-6">6</a>. Repair .........................................................<a href="#page-10">10</a>
   <a href="#section-7">7</a>. Disjoint Paths .................................................<a href="#page-11">11</a>
   <a href="#section-8">8</a>. Manageability Considerations ...................................<a href="#page-11">11</a>
      <a href="#section-8.1">8.1</a>. Control of Function and Policy ............................<a href="#page-11">11</a>
      <a href="#section-8.2">8.2</a>. Information and Data Models ...............................<a href="#page-11">11</a>
      <a href="#section-8.3">8.3</a>. Liveness Detection and Monitoring .........................<a href="#page-12">12</a>
      <a href="#section-8.4">8.4</a>. Verifying Correct Operation ...............................<a href="#page-12">12</a>
      8.5. Requirements on Other Protocols and Functional
           Components ................................................<a href="#page-12">12</a>
      <a href="#section-8.6">8.6</a>. Impact on Network Operation ...............................<a href="#page-13">13</a>
   <a href="#section-9">9</a>. Security Considerations ........................................<a href="#page-13">13</a>
   <a href="#section-10">10</a>. Acknowledgments ...............................................<a href="#page-13">13</a>
   <a href="#section-11">11</a>. References ....................................................<a href="#page-13">13</a>
      <a href="#section-11.1">11.1</a>. Normative References .....................................<a href="#page-13">13</a>
      <a href="#section-11.2">11.2</a>. Informative References ...................................<a href="#page-13">13</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   The Path Computation Element (PCE) defined in [<a href="./rfc4655" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>] is an entity
   that is capable of computing a network path or route based on a
   network graph and of applying computational constraints.  The
   intention is that the PCE is used to compute the path of Traffic
   Engineered Label Switched Paths (TE LSPs) within Multiprotocol Label
   Switching (MPLS) and Generalized MPLS (GMPLS) networks.

   [<a id="ref-RFC4655">RFC4655</a>] defines various deployment models that place PCEs
   differently within the network.  The PCEs may be collocated with the
   Label Switching Routers (LSRs), may be part of the management system
   that requests the LSPs to be established, or may be positioned as one
   or more computation servers within the network.

   Requirements for point-to-multipoint (P2MP) MPLS TE LSPs are
   documented in [<a href="./rfc4461" title='"Signaling Requirements for Point-to- Multipoint Traffic-Engineered MPLS Label Switched Paths (LSPs)"'>RFC4461</a>], and signaling protocol extensions for
   setting up P2MP MPLS TE LSPs are defined in [<a href="./rfc4875" title='"Extensions to Resource Reservation Protocol - Traffic Engineering (RSVP-TE) for Point-to- Multipoint TE Label Switched Paths (LSPs)"'>RFC4875</a>].  In this





<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


   document, P2MP MPLS TE networks are considered in support of various
   features including layer 3 multicast VPNs [<a href="./rfc4834" title='"Requirements for Multicast in Layer 3 Provider-Provisioned Virtual Private Networks (PPVPNs)"'>RFC4834</a>], video
   distribution, etc.

   Fundamental to the determination of the paths for P2MP LSPs within a
   network is the selection of branch points.  Not only is this
   selection constrained by the network topology and available network
   resources, but it is determined by the objective functions that may
   be applied to path computation.  For example, one standard objective
   is to minimize the total cost of the tree (that is, to minimize the
   sum of the costs of each link traversed by the tree) to produce what
   is known as a Steiner tree.  Another common objective function
   requires that the cost to reach each leaf of the P2MP tree be
   minimized.

   The selection of branch points within the network is further
   complicated by the fact that not all LSRs in the network are
   necessarily capable of performing branching functions.  This
   information may be recorded in the Traffic Engineering Database (TED)
   that the PCE uses to perform its computations, and may have been
   distributed using extensions to the Interior Gateway Protocol (IGP)
   operating within the network [<a href="./rfc5073" title='"IGP Routing Protocol Extensions for Discovery of Traffic Engineering Node Capabilities"'>RFC5073</a>].

   Additionally, network policies may dictate specific branching
   behavior.  For example, it may be decided that, for certain types of
   LSPs in certain types of networks, it is important that no branch LSR
   is responsible for handling more than a certain number of downstream
   branches for any one LSP.  This might arise because the replication
   mechanism used at the LSRs is a round-robin copying process that
   delays the data transmission on each downstream branch by the time
   taken to replicate the data onto each previous downstream branch.
   Alternatively, administrative policies may dictate that replication
   should be concentrated on specific key replication nodes behaving
   like IP multicast rendezvous points (perhaps to ensure appropriate
   policing of receivers in the P2MP tree, or perhaps to make protection
   and resiliency easier to implement).

   Path computation for P2MP TE LSPs presents a significant challenge
   because of the complexity of the computations described above.
   Determining disjoint protection paths for P2MP TE LSPs can add
   considerably to this complexity, while small modifications to a P2MP
   tree (such as adding or removing just one leaf) can completely change
   the optimal path.  Reoptimization of a network containing multiple
   P2MP TE LSPs requires considerable computational resources.  All of
   this means that an ingress LSR might not have sufficient processing
   power to perform the necessary computations, and even if it does, the
   act of path computation might interfere with the control and




<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


   management plane operation necessary to maintain existing LSPs.  The
   PCE architecture offers a way to offload such path computations from
   LSRs.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Architectural%20Considerations"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Architectural Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.1.%20%20Offline%20Computation"></a><a class="selflink" href="#section-2.1" id="section-2.1">2.1</a>.  Offline Computation</span>

   Offline path computation is performed ahead of time, before the LSP
   setup is requested.  That means that it is requested by, or performed
   as part of, a management application.  This model can be seen in
   <a href="./rfc4655#section-5.5">SectionÂ 5.5 of [RFC4655]</a>.

   The offline model is particularly appropriate to long-lived LSPs
   (such as those present in a transport network) or for planned
   responses to network failures.  In these scenarios, more planning is
   normally a feature of LSP provisioning.

   This model may also be used where the network operator wishes to
   retain full manual control of the placement of LSPs, using the PCE
   only as a computation tool to assist the operator, not as part of an
   automated network.

   Offline path computation may be applied as a background activity for
   network reoptimization to determine whether and when the current LSP
   placements are significantly sub-optimal.  See <a href="#section-5">Section 5</a> for further
   discussions of reoptimization.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.%20%20Online%20Computation"></a><a class="selflink" href="#section-2.2" id="section-2.2">2.2</a>.  Online Computation</span>

   Online path computation is performed on-demand as LSRs in the network
   determine that they need to know the paths to use for LSPs.  Thus,
   each computation is triggered by a request from an LSR.

   As described in [<a href="./rfc4655" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>], the path computation function for online
   computation may be collocated with the LSR that makes the request, or
   it may be present in a computation-capable PCE server within the
   network.  The PCE server may be another LSR in the network, a
   dedicated server, or a functional component of a Network Management
   System (NMS).  Furthermore, the computation is not necessarily
   achieved by a single PCE operating on its own, but may be the result
   of cooperation between several PCEs.

   The remainder of this document makes frequent reference to these
   different online models in order to indicate which is more
   appropriate in different P2MP scenarios.





<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.1.%20%20LSR%20Loading"></a><a class="selflink" href="#section-2.2.1" id="section-2.2.1">2.2.1</a>.  LSR Loading</span>

   An important feature of P2MP path computation is the processing load
   that it places on the network element that is determining the path.
   Roughly speaking, the load to compute a least-cost-to-leaf tree is
   the same as the cost to compute a single optimal path to each leaf in
   turn.  The load to compute a Steiner tree is approximately an order
   of magnitude greater, although algorithms exist to approximate
   Steiner trees in roughly the same order of magnitude of time as for a
   least-cost-to-leaf tree.

   Whereas many LSRs are capable of simple Constrained Shortest Path
   First (CSPF) computations to determine a path for a single point-to-
   point (P2P) LSP, they rapidly become swamped if called on to perform
   multiple such computations, such as when recovering from a network
   failure.  Thus, it is reasonable to expect that an LSR would struggle
   to handle a P2MP path computation for a tree with many destinations.

   The result of an LSR becoming overloaded by a P2MP path computation
   may be two-fold.  First, the LSR may be unable to provide timely
   computations of paths for P2P LSPs; this may impact LSP setup times
   for simple demand-based services and could damage the LSR's ability
   to recover services after network faults.  Secondly, the LSR's
   processing capabilities may be diverted from other important tasks,
   not the least of which is maintaining the control plane protocols
   that are necessary to the support of existing LSPs and forwarding
   state within the network.  It is obviously critically important that
   existing traffic should not be disrupted by the computation of a path
   for a new LSP.

   It is also not reasonable to expect the ingress LSRs of P2MP LSRs to
   be specially powerful and capable of P2MP computations.  Although a
   solution to the overloading problem would be to require that all LSRs
   that form the ingresses to P2MP LSPs be sufficiently high-capacity to
   perform P2MP computations, this is not an acceptable solution
   because, in all other senses, the ingress to a P2MP LSP is just a
   normal ingress LSR.

   Thus, there is an obvious solution: off-load P2MP path computations
   from LSRs to remotely located PCEs.  Such PCE function can be
   provided on dedicated or high-capacity network elements (such as
   dedicated servers, or high-end routers that might be located as
   Autonomous System Border Routers - ASBRs).








<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.2.%20%20PCE%20Overload"></a><a class="selflink" href="#section-2.2.2" id="section-2.2.2">2.2.2</a>.  PCE Overload</span>

   Since P2MP path computations are resource-intensive, it may be that
   the introduction of P2MP LSPs into an established PCE network will
   cause overload at the PCEs.  That is, the P2MP computations may block
   other P2P computations and might even overload the PCE.

   Several measures can be taken within the PCE architecture to
   alleviate this situation as described in [<a href="./rfc4655" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>].  For example,
   path computation requests can be assigned priorities by the LSRs that
   issue them.  Thus, the LSRs could assign lower priority to the P2MP
   requests, ensuring that P2P requests were serviced in preference.
   Furthermore, the PCEs are able to apply local and network-wide policy
   and this may dictate specific processing rules [<a href="./rfc5394" title='"Policy-Enabled Path Computation Framework"'>RFC5394</a>].

   But ultimately, a network must possess sufficient path computation
   resources for its needs and this is achieved within the PCE
   architecture simply by increasing the number of PCEs.

   Once there are sufficient PCEs available within the network, the LSRs
   may choose between them and may use overload notification information
   supplied by the PCEs to spot which PCEs are currently over-loaded.
   Additionally, a PCE that is becoming over-loaded may redistribute its
   queue of computation requests (using the PCE cooperation model
   described in [<a href="./rfc4655" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>]) to other, less burdened PCEs within the
   network.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.2.3.%20%20PCE%20Capabilities"></a><a class="selflink" href="#section-2.2.3" id="section-2.2.3">2.2.3</a>.  PCE Capabilities</span>

   An LSR chooses between available PCEs to select the one most likely
   to be able to perform the requested path computation.  This selection
   may be based on overload notifications from the PCEs, but could also
   consider other computational capabilities.

   For example, it is quite likely that only a subset of the PCEs in the
   network have the ability to perform P2MP computations since this
   requires advanced functionality.  Some of those PCEs might have the
   ability to satisfy certain objective functions (for example, least
   cost to destination), but lack support for other objective functions
   (for example, Steiner).  Additionally, some PCEs might not be capable
   of the more complex P2MP reoptimization functionality.

   The PCE architecture allows an LSR to discover the capabilities of
   the PCEs within the network at the same time it discovers their
   existence.  Further and more detailed exchanges of PCE capabilities
   can be made directly between the PCEs and the LSRs.  This exchange of
   PCE capabilities information allows a Path Computation Client (PCC)
   to select the PCE that can best answer its computation requests.



<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20Fragmenting%20the%20P2MP%20Tree"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  Fragmenting the P2MP Tree</span>

   A way to reduce the computational burden of computing a large P2MP
   tree on a single PCE is to fragment or partition the tree.  This may
   be particularly obvious in a multi-domain network (such as multiple
   routing areas), but is equally applicable in a single domain.

   Consider the network topology in Figure 1.  A P2MP LSP is required
   from ingress LSR A to egress LSRs s, t, u, v, w, x, y, and z.  Using
   a single PCE model, LSR A may request the entire path of the tree and
   this may be supplied by the PCE.  Alternatively, the PCE that is
   consulted by LSR A may only compute the first fragment of the tree
   (for example, from A to K, L, and M) and may rely on other PCEs to
   compute the three smaller trees from K to t, u, and v; from L to w
   and x; and from M to s, y, and z.

   The LSR consulted by A may simply return the first subtree and leave
   LSRs K, L, and M to invoke PCEs in their turn in order to complete
   the signaling.  Alternatively, the first PCE may cooperate with other
   PCEs to collect the paths for the later subtrees and return them in a
   single computation response to PCE A.  The mechanisms for both of
   these approaches are described in the PCE architecture [<a href="./rfc4655" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>].

                                       t
                                      /
                                     /
                                    n--u
                                   /
                                  /
                        e--f--h--K--o--v
                       /
                      /
               A--b--c--d--g--i--L--p--w
                            \        \
                             \        \
                              j        x
                               \
                                \
                                 M--r--y
                                  \  \
                                   \  \
                                    s  z

        Figure 1: A P2MP Tree with Intermediate Computation Points







<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 7]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-8"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


   A further possibility is that LSRs at which the subtrees are stitched
   together (K, L, and M in this example) are selected from a set of
   potential such points using a cooperative PCE technique, such as the
   Backward Recursive Path Computation (BRPC) mechanism [<a href="./rfc5441" title='"A Backward-Recursive PCE-Based Computation (BRPC) Procedure to Compute Shortest Constrained Inter-Domain Traffic Engineering Label Switched Paths"'>RFC5441</a>].
   Indeed, if LSRs K, L, and M were ASBRs or Area Border Routers (ABRs),
   the BRPC technique would be particularly applicable.

   Note, however, that while these mechanisms are superficially
   beneficial, it is far from obvious how the first LSR selects the
   transit LSRs K, L, and M, or how the leaf nodes are assigned to be
   downstream of particular downstream nodes.  The computation to
   determine these questions may be no less intensive than the
   determination of the full tree unless there is some known property of
   the leaf node identifiers such as might be provided by address
   aggregation.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20Central%20Replication%20Points"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  Central Replication Points</span>

   A deployment model for P2MP LSPs is to use centralized, well-known
   replication points.  This choice may be made for administrative or
   security reasons, or because of particular hardware capability
   limitations within the network.  Indeed, this deployment model can be
   achieved using P2P LSPs between ingress and replication point as well
   as between replication point and each leaf so as to achieve a P2MP
   service without the use of P2MP MPLS-TE.

   The motivations for this type of deployment are beyond the scope of
   this document, but it is appropriate to examine how PCE might be used
   to support this model.

   In Figure 2, a P2MP service is required from ingress LSR a to egress
   LSRs m, n, o, and p.  There are four replication-capable LSRs in the
   network: D, E, J, and K.

   When LSR a consults a PCE, it could be given the full P2MP path from
   LSR a to the leaves, but in this model, the PCE simply returns a P2P
   path to the first replication point (in this case, LSR D).  LSR D
   will consult a PCE in its turn and determine the P2P LSPs to egress
   LSRs m and p as well as the P2P LSP to the next replication point,
   LSR J.  Finally, LSR J will use a PCE to determine P2P LSPs to
   egresses n and o.










<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 8]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-9"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


                                f--i--m
                               /
                              /
                    a--b--c--D--g--J--n
                              \     \
                               \     \
                             E  h  K  o
                                 \
                                  \
                                   l--p

              Figure 2: Using Centralized Replication Points

   In this model of operation, it is quite likely that the PCE function
   is located at the replication points, which will be high-capacity
   LSRs.  One of the main features of the computation activity is the
   selection of the replication points (for example, why is LSR D
   selected in preference to LSR E, and why is LSR J chosen over LSR
   K?).  This selection may be made solely on the basis of path
   optimization as it would be for a P2MP computation, but may also be
   influenced by policy issues (for example, LSR D may be able to give
   better security to protect against rogue leaf attachment) or network
   loading concerns (for example, LSR E may already be handling a very
   large amount of traffic replication for other P2MP services).

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Reoptimization%20and%20Modification"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Reoptimization and Modification</span>

   Once established, P2MP LSPs are more sensitive to modification than
   their P2P counterparts.  If an egress is removed from a P2P LSP, the
   whole LSP is torn down.  But egresses may be added to and removed
   from active P2MP LSPs as receivers come and go.

   The removal of an egress from a P2MP LSP does not require any new
   path computation since the tree can be automatically pruned.

   The addition of a new egress to a P2MP LSP can be handled as the
   computation of an appropriate branch point and the determination of a
   P2P path from the branch point to the new egress.  This is a
   relatively simple computation and can be achieved by reverse-path
   CSPF, much as in the manner of some multicast IP routing protocols.

   However, repeated addition to and removal from a P2MP LSP will almost
   certainly leave it in a sub-optimal state.  The tree shape that was
   optimal for the original set of destinations will be distorted by the
   changes and will not be optimal for the new set of destinations.






<span class="grey">Yasukawa &amp; Farrel            Informational                      [Page 9]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-10"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


   Further, as resource availability changes in the network due to other
   LSPs being released or network resources being brought online, the
   path of the P2MP LSP may become sub-optimal.

   Computing a new optimal path for the P2MP LSP is as simple as
   computing any optimal P2MP path, but selecting a path that can be
   applied within the network as a migration from the existing LSP may
   be more complex.  Additional constraints may be applied by the
   network administrator so that only subsets of the egresses (or
   subtrees of the P2MP tree) are optimized at any time.  In these
   cases, the computational load of reoptimization may be considerable,
   but fortunately reoptimization computations may be performed as
   background activities.  Splitting the P2MP tree into subtrees, as
   described in <a href="#section-3">Section 3</a>, may further reduce the computation load and
   may assist with administrative preferences for partial tree
   reoptimization.

   Network-wide reoptimization of multiple LSPs [<a href="./rfc5557" title='"Path Computation Element Communication Protocol (PCEP) Requirements and Protocol Extensions in Support of Global Concurrent Optimization"'>RFC5557</a>] can achieve
   far greater improvements in optimality within overloaded networks
   than can be achieved by reoptimizing LSPs sequentially.  Such
   computation would typically be performed offline and would usually
   require a dedicated processor such as a PCE invoked by the NMS.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20Repair"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  Repair</span>

   LSP repair is necessary when a network fault disrupts the ability of
   the LSP to deliver data to an egress.  For a P2MP LSP, a network
   fault is (statistically) likely to only impact a small subset of the
   total set of egresses.  Repair activity, therefore, does not need to
   recompute the path of the entire P2MP tree.  Rather, it needs to
   quickly find suitable new branches that can be grafted onto the
   existing tree to reconnect the disconnected leaves.

   In fact, immediately after a network failure there may be a very
   large number of path computations required in order to restore
   multiple P2P and P2MP LSPs.  The PCEs will be heavily loaded, and it
   is important that computation requests are restricted to only the
   'essential'.

   In this light, it is useful to note that the simple repair
   computations described in the first paragraph of this section may be
   applied to achieve a first repair of the LSPs, while more
   sophisticated reoptimization computations can be deferred until the
   network is stable and the load on the PCEs has been reduced.  Those
   reoptimizations can be computed as described in <a href="#section-5">Section 5</a>.






<span class="grey">Yasukawa &amp; Farrel            Informational                     [Page 10]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-11"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20Disjoint%20Paths"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  Disjoint Paths</span>

   Disjoint paths are required for end-to-end protection services and
   sometimes for load balancing.  They may require to be fully disjoint
   (except at the ingress and egress!), link disjoint (allowing common
   nodes on the paths), or best-effort disjoint (allowing shared links
   or nodes when no other path can be found).

   It is possible to compute disjoint paths sequentially, but this can
   lead to blocking problems where the second path cannot be placed.
   Such issues are more readily avoided if the paths are computed in
   parallel.

   The computation of link disjoint P2P paths may be non-trivial and may
   be the sort of task that an LSR offloads to a PCE because of its
   complexity.  The computation of disjoint P2MP paths is considerably
   more difficult and is therefore a good candidate to be offloaded to a
   PCE that has dedicated resources.  In fact, it may well be the case
   that not all P2MP-capable PCEs can handle disjoint path requests and
   it may be necessary to select between PCEs based on their
   capabilities.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20Manageability%20Considerations"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  Manageability Considerations</span>

   The use of PCE to compute P2MP paths has many of the same
   manageability considerations as when it is used for P2P LSPs
   [<a href="./rfc5440" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>].  There may be additional manageability implications for
   the size of P2MP computation requests and the additional loading
   exerted on the PCEs.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.1.%20%20Control%20of%20Function%20and%20Policy"></a><a class="selflink" href="#section-8.1" id="section-8.1">8.1</a>.  Control of Function and Policy</span>

   As already described, individual PCEs may choose to not be capable of
   P2MP computation, and where this function is available, it may be
   disabled by an operator, or may be automatically withdrawn when the
   PCE becomes loaded or based on other policy considerations.

   Further, a PCE may refuse any P2MP computation request or pass it on
   to another PCE based on policy.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.2.%20%20Information%20and%20Data%20Models"></a><a class="selflink" href="#section-8.2" id="section-8.2">8.2</a>.  Information and Data Models</span>

   P2MP computation requests necessitate considerably more information
   exchange between the LSR and the PCE than is required for P2P
   computations.  This will result in much larger data sets to be
   controlled and modeled, and will impact the utility of any management
   data models, such as MIB modules.  Care needs to be taken in the




<span class="grey">Yasukawa &amp; Farrel            Informational                     [Page 11]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-12"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


   design of such data models, and the use of other management protocols
   and data modeling structures, such as NETCONF [<a href="./rfc4741" title='"NETCONF Configuration Protocol"'>RFC4741</a>] and the
   NETCONF Data Modeling Language (NETMOD), could be considered.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.3.%20%20Liveness%20Detection%20and%20Monitoring"></a><a class="selflink" href="#section-8.3" id="section-8.3">8.3</a>.  Liveness Detection and Monitoring</span>

   PCE liveness detection and monitoring is unchanged from P2P
   operation, but it should be noted that P2MP requests will take longer
   to process than P2P requests, meaning that the time between request
   and response will be, on average, longer.  This increases the chance
   of a communications failure between request and response and means
   that liveness detection is more important.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.4.%20%20Verifying%20Correct%20Operation"></a><a class="selflink" href="#section-8.4" id="section-8.4">8.4</a>.  Verifying Correct Operation</span>

   Correct operation of any communication between LSRs and PCEs is
   exactly as important as it is for P2P computations.

   The correct operation of path computation algorithms implemented at
   PCEs is out of scope, but LSRs that are concerned that PCE algorithms
   might not be operating correctly may make identical requests to
   separate PCEs and compare the responses.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.5.%20%20Requirements%20on%20Other%20Protocols%20and%20Functional%20Components"></a><a class="selflink" href="#section-8.5" id="section-8.5">8.5</a>.  Requirements on Other Protocols and Functional Components</span>

   As is clear from the PCE architecture, a communications protocol is
   necessary to allow LSRs to send computation requests to PCEs and for
   PCEs to cooperate.  Requirements for such a protocol to handle P2P
   path computations are described in [<a href="./rfc4657" title='"Path Computation Element (PCE) Communication Protocol Generic Requirements"'>RFC4657</a>], and additional
   requirements in support of P2MP computations are described in
   [<a href="#ref-PCE-P2MP" title='"PCC-PCE Communication Requirements for Point to Multipoint Multiprotocol Label Switching Traffic Engineering (MPLS-TE)"'>PCE-P2MP</a>].  The PCE Communication Protocol (PCEP) is defined in
   [<a href="./rfc5440" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>], but extensions will be necessary to support P2MP
   computation requests.

   As described in the body of this document, LSRs need to be able to
   recognize which PCEs can perform P2MP computations.  Capability
   advertisement is already present in the PCE Discovery protocols
   ([<a href="./rfc5088" title='"OSPF Protocol Extensions for Path Computation Element (PCE) Discovery"'>RFC5088</a>] and [<a href="./rfc5089" title='"IS-IS Protocol Extensions for Path Computation Element (PCE) Discovery"'>RFC5089</a>]) and can also be exchanged in PCEP
   ([<a href="./rfc5440" title='"Path Computation Element (PCE) Communication Protocol (PCEP)"'>RFC5440</a>]), but extensions will be required to describe P2MP
   capabilities.

   As also described in this document, the PCE needs to know the branch
   capabilities of the LSRs and store this information in the TED.  This
   information can be distributed using the routing protocols as
   described in [<a href="./rfc5073" title='"IGP Routing Protocol Extensions for Discovery of Traffic Engineering Node Capabilities"'>RFC5073</a>].






<span class="grey">Yasukawa &amp; Farrel            Informational                     [Page 12]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-13"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.6.%20%20Impact%20on%20Network%20Operation"></a><a class="selflink" href="#section-8.6" id="section-8.6">8.6</a>.  Impact on Network Operation</span>

   The use of a PCE to perform P2MP computations may have a beneficial
   impact on network operation if it can offload processing from the
   LSRs, freeing them up to handle protocol operations.

   Furthermore, the use of a PCE may enable more dynamic behavior in
   P2MP LSPs (such as the addition of new egresses, reoptimization, and
   failure recovery) than is possible using more traditional
   management-based planning techniques.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.%20%20Security%20Considerations"></a><a class="selflink" href="#section-9" id="section-9">9</a>.  Security Considerations</span>

   The use of PCE to compute P2MP paths does not raise any additional
   security issues beyond those that generally apply to the PCE
   architecture.  See [<a href="./rfc4655" title='"A Path Computation Element (PCE)-Based Architecture"'>RFC4655</a>] for a full discussion.

   Note, however, that P2MP computation requests are more CPU-intensive
   and also use more link bandwidth.  Therefore, if the PCE was attacked
   by the injection of spurious path computation requests, it would be
   more vulnerable through a smaller number of such requests.

   Thus, the use of message integrity and authentication mechanisms
   within the PCE protocol should be used to mitigate attacks from
   devices that are not authorized to send requests to the PCE.  It
   would be possible to consider applying different authorization
   policies for P2MP path computation requests compared to other
   requests.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.%20%20Acknowledgments"></a><a class="selflink" href="#section-10" id="section-10">10</a>.  Acknowledgments</span>

   The authors would like to thank Jerry Ash and Jean-Louis Le Roux for
   their thoughtful comments.  Lars Eggert, Dan Romascanu, and Tim Polk
   provided useful comments during IESG review.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.%20%20References"></a><a class="selflink" href="#section-11" id="section-11">11</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.1.%20%20Normative%20References"></a><a class="selflink" href="#section-11.1" id="section-11.1">11.1</a>.  Normative References</span>

   [<a id="ref-RFC4655">RFC4655</a>]  Farrel, A., Vasseur, J.-P., and J. Ash, "A Path
              Computation Element (PCE)-Based Architecture", <a href="./rfc4655">RFC 4655</a>,
              August 2006.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.2.%20%20Informative%20References"></a><a class="selflink" href="#section-11.2" id="section-11.2">11.2</a>.  Informative References</span>

   [<a id="ref-RFC4461">RFC4461</a>]  Yasukawa, S., Ed., "Signaling Requirements for Point-to-
              Multipoint Traffic-Engineered MPLS Label Switched Paths
              (LSPs)", <a href="./rfc4461">RFC 4461</a>, April 2006.



<span class="grey">Yasukawa &amp; Farrel            Informational                     [Page 13]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-14"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


   [<a id="ref-RFC4657">RFC4657</a>]  Ash, J., Ed., and J. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol Generic
              Requirements", <a href="./rfc4657">RFC 4657</a>, September 2006.

   [<a id="ref-RFC4741">RFC4741</a>]  Enns, R., Ed., "NETCONF Configuration Protocol", <a href="./rfc4741">RFC 4741</a>,
              December 2006.

   [<a id="ref-RFC4834">RFC4834</a>]  Morin, T., Ed., "Requirements for Multicast in Layer 3
              Provider-Provisioned Virtual Private Networks (PPVPNs)",
              <a href="./rfc4834">RFC 4834</a>, April 2007.

   [<a id="ref-RFC4875">RFC4875</a>]  Aggarwal, R., Ed., Papadimitriou, D., Ed., and S.
              Yasukawa, Ed., "Extensions to Resource Reservation
              Protocol - Traffic Engineering (RSVP-TE) for Point-to-
              Multipoint TE Label Switched Paths (LSPs)", <a href="./rfc4875">RFC 4875</a>, May
              2007.

   [<a id="ref-RFC5073">RFC5073</a>]  Vasseur, J., Ed., and J. Le Roux, Ed., "IGP Routing
              Protocol Extensions for Discovery of Traffic Engineering
              Node Capabilities", <a href="./rfc5073">RFC 5073</a>, December 2007.

   [<a id="ref-RFC5088">RFC5088</a>]  Le Roux, JL., Ed., Vasseur, JP., Ed., Ikejiri, Y., and R.
              Zhang, "OSPF Protocol Extensions for Path Computation
              Element (PCE) Discovery", <a href="./rfc5088">RFC 5088</a>, January 2008.

   [<a id="ref-RFC5089">RFC5089</a>]  Le Roux, JL., Ed., Vasseur, JP., Ed., Ikejiri, Y., and R.
              Zhang, "IS-IS Protocol Extensions for Path Computation
              Element (PCE) Discovery", <a href="./rfc5089">RFC 5089</a>, January 2008.

   [<a id="ref-RFC5394">RFC5394</a>]  Bryskin, I., Papadimitriou, D., Berger, L., and J. Ash,
              "Policy-Enabled Path Computation Framework", <a href="./rfc5394">RFC 5394</a>,
              December 2008.

   [<a id="ref-RFC5440">RFC5440</a>]  Vasseur, JP., Ed., and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", <a href="./rfc5440">RFC 5440</a>,
              March 2009.

   [<a id="ref-RFC5441">RFC5441</a>]  Vasseur, JP., Ed., Zhang, R., Bitar, N., and JL. Le Roux,
              "A Backward-Recursive PCE-Based Computation (BRPC)
              Procedure to Compute Shortest Constrained Inter-Domain
              Traffic Engineering Label Switched Paths", <a href="./rfc5441">RFC 5441</a>, April
              2009.

   [<a id="ref-RFC5557">RFC5557</a>]  Lee, Y., Le Roux, JL., King, D., and E. Oki, "Path
              Computation Element Communication Protocol (PCEP)
              Requirements and Protocol Extensions in Support of Global
              Concurrent Optimization", <a href="./rfc5557">RFC 5557</a>, July 2009.




<span class="grey">Yasukawa &amp; Farrel            Informational                     [Page 14]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-15"></span>
<span class="grey"><a href="./rfc5671">RFC 5671</a>             PCE for P2MP MPLS and GMPLS TE         October 2009</span>


   [<a id="ref-PCE-P2MP">PCE-P2MP</a>] Yasukawa, S., and Farrel, A., "PCC-PCE Communication
              Requirements for Point to Multipoint Multiprotocol Label
              Switching Traffic Engineering (MPLS-TE)", Work in
              Progress, May 2008.

Authors' Addresses

   Seisho Yasukawa
   NTT Corporation
   9-11, Midori-Cho 3-Chome
   Musashino-Shi, Tokyo 180-8585,
   Japan

   EMail: yasukawa.seisho@lab.ntt.co.jp


   Adrian Farrel
   Old Dog Consulting

   EMail: adrian@olddog.co.uk































Yasukawa &amp; Farrel            Informational                     [Page 15]
</pre>
</body></html>