<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9208: IMAP QUOTA Extension</title>
<meta content="Alexey Melnikov" name="author"/>
<meta content="
       This document defines a QUOTA extension of the Internet Message
      Access Protocol (IMAP) (see RFCs 3501 and 9051) that permits administrative limits
      on resource usage (quotas) to be manipulated through the IMAP
      protocol. 
       This document obsoletes RFC 2087 but attempts to remain backwards
      compatible whenever possible. 
    " name="description"/>
<meta content="xml2rfc 3.12.2" name="generator"/>
<meta content="9208" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.12.2
    Python 3.6.15
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.15.1
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.4.1
    requests 2.24.0
    setuptools 40.5.0
    six 1.14.0
    WeasyPrint 52.5
-->
<link href="rfc9208.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9208" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-extra-quota-10" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9208</td>
<td class="center">IMAP QUOTA</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Melnikov</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9208">9208</a></dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc2087">2087</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-03">March 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Melnikov</div>
<div class="org">Isode</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9208</h1>
<h1 id="title">IMAP QUOTA Extension</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document defines a QUOTA extension of the Internet Message
      Access Protocol (IMAP) (see RFCs 3501 and 9051) that permits administrative limits
      on resource usage (quotas) to be manipulated through the IMAP
      protocol.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">This document obsoletes RFC 2087 but attempts to remain backwards
      compatible whenever possible.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9208">https://www.rfc-editor.org/info/rfc9208</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
<p id="section-boilerplate.2-3">
            This document may contain material from IETF Documents or IETF
            Contributions published or made publicly available before November
            10, 2008. The person(s) controlling the copyright in some of this
            material may not have granted the IETF Trust the right to allow
            modifications of such material outside the IETF Standards Process.
            Without obtaining an adequate license from the person(s)
            controlling the copyright in such materials, this document may not
            be modified outside the IETF Standards Process, and derivative
            works of it may not be created outside the IETF Standards Process,
            except to format it for publication as an RFC or to translate it
            into languages other than English.<a class="pilcrow" href="#section-boilerplate.2-3">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction-and-overview">Introduction and Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-document-conventions">Document Conventions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-terms">Terms</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-resource">Resource</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p class="keepWithNext" id="section-toc.1-1.3.2.1.2.1.1"><a class="xref" href="#section-3.1.1">3.1.1</a>.  <a class="xref" href="#name-name">Name</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a class="xref" href="#section-3.1.2">3.1.2</a>.  <a class="xref" href="#name-definition">Definition</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-quota-root">Quota Root</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-definitions">Definitions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-commands">Commands</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a class="xref" href="#section-4.1.1">4.1.1</a>.  <a class="xref" href="#name-getquota">GETQUOTA</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a class="xref" href="#section-4.1.2">4.1.2</a>.  <a class="xref" href="#name-getquotaroot">GETQUOTAROOT</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a class="xref" href="#section-4.1.3">4.1.3</a>.  <a class="xref" href="#name-setquota">SETQUOTA</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.4">
                    <p id="section-toc.1-1.4.2.1.2.4.1"><a class="xref" href="#section-4.1.4">4.1.4</a>.  <a class="xref" href="#name-new-status-attributes">New STATUS attributes</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-responses">Responses</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a class="xref" href="#section-4.2.1">4.2.1</a>.  <a class="xref" href="#name-quota">QUOTA</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a class="xref" href="#section-4.2.2">4.2.2</a>.  <a class="xref" href="#name-quotaroot">QUOTAROOT</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-response-codes">Response Codes</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a class="xref" href="#section-4.3.1">4.3.1</a>.  <a class="xref" href="#name-overquota">OVERQUOTA</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-resource-type-definitions">Resource Type Definitions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a class="xref" href="#section-5.1">5.1</a>.  <a class="xref" href="#name-storage">STORAGE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a class="xref" href="#section-5.2">5.2</a>.  <a class="xref" href="#name-message">MESSAGE</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a class="xref" href="#section-5.3">5.3</a>.  <a class="xref" href="#name-mailbox">MAILBOX</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a class="xref" href="#section-5.4">5.4</a>.  <a class="xref" href="#name-annotation-storage">ANNOTATION-STORAGE</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-interaction-with-imap-acl-e">Interaction with IMAP ACL Extension (RFC 4314)</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-formal-syntax">Formal Syntax</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.  <a class="xref" href="#name-changes-additions-to-the-im">Changes/Additions to the IMAP Capabilities Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="xref" href="#section-9.2">9.2</a>.  <a class="xref" href="#name-imap-quota-resource-type-re">IMAP Quota Resource Type Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-changes-since-rfc-2087">Changes Since RFC 2087</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-11">11</a>. <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a class="xref" href="#section-11.1">11.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a class="xref" href="#section-11.2">11.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#appendix-A"></a><a class="xref" href="#name-acknowledgments">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-contributors">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="xref" href="#appendix-C"></a><a class="xref" href="#name-authors-address">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction-and-overview">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction-and-overview">Introduction and Overview</a>
      </h2>
<p id="section-1-1">This document defines a couple of extensions to the Internet Message
      Access Protocol <span>[<a class="xref" href="#RFC3501">RFC3501</a>]</span> <span>[<a class="xref" href="#RFC9051">RFC9051</a>]</span> for querying
      and manipulating administrative limits on resource usage (quotas).  This
      extension is compatible with both IMAP4rev1 <span>[<a class="xref" href="#RFC3501">RFC3501</a>]</span> and IMAP4rev2 <span>[<a class="xref" href="#RFC9051">RFC9051</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">The "QUOTA" capability denotes a server compliant with <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span>.  Some responses and response codes
      defined in this document are not present in such servers (see <a class="xref" href="#changes-since">Section 10</a> for more details), and clients
      <span class="bcp14">MUST NOT</span> rely on their presence in the absence of any
      capability beginning with "QUOTA=".<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">Any server compliant with this document <span class="bcp14">MUST</span> also
      return at least one capability starting with the "QUOTA=RES-" prefix, as
      described in <a class="xref" href="#Quota-Resource">Section 3.1</a>.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">Any server compliant with this document that implements the SETQUOTA
      command (see <a class="xref" href="#SETQUOTA">Section 4.1.3</a>)
      <span class="bcp14">MUST</span> also return the "QUOTASET" capability.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">This document also reserves all other capabilities starting with the
      "QUOTA=" prefix for future IETF Stream Standard Track, Informational, or
      Experimental extensions to this document.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">Quotas can be used to restrict clients for administrative reasons,
      but the QUOTA extension can also be used to indicate system limits and
      current usage levels to clients.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">Although the IMAP4 QUOTA extension specified in <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span> has seen deployment in servers, it has
      seen little deployment in clients.  Since the meaning of the resources
      was implementation dependent, it was impossible for a client
      implementation to determine which resources were supported, and it was
      impossible to determine which mailboxes were in a given quota root (see
      <a class="xref" href="#quota-root">Section 3.2</a>) without a priori knowledge
      of the implementation.<a class="pilcrow" href="#section-1-7">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-document-conventions">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-document-conventions">Document Conventions</a>
      </h2>
<p id="section-2-1">In protocol examples, this document uses a prefix of "C: " to denote
      lines sent by the client to the server and "S: " for lines sent by the
      server to the client. Lines prefixed with "//" are comments explaining
      the previous protocol line.  These prefixes and comments are not part of
      the protocol. Lines without any of these prefixes are continuations of
      the previous line, and no line break is present in the protocol before
      such lines unless specifically mentioned.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are
    to be interpreted as described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span>
        <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only when, they appear in all capitals,
    as shown here.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">Other capitalized words are IMAP keywords <span>[<a class="xref" href="#RFC3501">RFC3501</a>]</span> <span>[<a class="xref" href="#RFC9051">RFC9051</a>]</span> or keywords
      from this document.<a class="pilcrow" href="#section-2-3">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-terms">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-terms">Terms</a>
      </h2>
<div id="Quota-Resource">
<section id="section-3.1">
        <h3 id="name-resource">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-resource">Resource</a>
        </h3>
<p id="section-3.1-1">A resource has a name, a formal definition.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<section id="section-3.1.1">
          <h4 id="name-name">
<a class="section-number selfRef" href="#section-3.1.1">3.1.1. </a><a class="section-name selfRef" href="#name-name">Name</a>
          </h4>
<p id="section-3.1.1-1">The resource name is an atom, as defined in <span><a class="xref" href="#RFC3501">IMAP4rev1</a> [<a class="xref" href="#RFC3501">RFC3501</a>]</span>. These
          <span class="bcp14">MUST</span> be registered with IANA.<a class="pilcrow" href="#section-3.1.1-1">¶</a></p>
<p id="section-3.1.1-2">Supported resource names <span class="bcp14">MUST</span> be advertised as a
          capability by prepending the resource name with "QUOTA=RES-".  A
          server compliant with this specification is not required to support
          all reported resource types on all quota roots.<a class="pilcrow" href="#section-3.1.1-2">¶</a></p>
</section>
<section id="section-3.1.2">
          <h4 id="name-definition">
<a class="section-number selfRef" href="#section-3.1.2">3.1.2. </a><a class="section-name selfRef" href="#name-definition">Definition</a>
          </h4>
<p id="section-3.1.2-1">The resource definition or document containing it, while not
          visible through the protocol, <span class="bcp14">SHOULD</span> be registered
          with IANA.<a class="pilcrow" href="#section-3.1.2-1">¶</a></p>
<p id="section-3.1.2-2">The usage of a resource <span class="bcp14">MUST</span> be represented as a
          63-bit unsigned integer.  0 indicates that the resource is
          exhausted.  Usage integers don't necessarily represent proportional
          use, so clients <span class="bcp14">MUST NOT</span> compare an available resource
          between two separate quota roots on the same or different
          servers.<a class="pilcrow" href="#section-3.1.2-2">¶</a></p>
<p id="section-3.1.2-3">Limits will be specified as, and <span class="bcp14">MUST</span> be
          represented as, an integer. 0 indicates that any usage is
          prohibited.<a class="pilcrow" href="#section-3.1.2-3">¶</a></p>
<p id="section-3.1.2-4">Limits may be hard or soft; that is, an implementation
          <span class="bcp14">MAY</span> choose, or be configured, to disallow any command
          if the limit on a resource is or would be exceeded.<a class="pilcrow" href="#section-3.1.2-4">¶</a></p>
<p id="section-3.1.2-5">All resources that the server handles <span class="bcp14">MUST</span> be
          advertised in a CAPABILITY response/response code consisting of the
          resource name prefixed by "QUOTA=RES-".<a class="pilcrow" href="#section-3.1.2-5">¶</a></p>
<p id="section-3.1.2-6">The resources <span><a class="xref" href="#STORAGE">STORAGE</a> (<a class="xref" href="#STORAGE">Section 5.1</a>)</span>, <span><a class="xref" href="#MESSAGE">MESSAGE</a> (<a class="xref" href="#MESSAGE">Section 5.2</a>)</span>, <span><a class="xref" href="#MAILBOX">MAILBOX</a> (<a class="xref" href="#MAILBOX">Section 5.3</a>)</span>, and <span><a class="xref" href="#ANNOTATION-STORAGE">ANNOTATION-STORAGE</a> (<a class="xref" href="#ANNOTATION-STORAGE">Section 5.4</a>)</span> are defined in this
          document.<a class="pilcrow" href="#section-3.1.2-6">¶</a></p>
</section>
</section>
</div>
<div id="quota-root">
<section id="section-3.2">
        <h3 id="name-quota-root">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-quota-root">Quota Root</a>
        </h3>
<p id="section-3.2-1">This document introduces the concept of a "quota root", as resource
        limits can apply across multiple IMAP mailboxes.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">Each mailbox has zero or more implementation-defined named "quota
        roots".  Each quota root has zero or more resource limits
        (quotas). All mailboxes that share the same named quota root share the
        resource limits of the quota root.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">Quota root names need not be mailbox names, nor is there any
        relationship defined by this document between a quota root name and a
        mailbox name. A quota root name is an astring, as defined in <span><a class="xref" href="#RFC3501">IMAP4</a> [<a class="xref" href="#RFC3501">RFC3501</a>]</span> <span>[<a class="xref" href="#RFC9051">RFC9051</a>]</span>. It <span class="bcp14">SHOULD</span> be treated as an opaque string by any
        clients.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">Quota roots are used since not all implementations may be able to
 calculate usage, or apply quotas, on arbitrary mailboxes or mailbox
 hierarchies.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
<p id="section-3.2-5">Not all resources may be limitable or calculable for all quota
        roots. Furthermore, not all resources may support all limits; some limits
        may be present in the underlying system. A server implementation of
        this memo <span class="bcp14">SHOULD</span> advise the client of such inherent
        limits, by generating <span><a class="xref" href="#QUOTA">QUOTA</a> (<a class="xref" href="#QUOTA">Section 4.2.1</a>)</span> responses, and <span class="bcp14">SHOULD</span>
        advise the client of which resources are limitable for a particular
        quota root. A <span><a class="xref" href="#SETQUOTA">SETQUOTA</a> (<a class="xref" href="#SETQUOTA">Section 4.1.3</a>)</span>
        command <span class="bcp14">MAY</span> also round a quota limit in an
        implementation-dependent way, if the granularity of the underlying
        system demands it. A client <span class="bcp14">MUST</span> be prepared for a
        <span><a class="xref" href="#SETQUOTA">SETQUOTA</a> (<a class="xref" href="#SETQUOTA">Section 4.1.3</a>)</span> command to
        fail if a limit cannot be set.<a class="pilcrow" href="#section-3.2-5">¶</a></p>
<p id="section-3.2-6">Implementation Notes: This means that, for example, under UNIX, a
        quota root may have a <span><a class="xref" href="#MESSAGE">MESSAGE</a> (<a class="xref" href="#MESSAGE">Section 5.2</a>)</span> quota always set due to the number of
        inodes available on the filesystem; similarly, <span><a class="xref" href="#STORAGE">STORAGE</a> (<a class="xref" href="#STORAGE">Section 5.1</a>)</span> may be rounded to the nearest block
        and limited by free filesystem space.<a class="pilcrow" href="#section-3.2-6">¶</a></p>
</section>
</div>
</section>
<section id="section-4">
      <h2 id="name-definitions">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-definitions">Definitions</a>
      </h2>
<section id="section-4.1">
        <h3 id="name-commands">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-commands">Commands</a>
        </h3>
<p id="section-4.1-1">The following commands exist for manipulation and querying quotas.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<div id="GETQUOTA">
<section id="section-4.1.1">
          <h4 id="name-getquota">
<a class="section-number selfRef" href="#section-4.1.1">4.1.1. </a><a class="section-name selfRef" href="#name-getquota">GETQUOTA</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.1-1">
            <dt id="section-4.1.1-1.1">Arguments:</dt>
            <dd id="section-4.1.1-1.2" style="margin-left: 6.0em">quota root<a class="pilcrow" href="#section-4.1.1-1.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-1.3">Responses:</dt>
            <dd id="section-4.1.1-1.4" style="margin-left: 6.0em">
              <p id="section-4.1.1-1.4.1"><span class="bcp14">REQUIRED</span> untagged responses: QUOTA<a class="pilcrow" href="#section-4.1.1-1.4.1">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-1.5">Result:   </dt>
            <dd id="section-4.1.1-1.6" style="margin-left: 6.0em">
              <p id="section-4.1.1-1.6.1">OK - getquota completed<a class="pilcrow" href="#section-4.1.1-1.6.1">¶</a></p>
<p id="section-4.1.1-1.6.2">NO - getquota error: no such quota root, permission
              denied<a class="pilcrow" href="#section-4.1.1-1.6.2">¶</a></p>
<p id="section-4.1.1-1.6.3">BAD - command unknown or arguments invalid<a class="pilcrow" href="#section-4.1.1-1.6.3">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.1-2">
            The GETQUOTA command takes the name of a quota root and returns
            the quota root's resource usage and limits in an untagged QUOTA
            response.  (Names of quota roots applicable to a particular
            mailbox can be discovered by issuing the GETQUOTAROOT command; see
            <a class="xref" href="#GETQUOTAROOT">Section 4.1.2</a>.)  Note that the
            server is not required to support any specific resource type (as
            advertised in the CAPABILITY response, i.e., all capability items
            with the "QUOTA=RES-" prefix) for any particular quota root.<a class="pilcrow" href="#section-4.1.1-2">¶</a></p>
<p id="section-4.1.1-3">Example:<a class="pilcrow" href="#section-4.1.1-3">¶</a></p>
<div id="section-4.1.1-4">
<pre class="sourcecode">   S: * CAPABILITY [...] QUOTA QUOTA=RES-STORAGE [...]

   [...]

   C: G0001 GETQUOTA "!partition/sda4"

   S: * QUOTA "!partition/sda4" (STORAGE 104 10923847)

   S: G0001 OK Getquota complete
</pre><a class="pilcrow" href="#section-4.1.1-4">¶</a>
</div>
</section>
</div>
<div id="GETQUOTAROOT">
<section id="section-4.1.2">
          <h4 id="name-getquotaroot">
<a class="section-number selfRef" href="#section-4.1.2">4.1.2. </a><a class="section-name selfRef" href="#name-getquotaroot">GETQUOTAROOT</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.2-1">
            <dt id="section-4.1.2-1.1">Arguments:
            </dt>
            <dd id="section-4.1.2-1.2" style="margin-left: 6.0em">mailbox name<a class="pilcrow" href="#section-4.1.2-1.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.2-1.3">Responses:
            </dt>
            <dd id="section-4.1.2-1.4" style="margin-left: 6.0em">
              <span class="bcp14">REQUIRED</span> untagged responses: QUOTAROOT, QUOTA<a class="pilcrow" href="#section-4.1.2-1.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.2-1.5">Result:
            </dt>
            <dd id="section-4.1.2-1.6" style="margin-left: 6.0em">
              <p id="section-4.1.2-1.6.1">OK - getquotaroot completed<a class="pilcrow" href="#section-4.1.2-1.6.1">¶</a></p>
<p id="section-4.1.2-1.6.2">NO - getquotaroot error: permission denied<a class="pilcrow" href="#section-4.1.2-1.6.2">¶</a></p>
<p id="section-4.1.2-1.6.3">BAD - command unknown or arguments invalid<a class="pilcrow" href="#section-4.1.2-1.6.3">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.2-2">The GETQUOTAROOT command takes a mailbox name and returns the
          list of quota roots for the mailbox in an untagged QUOTAROOT
          response.  For each listed quota root, it also returns the quota
          root's resource usage and limits in an untagged QUOTA response.<a class="pilcrow" href="#section-4.1.2-2">¶</a></p>
<p id="section-4.1.2-3">Note that the mailbox name parameter doesn't have to reference an
          existing mailbox. This can be handy in order to determine which
          quota root would apply to a mailbox when it gets created.<a class="pilcrow" href="#section-4.1.2-3">¶</a></p>
<p id="section-4.1.2-4">Example:<a class="pilcrow" href="#section-4.1.2-4">¶</a></p>
<div id="section-4.1.2-5">
<pre class="sourcecode">   S: * CAPABILITY [...] QUOTA QUOTA=RES-STORAGE QUOTA=RES-MESSAGE
   [...]

   [...]

   C: G0002 GETQUOTAROOT INBOX

   S: * QUOTAROOT INBOX "#user/alice" "!partition/sda4"

   S: * QUOTA "#user/alice" (MESSAGE 42 1000)

   S: * QUOTA "!partition/sda4" (STORAGE 104 10923847)

   S: G0002 OK Getquotaroot complete
</pre><a class="pilcrow" href="#section-4.1.2-5">¶</a>
</div>
</section>
</div>
<div id="SETQUOTA">
<section id="section-4.1.3">
          <h4 id="name-setquota">
<a class="section-number selfRef" href="#section-4.1.3">4.1.3. </a><a class="section-name selfRef" href="#name-setquota">SETQUOTA</a>
          </h4>
<span class="break"></span><dl class="dlParallel" id="section-4.1.3-1">
            <dt id="section-4.1.3-1.1">Arguments:                                                                                     
            </dt>
            <dd id="section-4.1.3-1.2" style="margin-left: 6.0em">quota root list of resource limits<a class="pilcrow" href="#section-4.1.3-1.2">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.3-1.3">Responses:                                                                             
            </dt>
            <dd id="section-4.1.3-1.4" style="margin-left: 6.0em">untagged responses: QUOTA<a class="pilcrow" href="#section-4.1.3-1.4">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.3-1.5">Result:                                                                                
            </dt>
            <dd id="section-4.1.3-1.6" style="margin-left: 6.0em">
              <p id="section-4.1.3-1.6.1">OK - setquota completed<a class="pilcrow" href="#section-4.1.3-1.6.1">¶</a></p>
<p id="section-4.1.3-1.6.2">NO - setquota error: can't set that data<a class="pilcrow" href="#section-4.1.3-1.6.2">¶</a></p>
<p id="section-4.1.3-1.6.3">BAD - command unknown or arguments invalid<a class="pilcrow" href="#section-4.1.3-1.6.3">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.3-2">Note that unlike other command/responses/response codes defined in this document,
          support for the SETQUOTA command requires the server to advertise the "QUOTASET" capability.<a class="pilcrow" href="#section-4.1.3-2">¶</a></p>
<p id="section-4.1.3-3">The SETQUOTA command takes the name of a mailbox quota root and a
          list of resource limits. The resource limits for the named quota
          root are changed to the specified limits.  Any previous resource
          limits for the named quota root are discarded, even resource limits
          not explicitly listed in the SETQUOTA command.  (For example, if the
          quota root had both STORAGE and MESSAGE limits assigned to the quota
          root before the SETQUOTA is called and the SETQUOTA only includes
          the STORAGE limit, then the MESSAGE limit is removed from the quota
          root.)<a class="pilcrow" href="#section-4.1.3-3">¶</a></p>
<p id="section-4.1.3-4">If the named quota root did not previously exist, an
          implementation may optionally create it and change the quota roots
          for any number of existing mailboxes in an implementation-defined
          manner.<a class="pilcrow" href="#section-4.1.3-4">¶</a></p>
<p id="section-4.1.3-5">
          If the implementation chooses to change the quota roots for some
          existing mailboxes, such changes <span class="bcp14">SHOULD</span> be announced
          with untagged QUOTA responses.<a class="pilcrow" href="#section-4.1.3-5">¶</a></p>
<p id="section-4.1.3-6">Example:<a class="pilcrow" href="#section-4.1.3-6">¶</a></p>
<div id="section-4.1.3-7">
<pre class="sourcecode">   S: * CAPABILITY [...] QUOTA QUOTASET QUOTA=RES-STORAGE QUOTA=RES-
   MESSAGE [...]

   [...]

   C: S0000 GETQUOTA "#user/alice"

   S: * QUOTA "#user/alice" (STORAGE 54 111 MESSAGE 42 1000)

   S: S0000 OK Getquota completed

   C: S0001 SETQUOTA "#user/alice" (STORAGE 510)

   S: * QUOTA "#user/alice" (STORAGE 58 512)

   // The server has rounded the STORAGE quota limit requested to
   the nearest 512 blocks of 1024 octets; otherwise, another client
   has performed a near-simultaneous SETQUOTA using a limit of 512.

   S: S0001 OK Rounded quota

   C: S0002 SETQUOTA "!partition/sda4" (STORAGE 99999999)

   S: * QUOTA "!partition/sda4" (STORAGE 104 10923847)

   // The server has not changed the quota, since this is a
   filesystem limit, and it cannot be changed. The QUOTA
   response here is entirely optional.

   S: S0002 NO Cannot change system limit
</pre><a class="pilcrow" href="#section-4.1.3-7">¶</a>
</div>
</section>
</div>
<div id="STATUS_RECOVERABLE">
<section id="section-4.1.4">
          <h4 id="name-new-status-attributes">
<a class="section-number selfRef" href="#section-4.1.4">4.1.4. </a><a class="section-name selfRef" href="#name-new-status-attributes">New STATUS attributes</a>
          </h4>
<p id="section-4.1.4-1">The DELETED and DELETED-STORAGE status data items allow for estimation of the amount of resources that could be freed by an EXPUNGE on a mailbox.<a class="pilcrow" href="#section-4.1.4-1">¶</a></p>
<p id="section-4.1.4-2">The DELETED status data item requests the server to return the
          number of messages with the \Deleted flag set. The DELETED status data
          item is only required to be implemented when the server advertises
          the "QUOTA=RES-MESSAGE" capability.<a class="pilcrow" href="#section-4.1.4-2">¶</a></p>
<p id="section-4.1.4-3">The DELETED-STORAGE status data item requests the server to
          return the amount of storage space that can be reclaimed by
          performing EXPUNGE on the mailbox. The server <span class="bcp14">SHOULD</span>
          return the exact value; however, it is recognized that the server
          may have to do a non-trivial amount of work to calculate it.

   If the
          calculation of the exact value would take a long time, the server
          <span class="bcp14">MAY</span> instead return the sum of the RFC822.SIZE of
          the messages with the \Deleted flag set. The DELETED-STORAGE status data
          item is only required to be implemented when the server advertises
          the "QUOTA=RES-STORAGE" capability.<a class="pilcrow" href="#section-4.1.4-3">¶</a></p>
<p id="section-4.1.4-4"> Example:<a class="pilcrow" href="#section-4.1.4-4">¶</a></p>
<div id="section-4.1.4-5">
<pre class="sourcecode">   S: * CAPABILITY [...] QUOTA QUOTA=RES-STORAGE QUOTA=RES-
   MESSAGE [...]

   [...]

   C: S0003 STATUS INBOX (MESSAGES DELETED DELETED-STORAGE)

   S: * STATUS INBOX (MESSAGES 12 DELETED 4 DELETED-STORAGE 8)

   // 12 messages, 4 of which would be deleted when an EXPUNGE
   happens.

   S: S0003 OK Status complete.
</pre><a class="pilcrow" href="#section-4.1.4-5">¶</a>
</div>
</section>
</div>
</section>
<section id="section-4.2">
        <h3 id="name-responses">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-responses">Responses</a>
        </h3>
<p id="section-4.2-1">The following responses may be sent by the server.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<div id="QUOTA">
<section id="section-4.2.1">
          <h4 id="name-quota">
<a class="section-number selfRef" href="#section-4.2.1">4.2.1. </a><a class="section-name selfRef" href="#name-quota">QUOTA</a>
          </h4>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.2.1-1.1">
              <p id="section-4.2.1-1.1.1">Data: quota root name<a class="pilcrow" href="#section-4.2.1-1.1.1">¶</a></p>
<p id="section-4.2.1-1.1.2">list of resource names, usages, and limits<a class="pilcrow" href="#section-4.2.1-1.1.2">¶</a></p>
</li>
          </ul>
<p id="section-4.2.1-2">This response occurs as a result of a GETQUOTA, GETQUOTAROOT,
          or SETQUOTA command.  The first string is the name of the quota
          root for which this quota applies.<a class="pilcrow" href="#section-4.2.1-2">¶</a></p>
<p id="section-4.2.1-3">The name is followed by an S-expression format list of the
          resource usage and limits of the quota root.  The list contains zero
          or more triplets.  Each triplet contains a resource name, the
          current usage of the resource, and the resource limit.<a class="pilcrow" href="#section-4.2.1-3">¶</a></p>
<p id="section-4.2.1-4">Resources not named in the list are not limited in the quota
          root. Thus, an empty list means there are no administrative resource
          limits in the quota root.<a class="pilcrow" href="#section-4.2.1-4">¶</a></p>
<p id="section-4.2.1-5">Example:<a class="pilcrow" href="#section-4.2.1-5">¶</a></p>
<div id="section-4.2.1-6">
<pre class="sourcecode">   S: * QUOTA "" (STORAGE 10 512)
</pre><a class="pilcrow" href="#section-4.2.1-6">¶</a>
</div>
</section>
</div>
<div id="QUOTAROOT">
<section id="section-4.2.2">
          <h4 id="name-quotaroot">
<a class="section-number selfRef" href="#section-4.2.2">4.2.2. </a><a class="section-name selfRef" href="#name-quotaroot">QUOTAROOT</a>
          </h4>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.2.2-1.1">
              <p id="section-4.2.2-1.1.1">Data: mailbox name<a class="pilcrow" href="#section-4.2.2-1.1.1">¶</a></p>
<p id="section-4.2.2-1.1.2">zero or more quota root names<a class="pilcrow" href="#section-4.2.2-1.1.2">¶</a></p>
</li>
          </ul>
<p id="section-4.2.2-2">This response occurs as a result of a GETQUOTAROOT command.  The first string is the mailbox and the remaining strings are the names of the quota roots for the mailbox.<a class="pilcrow" href="#section-4.2.2-2">¶</a></p>
<p id="section-4.2.2-3">Examples:<a class="pilcrow" href="#section-4.2.2-3">¶</a></p>
<div id="section-4.2.2-4">
<pre class="sourcecode">   S: * QUOTAROOT INBOX ""

   // The INBOX mailbox is covered by a single quota root with
   name "".

   S: * QUOTAROOT comp.mail.mime

   // The comp.mail.mime mailbox has no quota root associated
   with it, but one can be created.
</pre><a class="pilcrow" href="#section-4.2.2-4">¶</a>
</div>
</section>
</div>
</section>
<section id="section-4.3">
        <h3 id="name-response-codes">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-response-codes">Response Codes</a>
        </h3>
<div id="OVERQUOTA">
<section id="section-4.3.1">
          <h4 id="name-overquota">
<a class="section-number selfRef" href="#section-4.3.1">4.3.1. </a><a class="section-name selfRef" href="#name-overquota">OVERQUOTA</a>
          </h4>
<p id="section-4.3.1-1">The OVERQUOTA response code <span class="bcp14">SHOULD</span> be returned in
          the tagged NO response to an APPEND/COPY/MOVE when the addition of
          the message(s) puts the target mailbox over any one of its quota
          limits.<a class="pilcrow" href="#section-4.3.1-1">¶</a></p>
<p id="section-4.3.1-2">Example 1:<a class="pilcrow" href="#section-4.3.1-2">¶</a></p>
<div id="section-4.3.1-3">
<pre class="sourcecode">   C: A003 APPEND saved-messages (\Seen) {326}
   S: + Ready for literal data
   C: Date: Mon, 7 Feb 1994 21:52:25 -0800 (PST)
   C: From: Fred Foobar &lt;foobar@Blurdybloop.example&gt;
   C: Subject: afternoon meeting
   C: To: mooch@owatagu.siam.edu.example
   C: Message-Id: &lt;B27397-0100000@Blurdybloop.example&gt;
   C: MIME-Version: 1.0
   C: Content-Type: TEXT/PLAIN; CHARSET=US-ASCII
   C:
   C: Hello Joe, do you think we can meet at 3:30 tomorrow?
   C:
   S: A003 NO [OVERQUOTA] APPEND Failed
</pre><a class="pilcrow" href="#section-4.3.1-3">¶</a>
</div>
<p id="section-4.3.1-4">
          The OVERQUOTA response code <span class="bcp14">MAY</span> also be returned in
          an untagged NO response in the authenticated or the selected state
          when a mailbox exceeds soft quota.  For example, such OVERQUOTA
          response codes might be sent as a result of an external event (e.g.,
          Local Mail Transfer Protocol (LMTP) <span>[<a class="xref" href="#RFC2033">RFC2033</a>]</span> delivery or COPY/MOVE/APPEND in
          another IMAP connection) that causes the currently selected mailbox
          to exceed soft quota.

          Note that such an OVERQUOTA response code might be ambiguous because it
          might relate to the target mailbox (as specified in COPY/MOVE/APPEND)
          or to the currently selected mailbox.

   (The EXTRA WG chose not to address this deficiency
          due to syntactic limitations of IMAP response codes and because such events
          are likely to be rare.)

          This form of the OVERQUOTA response codes <span class="bcp14">MUST NOT</span> be returned if there is
          no mailbox selected and no command in progress that adds a message to
          a mailbox (e.g., APPEND).<a class="pilcrow" href="#section-4.3.1-4">¶</a></p>
<p id="section-4.3.1-5">Example 2:<a class="pilcrow" href="#section-4.3.1-5">¶</a></p>
<div id="section-4.3.1-6">
<pre class="sourcecode">   C: A003 APPEND saved-messages (\Seen) {326}
   S: + Ready for literal data
   C: Date: Mon, 7 Feb 1994 21:52:25 -0800 (PST)
   C: From: Fred Foobar &lt;foobar@Blurdybloop.example&gt;
   C: Subject: afternoon meeting
   C: To: mooch@owatagu.siam.edu.example
   C: Message-Id: &lt;B27397-0100000@Blurdybloop.example&gt;
   C: MIME-Version: 1.0
   C: Content-Type: TEXT/PLAIN; CHARSET=US-ASCII
   C:
   C: Hello Joe, do you think we can meet at 3:30 tomorrow?
   C:
   S: * NO [OVERQUOTA] Soft quota has been exceeded
   S: A003 OK [APPENDUID 38505 3955] APPEND completed
</pre><a class="pilcrow" href="#section-4.3.1-6">¶</a>
</div>
<p id="section-4.3.1-7">Example 3:<a class="pilcrow" href="#section-4.3.1-7">¶</a></p>
<div id="section-4.3.1-8">
<pre class="sourcecode">   C: A004 COPY 2:4 MEETING
   S: * NO [OVERQUOTA] Soft quota has been exceeded
   S: A004 OK [COPYUID 38505 304,319:320 3956:3958] COPY
       command completed
</pre><a class="pilcrow" href="#section-4.3.1-8">¶</a>
</div>
</section>
</div>
</section>
</section>
<section id="section-5">
      <h2 id="name-resource-type-definitions">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-resource-type-definitions">Resource Type Definitions</a>
      </h2>
<p id="section-5-1">The following resource types are defined in this memo. A server
      supporting a resource type <span class="bcp14">MUST</span> advertise this as a
      CAPABILITY with a name consisting of the resource name prefixed by
      "QUOTA=RES-". A server <span class="bcp14">MAY</span> support multiple resource
      types and <span class="bcp14">MUST</span> advertise all resource types it
      supports.<a class="pilcrow" href="#section-5-1">¶</a></p>
<div id="STORAGE">
<section id="section-5.1">
        <h3 id="name-storage">
<a class="section-number selfRef" href="#section-5.1">5.1. </a><a class="section-name selfRef" href="#name-storage">STORAGE</a>
        </h3>
<p id="section-5.1-1">"STORAGE" is the physical space estimate, in units of 1024 octets, of the
        mailboxes governed by the quota root.  This <span class="bcp14">MAY</span> not be
        the same as the sum of the RFC822.SIZE of the messages.  Some
        implementations <span class="bcp14">MAY</span> include metadata sizes for the
        messages and mailboxes, and other implementations <span class="bcp14">MAY</span> store
        messages in such a way that the physical space used is smaller, for
        example, due to use of compression.  Additional messages might not
        increase the usage. Clients <span class="bcp14">MUST NOT</span> use the usage
        figure for anything other than informational purposes; for example,
        they <span class="bcp14">MUST NOT</span> refuse to APPEND a message if the limit
        less the usage is smaller than the RFC822.SIZE divided by 1024 octets of the
        message, but it <span class="bcp14">MAY</span> warn about such condition.<a class="pilcrow" href="#section-5.1-1">¶</a></p>
<p id="section-5.1-2">The usage figure may change as a result of performing actions not
        associated with adding new messages to the mailbox, such as SEARCH,
        since this may increase the amount of metadata included in the
        calculations.<a class="pilcrow" href="#section-5.1-2">¶</a></p>
<p id="section-5.1-3">When the server supports this resource type, it <span class="bcp14">MUST</span>
        also support the DELETED-STORAGE status data item.<a class="pilcrow" href="#section-5.1-3">¶</a></p>
<p id="section-5.1-4">Support for this resource <span class="bcp14">MUST</span> be indicated by the
        server by advertising the "QUOTA=RES-STORAGE" capability.<a class="pilcrow" href="#section-5.1-4">¶</a></p>
<p id="section-5.1-5">A resource named the same was also given as an example in <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span>.  This document
        provides a more precise definition.<a class="pilcrow" href="#section-5.1-5">¶</a></p>
</section>
</div>
<div id="MESSAGE">
<section id="section-5.2">
        <h3 id="name-message">
<a class="section-number selfRef" href="#section-5.2">5.2. </a><a class="section-name selfRef" href="#name-message">MESSAGE</a>
        </h3>
<p id="section-5.2-1">"MESSAGE" is the number of messages stored within the mailboxes governed by the
        quota root. This <span class="bcp14">MUST</span> be an exact number; however,
        clients <span class="bcp14">MUST NOT</span> assume that a change in the usage
        indicates a change in the number of messages available, since the
        quota root may include mailboxes the client has no access
        to.<a class="pilcrow" href="#section-5.2-1">¶</a></p>
<p id="section-5.2-2">When the server supports this resource type, it <span class="bcp14">MUST</span>
        also support the DELETED status data item.<a class="pilcrow" href="#section-5.2-2">¶</a></p>
<p id="section-5.2-3">Support for this resource <span class="bcp14">MUST</span> be indicated by the
        server by advertising the "QUOTA=RES-MESSAGE" capability.<a class="pilcrow" href="#section-5.2-3">¶</a></p>
<p id="section-5.2-4">A resource named the same was also given as an example in <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span>.  This document
        provides a more precise definition.<a class="pilcrow" href="#section-5.2-4">¶</a></p>
</section>
</div>
<div id="MAILBOX">
<section id="section-5.3">
        <h3 id="name-mailbox">
<a class="section-number selfRef" href="#section-5.3">5.3. </a><a class="section-name selfRef" href="#name-mailbox">MAILBOX</a>
        </h3>
<p id="section-5.3-1">"MAILBOX" is the number of mailboxes governed by the quota root. This
        <span class="bcp14">MUST</span> be an exact number; however, clients <span class="bcp14">MUST NOT</span> assume that a change in the usage indicates a change in
        the number of mailboxes, since the quota root may include mailboxes
        the client has no access to.<a class="pilcrow" href="#section-5.3-1">¶</a></p>
<p id="section-5.3-2">Support for this resource <span class="bcp14">MUST</span> be indicated by the server by advertising the "QUOTA=RES-MAILBOX" capability.<a class="pilcrow" href="#section-5.3-2">¶</a></p>
</section>
</div>
<div id="ANNOTATION-STORAGE">
<section id="section-5.4">
        <h3 id="name-annotation-storage">
<a class="section-number selfRef" href="#section-5.4">5.4. </a><a class="section-name selfRef" href="#name-annotation-storage">ANNOTATION-STORAGE</a>
        </h3>
<p id="section-5.4-1">
        "ANNOTATION-STORAGE" is the maximum size of all annotations <span>[<a class="xref" href="#RFC5257">RFC5257</a>]</span>, in units of 1024 octets, associated with all messages in the mailboxes governed by the quota root.<a class="pilcrow" href="#section-5.4-1">¶</a></p>
<p id="section-5.4-2">Support for this resource <span class="bcp14">MUST</span> be indicated by the server by advertising the "QUOTA=RES-ANNOTATION-STORAGE" capability.<a class="pilcrow" href="#section-5.4-2">¶</a></p>
</section>
</div>
</section>
<section id="section-6">
      <h2 id="name-interaction-with-imap-acl-e">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-interaction-with-imap-acl-e">Interaction with IMAP ACL Extension (RFC 4314)</a>
      </h2>
<p id="section-6-1">This section lists <span>[<a class="xref" href="#RFC4314">RFC4314</a>]</span> rights
      required to execute quota-related commands when both RFC 4314 and this
      document are implemented.<a class="pilcrow" href="#section-6-1">¶</a></p>
<table class="center" id="table-1">
        <caption><a class="selfRef" href="#table-1">Table 1</a></caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Operations\Rights</th>
            <th class="text-center" colspan="1" rowspan="1">l</th>
            <th class="text-center" colspan="1" rowspan="1">r</th>
            <th class="text-center" colspan="1" rowspan="1">s</th>
            <th class="text-center" colspan="1" rowspan="1">w</th>
            <th class="text-center" colspan="1" rowspan="1">i</th>
            <th class="text-center" colspan="1" rowspan="1">c</th>
            <th class="text-center" colspan="1" rowspan="1">x</th>
            <th class="text-center" colspan="1" rowspan="1">t</th>
            <th class="text-center" colspan="1" rowspan="1">e</th>
            <th class="text-center" colspan="1" rowspan="1">a</th>
            <th class="text-center" colspan="1" rowspan="1">Any</th>
            <th class="text-center" colspan="1" rowspan="1">Non</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">GETQUOTA</td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1">+</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">GETQUOTAROOT</td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1">*</td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1">*</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">SETQUOTA</td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1">+</td>
            <td class="text-center" colspan="1" rowspan="1"></td>
            <td class="text-center" colspan="1" rowspan="1"></td>
          </tr>
        </tbody>
      </table>
<p class="keepWithPrevious" id="section-6-3">See <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4314#section-4">Section 4</a> of [<a class="xref" href="#RFC4314">RFC4314</a>]</span> for conventions used in this table.<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">Legend:<a class="pilcrow" href="#section-6-4">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-6-5">
        <dt id="section-6-5.1">"+":</dt>
        <dd id="section-6-5.2" style="margin-left: 4.0em">The right is required<a class="pilcrow" href="#section-6-5.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-5.3">"*":</dt>
        <dd id="section-6-5.4" style="margin-left: 4.0em">Only one of the rights marked with * is required<a class="pilcrow" href="#section-6-5.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-5.5">"Any":</dt>
        <dd id="section-6-5.6" style="margin-left: 4.0em">At least one of the "l", "r", "i", "k", "x", or "a" rights is required<a class="pilcrow" href="#section-6-5.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-6-5.7">"Non":</dt>
        <dd id="section-6-5.8" style="margin-left: 4.0em">No rights required to perform the command<a class="pilcrow" href="#section-6-5.8">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-6-6">
      Note that which permissions are needed in order to perform a
      GETQUOTAROOT command depends on the quota resource type being requested.
      For example, a quota on the number of messages (MESSAGE resource type) or
      total size of messages (STORAGE resource type) requires "r" right on the
      mailbox in question, since the quota involved would reveal information
      about the number (or total size) of messages in the mailbox. By
      comparison, the MAILBOX resource type doesn't require any right.<a class="pilcrow" href="#section-6-6">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-formal-syntax">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-formal-syntax">Formal Syntax</a>
      </h2>
<p id="section-7-1">The following syntax specification uses the Augmented Backus-Naur
      Form (ABNF) notation as specified in <span>[<a class="xref" href="#RFC5234">ABNF</a>]</span>.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">Non-terminals referenced but not defined below are as defined by <span><a class="xref" href="#RFC3501">IMAP4</a> [<a class="xref" href="#RFC3501">RFC3501</a>]</span> <span>[<a class="xref" href="#RFC9051">RFC9051</a>]</span>.<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">Except as noted otherwise, all alphabetic characters are
      case insensitive.  The use of uppercase or lowercase characters to define
      token strings is for editorial clarity only.  Implementations
      <span class="bcp14">MUST</span> accept these strings in a case-insensitive
      fashion.<a class="pilcrow" href="#section-7-3">¶</a></p>
<div id="section-7-4">
<pre class="lang-abnf sourcecode">getquota =         "GETQUOTA" SP quota-root-name

getquotaroot =     "GETQUOTAROOT" SP mailbox

quota-list =       "(" quota-resource *(SP quota-resource) ")"

quota-resource =   resource-name SP resource-usage SP resource-limit

quota-response =   "QUOTA" SP quota-root-name SP quota-list

quotaroot-response =  "QUOTAROOT" SP mailbox *(SP quota-root-name)

setquota =         "SETQUOTA" SP quota-root-name SP setquota-list

setquota-list =    "(" [setquota-resource *(SP setquota-resource)]
                   ")"

setquota-resource =  resource-name SP resource-limit

quota-root-name =  astring

resource-limit =   number64

resource-name =    "STORAGE" / "MESSAGE" / "MAILBOX" /
                   "ANNOTATION-STORAGE" / resource-name-ext

resource-name-ext =  atom
                   ;; Future resource registrations

resource-usage =  number64
                   ;; must be less than corresponding resource-limit

capability-quota = capa-quota-res / "QUOTASET"
                   ;; One or more capa-quota-res must be returned.
                   ;; Also "QUOTASET" can optionally be returned.

capa-quota-res =   "QUOTA=RES-" resource-name

status-att =/      "DELETED" / "DELETED-STORAGE"
                   ;; DELETED status data item MUST be supported
                   ;; when the "QUOTA=RES-MESSAGE" capability is
                   ;; advertised.
                   ;; DELETED-STORAGE status data item MUST be
                   ;; supported when the "QUOTA=RES-STORAGE"
                   ;; capability is advertised.

status-att-val =/  status-att-deleted /
                   status-att-deleted-storage

status-att-deleted =  "DELETED" SP number
                   ;; DELETED status data item MUST be supported
                   ;; when the "QUOTA=RES-MESSAGE" capability is
                   ;; advertised.

status-att-deleted-storage =  "DELETED-STORAGE" SP number64
                   ;; DELETED-STORAGE status data item MUST be
                   ;; supported when the "QUOTA=RES-STORAGE"
                   ;; capability is advertised.

resp-text-code =/  "OVERQUOTA"

number64 =         &lt;Defined in RFC 9051&gt;
</pre><a class="pilcrow" href="#section-7-4">¶</a>
</div>
</section>
<section id="section-8">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-8-1">
      Implementors should be careful to make sure the implementation of
      these commands does not violate the site's security policy. The
      resource usage of other users is likely to be considered confidential
      information and should not be divulged to unauthorized persons.
      In particular, no quota information should be disclosed to
      anonymous users.<a class="pilcrow" href="#section-8-1">¶</a></p>
<p id="section-8-2">
      As for any resource shared across users (for example, a quota root attached to a set of shared mailboxes),
      a user that can consume or render unusable the resource can affect the resources available
      to the other users; this might occur, for example, by a user with permission to
      execute the SETQUOTA setting, which sets an artificially small value.<a class="pilcrow" href="#section-8-2">¶</a></p>
<p id="section-8-3">
      Note that computing resource usage might incur a heavy load on the server.
      Server implementers should consider implementation techniques that
      lower the load on servers such as caching of resource usage information
      or usage of less precise computations when under heavy load.<a class="pilcrow" href="#section-8-3">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<div id="changes-to-imap">
<section id="section-9.1">
        <h3 id="name-changes-additions-to-the-im">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-changes-additions-to-the-im">Changes/Additions to the IMAP Capabilities Registry</a>
        </h3>
<p id="section-9.1-1">
 IMAP4 capabilities are registered by publishing a Standards Track or
 an IESG-approved Informational or Experimental RFC.  The "IMAP Capabilities" registry is
 currently located at <span>&lt;<a href="https://www.iana.org/assignments/imap4-capabilities">https://www.iana.org/assignments/imap4-capabilities</a>&gt;</span>.<a class="pilcrow" href="#section-9.1-1">¶</a></p>
<p id="section-9.1-2">IANA has updated the reference for the QUOTA extension to point
to this document.




IANA has also added the "QUOTA=" prefix and the "QUOTASET" capability to
the "IMAP Capabilities" registry with this document as the reference.<a class="pilcrow" href="#section-9.1-2">¶</a></p>
<p id="section-9.1-3">
 IANA has added the following notes to the "IMAP Capabilities"
   registry:<a class="pilcrow" href="#section-9.1-3">¶</a></p>
<p id="section-9.1-4">
The prefix "QUOTA=RES-" is reserved per RFC 9208, <a class="xref" href="#changes-to-imap">Section 9.1</a>. See <a class="xref" href="#iana-quota-res-types">Section 9.2</a> of that document for values that follow this prefix.<a class="pilcrow" href="#section-9.1-4">¶</a></p>
<p id="section-9.1-5">

   All other capabilities starting with the "QUOTA=" prefix are reserved
      for future IETF Stream extensions to RFC 9208.<a class="pilcrow" href="#section-9.1-5">¶</a></p>
</section>
</div>
<div id="iana-quota-res-types">
<section id="section-9.2">
        <h3 id="name-imap-quota-resource-type-re">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-imap-quota-resource-type-re">IMAP Quota Resource Type Registry</a>
        </h3>
<p id="section-9.2-1">IANA has created a new registry for IMAP quota resource
        types. The registration policy for the "IMAP Quota Resource Types" registry is "Specification Required" <span>[<a class="xref" href="#RFC8126">RFC8126</a>]</span>.<a class="pilcrow" href="#section-9.2-1">¶</a></p>
<p id="section-9.2-2">When registering a new quota resource type, the registrant needs to provide the following:<a class="pilcrow" href="#section-9.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.2-3.1"> the name of the quota resource type<a class="pilcrow" href="#section-9.2-3.1">¶</a>
</li>
          <li class="normal" id="section-9.2-3.2">a short description<a class="pilcrow" href="#section-9.2-3.2">¶</a>
</li>
          <li class="normal" id="section-9.2-3.3">extra required IMAP commands/responses (if any)<a class="pilcrow" href="#section-9.2-3.3">¶</a>
</li>
          <li class="normal" id="section-9.2-3.4">extra optional IMAP commands/responses (if any)<a class="pilcrow" href="#section-9.2-3.4">¶</a>
</li>
          <li class="normal" id="section-9.2-3.5">name and email address of author<a class="pilcrow" href="#section-9.2-3.5">¶</a>
</li>
          <li class="normal" id="section-9.2-3.6">name and email address of change controller<a class="pilcrow" href="#section-9.2-3.6">¶</a>
</li>
          <li class="normal" id="section-9.2-3.7">a reference to a specification that describes the quota resource type in more detail<a class="pilcrow" href="#section-9.2-3.7">¶</a>
</li>
        </ul>
<p id="section-9.2-4">Designated experts should check that the provided references are
        correct, the references describe the quota resource type being registered
        in sufficient detail to be implementable, the syntax of any optional
        commands/responses is correct (e.g., ABNF validates), and the
        syntax/description complies with rules and limitations imposed by IMAP
        <span>[<a class="xref" href="#RFC3501">RFC3501</a>]</span> <span>[<a class="xref" href="#RFC9051">RFC9051</a>]</span>.  Designated experts should avoid registering
        multiple identical quota resource types under different names and
        should provide advice to requestors about other possible quota
        resource types to use.<a class="pilcrow" href="#section-9.2-4">¶</a></p>
<p id="section-9.2-5">
     The initial contents of the "IMAP Quota Resource Types" registry are as follows:<a class="pilcrow" href="#section-9.2-5">¶</a></p>
<span id="name-storage-2"></span><table class="left" id="table-2">
          <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-storage-2">STORAGE</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">field name
      </th>
              <th class="text-left" colspan="1" rowspan="1">field value
      </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Name of the quota resource type:

      </td>
              <td class="text-left" colspan="1" rowspan="1">STORAGE
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Description:
      </td>
              <td class="text-left" colspan="1" rowspan="1">The physical space estimate, in units of 1024 octets, of the mailboxes governed by the quota root.
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Extra required IMAP commands/responses:
      </td>
              <td class="text-left" colspan="1" rowspan="1">DELETED-STORAGE STATUS request data item and response data item
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Extra optional IMAP commands/responses:
      </td>
              <td class="text-left" colspan="1" rowspan="1">N/A
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Author:
      </td>
              <td class="text-left" colspan="1" rowspan="1">Alexey Melnikov &lt;alexey.melnikov@isode.com&gt;
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Change Controller:
      </td>
              <td class="text-left" colspan="1" rowspan="1">IESG &lt;iesg@ietf.org&gt;
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Reference:
      </td>
              <td class="text-left" colspan="1" rowspan="1">Section 5.1 of RFC 9208
     </td>
            </tr>
          </tbody>
        </table>
<span id="name-message-2"></span><table class="left" id="table-3">
          <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-message-2">MESSAGE</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">field name
      </th>
              <th class="text-left" colspan="1" rowspan="1">field value
      </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Name of the quota resource type:
      </td>
              <td class="text-left" colspan="1" rowspan="1">MESSAGE
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Description:
      </td>
              <td class="text-left" colspan="1" rowspan="1">The number of messages stored within the mailboxes governed by the quota root.
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Extra required IMAP commands/responses:
      </td>
              <td class="text-left" colspan="1" rowspan="1">DELETED STATUS request data item and response data item
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Extra optional IMAP commands/responses:
      </td>
              <td class="text-left" colspan="1" rowspan="1">N/A
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Author:
      </td>
              <td class="text-left" colspan="1" rowspan="1">Alexey Melnikov &lt;alexey.melnikov@isode.com&gt;
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Change Controller:
      </td>
              <td class="text-left" colspan="1" rowspan="1">IESG &lt;iesg@ietf.org&gt;
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Reference:
      </td>
              <td class="text-left" colspan="1" rowspan="1">Section 5.2 of RFC 9208
     </td>
            </tr>
          </tbody>
        </table>
<span id="name-mailbox-2"></span><table class="left" id="table-4">
          <caption>
<a class="selfRef" href="#table-4">Table 4</a>:
<a class="selfRef" href="#name-mailbox-2">MAILBOX</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">field name
      </th>
              <th class="text-left" colspan="1" rowspan="1">field value
      </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Name of the quota resource type:
      </td>
              <td class="text-left" colspan="1" rowspan="1">MAILBOX
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Description:
      </td>
              <td class="text-left" colspan="1" rowspan="1">The number of mailboxes governed by the quota root.
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Extra required IMAP commands/responses:
      </td>
              <td class="text-left" colspan="1" rowspan="1">N/A
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Extra optional IMAP commands/responses:
      </td>
              <td class="text-left" colspan="1" rowspan="1">N/A
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Author:
      </td>
              <td class="text-left" colspan="1" rowspan="1">Alexey Melnikov &lt;alexey.melnikov@isode.com&gt;
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Change Controller:
      </td>
              <td class="text-left" colspan="1" rowspan="1">IESG &lt;iesg@ietf.org&gt;
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Reference:
      </td>
              <td class="text-left" colspan="1" rowspan="1">Section 5.3 of RFC 9208
     </td>
            </tr>
          </tbody>
        </table>
<span id="name-annotation-storage-2"></span><table class="left" id="table-5">
          <caption>
<a class="selfRef" href="#table-5">Table 5</a>:
<a class="selfRef" href="#name-annotation-storage-2">ANNOTATION-STORAGE</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">field name
      </th>
              <th class="text-left" colspan="1" rowspan="1">field value
      </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Name of the quota resource type:
      </td>
              <td class="text-left" colspan="1" rowspan="1">ANNOTATION-STORAGE
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Description:
      </td>
              <td class="text-left" colspan="1" rowspan="1">The maximum size of all annotations [RFC5257], in units of 1024 octets, associated with all messages in the mailboxes governed by the quota root.
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Extra required IMAP commands/responses:
      </td>
              <td class="text-left" colspan="1" rowspan="1">N/A
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Extra optional IMAP commands/responses:
      </td>
              <td class="text-left" colspan="1" rowspan="1">N/A
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Author:
      </td>
              <td class="text-left" colspan="1" rowspan="1">Alexey Melnikov &lt;alexey.melnikov@isode.com&gt;
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Change Controller:
      </td>
              <td class="text-left" colspan="1" rowspan="1">IESG &lt;iesg@ietf.org&gt;
     </td>
            </tr>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">Reference:
      </td>
              <td class="text-left" colspan="1" rowspan="1">Section 5.4 of RFC 9208
     </td>
            </tr>
          </tbody>
        </table>
</section>
</div>
</section>
<div id="changes-since">
<section id="section-10">
      <h2 id="name-changes-since-rfc-2087">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-changes-since-rfc-2087">Changes Since RFC 2087</a>
      </h2>
<p id="section-10-1">
 This document is a revision of <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span>, and it aims to clarify the
 meaning of different terms that were used in that RFC. It also provides more
 examples, gives guidance on allowed server behavior, defines an IANA
 registry for quota resource types, and provides initial registrations
 for 4 of them.<a class="pilcrow" href="#section-10-1">¶</a></p>
<p id="section-10-2">
 When compared with <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span>, this document defines two more commonly
 used resource types, adds an optional OVERQUOTA response code, and
 defines two extra STATUS data items ("DELETED" and "DELETED-STORAGE").
 The DELETED STATUS data item must be implemented if the
 "QUOTA=RES-MESSAGE" capability is advertised. The DELETED-STORAGE STATUS
 data item must be implemented if the "QUOTA=RES-STORAGE" capability is
 advertised.  For extensibility, quota usage and quota limits are now
 63-bit unsigned integers.<a class="pilcrow" href="#section-10-2">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-11.1">11.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC5234">[ABNF]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time class="refDate" datetime="2008-01">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3501">[RFC3501]</dt>
        <dd>
<span class="refAuthor">Crispin, M.</span>, <span class="refTitle">"INTERNET MESSAGE ACCESS PROTOCOL - VERSION 4rev1"</span>, <span class="seriesInfo">RFC 3501</span>, <span class="seriesInfo">DOI 10.17487/RFC3501</span>, <time class="refDate" datetime="2003-03">March 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3501">https://www.rfc-editor.org/info/rfc3501</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4314">[RFC4314]</dt>
        <dd>
<span class="refAuthor">Melnikov, A.</span>, <span class="refTitle">"IMAP4 Access Control List (ACL) Extension"</span>, <span class="seriesInfo">RFC 4314</span>, <span class="seriesInfo">DOI 10.17487/RFC4314</span>, <time class="refDate" datetime="2005-12">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4314">https://www.rfc-editor.org/info/rfc4314</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5257">[RFC5257]</dt>
        <dd>
<span class="refAuthor">Daboo, C.</span> and <span class="refAuthor">R. Gellens</span>, <span class="refTitle">"Internet Message Access Protocol - ANNOTATE Extension"</span>, <span class="seriesInfo">RFC 5257</span>, <span class="seriesInfo">DOI 10.17487/RFC5257</span>, <time class="refDate" datetime="2008-06">June 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5257">https://www.rfc-editor.org/info/rfc5257</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9051">[RFC9051]</dt>
      <dd>
<span class="refAuthor">Melnikov, A., Ed.</span> and <span class="refAuthor">B. Leiba, Ed.</span>, <span class="refTitle">"Internet Message Access Protocol (IMAP) - Version 4rev2"</span>, <span class="seriesInfo">RFC 9051</span>, <span class="seriesInfo">DOI 10.17487/RFC9051</span>, <time class="refDate" datetime="2021-08">August 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9051">https://www.rfc-editor.org/info/rfc9051</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-11.2">11.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC2033">[RFC2033]</dt>
        <dd>
<span class="refAuthor">Myers, J.</span>, <span class="refTitle">"Local Mail Transfer Protocol"</span>, <span class="seriesInfo">RFC 2033</span>, <span class="seriesInfo">DOI 10.17487/RFC2033</span>, <time class="refDate" datetime="1996-10">October 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2033">https://www.rfc-editor.org/info/rfc2033</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2087">[RFC2087]</dt>
        <dd>
<span class="refAuthor">Myers, J.</span>, <span class="refTitle">"IMAP4 QUOTA extension"</span>, <span class="seriesInfo">RFC 2087</span>, <span class="seriesInfo">DOI 10.17487/RFC2087</span>, <time class="refDate" datetime="1997-01">January 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2087">https://www.rfc-editor.org/info/rfc2087</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
      <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time class="refDate" datetime="2017-06">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">
 The editor of this document would like to thank the following people
 who provided useful comments or participated in discussions that lead
 to this update of <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span>: <span class="contact-name">John Myers</span>, <span class="contact-name">Cyrus Daboo</span>, <span class="contact-name">Lyndon Nerenberg</span>,
 <span class="contact-name">Benjamin Kaduk</span>, <span class="contact-name">Roman  Danyliw</span>, and <span class="contact-name">Éric Vyncke</span>.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">This document is a revision of <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span>, and it borrows a lot of text
      from that RFC. Thus, the work of <span class="contact-name">John       Myers</span>, the author of <span>[<a class="xref" href="#RFC2087">RFC2087</a>]</span>, is appreciated.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
</section>
<section id="appendix-B">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<p id="appendix-B-1">
        <span class="contact-name">Dave Cridland</span> wrote a lot of text in an earlier
        draft version that became the basis for this document.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-address">
<a class="section-name selfRef" href="#name-authors-address">Author's Address</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Alexey Melnikov</span></div>
<div class="left" dir="auto"><span class="org">Isode Limited</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:alexey.melnikov@isode.com">alexey.melnikov@isode.com</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="https://www.isode.com">https://www.isode.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>