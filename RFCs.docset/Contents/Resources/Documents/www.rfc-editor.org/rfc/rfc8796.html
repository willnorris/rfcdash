<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8796: RSVP-TE Summary Fast Reroute Extensions for Label Switched Path (LSP) Tunnels</title>
<meta content="Mike Taillon" name="author"/>
<meta content="Tarek Saad" name="author"/>
<meta content="Rakesh Gandhi" name="author"/>
<meta content="Abhishek Deshmukh" name="author"/>
<meta content="Markus Jork" name="author"/>
<meta content="Vishnu Pavan Beeram" name="author"/>
<meta content="
       This document updates RFC 4090 for the Resource Reservation Protocol (RSVP)
Traffic Engineering (TE) procedures defined for facility
backup protection. The updates include extensions that reduce the amount of
signaling and processing that occurs during Fast Reroute (FRR); as a result,
scalability when undergoing FRR convergence after a link or node failure is
improved. These extensions allow the RSVP message exchange between the
Point of Local Repair (PLR) and the Merge Point (MP) nodes to be independent of the
number of protected Label Switched Paths (LSPs) traversing between them when
facility bypass FRR protection is used. The signaling extensions are fully
backwards compatible with nodes that do not support them. 
    " name="description"/>
<meta content="xml2rfc 2.46.0" name="generator"/>
<meta content="8796" name="rfc.number"/>
<link href="rfc8796.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code {
  background-color: #f9f9f9;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8796" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-mpls-summary-frr-rsvpte-09" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8796</td>
<td class="center">RSVP-TE Summary FRR</td>
<td class="right">July 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Taillon, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8796">8796</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc4090">4090</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2020-07">July 2020</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Taillon</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">T. Saad, <span class="editor">Ed.</span>
</div>
<div class="org">Juniper Networks</div>
</div>
<div class="author">
      <div class="author-name">R. Gandhi</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">A. Deshmukh</div>
<div class="org">Juniper Networks</div>
</div>
<div class="author">
      <div class="author-name">M. Jork</div>
<div class="org">128 Technology</div>
</div>
<div class="author">
      <div class="author-name">V. Beeram</div>
<div class="org">Juniper Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8796</h1>
<h1 id="title">RSVP-TE Summary Fast Reroute Extensions for Label Switched Path (LSP) Tunnels</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document updates RFC 4090 for the Resource Reservation Protocol (RSVP)
Traffic Engineering (TE) procedures defined for facility
backup protection. The updates include extensions that reduce the amount of
signaling and processing that occurs during Fast Reroute (FRR); as a result,
scalability when undergoing FRR convergence after a link or node failure is
improved. These extensions allow the RSVP message exchange between the
Point of Local Repair (PLR) and the Merge Point (MP) nodes to be independent of the
number of protected Label Switched Paths (LSPs) traversing between them when
facility bypass FRR protection is used. The signaling extensions are fully
backwards compatible with nodes that do not support them.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8796">https://www.rfc-editor.org/info/rfc8796</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-conventions-used-in-this-do">Conventions Used in This Document</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.2.2.1">
                <p class="keepWithNext" id="section-toc.1-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-toc.1-1.2.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.2">
                <p class="keepWithNext" id="section-toc.1-1.2.2.2.1"><a class="xref" href="#section-2.2">2.2</a>.  <a class="xref" href="#name-acronyms-and-abbreviations">Acronyms and Abbreviations</a><a class="pilcrow" href="#section-toc.1-1.2.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-extensions-for-summary-frr-">Extensions for Summary FRR Signaling</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-b-sfrr-ready-extended-assoc">B-SFRR-Ready Extended ASSOCIATION Object</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a class="xref" href="#section-3.1.1">3.1.1</a>.  <a class="xref" href="#name-ipv4-b-sfrr-ready-extended-">IPv4 B-SFRR-Ready Extended Association ID</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a class="xref" href="#section-3.1.2">3.1.2</a>.  <a class="xref" href="#name-ipv6-b-sfrr-ready-extended-">IPv6 B-SFRR-Ready Extended Association ID</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.2.2.1">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.1.2.3">
                    <p id="section-toc.1-1.3.2.1.2.3.1"><a class="xref" href="#section-3.1.3">3.1.3</a>.  <a class="xref" href="#name-processing-rules-for-b-sfrr">Processing Rules for B-SFRR-Ready Extended ASSOCIATION Object</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.2.3.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-b-sfrr-active-extended-asso">B-SFRR-Active Extended ASSOCIATION Object</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a class="xref" href="#section-3.2.1">3.2.1</a>.  <a class="xref" href="#name-ipv4-b-sfrr-active-extended">IPv4 B-SFRR-Active Extended Association ID</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a class="xref" href="#section-3.2.2">3.2.2</a>.  <a class="xref" href="#name-ipv6-b-sfrr-active-extended">IPv6 B-SFRR-Active Extended Association ID</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-signaling-procedures-prior-">Signaling Procedures prior to Failure</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a class="xref" href="#section-3.3.1">3.3.1</a>.  <a class="xref" href="#name-plr-signaling-procedure">PLR Signaling Procedure</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.3.2.2">
                    <p id="section-toc.1-1.3.2.3.2.2.1"><a class="xref" href="#section-3.3.2">3.3.2</a>.  <a class="xref" href="#name-mp-signaling-procedure">MP Signaling Procedure</a><a class="pilcrow" href="#section-toc.1-1.3.2.3.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="xref" href="#section-3.4">3.4</a>.  <a class="xref" href="#name-signaling-procedures-post-f">Signaling Procedures Post-Failure</a><a class="pilcrow" href="#section-toc.1-1.3.2.4.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a class="xref" href="#section-3.4.1">3.4.1</a>.  <a class="xref" href="#name-plr-signaling-procedure-2">PLR Signaling Procedure</a><a class="pilcrow" href="#section-toc.1-1.3.2.4.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.4.2.2">
                    <p id="section-toc.1-1.3.2.4.2.2.1"><a class="xref" href="#section-3.4.2">3.4.2</a>.  <a class="xref" href="#name-mp-signaling-procedure-2">MP Signaling Procedure</a><a class="pilcrow" href="#section-toc.1-1.3.2.4.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a class="xref" href="#section-3.5">3.5</a>.  <a class="xref" href="#name-refreshing-summary-frr-acti">Refreshing Summary FRR Active LSPs</a><a class="pilcrow" href="#section-toc.1-1.3.2.5.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-backwards-compatibility">Backwards Compatibility</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.7.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.7.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgments">Acknowledgments</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-contributors">Contributors</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The Fast Reroute (FRR) procedures defined in <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span> describe the
mechanisms for the Point of Local Repair (PLR) to reroute traffic and signaling
of a protected RSVP-TE Label Switched Path (LSP) onto the bypass tunnel in the
event of a TE link or node failure. Such signaling procedures are performed
individually for each affected protected LSP. This may eventually lead to
control-plane scalability and latency issues on the PLR and/or the Merge Point
(MP) nodes due to limited memory and CPU processing resources. This condition
is exacerbated when the failure affects a large number of protected LSPs that
traverse the same PLR and MP nodes.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">For example, in a large-scale deployment of RSVP-TE LSPs, a single Label
 Switching Router (LSR) acting as a PLR node may host tens of thousands of protected
RSVP-TE LSPs egressing the same protected link and also act as an MP node for
a similar number of LSPs that ingress on the same link. In the event of the
failure of the link or neighbor node, the RSVP-TE control plane of the node
(when acting as a PLR node) becomes busy rerouting protected LSPs over the
bypass tunnel(s) in one direction and (when acting as an MP node) becomes busy
merging RSVP states from signaling received over bypass tunnels for one or
more LSPs in
the reverse direction. Subsequently, the head-end Label Edge Routers (LERs)
that are notified of the local repair at any downstream LSRs will attempt to
(re)converge the affected RSVP-TE LSPs onto newly computed paths -- possibly
traversing the same previously affected LSR(s). As a result, the RSVP-TE
control plane becomes overwhelmed (1) by the amount of FRR RSVP-TE processing
overhead following the link or node failure and (2) due to other control-plane
protocols (e.g., IGP) that undergo convergence on the same node at the
same time.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">Today, each protected RSVP-TE LSP is signaled individually over the bypass
tunnel after FRR. The changes introduced in this document allow the PLR node to
assign multiple protected LSPs to a bypass tunnel group and to communicate this
assignment to the MP, such that upon failure, the signaling over the bypass
tunnel happens on one or more bypass tunnel groups. This document defines new
extensions that<a class="pilcrow" href="#section-1-3">¶</a></p>
<ol class="normal type-1" id="section-1-4" start="1" type="1">
        <li id="section-1-4.1">update the procedures defined in <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span> for facility backup
protection, to enable the MP node to become aware of the PLR node's bypass
tunnel assignment group or groups.<a class="pilcrow" href="#section-1-4.1">¶</a>
</li>
        <li id="section-1-4.2">allow FRR procedures between the PLR and
the MP nodes to be signaled and processed on one or more per-bypass tunnel
groups.<a class="pilcrow" href="#section-1-4.2">¶</a>
</li>
      </ol>
<p id="section-1-5">As defined in <span>[<a class="xref" href="#RFC2961">RFC2961</a>]</span>, summary refresh procedures use MESSAGE_ID to
refresh the RSVP Path and Resv states to help with scaling.  The Summary FRR
procedures introduced in this document build on those concepts to allow the
MESSAGE_ID(s) to be exchanged on one or more per-bypass tunnel assignment groups and
continue to
use summary refresh procedures while reducing the amount of messaging that occurs
after rerouting signaling over the bypass tunnel post-FRR.<a class="pilcrow" href="#section-1-5">¶</a></p>
</section>
</div>
<div id="conventions-used-in-this-document">
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-conventions-used-in-this-do">Conventions Used in This Document</a>
      </h2>
<div id="terminology">
<section id="section-2.1">
        <h3 id="name-terminology">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
        </h3>
<p id="section-2.1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
       "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>",
       "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>",
       "<span class="bcp14">SHOULD NOT</span>",
       "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
       "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document
       are to be interpreted as described in BCP 14
       <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only
       when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-2.1-1">¶</a></p>
</section>
</div>
<div id="acronyms-and-abbreviations">
<section id="section-2.2">
        <h3 id="name-acronyms-and-abbreviations">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-acronyms-and-abbreviations">Acronyms and Abbreviations</a>
        </h3>
<p id="section-2.2-1">It is assumed that the reader is familiar with the terms and abbreviations used in
<span>[<a class="xref" href="#RFC3209">RFC3209</a>]</span> and <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span>.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<p id="section-2.2-2">The following abbreviations are also used in this document:<a class="pilcrow" href="#section-2.2-2">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2.2-3">
          <dt id="section-2.2-3.1">LSR:</dt>
          <dd id="section-2.2-3.2">Label Switching Router<a class="pilcrow" href="#section-2.2-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.3">LER:</dt>
          <dd id="section-2.2-3.4">Label Edge Router<a class="pilcrow" href="#section-2.2-3.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.5">MPLS:</dt>
          <dd id="section-2.2-3.6">Multiprotocol Label Switching<a class="pilcrow" href="#section-2.2-3.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.7">LSP:</dt>
          <dd id="section-2.2-3.8">Label Switched Path<a class="pilcrow" href="#section-2.2-3.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.9">MP:</dt>
          <dd id="section-2.2-3.10">Merge Point node as defined in <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span><a class="pilcrow" href="#section-2.2-3.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.11">PLR:</dt>
          <dd id="section-2.2-3.12">Point of Local Repair node as defined in <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span><a class="pilcrow" href="#section-2.2-3.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.13">FRR:</dt>
          <dd id="section-2.2-3.14">Fast Reroute as defined in <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span><a class="pilcrow" href="#section-2.2-3.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.15">B-SFRR-Ready:</dt>
          <dd id="section-2.2-3.16">Bypass Summary FRR Ready Extended ASSOCIATION object. Added
by the PLR node for each LSP protected by the bypass tunnel<a class="pilcrow" href="#section-2.2-3.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.17">B-SFRR-Active:</dt>
          <dd id="section-2.2-3.18">Bypass Summary FRR Active Extended ASSOCIATION
object.  Used to notify the MP node that one or more groups of
protected LSPs have been rerouted over the associated bypass tunnel<a class="pilcrow" href="#section-2.2-3.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-3.19">MTU:</dt>
          <dd id="section-2.2-3.20">Maximum Transmission Unit<a class="pilcrow" href="#section-2.2-3.20">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="extensions-for-summary-frr-signaling">
<section id="section-3">
      <h2 id="name-extensions-for-summary-frr-">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-extensions-for-summary-frr-">Extensions for Summary FRR Signaling</a>
      </h2>
<p id="section-3-1">The RSVP ASSOCIATION object is defined in <span>[<a class="xref" href="#RFC4872">RFC4872</a>]</span> as a means to associate
LSPs with each other. For example, in the context of one or more GMPLS-controlled LSPs,
the ASSOCIATION object is used to associate a recovery LSP with the LSP(s) it
is protecting.  The Extended ASSOCIATION object is introduced in <span>[<a class="xref" href="#RFC6780">RFC6780</a>]</span>
to expand on the possible usage of the ASSOCIATION object and generalize the
definition of the Extended Association ID field.<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">This document defines the use of the Extended ASSOCIATION object to carry the
Summary FRR information and associate the protected LSP or LSPs with the bypass
tunnel that protects them. Two new Association Types for the Extended
ASSOCIATION object, and new Extended Association IDs, are defined in this
document to describe the Bypass Summary FRR Ready (B-SFRR-Ready) and Bypass
Summary FRR Active (B‑SFRR-Active) associations.<a class="pilcrow" href="#section-3-2">¶</a></p>
<p id="section-3-3">The PLR node creates and manages the Summary FRR LSP groups (identified by
Bypass_Group_Identifiers) and shares the group identifiers with the MP via
signaling.<a class="pilcrow" href="#section-3-3">¶</a></p>
<p id="section-3-4">A PLR node <span class="bcp14">SHOULD</span> assign the same Bypass_Group_Identifier to all
protected LSPs provided that the protected LSPs:<a class="pilcrow" href="#section-3-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-5.1">share the same outgoing protected interface,<a class="pilcrow" href="#section-3-5.1">¶</a>
</li>
        <li class="normal" id="section-3-5.2">are protected by the same bypass tunnel, and<a class="pilcrow" href="#section-3-5.2">¶</a>
</li>
        <li class="normal" id="section-3-5.3">are assigned the same tunnel sender address that is used for
backup path identification after FRR as described in <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span>.<a class="pilcrow" href="#section-3-5.3">¶</a>
</li>
      </ul>
<p id="section-3-6">This minimizes the number of bypass tunnel Summary FRR groups and optimizes the
amount of signaling that occurs between the PLR and the MP nodes after FRR.<a class="pilcrow" href="#section-3-6">¶</a></p>
<p id="section-3-7">A PLR node that supports Summary FRR procedures adds an Extended ASSOCIATION
object with a B-SFRR-Ready Extended Association ID in the RSVP Path message of
the protected LSP. The PLR node adds the protected LSP Bypass_Group_Identifier,
information from the assigned bypass tunnel, and a MESSAGE_ID object into the
B-SFRR-Ready Extended Association ID.  The MP uses the information contained in
the received B-SFRR-Ready Extended Association ID to refresh and merge the
protected LSP Path state after FRR occurs.<a class="pilcrow" href="#section-3-7">¶</a></p>
<p id="section-3-8">An MP node that supports Summary FRR procedures adds the B-SFRR-Ready Extended
ASSOCIATION object and respective Extended Association ID in the RSVP Resv
message of the protected LSP to acknowledge the PLR's bypass tunnel assignment
and provide the MESSAGE_ID object that the MP node will use to refresh the
protected LSP Resv state after FRR occurs.<a class="pilcrow" href="#section-3-8">¶</a></p>
<p id="section-3-9">The MP maintains the PLR node group assignments learned from signaling and
acknowledges the group assignments to the PLR node via signaling. Once the PLR
node receives the group assignment acknowledgment from the MP, the FRR
signaling can proceed based on Summary FRR procedures as described in this
document.<a class="pilcrow" href="#section-3-9">¶</a></p>
<p id="section-3-10">The B-SFRR-Active Extended ASSOCIATION object with Extended Association ID is
sent by the PLR node after activating the Summary FRR procedures. The
B-SFRR-Active Extended ASSOCIATION object with Extended Association ID is sent
within the RSVP Path message of the bypass tunnel to inform the MP node that
one or more groups of protected LSPs protected by the bypass tunnel are now
being rerouted over the bypass tunnel.<a class="pilcrow" href="#section-3-10">¶</a></p>
<div id="sfrr-bypass-ready">
<section id="section-3.1">
        <h3 id="name-b-sfrr-ready-extended-assoc">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-b-sfrr-ready-extended-assoc">B-SFRR-Ready Extended ASSOCIATION Object</a>
        </h3>
<p id="section-3.1-1">The Extended ASSOCIATION object is populated using the rules defined below to
associate a protected LSP with the bypass tunnel that is protecting it when
Summary FRR procedures are enabled.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">The Association Type, Association ID, and Association Source <span class="bcp14">MUST</span> be set as
defined in <span>[<a class="xref" href="#RFC4872">RFC4872</a>]</span> for the ASSOCIATION
        object. More specifically:<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3.1-3">
          <dt id="section-3.1-3.1">Association Source:</dt>
          <dd id="section-3.1-3.2">The Association Source is set to an address of the PLR node.<a class="pilcrow" href="#section-3.1-3.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-3.3">Association Type:</dt>
          <dd id="section-3.1-3.4">A new Association Type is defined for B-SFRR-Ready as
        follows:<a class="pilcrow" href="#section-3.1-3.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-the-b-sfrr-ready-associatio"></span><div id="tab-1">
<table class="center" id="table-1">
          <caption>
<a class="selfRef" href="#table-1">Table 1</a>:
<a class="selfRef" href="#name-the-b-sfrr-ready-associatio">The B-SFRR-Ready Association Type</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">5</td>
              <td class="text-left" colspan="1" rowspan="1">Bypass Summary FRR Ready Association (B-SFRR-Ready)</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-3.1-5">The Extended ASSOCIATION object's Global Association Source <span class="bcp14">MUST</span> be set
according to the rules defined in <span>[<a class="xref" href="#RFC6780">RFC6780</a>]</span>.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
<p id="section-3.1-6">The B-SFRR-Ready Extended Association ID is populated by the PLR node when
performing Bypass Summary FRR Ready association for a protected LSP.  The rules
governing its population are described in the subsequent sections.<a class="pilcrow" href="#section-3.1-6">¶</a></p>
<div id="ipv4-b-sfrr-ready-extended-association-id">
<section id="section-3.1.1">
          <h4 id="name-ipv4-b-sfrr-ready-extended-">
<a class="section-number selfRef" href="#section-3.1.1">3.1.1. </a><a class="section-name selfRef" href="#name-ipv4-b-sfrr-ready-extended-">IPv4 B-SFRR-Ready Extended Association ID</a>
          </h4>
<p id="section-3.1.1-1">The IPv4 Extended Association ID for the B-SFRR-Ready Association
Type is carried inside the IPv4 Extended ASSOCIATION object and has
the following format:<a class="pilcrow" href="#section-3.1.1-1">¶</a></p>
<span id="name-the-ipv4-extended-associati"></span><div id="fig_IPv4_Extended_Association_ID">
<figure id="figure-1">
            <div class="artwork art-text alignLeft" id="section-3.1.1-2.1">
<pre>    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         Bypass_Tunnel_ID      |           Reserved            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Bypass_Source_IPv4_Address                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Bypass_Destination_IPv4_Address                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Bypass_Group_Identifier                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                MESSAGE_ID                                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-the-ipv4-extended-associati">The IPv4 Extended Association ID for B-SFRR-Ready</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.1.1-3">
            <dt id="section-3.1.1-3.1">Bypass_Tunnel_ID:</dt>
            <dd id="section-3.1.1-3.2">
              <p id="section-3.1.1-3.2.1">16 bits<a class="pilcrow" href="#section-3.1.1-3.2.1">¶</a></p>
<p id="section-3.1.1-3.2.2">The bypass tunnel identifier.<a class="pilcrow" href="#section-3.1.1-3.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-3.3">Reserved:</dt>
            <dd id="section-3.1.1-3.4">
              <p id="section-3.1.1-3.4.1">16 bits<a class="pilcrow" href="#section-3.1.1-3.4.1">¶</a></p>
<p id="section-3.1.1-3.4.2">Reserved for future use. <span class="bcp14">MUST</span> be set to zero when
     sending and ignored on receipt.<a class="pilcrow" href="#section-3.1.1-3.4.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-3.5">Bypass_Source_IPv4_Address:</dt>
            <dd id="section-3.1.1-3.6">
              <p id="section-3.1.1-3.6.1">32 bits<a class="pilcrow" href="#section-3.1.1-3.6.1">¶</a></p>
<p id="section-3.1.1-3.6.2">The bypass tunnel source IPv4 address.<a class="pilcrow" href="#section-3.1.1-3.6.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-3.7">Bypass_Destination_IPv4_Address:</dt>
            <dd id="section-3.1.1-3.8">
              <p id="section-3.1.1-3.8.1">32 bits<a class="pilcrow" href="#section-3.1.1-3.8.1">¶</a></p>
<p id="section-3.1.1-3.8.2">The bypass tunnel destination IPv4 address.<a class="pilcrow" href="#section-3.1.1-3.8.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-3.9">Bypass_Group_Identifier:</dt>
            <dd id="section-3.1.1-3.10">
              <p id="section-3.1.1-3.10.1">32 bits<a class="pilcrow" href="#section-3.1.1-3.10.1">¶</a></p>
<p id="section-3.1.1-3.10.2">The bypass tunnel group identifier that is assigned to the
       LSP.<a class="pilcrow" href="#section-3.1.1-3.10.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.1-3.11">MESSAGE_ID:</dt>
            <dd id="section-3.1.1-3.12">A MESSAGE_ID object as defined by
<span>[<a class="xref" href="#RFC2961">RFC2961</a>]</span>.<a class="pilcrow" href="#section-3.1.1-3.12">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="ipv6-b-sfrr-ready-extended-association-id">
<section id="section-3.1.2">
          <h4 id="name-ipv6-b-sfrr-ready-extended-">
<a class="section-number selfRef" href="#section-3.1.2">3.1.2. </a><a class="section-name selfRef" href="#name-ipv6-b-sfrr-ready-extended-">IPv6 B-SFRR-Ready Extended Association ID</a>
          </h4>
<p id="section-3.1.2-1">The IPv6 Extended Association ID for the B-SFRR-Ready Association
Type is carried inside the IPv6 Extended ASSOCIATION object and has
the following format:<a class="pilcrow" href="#section-3.1.2-1">¶</a></p>
<span id="name-the-ipv6-extended-associati"></span><div id="fig_IPv6_Extended_Association_ID">
<figure id="figure-2">
            <div class="artwork art-text alignLeft" id="section-3.1.2-2.1">
<pre>    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |         Bypass_Tunnel_ID      |           Reserved            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |                                                               |
   +                Bypass_Source_IPv6_Address                     +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |                                                               |
   +                Bypass_Destination_IPv6_Address                +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                Bypass_Group_Identifier                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                MESSAGE_ID                                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-the-ipv6-extended-associati">The IPv6 Extended Association ID for B-SFRR-Ready</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.1.2-3">
            <dt id="section-3.1.2-3.1">Bypass_Tunnel_ID:</dt>
            <dd id="section-3.1.2-3.2">
              <p id="section-3.1.2-3.2.1">16 bits<a class="pilcrow" href="#section-3.1.2-3.2.1">¶</a></p>
<p id="section-3.1.2-3.2.2">The bypass tunnel identifier.<a class="pilcrow" href="#section-3.1.2-3.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-3.3">Reserved:</dt>
            <dd id="section-3.1.2-3.4">
              <p id="section-3.1.2-3.4.1">16 bits<a class="pilcrow" href="#section-3.1.2-3.4.1">¶</a></p>
<p id="section-3.1.2-3.4.2">Reserved for future use. <span class="bcp14">MUST</span> be set to zero when sending
        and ignored on receipt.<a class="pilcrow" href="#section-3.1.2-3.4.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-3.5">Bypass_Source_IPv6_Address:</dt>
            <dd id="section-3.1.2-3.6">
              <p id="section-3.1.2-3.6.1">128 bits<a class="pilcrow" href="#section-3.1.2-3.6.1">¶</a></p>
<p id="section-3.1.2-3.6.2">The bypass tunnel source IPv6 address.<a class="pilcrow" href="#section-3.1.2-3.6.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-3.7">Bypass_Destination_IPv6_Address:</dt>
            <dd id="section-3.1.2-3.8">
              <p id="section-3.1.2-3.8.1">128 bits<a class="pilcrow" href="#section-3.1.2-3.8.1">¶</a></p>
<p id="section-3.1.2-3.8.2">The bypass tunnel destination IPv6 address.<a class="pilcrow" href="#section-3.1.2-3.8.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-3.9">Bypass_Group_Identifier:</dt>
            <dd id="section-3.1.2-3.10">
              <p id="section-3.1.2-3.10.1">32 bits<a class="pilcrow" href="#section-3.1.2-3.10.1">¶</a></p>
<p id="section-3.1.2-3.10.2">The bypass tunnel group identifier that is assigned to the
        LSP.<a class="pilcrow" href="#section-3.1.2-3.10.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.1.2-3.11">MESSAGE_ID:</dt>
            <dd id="section-3.1.2-3.12">A MESSAGE_ID object as defined by <span>[<a class="xref" href="#RFC2961">RFC2961</a>]</span>.<a class="pilcrow" href="#section-3.1.2-3.12">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="processing-rules-for-b-sfrr-ready-extended-association-object">
<section id="section-3.1.3">
          <h4 id="name-processing-rules-for-b-sfrr">
<a class="section-number selfRef" href="#section-3.1.3">3.1.3. </a><a class="section-name selfRef" href="#name-processing-rules-for-b-sfrr">Processing Rules for B-SFRR-Ready Extended ASSOCIATION Object</a>
          </h4>
<p id="section-3.1.3-1">A PLR node assigns a bypass tunnel and Bypass_Group_Identifier for each
protected LSP. The same Bypass_Group_Identifier is used for the set of
protected LSPs that share the same bypass tunnel, traverse the same egress link,
and are not already rerouted. The PLR node <span class="bcp14">MUST</span> generate a MESSAGE_ID object
with Epoch and Message_Identifier set according to <span>[<a class="xref" href="#RFC2961">RFC2961</a>]</span>. The MESSAGE_ID
object Flags <span class="bcp14">MUST</span> be cleared when transmitted by the PLR node and ignored
when received at the MP node.<a class="pilcrow" href="#section-3.1.3-1">¶</a></p>
<p id="section-3.1.3-2">A PLR node <span class="bcp14">MUST</span> generate a new Message_Identifier each time the contents of the
B-SFRR-Ready Extended Association ID change (e.g., when the PLR node
changes the bypass tunnel assignment).<a class="pilcrow" href="#section-3.1.3-2">¶</a></p>
<p id="section-3.1.3-3">A PLR node notifies the MP node of the bypass tunnel assignment via adding a
B-SFRR-Ready Extended ASSOCIATION object and Extended Association ID in the RSVP Path
message for the protected LSP, using the procedures described in <a class="xref" href="#sig-prior-failure">Section 3.3</a>.<a class="pilcrow" href="#section-3.1.3-3">¶</a></p>
<p id="section-3.1.3-4">An MP node acknowledges the assignment to the PLR node by signaling the B-SFRR-Ready
Extended ASSOCIATION object and Extended Association ID within the RSVP Resv message of
the protected LSP. With the exception of the MESSAGE_ID object, all other
fields from the received B-SFRR-Ready Extended Association ID in the RSVP Path
message are copied into the B-SFRR-Ready Extended Association ID to be added in
the Resv message.
 The MESSAGE_ID object is set according to <span>[<a class="xref" href="#RFC2961">RFC2961</a>]</span>.
The MESSAGE_ID object Flags <span class="bcp14">MUST</span> be cleared when transmitted by the MP node and ignored
when received at the PLR node. A new Message_Identifier <span class="bcp14">MUST</span> be used to acknowledge an
updated PLR node's assignment.<a class="pilcrow" href="#section-3.1.3-4">¶</a></p>
<p id="section-3.1.3-5">A PLR node considers the protected LSP as Summary FRR capable only if all the
fields in the B-SFRR-Ready Extended Association ID that are sent in the RSVP
Path message match the fields received in the RSVP Resv message (with the exception
of the MESSAGE_ID). If the fields do not match or if the B-SFRR-Ready Extended
ASSOCIATION object is absent in a subsequent refresh, the PLR node <span class="bcp14">MUST</span>
consider the protected LSP as not Summary FRR capable.<a class="pilcrow" href="#section-3.1.3-5">¶</a></p>
<p id="section-3.1.3-6">A race condition may arise for a previously Summary FRR-capable protected LSP
when the MP node triggers a refresh that does not contain the B-SFRR-Ready
Extended ASSOCIATION object, while at the same time the PLR triggers Summary
FRR procedures due to a fault occurring concurrently. In this case, it is
possible that the PLR triggers Summary FRR procedures on the protected LSP
before it can receive and process the refresh from the MP node. As a result,
the MP will receive an Srefresh with a Message_Identifier that is not associated
with any state. As per <span>[<a class="xref" href="#RFC2961">RFC2961</a>]</span>, this results
in the MP generating an Srefresh NACK for this Message_Identifier and sending it back to the PLR. The
PLR processes the Srefresh NACK, replays the full Path state associated with
the Message_Identifier, and subsequently recovers from this condition.<a class="pilcrow" href="#section-3.1.3-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sfrr-bypass-active">
<section id="section-3.2">
        <h3 id="name-b-sfrr-active-extended-asso">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-b-sfrr-active-extended-asso">B-SFRR-Active Extended ASSOCIATION Object</a>
        </h3>
<p id="section-3.2-1">The Extended ASSOCIATION object for the B-SFRR-Active Association Type is populated
by a PLR node to indicate to the MP node (the bypass tunnel destination) that one
or more groups of Summary FRR‑capable protected LSPs that are being protected by the
bypass tunnel are being rerouted over the bypass tunnel.<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">The B-SFRR-Active Extended ASSOCIATION object is carried in the RSVP Path
message of the bypass tunnel and signaled downstream towards the MP (the bypass tunnel
destination).<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">The Association Type, Association ID, and Association Source <span class="bcp14">MUST</span> be set as
defined in <span>[<a class="xref" href="#RFC4872">RFC4872</a>]</span> for the ASSOCIATION object. More specifically:<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3.2-4">
          <dt id="section-3.2-4.1">Association Source:</dt>
          <dd id="section-3.2-4.2">The Association Source is set to an address of the PLR node.<a class="pilcrow" href="#section-3.2-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.2-4.3">Association Type:</dt>
          <dd id="section-3.2-4.4">A new Association Type is defined for B-SFRR-Active as follows:<a class="pilcrow" href="#section-3.2-4.4">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-the-b-sfrr-active-associati"></span><div id="tab-2">
<table class="center" id="table-2">
          <caption>
<a class="selfRef" href="#table-2">Table 2</a>:
<a class="selfRef" href="#name-the-b-sfrr-active-associati">The B-SFRR-Active Association Type</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" colspan="1" rowspan="1">Value</th>
              <th class="text-left" colspan="1" rowspan="1">Type</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" colspan="1" rowspan="1">6</td>
              <td class="text-left" colspan="1" rowspan="1">Bypass Summary FRR Active Association (B-SFRR-Active)</td>
            </tr>
          </tbody>
        </table>
</div>
<span class="break"></span><dl class="dlNewline" id="section-3.2-6">
          <dt id="section-3.2-6.1">Extended Association ID for B-SFRR-Active:</dt>
          <dd id="section-3.2-6.2">The B-SFRR-Active Extended Association ID is
  populated by the PLR node for the Bypass Summary FRR Active
  association. The rules to populate the Extended Association ID
  in this case are described below.<a class="pilcrow" href="#section-3.2-6.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<div id="V4_SFRR_ACTIVE">
<section id="section-3.2.1">
          <h4 id="name-ipv4-b-sfrr-active-extended">
<a class="section-number selfRef" href="#section-3.2.1">3.2.1. </a><a class="section-name selfRef" href="#name-ipv4-b-sfrr-active-extended">IPv4 B-SFRR-Active Extended Association ID</a>
          </h4>
<p id="section-3.2.1-1">The IPv4 Extended Association ID for the B-SFRR-Active Association Type is
carried inside the IPv4 Extended ASSOCIATION object and has the following
format:<a class="pilcrow" href="#section-3.2.1-1">¶</a></p>
<span id="name-the-ipv4-extended-associatio"></span><div id="fig_IPv4_SFRR_ACTIVE">
<figure id="figure-3">
            <div class="artwork art-text alignLeft" id="section-3.2.1-2.1">
<pre>    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Num-BGIDs          |          Reserved             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Bypass_Group_Identifier                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                               :                               |
   //                              :                              //
   |                               :                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Bypass_Group_Identifier                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                      RSVP_HOP_Object                        //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                      TIME_VALUES                            //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       IPv4 tunnel sender address              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-the-ipv4-extended-associatio">The IPv4 Extended Association ID for B-SFRR-Active</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.2.1-3">
            <dt id="section-3.2.1-3.1">Num-BGIDs:</dt>
            <dd id="section-3.2.1-3.2">
              <p id="section-3.2.1-3.2.1">16 bits<a class="pilcrow" href="#section-3.2.1-3.2.1">¶</a></p>
<p id="section-3.2.1-3.2.2">Number of Bypass_Group_Identifier fields.<a class="pilcrow" href="#section-3.2.1-3.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.3">Reserved:</dt>
            <dd id="section-3.2.1-3.4">
              <p id="section-3.2.1-3.4.1">16 bits<a class="pilcrow" href="#section-3.2.1-3.4.1">¶</a></p>
<p id="section-3.2.1-3.4.2">Reserved for future use.<a class="pilcrow" href="#section-3.2.1-3.4.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.5">Bypass_Group_Identifier:</dt>
            <dd id="section-3.2.1-3.6">
              <p id="section-3.2.1-3.6.1">32 bits each<a class="pilcrow" href="#section-3.2.1-3.6.1">¶</a></p>
<p id="section-3.2.1-3.6.2">A Bypass_Group_Identifier that was previously signaled by the PLR
using the Extended ASSOCIATION object in the B-SFRR-Ready Extended
Association ID. One or more Bypass_Group_Identifiers <span class="bcp14">MAY</span> be included.<a class="pilcrow" href="#section-3.2.1-3.6.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.7">RSVP_HOP_Object:</dt>
            <dd id="section-3.2.1-3.8">
              <p id="section-3.2.1-3.8.1">Class 3, as defined by <span>[<a class="xref" href="#RFC2205">RFC2205</a>]</span><a class="pilcrow" href="#section-3.2.1-3.8.1">¶</a></p>
<p id="section-3.2.1-3.8.2">Replacement RSVP_HOP object to be applied to all LSPs associated
with each of the following Bypass_Group_Identifiers. This corresponds
to C-Type = 1 for IPv4 RSVP_HOP.<a class="pilcrow" href="#section-3.2.1-3.8.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.1-3.9">TIME_VALUES object:</dt>
            <dd id="section-3.2.1-3.10">
              <p id="section-3.2.1-3.10.1">Class 5, as defined by <span>[<a class="xref" href="#RFC2205">RFC2205</a>]</span><a class="pilcrow" href="#section-3.2.1-3.10.1">¶</a></p>
<p id="section-3.2.1-3.10.2">Replacement TIME_VALUES object to be applied to all LSPs associated
with each of the preceding Bypass_Group_Identifiers after receiving
the B-SFRR-Active Extended ASSOCIATION object.<a class="pilcrow" href="#section-3.2.1-3.10.2">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-3.2.1-4">
            <dt id="section-3.2.1-4.1">IPv4 tunnel sender address:</dt>
            <dd id="section-3.2.1-4.2">The IPv4 address that the PLR node sets to identify one or more
           backup paths as
described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4090#section-6.1.1">Section 6.1.1</a> of [<a class="xref" href="#RFC4090">RFC4090</a>]</span>. This address is applicable to all
groups identified by any Bypass_Group_Identifiers carried in the B-SFRR-Active
Extended Association ID.<a class="pilcrow" href="#section-3.2.1-4.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="V6_SFRR_ACTIVE">
<section id="section-3.2.2">
          <h4 id="name-ipv6-b-sfrr-active-extended">
<a class="section-number selfRef" href="#section-3.2.2">3.2.2. </a><a class="section-name selfRef" href="#name-ipv6-b-sfrr-active-extended">IPv6 B-SFRR-Active Extended Association ID</a>
          </h4>
<p id="section-3.2.2-1">The IPv6 Extended Association ID for the B-SFRR-Active Association Type is
carried inside the IPv6 Extended ASSOCIATION object and has the following
format:<a class="pilcrow" href="#section-3.2.2-1">¶</a></p>
<span id="name-the-ipv6-extended-associatio"></span><div id="fig_IPv6_SFRR_ACTIVE">
<figure id="figure-4">
            <div class="artwork art-text alignLeft" id="section-3.2.2-2.1">
<pre>    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Num-BGIDs          |          Reserved             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Bypass_Group_Identifier                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                               :                               |
   //                              :                              //
   |                               :                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Bypass_Group_Identifier                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                      RSVP_HOP_Object                        //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   //                      TIME_VALUES                            //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |                                                               |
   +                       IPv6 tunnel sender address              +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-the-ipv6-extended-associatio">The IPv6 Extended Association ID for B-SFRR-Active</a>
            </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.2.2-3">
            <dt id="section-3.2.2-3.1">Num-BGIDs:</dt>
            <dd id="section-3.2.2-3.2">
              <p id="section-3.2.2-3.2.1">16 bits<a class="pilcrow" href="#section-3.2.2-3.2.1">¶</a></p>
<p id="section-3.2.2-3.2.2">Number of Bypass_Group_Identifier fields.<a class="pilcrow" href="#section-3.2.2-3.2.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-3.3">Reserved:</dt>
            <dd id="section-3.2.2-3.4">
              <p id="section-3.2.2-3.4.1">16 bits<a class="pilcrow" href="#section-3.2.2-3.4.1">¶</a></p>
<p id="section-3.2.2-3.4.2">Reserved for future use.<a class="pilcrow" href="#section-3.2.2-3.4.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-3.5">Bypass_Group_Identifier:</dt>
            <dd id="section-3.2.2-3.6">
              <p id="section-3.2.2-3.6.1">32 bits each<a class="pilcrow" href="#section-3.2.2-3.6.1">¶</a></p>
<p id="section-3.2.2-3.6.2">A Bypass_Group_Identifier that was previously signaled by the PLR
using the Extended ASSOCIATION object in the B-SFRR-Ready Extended
Association ID.  One or more Bypass_Group_Identifiers <span class="bcp14">MAY</span> be included.<a class="pilcrow" href="#section-3.2.2-3.6.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-3.7">RSVP_HOP_Object:</dt>
            <dd id="section-3.2.2-3.8">
              <p id="section-3.2.2-3.8.1">Class 3, as defined by <span>[<a class="xref" href="#RFC2205">RFC2205</a>]</span><a class="pilcrow" href="#section-3.2.2-3.8.1">¶</a></p>
<p id="section-3.2.2-3.8.2">Replacement RSVP_HOP object to be applied to all LSPs associated
with each of the following Bypass_Group_Identifiers. This corresponds
to C-Type = 2 for IPv6 RSVP_HOP.<a class="pilcrow" href="#section-3.2.2-3.8.2">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-3.2.2-3.9">TIME_VALUES object:</dt>
            <dd id="section-3.2.2-3.10">
              <p id="section-3.2.2-3.10.1">Class 5, as defined by <span>[<a class="xref" href="#RFC2205">RFC2205</a>]</span><a class="pilcrow" href="#section-3.2.2-3.10.1">¶</a></p>
<p id="section-3.2.2-3.10.2">Replacement TIME_VALUES object to be applied to all LSPs associated
with each of the following Bypass_Group_Identifiers after receiving
the B-SFRR-Active Extended ASSOCIATION object.<a class="pilcrow" href="#section-3.2.2-3.10.2">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlNewline" id="section-3.2.2-4">
            <dt id="section-3.2.2-4.1">IPv6 tunnel sender address:</dt>
            <dd id="section-3.2.2-4.2">The IPv6 address that the PLR node sets to identify one or more
           backup paths as
described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4090#section-6.1.1">Section 6.1.1</a> of [<a class="xref" href="#RFC4090">RFC4090</a>]</span>. This address is applicable to all
groups identified by any Bypass_Group_Identifiers carried in the B-SFRR-Active
Extended Association ID.<a class="pilcrow" href="#section-3.2.2-4.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="sig-prior-failure">
<section id="section-3.3">
        <h3 id="name-signaling-procedures-prior-">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-signaling-procedures-prior-">Signaling Procedures prior to Failure</a>
        </h3>
<p id="section-3.3-1">Before Summary FRR procedures can be used, a handshake <span class="bcp14">MUST</span> be completed
between the PLR and MP nodes. This handshake is performed using the Extended ASSOCIATION
object that carries the B-SFRR-Ready Extended Association ID in both the RSVP
Path and Resv messages of the protected LSP.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<p id="section-3.3-2">The facility backup method introduced in <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span> takes advantage of MPLS label
stacking (the PLR node imposes additional MPLS labels post-FRR) to allow rerouting of
protected traffic over the backup path. The backup path may have stricter MTU
requirements; due to label stacking at the PLR node, the protected traffic may exceed
the backup path MTU. It is assumed that the operator engineers their network to
allow rerouting of protected traffic and the additional label stacking at the
PLR node in order to not exceed the backup path MTU.<a class="pilcrow" href="#section-3.3-2">¶</a></p>
<p id="section-3.3-3">When using the procedures defined in this document, the PLR node
        <span class="bcp14">MUST</span> ensure that the
bypass tunnel assignment can satisfy the protected LSP MTU requirements post-FRR.  This prevents any packets from being dropped due to exceeding the MTU size
of the backup path after traffic is rerouted onto the bypass tunnel post-failure. <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc3209#section-2.6">Section 2.6</a> of [<a class="xref" href="#RFC3209">RFC3209</a>]</span> describes a mechanism to determine whether
a node needs to fragment or drop a packet when it exceeds the path MTU
discovered using RSVP signaling on the primary LSP path. A PLR can leverage
the RSVP-discovered path MTU on the backup and primary LSP paths to ensure
that the MTU
is not exceeded before or after rerouting the protected traffic onto the
bypass tunnel.<a class="pilcrow" href="#section-3.3-3">¶</a></p>
<div id="plr-signaling-procedure">
<section id="section-3.3.1">
          <h4 id="name-plr-signaling-procedure">
<a class="section-number selfRef" href="#section-3.3.1">3.3.1. </a><a class="section-name selfRef" href="#name-plr-signaling-procedure">PLR Signaling Procedure</a>
          </h4>
<p id="section-3.3.1-1">The B-SFRR-Ready Extended ASSOCIATION object is added by each PLR node in the RSVP
Path message of the protected LSP to record the bypass tunnel assignment. This
object is updated every time the PLR node updates the bypass tunnel
assignment. This results in triggering an RSVP Path change message.<a class="pilcrow" href="#section-3.3.1-1">¶</a></p>
<p id="section-3.3.1-2">Upon receiving an RSVP Resv message with a B-SFRR-Ready Extended ASSOCIATION
object, the PLR node checks to see if the expected subobjects from the B-SFRR-Ready
Extended Association ID are present. If present, the PLR node determines if the MP has
acknowledged the current PLR node's assignment.<a class="pilcrow" href="#section-3.3.1-2">¶</a></p>
<p id="section-3.3.1-3">To be a valid acknowledgment, the received B-SFRR-Ready Extended Association ID
contents within the RSVP Resv message of the protected LSP <span class="bcp14">MUST</span> match the
latest B-SFRR-Ready Extended ASSOCIATION object and Association ID contents
that the PLR node had sent within the RSVP Path message (with the exception of the
MESSAGE_ID).<a class="pilcrow" href="#section-3.3.1-3">¶</a></p>
<p id="section-3.3.1-4">Note that when forwarding an RSVP Resv message upstream, the PLR node <span class="bcp14">SHOULD</span> remove
any/all B-SFRR-Ready Extended ASSOCIATION objects whose Bypass_Source_IPv4_Address or
Bypass_Source_IPv6_Address field matches any of the PLR node addresses.<a class="pilcrow" href="#section-3.3.1-4">¶</a></p>
</section>
</div>
<div id="mp-signaling-procedure">
<section id="section-3.3.2">
          <h4 id="name-mp-signaling-procedure">
<a class="section-number selfRef" href="#section-3.3.2">3.3.2. </a><a class="section-name selfRef" href="#name-mp-signaling-procedure">MP Signaling Procedure</a>
          </h4>
<p id="section-3.3.2-1">Upon receiving an RSVP Path message with a B-SFRR-Ready Extended ASSOCIATION
object, an MP node processes all (there may be multiple PLR nodes for a single MP node)
B-SFRR-Ready Extended ASSOCIATION objects that have the MP node address as the
bypass destination address in the Extended Association ID.<a class="pilcrow" href="#section-3.3.2-1">¶</a></p>
<p id="section-3.3.2-2">The MP node first ensures the existence of the bypass tunnel and that the
Bypass_Group_Identifier is not already FRR Active. That is, an LSP cannot join
a group that is already FRR rerouted.<a class="pilcrow" href="#section-3.3.2-2">¶</a></p>
<p id="section-3.3.2-3">The MP node builds a mirrored Summary FRR group database per PLR node by
associating the Bypass_Source_IPv4_Address or Bypass_Source_IPv6_Address
that is carried in the IPv4 or IPv6 B‑SFRR-Ready Extended Association IDs,
respectively.<a class="pilcrow" href="#section-3.3.2-3">¶</a></p>
<p id="section-3.3.2-4">The MESSAGE_ID is extracted and recorded for the protected LSP Path
state. The MP node signals a B-SFRR-Ready Extended ASSOCIATION object and
Extended Association ID in the RSVP Resv message of the protected LSP. With the
exception of the MESSAGE_ID objects, all other fields of the received
B-SFRR-Ready Extended ASSOCIATION object in the RSVP Path message are copied
into the B-SFRR-Ready Extended ASSOCIATION object to be added in the Resv
message. The MESSAGE_ID object is set according to <span>[<a class="xref" href="#RFC2961">RFC2961</a>]</span> with the Flags cleared.<a class="pilcrow" href="#section-3.3.2-4">¶</a></p>
<p id="section-3.3.2-5">Note that an MP may receive more than one RSVP Path message with the B-SFRR-Ready
Extended ASSOCIATION object from one or more different upstream PLR nodes. In this case,
the MP node is expected to save all the received MESSAGE_IDs received from the different
upstream PLR nodes. After a failure, the MP node determines and activates the
state(s) associated with the Bypass_Group_Identifier(s) received in the RSVP
Path message containing the B-SFRR-Active Extended ASSOCIATION object that is
signaled over the bypass tunnel from the PLR node, as described in <a class="xref" href="#post-failure">Section 3.4</a>.<a class="pilcrow" href="#section-3.3.2-5">¶</a></p>
<p id="section-3.3.2-6">When forwarding an RSVP Path message downstream, the MP node <span class="bcp14">SHOULD</span> remove any/all
B-SFRR-Ready Extended ASSOCIATION objects whose Bypass_Destination_IPv4_Address or
Bypass_Destination_IPv6_Address field matches any of the MP node addresses.<a class="pilcrow" href="#section-3.3.2-6">¶</a></p>
</section>
</div>
</section>
</div>
<div id="post-failure">
<section id="section-3.4">
        <h3 id="name-signaling-procedures-post-f">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-signaling-procedures-post-f">Signaling Procedures Post-Failure</a>
        </h3>
<p id="section-3.4-1">Upon detection of a fault (egress link or node failure), the PLR node will first
perform the object modification procedures described by <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4090#section-6.4.3">Section 6.4.3</a> of [<a class="xref" href="#RFC4090">RFC4090</a>]</span> for all affected protected LSPs. For the Summary FRR-capable LSPs
that are assigned to the same bypass tunnel, a common RSVP_HOP and
SENDER_TEMPLATE <span class="bcp14">MUST</span> be used.<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<p id="section-3.4-2">The PLR node <span class="bcp14">MUST</span> signal non-Summary FRR-capable LSPs over the bypass tunnel before
signaling the Summary FRR-capable LSPs. This is needed to allow for the case
where the PLR node recently changed a bypass assignment and the MP has not
processed the change yet.<a class="pilcrow" href="#section-3.4-2">¶</a></p>
<p id="section-3.4-3">The B-SFRR-Active Extended ASSOCIATION object is sent within the RSVP Path
message of the bypass tunnel to reroute the RSVP state of Summary FRR-capable LSPs.<a class="pilcrow" href="#section-3.4-3">¶</a></p>
<div id="plr-sfrr">
<section id="section-3.4.1">
          <h4 id="name-plr-signaling-procedure-2">
<a class="section-number selfRef" href="#section-3.4.1">3.4.1. </a><a class="section-name selfRef" href="#name-plr-signaling-procedure-2">PLR Signaling Procedure</a>
          </h4>
<p id="section-3.4.1-1">After a failure event, when using the Summary FRR path signaling procedures,
an individual RSVP Path message is not signaled for each Summary FRR LSP.
Instead, to reroute Summary FRR LSPs via the bypass tunnel, the PLR node adds the
B-SFRR-Active Extended ASSOCIATION object in the RSVP Path message of the
RSVP session of the bypass tunnel.<a class="pilcrow" href="#section-3.4.1-1">¶</a></p>
<p id="section-3.4.1-2">The RSVP_HOP_Object field in the B-SFRR-Active Extended Association ID is set
to a common object that will be applied to all LSPs associated
with the Bypass_Group_Identifiers that are carried in the B-SFRR-Active
Extended Association ID.<a class="pilcrow" href="#section-3.4.1-2">¶</a></p>
<p id="section-3.4.1-3">The PLR node adds the Bypass_Group_Identifier(s) of any group or groups that have common
group attributes, including the tunnel sender address, to the same B-SFRR-Active
Extended Association ID. Note that multiple ASSOCIATION objects, each carrying a
B-SFRR-Active Extended Association ID, can be carried within a single RSVP Path
message of the bypass tunnel and sent towards the MP as described in <span>[<a class="xref" href="#RFC6780">RFC6780</a>]</span>.<a class="pilcrow" href="#section-3.4.1-3">¶</a></p>
<p id="section-3.4.1-4">Any previously received MESSAGE_IDs from the MP are activated on the PLR. As a result,
the PLR starts sending Srefresh messages containing the specific Message_Identifier(s)
for the states to be refreshed.<a class="pilcrow" href="#section-3.4.1-4">¶</a></p>
</section>
</div>
<div id="mp-signaling-procedure-1">
<section id="section-3.4.2">
          <h4 id="name-mp-signaling-procedure-2">
<a class="section-number selfRef" href="#section-3.4.2">3.4.2. </a><a class="section-name selfRef" href="#name-mp-signaling-procedure-2">MP Signaling Procedure</a>
          </h4>
<p id="section-3.4.2-1">Upon receiving an RSVP Path message with a B-SFRR-Active Extended ASSOCIATION
object, the MP performs normal merge point processing for each protected LSP
associated with each Bypass_Group_Identifier, as if it had received an
individual RSVP Path message for that LSP.<a class="pilcrow" href="#section-3.4.2-1">¶</a></p>
<p id="section-3.4.2-2">For each Summary FRR-capable LSP that is being merged, the MP first modifies the Path
state as follows:<a class="pilcrow" href="#section-3.4.2-2">¶</a></p>
<ol class="normal type-1" id="section-3.4.2-3" start="1" type="1">
            <li id="section-3.4.2-3.1">The RSVP_HOP object is copied from the RSVP_HOP_Object field in the
B-SFRR-Active Extended Association ID.<a class="pilcrow" href="#section-3.4.2-3.1">¶</a>
</li>
            <li id="section-3.4.2-3.2">The TIME_VALUES object is copied from the TIME_VALUES field in the
B-SFRR-Active Extended Association ID.  The TIME_VALUES object contains the
refresh period of the PLR node, and it is used to generate periodic
refreshes. The TIME_VALUES object carried in the B-SFRR-Active Extended
Association ID matches the one that would have been 
exchanged in a full Path message sent to the MP after the failure when no Summary
FRR procedures are used.<a class="pilcrow" href="#section-3.4.2-3.2">¶</a>
</li>
            <li id="section-3.4.2-3.3">The tunnel sender address field in the SENDER_TEMPLATE object is copied from
the tunnel sender address field of the B-SFRR-Active Extended Association ID.<a class="pilcrow" href="#section-3.4.2-3.3">¶</a>
</li>
            <li id="section-3.4.2-3.4">The Explicit Route Object (ERO) is modified as per <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc4090#section-6.4.4">Section 6.4.4</a> of [<a class="xref" href="#RFC4090">RFC4090</a>]</span>. Once the above modifications are completed, the MP node performs 
merge processing as per <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span>.<a class="pilcrow" href="#section-3.4.2-3.4">¶</a>
</li>
            <li id="section-3.4.2-3.5">Any previously received MESSAGE_IDs from the PLR node are activated. The MP
is allowed to send Srefresh messages containing the specific Message_Identifier(s)
for the states to be refreshed.<a class="pilcrow" href="#section-3.4.2-3.5">¶</a>
</li>
          </ol>
<p id="section-3.4.2-4">A failure during merge processing of any individual rerouted LSP <span class="bcp14">MUST</span>
result in an RSVP PathErr message.<a class="pilcrow" href="#section-3.4.2-4">¶</a></p>
<p id="section-3.4.2-5">An individual RSVP Resv message for each successfully merged Summary
FRR LSP is not signaled. The MP node <span class="bcp14">SHOULD</span> immediately use summary
refresh procedures to refresh the protected LSP Resv state.<a class="pilcrow" href="#section-3.4.2-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="refreshing-summary-frr-active-lsps">
<section id="section-3.5">
        <h3 id="name-refreshing-summary-frr-acti">
<a class="section-number selfRef" href="#section-3.5">3.5. </a><a class="section-name selfRef" href="#name-refreshing-summary-frr-acti">Refreshing Summary FRR Active LSPs</a>
        </h3>
<p id="section-3.5-1">The refreshing of Summary FRR Active LSPs is performed using summary
refresh as defined by <span>[<a class="xref" href="#RFC2961">RFC2961</a>]</span>.<a class="pilcrow" href="#section-3.5-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="backwards-compatibility">
<section id="section-4">
      <h2 id="name-backwards-compatibility">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-backwards-compatibility">Backwards Compatibility</a>
      </h2>
<p id="section-4-1">The (Extended) ASSOCIATION object is defined in <span>[<a class="xref" href="#RFC4872">RFC4872</a>]</span> with a class number
in the form 11bbbbbb, where b=0 or 1. This ensures compatibility with
nodes that do not provide support, in accordance with the procedures specified in
<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2205#section-3.10">Section 3.10</a> of [<a class="xref" href="#RFC2205">RFC2205</a>]</span> regarding unknown-class objects.
Such nodes will ignore the object and forward it without any modification.<a class="pilcrow" href="#section-4-1">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-5">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-5-1">This document updates an existing RSVP object -- the Extended
      ASSOCIATION object as described in <a class="xref" href="#extensions-for-summary-frr-signaling">Section 3</a>.
  Thus, in the event of the
interception of a signaling message, slightly more information could be deduced
about the state of the network than was previously the case.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">When using the procedures defined in this document, FRR signaling for rerouting
of the states of one or more protected LSPs onto the bypass tunnel can be performed on a group
of protected LSPs with a single RSVP message. This allows an intruder to
potentially impact and manipulate a set of protected LSPs that are assigned to
the same bypass tunnel group.  Note that such an attack is possible even without
the mechanisms defined in this document, albeit at an extra cost resulting
from the excessive per-LSP signaling that will occur.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3">Existing mechanisms for maintaining the integrity and authenticity of RSVP
messages <span>[<a class="xref" href="#RFC2747">RFC2747</a>]</span> can be applied. Other considerations mentioned
in <span>[<a class="xref" href="#RFC4090">RFC4090</a>]</span> and <span>[<a class="xref" href="#RFC5920">RFC5920</a>]</span> also apply.<a class="pilcrow" href="#section-5-3">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-6-1">IANA maintains the "Generalized Multi-Protocol Label Switching
      (GMPLS) Signaling Parameters" registry. The "Association Type" subregistry is included
in this registry.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">This registry has been updated with the new
   Association Types for the Extended ASSOCIATION objects defined in this document
as follows:<a class="pilcrow" href="#section-6-2">¶</a></p>
<span id="name-new-extended-association-ob"></span><div id="tab-3">
<table class="center" id="table-3">
        <caption>
<a class="selfRef" href="#table-3">Table 3</a>:
<a class="selfRef" href="#name-new-extended-association-ob">New Extended ASSOCIATION Object Association Types</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" colspan="1" rowspan="1">Value</th>
            <th class="text-left" colspan="1" rowspan="1">Name</th>
            <th class="text-left" colspan="1" rowspan="1">Reference</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">5</td>
            <td class="text-left" colspan="1" rowspan="1">B-SFRR-Ready Association</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#sfrr-bypass-ready">Section 3.1</a>
</td>
          </tr>
          <tr>
            <td class="text-left" colspan="1" rowspan="1">6</td>
            <td class="text-left" colspan="1" rowspan="1">B-SFRR-Active Association</td>
            <td class="text-left" colspan="1" rowspan="1">
              <a class="xref" href="#sfrr-bypass-active">Section 3.2</a>
</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2205">[RFC2205]</dt>
        <dd>
<span class="refAuthor">Braden, R., Ed.</span><span class="refAuthor">, Zhang, L.</span><span class="refAuthor">, Berson, S.</span><span class="refAuthor">, Herzog, S.</span><span class="refAuthor">, and S. Jamin</span>, <span class="refTitle">"Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification"</span>, <span class="seriesInfo">RFC 2205</span>, <span class="seriesInfo">DOI 10.17487/RFC2205</span>, <time class="refDate" datetime="1997-09">September 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2205">https://www.rfc-editor.org/info/rfc2205</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2747">[RFC2747]</dt>
        <dd>
<span class="refAuthor">Baker, F.</span><span class="refAuthor">, Lindell, B.</span><span class="refAuthor">, and M. Talwar</span>, <span class="refTitle">"RSVP Cryptographic Authentication"</span>, <span class="seriesInfo">RFC 2747</span>, <span class="seriesInfo">DOI 10.17487/RFC2747</span>, <time class="refDate" datetime="2000-01">January 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2747">https://www.rfc-editor.org/info/rfc2747</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2961">[RFC2961]</dt>
        <dd>
<span class="refAuthor">Berger, L.</span><span class="refAuthor">, Gan, D.</span><span class="refAuthor">, Swallow, G.</span><span class="refAuthor">, Pan, P.</span><span class="refAuthor">, Tommasi, F.</span><span class="refAuthor">, and S. Molendini</span>, <span class="refTitle">"RSVP Refresh Overhead Reduction Extensions"</span>, <span class="seriesInfo">RFC 2961</span>, <span class="seriesInfo">DOI 10.17487/RFC2961</span>, <time class="refDate" datetime="2001-04">April 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2961">https://www.rfc-editor.org/info/rfc2961</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3209">[RFC3209]</dt>
        <dd>
<span class="refAuthor">Awduche, D.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Gan, D.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, Srinivasan, V.</span><span class="refAuthor">, and G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time class="refDate" datetime="2001-12">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4090">[RFC4090]</dt>
        <dd>
<span class="refAuthor">Pan, P., Ed.</span><span class="refAuthor">, Swallow, G., Ed.</span><span class="refAuthor">, and A. Atlas, Ed.</span>, <span class="refTitle">"Fast Reroute Extensions to RSVP-TE for LSP Tunnels"</span>, <span class="seriesInfo">RFC 4090</span>, <span class="seriesInfo">DOI 10.17487/RFC4090</span>, <time class="refDate" datetime="2005-05">May 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4090">https://www.rfc-editor.org/info/rfc4090</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4872">[RFC4872]</dt>
        <dd>
<span class="refAuthor">Lang, J.P., Ed.</span><span class="refAuthor">, Rekhter, Y., Ed.</span><span class="refAuthor">, and D. Papadimitriou, Ed.</span>, <span class="refTitle">"RSVP-TE Extensions in Support of End-to-End Generalized Multi-Protocol Label Switching (GMPLS) Recovery"</span>, <span class="seriesInfo">RFC 4872</span>, <span class="seriesInfo">DOI 10.17487/RFC4872</span>, <time class="refDate" datetime="2007-05">May 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4872">https://www.rfc-editor.org/info/rfc4872</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6780">[RFC6780]</dt>
        <dd>
<span class="refAuthor">Berger, L.</span><span class="refAuthor">, Le Faucheur, F.</span><span class="refAuthor">, and A. Narayanan</span>, <span class="refTitle">"RSVP ASSOCIATION Object Extensions"</span>, <span class="seriesInfo">RFC 6780</span>, <span class="seriesInfo">DOI 10.17487/RFC6780</span>, <time class="refDate" datetime="2012-10">October 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6780">https://www.rfc-editor.org/info/rfc6780</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC5920">[RFC5920]</dt>
      <dd>
<span class="refAuthor">Fang, L., Ed.</span>, <span class="refTitle">"Security Framework for MPLS and GMPLS Networks"</span>, <span class="seriesInfo">RFC 5920</span>, <span class="seriesInfo">DOI 10.17487/RFC5920</span>, <time class="refDate" datetime="2010-07">July 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5920">https://www.rfc-editor.org/info/rfc5920</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgments">
<section id="section-appendix.a">
      <h2 id="name-acknowledgments">
<a class="section-name selfRef" href="#name-acknowledgments">Acknowledgments</a>
      </h2>
<p id="section-appendix.a-1">The authors would like to thank <span class="contact-name">Alexander Okonnikov</span>, <span class="contact-name">Loa Andersson</span>, <span class="contact-name">Lou Berger</span>,
<span class="contact-name">Eric Osborne</span>, <span class="contact-name">Gregory Mirsky</span>,
and <span class="contact-name">Mach Chen</span> for reviewing and providing valuable
comments on this document.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="section-appendix.b">
      <h2 id="name-contributors">
<a class="section-name selfRef" href="#name-contributors">Contributors</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Nicholas Tan</span></div>
<div class="left" dir="auto"><span class="org">Arista Networks</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ntan@arista.com">ntan@arista.com</a>
</div>
</address>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Mike Taillon</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mtaillon@cisco.com">mtaillon@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Tarek Saad (<span class="role">editor</span>)</span></div>
<div class="left" dir="auto"><span class="org">Juniper Networks</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:tsaad@juniper.net">tsaad@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Rakesh Gandhi</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:rgandhi@cisco.com">rgandhi@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Abhishek Deshmukh</span></div>
<div class="left" dir="auto"><span class="org">Juniper Networks</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:adeshmukh@juniper.net">adeshmukh@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Markus Jork</span></div>
<div class="left" dir="auto"><span class="org">128 Technology</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:mjork@128technology.com">mjork@128technology.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Vishnu Pavan Beeram</span></div>
<div class="left" dir="auto"><span class="org">Juniper Networks</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:vbeeram@juniper.net">vbeeram@juniper.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>