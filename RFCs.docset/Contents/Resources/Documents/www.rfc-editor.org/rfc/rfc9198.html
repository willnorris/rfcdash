<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9198: Advanced Unidirectional Route Assessment (AURA)</title>
<meta content="J. Ignacio Alvarez-Hamelin" name="author"/>
<meta content="Al Morton" name="author"/>
<meta content="Joachim Fabini" name="author"/>
<meta content="Carlos Pignataro" name="author"/>
<meta content="Ruediger Geib" name="author"/>
<meta content="
       This memo introduces an advanced unidirectional route assessment
      (AURA) metric and associated measurement methodology based on the IP
      Performance Metrics (IPPM) framework (RFC 2330). This memo updates RFC
      2330 in the areas of path-related terminology and path description,
      primarily to include the possibility of parallel subpaths between a
      given Source and Destination pair, owing to the presence of multipath
      technologies. 
    " name="description"/>
<meta content="xml2rfc 3.12.7" name="generator"/>
<meta content="Performance" name="keyword"/>
<meta content="Metrics" name="keyword"/>
<meta content="IPPM" name="keyword"/>
<meta content="path" name="keyword"/>
<meta content="parallel paths" name="keyword"/>
<meta content="9198" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.12.7
    Python 3.6.15
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.4.2
    MarkupSafe 2.0.1
    pycairo 1.15.1
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.4.1
    requests 2.24.0
    setuptools 40.5.0
    six 1.14.0
    WeasyPrint 52.5
-->
<link href="rfc9198.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  pre.breakable {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9198" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-ippm-route-10" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9198</td>
<td class="center">AURA Metrics &amp; Methods</td>
<td class="right">May 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Alvarez-Hamelin, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9198">9198</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc2330">2330</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-05">May 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Alvarez-Hamelin</div>
<div class="org">Universidad de Buenos Aires</div>
</div>
<div class="author">
      <div class="author-name">A. Morton</div>
<div class="org">AT&amp;T Labs</div>
</div>
<div class="author">
      <div class="author-name">J. Fabini</div>
<div class="org">TU Wien</div>
</div>
<div class="author">
      <div class="author-name">C. Pignataro</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">R. Geib</div>
<div class="org">Deutsche Telekom</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9198</h1>
<h1 id="title">Advanced Unidirectional Route Assessment (AURA)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This memo introduces an advanced unidirectional route assessment
      (AURA) metric and associated measurement methodology based on the IP
      Performance Metrics (IPPM) framework (RFC 2330). This memo updates RFC
      2330 in the areas of path-related terminology and path description,
      primarily to include the possibility of parallel subpaths between a
      given Source and Destination pair, owing to the presence of multipath
      technologies.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9198">https://www.rfc-editor.org/info/rfc9198</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-issues-with-earlier-work-to">Issues with Earlier Work to Define a Route Metric</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p class="keepWithNext" id="section-toc.1-1.1.2.2.1"><a class="xref" href="#section-1.2">1.2</a>.  <a class="xref" href="#name-requirements-language">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-scope">Scope</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-route-metric-specifications">Route Metric Specifications</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-terms-and-definitions">Terms and Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-formal-name">Formal Name</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-parameters">Parameters</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a class="xref" href="#section-3.4">3.4</a>.  <a class="xref" href="#name-metric-definitions">Metric Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a class="xref" href="#section-3.5">3.5</a>.  <a class="xref" href="#name-related-round-trip-delay-an">Related Round-Trip Delay and Loss Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a class="xref" href="#section-3.6">3.6</a>.  <a class="xref" href="#name-discussion">Discussion</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a class="xref" href="#section-3.7">3.7</a>.  <a class="xref" href="#name-reporting-the-metric">Reporting the Metric</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-route-assessment-methodolog">Route Assessment Methodologies</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-active-methodologies">Active Methodologies</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a class="xref" href="#section-4.1.1">4.1.1</a>.  <a class="xref" href="#name-temporal-composition-for-ro">Temporal Composition for Route Metrics</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a class="xref" href="#section-4.1.2">4.1.2</a>.  <a class="xref" href="#name-routing-class-identificatio">Routing Class Identification</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a class="xref" href="#section-4.1.3">4.1.3</a>.  <a class="xref" href="#name-intermediate-observation-po">Intermediate Observation Point Route Measurement</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-hybrid-methodologies">Hybrid Methodologies</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-combining-different-methods">Combining Different Methods</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-background-on-round-trip-de">Background on Round-Trip Delay Measurement Goals</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-rtd-measurements-statistics">RTD Measurements Statistics</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a class="xref" href="#section-9.1">9.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a class="xref" href="#section-9.2">9.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#appendix-A">Appendix A</a>.  <a class="xref" href="#name-mpls-methods-for-route-asse">MPLS Methods for Route Assessment</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#appendix-C"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">The IETF IP Performance Metrics (IPPM) Working Group first created a
      framework for metric development in <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span>. This
      framework has stood the test of time and enabled development of many
      fundamental metrics. It has been updated in the area of metric
      composition <span>[<a class="xref" href="#RFC5835">RFC5835</a>]</span> and in several areas related to
      active stream measurement of modern networks with reactive properties
      <span>[<a class="xref" href="#RFC7312">RFC7312</a>]</span>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">The framework in <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span> motivated the development of
      "performance and reliability metrics for paths through the Internet";
      <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2330#section-5">Section 5</a> of [<a class="xref" href="#RFC2330">RFC2330</a>]</span> defines terms that support
      description of a path under test. However, metrics for assessment of
      paths and related performance aspects had not been attempted in IPPM
      when the framework in <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span> was written.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">This memo takes up the Route measurement challenge and specifies a
      new Route metric, two practical frameworks for methods of measurement
      (using either active or hybrid active-passive methods <span>[<a class="xref" href="#RFC7799">RFC7799</a>]</span>), and Round-Trip Delay and link
      information discovery 
      using the results of measurements. All Route measurements are limited by
      the willingness of Hosts along the path to be discovered, to cooperate
      with the methods used, or to recognize that the measurement operation is
      taking place (such as when tunnels are present).<a class="pilcrow" href="#section-1-3">¶</a></p>
<section id="section-1.1">
        <h3 id="name-issues-with-earlier-work-to">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-issues-with-earlier-work-to">Issues with Earlier Work to Define a Route Metric</a>
        </h3>
<p id="section-1.1-1"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2330#section-7">Section 7</a> of [<a class="xref" href="#RFC2330">RFC2330</a>]</span> presents a simple example of
        a "Route" metric along with several other examples. The example is
        reproduced below (where the reference is to <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2330#section-5">Section 5</a> of [<a class="xref" href="#RFC2330">RFC2330</a>]</span>):<a class="pilcrow" href="#section-1.1-1">¶</a></p>
<blockquote id="section-1.1-2">
          <span class="break"></span><dl class="dlParallel" id="section-1.1-2.1">
            <dt id="section-1.1-2.1.1">route:</dt>
            <dd id="section-1.1-2.1.2" style="margin-left: 1.5em">The path, as defined in Section <a class="relref" href="https://www.rfc-editor.org/rfc/rfc2330#section-5">5</a>, from A to B at a given time.<a class="pilcrow" href="#section-1.1-2.1.2">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</blockquote>
<p id="section-1.1-3">This example provides a starting point to develop a more complete
        definition of Route. Areas needing clarification include:<a class="pilcrow" href="#section-1.1-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-1.1-4">
          <dt id="section-1.1-4.1">Time:</dt>
          <dd id="section-1.1-4.2" style="margin-left: 1.5em">In practice, the Route will be assessed over a
            time interval because active path detection methods like Paris-traceroute <span>[<a class="xref" href="#PT">PT</a>]</span> rely on Hop Limits for their
            operation and cannot accomplish discovery of all Hosts using a
            single packet.<a class="pilcrow" href="#section-1.1-4.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.3">Type-P:</dt>
          <dd id="section-1.1-4.4" style="margin-left: 1.5em">The legacy Route definition lacks the option
            to cater for packet-dependent routing. In this memo, we assess the
            Route for a specific packet of Type-P and reflect this in the
            metric definition. The methods of measurement determine the
            specific Type-P used.<a class="pilcrow" href="#section-1.1-4.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.5">Parallel Paths:</dt>
          <dd id="section-1.1-4.6" style="margin-left: 1.5em">Parallel paths are a reality of the
            Internet and a strength of advanced Route assessment methods, so
            the metric must acknowledge this possibility. Use of Equal-Cost
            Multipath (ECMP) and Unequal-Cost Multipath (UCMP) technologies
            are common sources of parallel subpaths.<a class="pilcrow" href="#section-1.1-4.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.7">Cloud Subpath:</dt>
          <dd id="section-1.1-4.8" style="margin-left: 1.5em">Cloud subpaths may contain Hosts that do not
            decrement the Hop Limit but may have two or more exchange links
            connecting "discoverable" Hosts or routers. Parallel subpaths
            contained within clouds cannot be discovered. The assessment
            methods only discover Hosts or routers on the path that decrement
            Hop Limit or cooperate with interrogation protocols. The presence
            of tunnels and nested tunnels further complicate assessment by
            hiding Hops.<a class="pilcrow" href="#section-1.1-4.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-4.9">Hop:</dt>
          <dd id="section-1.1-4.10" style="margin-left: 1.5em">The definition of Hop in <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span> was a link-Host pair. However, only Hosts
   that were discoverable and cooperated with
            interrogation protocols (where link information may be exposed) provided both link and Host information.<a class="pilcrow" href="#section-1.1-4.10">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-1.1-5">Note that the actual definitions appear in <a class="xref" href="#terms">Section 3.1</a>.<a class="pilcrow" href="#section-1.1-5">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-requirements-language">
<a class="section-number selfRef" href="#section-1.2">1.2. </a><a class="section-name selfRef" href="#name-requirements-language">Requirements Language</a>
        </h3>
<p id="section-1.2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
 "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", 
        "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
 "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
 "<span class="bcp14">MAY</span>", and 
        "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as described in BCP
        14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> when, and only 
        when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.2-1">¶</a></p>
</section>
</section>
<div id="Scope">
<section id="section-2">
      <h2 id="name-scope">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-scope">Scope</a>
      </h2>
<p id="section-2-1">The purpose of this memo is to add new Route metrics and methods of
      measurement to the existing set of IPPM metrics.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">The scope is to define Route metrics that can identify the path taken
      by a packet or a flow traversing the Internet between two Hosts.
      Although primarily intended for Hosts communicating on the Internet, the
      definitions and metrics are constructed to be applicable to other
      network domains, if desired. The methods of measurement to assess the
      path may not be able to discover all Hosts comprising the path, but such
      omissions are often deterministic and explainable sources of error.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">This memo also specifies a framework for active methods of
      measurement that uses the techniques described in <span>[<a class="xref" href="#PT">PT</a>]</span>
      as well as a framework for hybrid active-passive methods of measurement,
      such as the Hybrid Type I method <span>[<a class="xref" href="#RFC7799">RFC7799</a>]</span> described in
      <span>[<a class="xref" href="#RFC9197">RFC9197</a>]</span>. Methods using <span>[<a class="xref" href="#RFC9197">RFC9197</a>]</span> are intended only for single
      administrative domains that provide a protocol for explicit
      interrogation of Nodes on a path. Combinations of active methods and
      hybrid active-passive methods are also in scope.<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4">Further, this memo provides additional analysis of the Round-Trip
      Delay measurements made possible by the methods in an effort to
      discover more details about the path, such as the link technology in
      use.<a class="pilcrow" href="#section-2-4">¶</a></p>
<p id="section-2-5">This memo updates <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2330#section-5">Section 5</a> of [<a class="xref" href="#RFC2330">RFC2330</a>]</span> in the areas
      of path-related terminology and path description, primarily to include
      the possibility of parallel subpaths between a given Source and
      Destination address pair (possibly resulting from ECMP and UCMP technologies).<a class="pilcrow" href="#section-2-5">¶</a></p>
<p id="section-2-6">There are several simple non-goals of this memo. There is no attempt
      to assess the reverse path from any Host on the path to the Host
      attempting the path measurement. The reverse path contribution to delay
      will be that experienced by ICMP packets (in active methods) and may be
      different from delays experienced by UDP or TCP packets. Also, the
      Round-Trip Delay will include an unknown contribution of processing time
      at 
      the Host that generates the ICMP response. Therefore, the ICMP-based
      active methods are not supposed to yield accurate, reproducible
      estimations of the Round-Trip Delay that UDP or TCP packets will
      experience.<a class="pilcrow" href="#section-2-6">¶</a></p>
</section>
</div>
<section id="section-3">
      <h2 id="name-route-metric-specifications">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-route-metric-specifications">Route Metric Specifications</a>
      </h2>
<p id="section-3-1">This section sets requirements for the components of the route
      metric.<a class="pilcrow" href="#section-3-1">¶</a></p>
<div id="terms">
<section id="section-3.1">
        <h3 id="name-terms-and-definitions">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-terms-and-definitions">Terms and Definitions</a>
        </h3>
<p id="section-3.1-1"></p>
<span class="break"></span><dl class="dlNewline" id="section-3.1-2">
          <dt id="section-3.1-2.1">Host</dt>
          <dd id="section-3.1-2.2" style="margin-left: 1.5em">A Host (as defined in <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span>) is
            a computer capable of IP communication, including routers (aka an
            RFC 2330 Host).<a class="pilcrow" href="#section-3.1-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.3">Node </dt>
          <dd id="section-3.1-2.4" style="margin-left: 1.5em">A Node is any network function on the path
            capable of IP-layer Communication, including RFC 2330 Hosts.<a class="pilcrow" href="#section-3.1-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.5">Node Identity</dt>
          <dd id="section-3.1-2.6" style="margin-left: 1.5em">The Node identity is the unique address for Nodes
            communicating within the network domain. For Nodes communicating
            on the Internet with IP, it is the globally routable IP address
            that the Node uses when communicating with other Nodes under
            normal or error conditions. The Node identity revealed (and its
            connection to a Node name through reverse DNS) determines whether
            interfaces to parallel links can be associated with a single Node
            or appear to identify unique Nodes.<a class="pilcrow" href="#section-3.1-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.7">Discoverable Node</dt>
          <dd id="section-3.1-2.8" style="margin-left: 1.5em">Discoverable Nodes are Nodes that convey their Node
            identity according to the requirements of their network domain,
            such as when error conditions are detected by that Node. For Nodes
            communicating with IP packets, compliance with
            <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc1122#section-3.2.2.4">Section 3.2.2.4</a> of [<a class="xref" href="#RFC1122">RFC1122</a>]</span>, when
     discarding a packet due to TTL or 
            Hop Limit Exceeded condition, <span class="bcp14">MUST</span> result in sending the
            corresponding Time Exceeded message (containing a form of Node
            identity) to the source. This requirement is also consistent with
            <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc1812#section-5.3.1">Section 5.3.1</a> of [<a class="xref" href="#RFC1812">RFC1812</a>]</span> for routers.<a class="pilcrow" href="#section-3.1-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.9">Cooperating Node</dt>
          <dd id="section-3.1-2.10" style="margin-left: 1.5em">Cooperating Nodes are Nodes that respond to direct
            queries for their Node identity as part of a previously established and
            agreed upon interrogation protocol. Nodes <span class="bcp14">SHOULD</span> also provide
            information such as arrival/departure interface identification,
            arrival timestamp, and any relevant information about the Node or
            specific link that delivered the query to the Node.<a class="pilcrow" href="#section-3.1-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.11">Hop specification</dt>
          <dd id="section-3.1-2.12" style="margin-left: 1.5em">A Hop specification <span class="bcp14">MUST</span> contain a
            Node identity and <span class="bcp14">MAY</span> contain arrival and/or departure interface
            identification, Round-Trip Delay, and an arrival timestamp.<a class="pilcrow" href="#section-3.1-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.1-2.13">Routing Class</dt>
          <dd id="section-3.1-2.14" style="margin-left: 1.5em">Routing Class is a Route that treats a class of
            different types of packets, designated "C" (unrelated to address
            classes of the past) equally (<span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span> <span>[<a class="xref" href="#RFC8468">RFC8468</a>]</span>). Knowledge of such a class allows any one of
            the types of packets within that class to be used for subsequent
            measurement of the Route. The designator "class C" is used for
            historical reasons; see <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span>.<a class="pilcrow" href="#section-3.1-2.14">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-3.2">
        <h3 id="name-formal-name">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-formal-name">Formal Name</a>
        </h3>
<p id="section-3.2-1">The formal name of the metric is:<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2"> Type-P-Route-Ensemble-Method-Variant<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">abbreviated as Route Ensemble.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">Note that Type-P depends heavily on the chosen method and
        variant.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
</section>
<section id="section-3.3">
        <h3 id="name-parameters">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-parameters">Parameters</a>
        </h3>
<p id="section-3.3-1">This section lists the <span class="bcp14">REQUIRED</span> input factors to define and measure
        a Route metric, as specified in this memo.<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.3-2">
          <dt id="section-3.3-2.1">Src:</dt>
          <dd id="section-3.3-2.2" style="margin-left: 1.5em"> the address of a Node (such as the globally routable IP
            address).<a class="pilcrow" href="#section-3.3-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.3">Dst:</dt>
          <dd id="section-3.3-2.4" style="margin-left: 1.5em"> the address of a Node (such as the globally routable IP
            address).<a class="pilcrow" href="#section-3.3-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.5">i:</dt>
          <dd id="section-3.3-2.6" style="margin-left: 1.5em"> the limit on the number of Hops a specific packet may visit
            as it traverses from the Node at Src to the Node at Dst (such as
            the TTL or Hop Limit).<a class="pilcrow" href="#section-3.3-2.6">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.7">MaxHops:</dt>
          <dd id="section-3.3-2.8" style="margin-left: 1.5em"> the maximum value of i used (i=1,2,3,...MaxHops).<a class="pilcrow" href="#section-3.3-2.8">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.9">T0:</dt>
          <dd id="section-3.3-2.10" style="margin-left: 1.5em">a time (start of measurement interval).<a class="pilcrow" href="#section-3.3-2.10">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.11">Tf:</dt>
          <dd id="section-3.3-2.12" style="margin-left: 1.5em">a time (end of measurement interval).<a class="pilcrow" href="#section-3.3-2.12">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.13">MP(address):</dt>
          <dd id="section-3.3-2.14" style="margin-left: 1.5em">the Measurement Point at address, such as Src or Dst,
            usually at the same Node stack layer as "address".<a class="pilcrow" href="#section-3.3-2.14">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.15">T:</dt>
          <dd id="section-3.3-2.16" style="margin-left: 1.5em"> the Node time of a packet as measured at MP(Src), meaning
            Measurement Point at the Source.<a class="pilcrow" href="#section-3.3-2.16">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.17">Ta:</dt>
          <dd id="section-3.3-2.18" style="margin-left: 1.5em"> the Node time of a reply packet's <strong>arrival</strong> as measured at
            MP(Src), assigned to packets that arrive within a "reasonable"
            time (see parameter below).<a class="pilcrow" href="#section-3.3-2.18">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.19">Tmax:</dt>
          <dd id="section-3.3-2.20" style="margin-left: 1.5em"> a maximum waiting time for reply packets to return to the
            source, set sufficiently long to disambiguate packets with long
            delays from packets that are discarded (lost), such that the
            distribution of Round-Trip Delay is not truncated.<a class="pilcrow" href="#section-3.3-2.20">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.21">F:</dt>
          <dd id="section-3.3-2.22" style="margin-left: 1.5em"> the number of different flows simulated by the method and
            variant.<a class="pilcrow" href="#section-3.3-2.22">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.23">flow:</dt>
          <dd id="section-3.3-2.24" style="margin-left: 1.5em"> the stream of packets with the same n-tuple of designated
            header fields that (when held constant) result in identical
            treatment in a multipath decision (such as the decision taken in
            load balancing). Note: The IPv6 flow label <span class="bcp14">MAY</span> be included in the
            flow definition if the MP(Src) is a Tunnel Endpoint (TEP)
            complying with the guidelines in <span>[<a class="xref" href="#RFC6438">RFC6438</a>]</span>.<a class="pilcrow" href="#section-3.3-2.24">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-2.25">Type-P:</dt>
          <dd id="section-3.3-2.26" style="margin-left: 1.5em"> the complete description of the packets for which this
            assessment applies (including the flow-defining fields).<a class="pilcrow" href="#section-3.3-2.26">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<div id="Metric">
<section id="section-3.4">
        <h3 id="name-metric-definitions">
<a class="section-number selfRef" href="#section-3.4">3.4. </a><a class="section-name selfRef" href="#name-metric-definitions">Metric Definitions</a>
        </h3>
<p id="section-3.4-1">This section defines the <span class="bcp14">REQUIRED</span> measurement components of the
        Route metrics (unless otherwise indicated):<a class="pilcrow" href="#section-3.4-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.4-2">
          <dt id="section-3.4-2.1">M:</dt>
          <dd id="section-3.4-2.2" style="margin-left: 1.5em"> the total number of packets sent between T0 and Tf.<a class="pilcrow" href="#section-3.4-2.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-2.3">N:</dt>
          <dd id="section-3.4-2.4" style="margin-left: 1.5em"> the smallest value of i needed for a packet to be received at
        Dst (sent between T0 and Tf).<a class="pilcrow" href="#section-3.4-2.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-3.4-2.5">Nmax:</dt>
          <dd id="section-3.4-2.6" style="margin-left: 1.5em"> the largest value of i needed for a packet to be received at
        Dst (sent between T0 and Tf). Nmax may be equal to N.<a class="pilcrow" href="#section-3.4-2.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-3.4-3">Next, define a <strong>singleton</strong> for a Node on the path with
        sufficient indexes to identify all Nodes identified in a measurement
        interval (where <strong>singleton</strong> is part of the IPPM Framework <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span>).<a class="pilcrow" href="#section-3.4-3">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3.4-4">
          <dt id="section-3.4-4.1">singleton:</dt>
          <dd id="section-3.4-4.2" style="margin-left: 1.5em">A Hop specification, designated h(i,j), the IP address and/or
        identity of Discoverable Nodes (or Cooperating Nodes) that are i Hops
        away from the Node with address = Src and part of Route j during the
        measurement interval T0 to Tf. As defined here, a Hop singleton
        measurement <span class="bcp14">MUST</span> contain a Node identity, hid(i,j), and <span class="bcp14">MAY</span> contain
        one or more of the following attributes:<a class="pilcrow" href="#section-3.4-4.2">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<ul class="normal">
<li class="normal" id="section-3.4-5.1">a(i,j) Arrival Interface ID (e.g., when <span>[<a class="xref" href="#RFC5837">RFC5837</a>]</span> is supported)<a class="pilcrow" href="#section-3.4-5.1">¶</a>
</li>
          <li class="normal" id="section-3.4-5.2">d(i,j) Departure Interface ID (e.g., when <span>[<a class="xref" href="#RFC5837">RFC5837</a>]</span> is supported)<a class="pilcrow" href="#section-3.4-5.2">¶</a>
</li>
          <li class="normal" id="section-3.4-5.3">t(i,j) arrival timestamp, where t(i,j) is ideally supplied by
            the Hop (note that t(i,j) might be approximated from the sending
            time of the packet that revealed the Hop, e.g., when the
   round-trip response time is available and divided by 2)<a class="pilcrow" href="#section-3.4-5.3">¶</a>
</li>
          <li class="normal" id="section-3.4-5.4">Measurements of Round-Trip Delay (for each packet that reveals
            the same Node identity and flow attributes, then this attribute is
            computed; see next section)<a class="pilcrow" href="#section-3.4-5.4">¶</a>
</li>
        </ul>
<p id="section-3.4-6">Node identities and related information can be ordered by their
        distance from the Node with address Src in Hops h(i,j). Based on this,
        two forms of Routes are distinguished:<a class="pilcrow" href="#section-3.4-6">¶</a></p>
<p id="section-3.4-7">A Route Ensemble is defined as the combination of all Routes
        traversed by different flows from the Node at Src address to the Node
        at Dst address. A single Route traversed by a single flow (determined
        by an unambiguous tuple of addresses Src and Dst and other identical
        flow criteria) is a member of the Route Ensemble and called a Member
        Route.<a class="pilcrow" href="#section-3.4-7">¶</a></p>
<p id="section-3.4-8">Using h(i,j) and components and parameters further define:<a class="pilcrow" href="#section-3.4-8">¶</a></p>
<p id="section-3.4-9">When considering the set of Hops in the context of a single flow, a
        Member Route j is an ordered list {h(1,j), ... h(Nj, j)} where h(i-1,
        j) and h(i, j) are one Hop away from each other and Nj satisfying
        h(Nj,j)=Dst is the minimum count of Hops needed by the packet on
        member Route j to reach Dst. Member Routes must be unique. The
        uniqueness property requires that any two Member Routes, j and k, that
        are part of the same Route Ensemble differ either in terms of minimum
        Hop count Nj and Nk to reach the destination Dst or, in the case of
        identical Hop count Nj=Nk, they have at least one distinct Hop: h(i,j)
        != h(i,k) for at least one i (i=1..Nj).<a class="pilcrow" href="#section-3.4-9">¶</a></p>
<p id="section-3.4-10">All the optional information collected to describe a Member Route,
        such as the arrival interface, departure interface, and Round-Trip
        Delay at each Hop, turns each list item into a rich structure. There
        may be information on the links between Hops, possible information on
        the routing (arrival interface and departure interface), an estimate
        of distance between Hops based on Round-Trip Delay measurements and
        calculations, and a timestamp indicating when all these additional
        details were measured.<a class="pilcrow" href="#section-3.4-10">¶</a></p>
<p id="section-3.4-11">The Route Ensemble from Src to Dst, during the measurement interval
        T0 to Tf, is the aggregate of all m distinct Member Routes discovered
        between the two Nodes with Src and Dst addresses. More formally, with
        the Node having address Src omitted:<a class="pilcrow" href="#section-3.4-11">¶</a></p>
<div id="section-3.4-12">
<pre class="sourcecode">Route Ensemble = {
{h(1,1), h(2,1), h(3,1), ... h(N1,1)=Dst},
{h(1,2), h(2,2), h(3,2),..., h(N2,2)=Dst},
...
{h(1,m), h(2,m), h(3,m), ....h(Nm,m)=Dst}
}
</pre><a class="pilcrow" href="#section-3.4-12">¶</a>
</div>
<p id="section-3.4-13">where the following conditions apply: i &lt;= Nj &lt;= Nmax
        (j=1..m)<a class="pilcrow" href="#section-3.4-13">¶</a></p>
<p id="section-3.4-14">Note that some h(i,j) may be empty (null) in the case that systems
        do not reply (not discoverable or not cooperating).<a class="pilcrow" href="#section-3.4-14">¶</a></p>
<p id="section-3.4-15">h(i-1,j) and h(i,j) are the Hops on the same Member Route one Hop
        away from each other.<a class="pilcrow" href="#section-3.4-15">¶</a></p>
<p id="section-3.4-16">Hop h(i,j) may be identical with h(k,l) for i!=k and j!=l, which
        means there may be portions shared among different Member Routes
        (parts of Member Routes may overlap).<a class="pilcrow" href="#section-3.4-16">¶</a></p>
</section>
</div>
<section id="section-3.5">
        <h3 id="name-related-round-trip-delay-an">
<a class="section-number selfRef" href="#section-3.5">3.5. </a><a class="section-name selfRef" href="#name-related-round-trip-delay-an">Related Round-Trip Delay and Loss Definitions</a>
        </h3>
<p id="section-3.5-1">RTD(i,j,T) is defined as a singleton of the <span>[<a class="xref" href="#RFC2681">RFC2681</a>]</span> Round-Trip Delay between the Node with address = 
        Src and the Node at Hop h(i,j) at time T.<a class="pilcrow" href="#section-3.5-1">¶</a></p>
<p id="section-3.5-2">RTL(i,j,T) is defined as a singleton of the <span>[<a class="xref" href="#RFC6673">RFC6673</a>]</span> Round-Trip Loss between the Node with address = Src 
        and the Node at Hop h(i,j) at time T.<a class="pilcrow" href="#section-3.5-2">¶</a></p>
</section>
<section id="section-3.6">
        <h3 id="name-discussion">
<a class="section-number selfRef" href="#section-3.6">3.6. </a><a class="section-name selfRef" href="#name-discussion">Discussion</a>
        </h3>
<p id="section-3.6-1">Depending on the way that the Node identity is revealed, it may be
        difficult to determine parallel subpaths between the same pair of
        Nodes (i.e., multiple parallel links). It is easier to detect parallel
        subpaths involving different Nodes.<a class="pilcrow" href="#section-3.6-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.6-2.1">If a pair of discovered Nodes identify two different addresses
            (IP or not), then they will appear to be different Nodes. See item
            below.<a class="pilcrow" href="#section-3.6-2.1">¶</a>
</li>
          <li class="normal" id="section-3.6-2.2">If a pair of discovered Nodes identify two different IP
            addresses and the IP addresses resolve to the same Node name (in
            the DNS), then they will appear to be the same Node.<a class="pilcrow" href="#section-3.6-2.2">¶</a>
</li>
          <li class="normal" id="section-3.6-2.3">If a discovered Node always replies using the same network
            address, regardless of the interface a packet arrives on, then
            multiple parallel links cannot be detected in that network domain.
            This condition may apply to traceroute-style methods but may not
            apply to other hybrid methods based on In situ Operations,
            Administration, and Maintenance (IOAM). For example, if the ICMP extension mechanism described in <span>[<a class="xref" href="#RFC5837">RFC5837</a>]</span> is
     implemented, then 
            parallel links can be detected with the discovery traceroute-style
            methods.<a class="pilcrow" href="#section-3.6-2.3">¶</a>
</li>
          <li class="normal" id="section-3.6-2.4">If parallel links between routers are aggregated below the IP
            layer, then, from the Node's point of view, all these links share the
            same pair of IP addresses. The existence of these parallel links
            can't be detected at the IP layer. This applies to other network
            domains with layers below them as well. This condition may apply
            to traceroute-style methods but may not apply to other hybrid
            methods based on IOAM.<a class="pilcrow" href="#section-3.6-2.4">¶</a>
</li>
        </ul>
<p id="section-3.6-3">When a Route assessment employs IP packets (for example), the
        reality of flow assignment to parallel subpaths involves layers above
        IP. Thus, the measured Route Ensemble is applicable to IP and higher
        layers (as described in the methodology's packet of Type-P and flow
        parameters).<a class="pilcrow" href="#section-3.6-3">¶</a></p>
</section>
<section id="section-3.7">
        <h3 id="name-reporting-the-metric">
<a class="section-number selfRef" href="#section-3.7">3.7. </a><a class="section-name selfRef" href="#name-reporting-the-metric">Reporting the Metric</a>
        </h3>
<p id="section-3.7-1">An Information Model and an XML Data Model for Storing Traceroute
        Measurements is available in <span>[<a class="xref" href="#RFC5388">RFC5388</a>]</span>. The measured
        information at each Hop includes four pieces of information: a
        one-dimensional Hop index, Node symbolic address, Node IP address, and
        RTD for each response.<a class="pilcrow" href="#section-3.7-1">¶</a></p>
<p id="section-3.7-2">The description of Hop information that may be collected according
        to this memo covers more dimensions, as defined in <a class="xref" href="#Metric">Section 3.4</a>.
        For example, the Hop index is two-dimensional to capture the
        complexity of a Route Ensemble, and it contains corresponding Node
        identities at a minimum. The models need to be expanded to include
        these features as well as Arrival Interface ID, Departure Interface
        ID, and arrival timestamp, when available. The original sending
        Timestamp from the Src Node anchors a particular measurement in
        time.<a class="pilcrow" href="#section-3.7-2">¶</a></p>
</section>
</section>
<div id="Methodologies">
<section id="section-4">
      <h2 id="name-route-assessment-methodolog">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-route-assessment-methodolog">Route Assessment Methodologies</a>
      </h2>
<p id="section-4-1">There are two classes of methods described in this section, active
      methods relying on the reaction to TTL or Hop Limit Exceeded condition
      to discover Nodes on a path and hybrid active-passive methods that
      involve direct interrogation of Cooperating Nodes (usually within a
      single domain). Description of these methods follow.<a class="pilcrow" href="#section-4-1">¶</a></p>
<section id="section-4.1">
        <h3 id="name-active-methodologies">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-active-methodologies">Active Methodologies</a>
        </h3>
<p id="section-4.1-1">This section describes the method employed by current open-source
        tools, thereby providing a practical framework for further advanced
        techniques to be included as method variants. This method is
        applicable for use across multiple administrative domains.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">Internet routing is complex because it depends on the policies of
        thousands of Autonomous Systems (ASes). Most routers perform load
        balancing on flows using a form of ECMP.
        <span>[<a class="xref" href="#RFC2991">RFC2991</a>]</span> describes a number of flow-based or hashed
        approaches (e.g., Modulo-N Hash, Hash-Threshold, and Highest Random Weight
        (HRW)) and makes some good suggestions. Flow-based ECMP avoids
        increased packet Delay Variation and possibly overwhelming levels of
        packet reordering in flows.<a class="pilcrow" href="#section-4.1-2">¶</a></p>
<p id="section-4.1-3">A few routers still divide the workload through packet-based
        techniques, such as a round-robin scheme to distribute every new
        outgoing packet to multiple links, as explained in <span>[<a class="xref" href="#RFC2991">RFC2991</a>]</span>. The methods described in this
 section assume flow-based ECMP.<a class="pilcrow" href="#section-4.1-3">¶</a></p>
<p id="section-4.1-4">Taking into account that Internet protocol was designed under the
        "end-to-end" principle, the IP payload and its header do
        not provide any information about the Routes or path necessary to
        reach some destination. For this reason, the popular tool, traceroute,
        was developed to gather the IP addresses of each Hop along a path
        using ICMP <span>[<a class="xref" href="#RFC0792">RFC0792</a>]</span>. Traceroute also
        measures RTD from each Hop. However, the growing complexity of the
        Internet makes it more challenging to develop an accurate traceroute
        implementation. For instance, the early traceroute tools would be
        inaccurate in the current network, mainly because they were not
        designed to retain a flow state. However, evolved traceroute tools,
        such as Paris-traceroute (<span>[<a class="xref" href="#PT">PT</a>]</span> <span>[<a class="xref" href="#MLB">MLB</a>]</span>) and 
        Scamper (<span>[<a class="xref" href="#SCAMPER">SCAMPER</a>]</span>), expect to encounter ECMP and achieve
        more accurate results when they do, where Scamper ensures traceroute
        packets will follow the same path in 98% of cases (<span>[<a class="xref" href="#SCAMPER">SCAMPER</a>]</span>).<a class="pilcrow" href="#section-4.1-4">¶</a></p>
<p id="section-4.1-5">Today's traceroute tools send Type-P of packets, which are either ICMP, UDP,
        or TCP. UDP and TCP are used when a particular characteristic needs to
        be verified, such as filtering or traffic shaping on specific ports
        (i.e., services). UDP and TCP traceroute are also used when ICMP
        responses are not received. <span>[<a class="xref" href="#SCAMPER">SCAMPER</a>]</span> supports IPv6
        traceroute measurements, keeping the Flow Label constant in all
        packets.<a class="pilcrow" href="#section-4.1-5">¶</a></p>
<p id="section-4.1-6">Paris-traceroute allows its users to measure the RTD to every Node
        of the path for a particular flow. Furthermore, either
        Paris-traceroute or Scamper is capable of unveiling the many available
        paths between a source and destination (which are visible to active
        methods). This task is accomplished by repeating complete traceroute
        measurements with different flow parameters for each measurement;
        Paris-traceroute provides an "exhaustive" mode, while Scamper
        provides "tracelb" (which stands for "traceroute load balance").
        <span><a class="xref" href="#RFC2330">"Framework for IP Performance Metrics"</a> [<a class="xref" href="#RFC2330">RFC2330</a>]</span>, updated by <span>[<a class="xref" href="#RFC7312">RFC7312</a>]</span>, has the 
        flexibility to require that the Round-Trip Delay measurement <span>[<a class="xref" href="#RFC2681">RFC2681</a>]</span> uses packets with the constraints
 to assure that 
        all packets in a single measurement appear as the same flow. This
        flexibility covers ICMP, UDP, and TCP. The accompanying methodology of
        <span>[<a class="xref" href="#RFC2681">RFC2681</a>]</span> needs to be expanded to report the sequential
        Hop identifiers along with RTD measurements, but no new metric
        definition is needed.<a class="pilcrow" href="#section-4.1-6">¶</a></p>
<p id="section-4.1-7">The advanced Route assessment methods used in Paris-traceroute
        <span>[<a class="xref" href="#PT">PT</a>]</span> keep the critical fields constant for every packet
        to maintain the appearance of the same flow. When considering IPv6
        headers, it is necessary to ensure that the IP Source and Destination
        addresses and Flow Label are constant (but note that many routers
        ignore the Flow Label field at this time); see <span>[<a class="xref" href="#RFC6437">RFC6437</a>]</span>. Use of IPv6 Extension Headers may add critical 
        fields and <span class="bcp14">SHOULD</span> be avoided. In IPv4, certain fields of the IP
        header and the first 4 bytes of the IP payload should remain
        constant in a flow. In the IPv4 header, the IP Source and Destination
        addresses, protocol number, and Diffserv fields identify flows. The
        first 4 payload bytes include the UDP and TCP ports and the ICMP
        type, code, and checksum fields.<a class="pilcrow" href="#section-4.1-7">¶</a></p>
<p id="section-4.1-8">Maintaining a constant ICMP checksum in IPv4 is most challenging,
        as the ICMP sequence number or identifier fields will usually change
        for different probes of the same path. Probes should use arbitrary
        bytes in the ICMP data field to offset changes to the sequence number and
        identifier, thus keeping the checksum constant.<a class="pilcrow" href="#section-4.1-8">¶</a></p>
<p id="section-4.1-9">Finally, it is also essential to Route the resulting ICMP Time
        Exceeded messages along a consistent path. In IPv6, the fields above
        are sufficient.
 In IPv4, the ICMP Time Exceeded message will contain
        the IP header and the first 8 bytes of the IP payload, both of which
        affect its ICMP checksum calculation. The TCP sequence number, UDP length, and
        UDP checksum will affect this value and should remain constant.<a class="pilcrow" href="#section-4.1-9">¶</a></p>
<p id="section-4.1-10">Formally, to maintain the same flow in the measurements to a
        particular Hop, the Type-P-Route-Ensemble-Method-Variant packets
        should have the following attributes (see <span>[<a class="xref" href="#PT">PT</a>]</span>):<a class="pilcrow" href="#section-4.1-10">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1-11">
          <dt id="section-4.1-11.1">TCP case:</dt>
          <dd id="section-4.1-11.2" style="margin-left: 1.5em"> For IPv4, the fields Src, Dst, port-Src, port_Dst,
            sequence number, and Diffserv <span class="bcp14">SHOULD</span> be the same. For IPv6,
            the fields Flow Label, Src, and Dst <span class="bcp14">SHOULD</span> be the same.<a class="pilcrow" href="#section-4.1-11.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-11.3">UDP case:</dt>
          <dd id="section-4.1-11.4" style="margin-left: 1.5em"> For IPv4, the fields Src, Dst, port-Src, port-Dst, and
            Diffserv should be the same, and the UDP checksum <span class="bcp14">SHOULD</span> change to
            keep the IP checksum of the ICMP Time Exceeded reply constant.
            Then, the data length should be fixed, and the data field is used
            to make it so (consider that ICMP checksum uses its data field,
            which contains the original IP header plus 8 bytes of UDP, where
            TTL, IP identification, IP checksum, and UDP checksum changes).
            For IPv6, the field Flow Label and Source and Destination
            addresses <span class="bcp14">SHOULD</span> be the same.<a class="pilcrow" href="#section-4.1-11.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-11.5">ICMP case:</dt>
          <dd id="section-4.1-11.6" style="margin-left: 1.5em"> For IPv4, the data field <span class="bcp14">SHOULD</span> compensate
            variations on TTL or Hop Limit, IP identification, and IP checksum
            for every packet. There is no need to consider ICMPv6 because only
            Flow Label of IPv6 and Source and Destination addresses are used,
            and all of them <span class="bcp14">SHOULD</span> be constant.<a class="pilcrow" href="#section-4.1-11.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-12">Then, the way to identify different Hops and attempts of the same
        IPv4 flow is:<a class="pilcrow" href="#section-4.1-12">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1-13">
          <dt id="section-4.1-13.1">TCP case:</dt>
          <dd id="section-4.1-13.2" style="margin-left: 1.5em"> The IP identification field.<a class="pilcrow" href="#section-4.1-13.2">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-13.3">UDP case:</dt>
          <dd id="section-4.1-13.4" style="margin-left: 1.5em"> The IP identification field.<a class="pilcrow" href="#section-4.1-13.4">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-13.5">ICMP case:</dt>
          <dd id="section-4.1-13.6" style="margin-left: 1.5em"> The IP identification field and ICMP sequence
            number.<a class="pilcrow" href="#section-4.1-13.6">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<section id="section-4.1.1">
          <h4 id="name-temporal-composition-for-ro">
<a class="section-number selfRef" href="#section-4.1.1">4.1.1. </a><a class="section-name selfRef" href="#name-temporal-composition-for-ro">Temporal Composition for Route Metrics</a>
          </h4>
<p id="section-4.1.1-1">The active Route assessment methods described above have the
          ability to discover portions of a path where ECMP load balancing is
          present, observed as two or more unique Member Routes having one or
          more distinct Hops that are part of the Route Ensemble. Likewise,
          attempts to deliberately vary the flow characteristics to discover
          all Member Routes will reveal portions of the path that are
          flow invariant.<a class="pilcrow" href="#section-4.1.1-1">¶</a></p>
<p id="section-4.1.1-2"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc2330#section-9.2">Section 9.2</a> of [<a class="xref" href="#RFC2330">RFC2330</a>]</span> describes the Temporal
          Composition of metrics and introduces the possibility of a
          relationship between earlier measurement results and the results for
          measurement at the current time (for a given metric). There is value
          in establishing a Temporal Composition relationship for Route
          metrics; however, this relationship does not represent a forecast of
          future Route conditions in any way.<a class="pilcrow" href="#section-4.1.1-2">¶</a></p>
<p id="section-4.1.1-3">For Route-metric measurements, the value of Temporal Composition
          is to reduce the measurement iterations required with repeated
          measurements. Reduced iterations are possible by inferring that
          current measurements using fixed and previously measured flow
          characteristics:<a class="pilcrow" href="#section-4.1.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.1-4.1">will have many common Hops with previous measurements.<a class="pilcrow" href="#section-4.1.1-4.1">¶</a>
</li>
            <li class="normal" id="section-4.1.1-4.2">will have relatively time-stable results at the ingress and
              egress portions of the path when measured from user locations,
              as opposed to measurements of backbone networks and across
              inter-domain gateways.<a class="pilcrow" href="#section-4.1.1-4.2">¶</a>
</li>
            <li class="normal" id="section-4.1.1-4.3">may have greater potential for time variation in path
              portions where ECMP load balancing is observed (because
              increasing or decreasing the pool of links changes the hash
              calculations).<a class="pilcrow" href="#section-4.1.1-4.3">¶</a>
</li>
          </ul>
<p id="section-4.1.1-5">Optionally, measurement systems may take advantage of the
          inferences above when seeking to reduce measurement iterations
          after exhaustive measurements indicate that the time-stable
          properties are present. Repetitive active Route measurement
          systems:<a class="pilcrow" href="#section-4.1.1-5">¶</a></p>
<ol class="normal type-1" id="section-4.1.1-6" start="1" type="1">
     <li id="section-4.1.1-6.1">
              <span class="bcp14">SHOULD</span> occasionally check path portions that have exhibited
              stable results over time, particularly ingress and egress
              portions of the path (e.g., daily checks if measuring many times
              during a day).<a class="pilcrow" href="#section-4.1.1-6.1">¶</a>
</li>
            <li id="section-4.1.1-6.2">
              <span class="bcp14">SHOULD</span> continue testing portions of the path that have
              previously exhibited ECMP load balancing.<a class="pilcrow" href="#section-4.1.1-6.2">¶</a>
</li>
            <li id="section-4.1.1-6.3">
              <span class="bcp14">SHALL</span> trigger reassessment of the complete path and Route
              Ensemble if any change in Hops is observed for a specific (and
              previously tested) flow.<a class="pilcrow" href="#section-4.1.1-6.3">¶</a>
</li>
          </ol>
<p id="section-4.1.1-7"></p>
</section>
<section id="section-4.1.2">
          <h4 id="name-routing-class-identificatio">
<a class="section-number selfRef" href="#section-4.1.2">4.1.2. </a><a class="section-name selfRef" href="#name-routing-class-identificatio">Routing Class Identification</a>
          </h4>
<p id="section-4.1.2-1">There is an opportunity to apply the notion from <span>[<a class="xref" href="#RFC2330">RFC2330</a>]</span>
          of equal treatment for a class of packets, "...very useful to
          know if a given Internet component treats equally a class C of
          different types of packets", as it applies to Route measurements.
          The notion of class C was examined further in <span>[<a class="xref" href="#RFC8468">RFC8468</a>]</span> as it applied to load-balancing flows over 
          parallel paths, which is the case we develop here. Knowledge of
          class C parameters (unrelated to address classes of the past) on a
          path potentially reduces the number of flows required for a given
          method to assess a Route Ensemble over time.<a class="pilcrow" href="#section-4.1.2-1">¶</a></p>
<p id="section-4.1.2-2">First, recognize that each Member Route of a Route Ensemble will
          have a corresponding class C. Class C can be discovered by testing
          with multiple flows, all of which traverse the unique set of Hops
          that comprise a specific Member Route.<a class="pilcrow" href="#section-4.1.2-2">¶</a></p>
<p id="section-4.1.2-3">Second, recognize that the different classes depend primarily on
          the hash functions used at each instance of ECMP load balancing on
          the path.<a class="pilcrow" href="#section-4.1.2-3">¶</a></p>
<p id="section-4.1.2-4">Third, recognize the synergy with Temporal Composition methods
          (described above), where evaluation intends to discover time-stable
          portions of each Member Route so that more emphasis can be placed
          on ECMP portions that also determine class C.<a class="pilcrow" href="#section-4.1.2-4">¶</a></p>
<p id="section-4.1.2-5">The methods to assess the various class C characteristics benefit
          from the following measurement capabilities:<a class="pilcrow" href="#section-4.1.2-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.2-6.1">flows designed to determine which n-tuple header fields are
              considered by a given hash function and ECMP Hop on the path
              and which are not. This operation immediately narrows the search
              space, where possible, and partially defines a class C.<a class="pilcrow" href="#section-4.1.2-6.1">¶</a>
</li>
            <li class="normal" id="section-4.1.2-6.2">a priori knowledge of the possible types of hash functions in
              use also helps to design the flows for testing (major router
              vendors publish information about these hash functions; examples
              are in <span>[<a class="xref" href="#LOAD_BALANCE">LOAD_BALANCE</a>]</span>).<a class="pilcrow" href="#section-4.1.2-6.2">¶</a>
</li>
            <li class="normal" id="section-4.1.2-6.3">ability to direct the emphasis of current measurements on
              ECMP portions of the path, based on recent past measurement
              results (the Routing Class of some portions of the path is
              essentially "all packets").<a class="pilcrow" href="#section-4.1.2-6.3">¶</a>
</li>
          </ul>
<p id="section-4.1.2-7"></p>
</section>
<section id="section-4.1.3">
          <h4 id="name-intermediate-observation-po">
<a class="section-number selfRef" href="#section-4.1.3">4.1.3. </a><a class="section-name selfRef" href="#name-intermediate-observation-po">Intermediate Observation Point Route Measurement</a>
          </h4>
<p id="section-4.1.3-1">There are many examples where passive monitoring of a flow at an
          Observation Point within the network can detect unexpected
   Round-Trip Delay or Delay Variation. But how can the cause of the 
          anomalous delay be investigated further <strong>from the Observation Point</strong>
          possibly located at an intermediate point on the path?<a class="pilcrow" href="#section-4.1.3-1">¶</a></p>
<p id="section-4.1.3-2">In this case, knowledge that the flow of interest belongs to a
          specific Routing Class C will enable measurement of the Route where
          anomalous delay has been observed. Specifically, Round-Trip Delay
          assessment to each Hop on the path between the Observation Point and
          the Destination for the flow of interest may discover high or
          variable delay on a specific link and Hop combination.<a class="pilcrow" href="#section-4.1.3-2">¶</a></p>
<p id="section-4.1.3-3">The determination of a Routing Class C that includes the flow of
          interest is as described in the section above, aided by computation
          of the relevant hash function output as the target.<a class="pilcrow" href="#section-4.1.3-3">¶</a></p>
<p id="section-4.1.3-4"></p>
</section>
</section>
<section id="section-4.2">
        <h3 id="name-hybrid-methodologies">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-hybrid-methodologies">Hybrid Methodologies</a>
        </h3>
<p id="section-4.2-1">The Hybrid Type I methods provide an alternative for Route
        assessment.
 The "Scope, Applicability, and Assumptions" section of <span>[<a class="xref" href="#RFC9197">RFC9197</a>]</span> provides one possible set of data 
        fields that would support Route identification.<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">In general, Nodes in the measured domain would be equipped with
        specific abilities:<a class="pilcrow" href="#section-4.2-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-3.1">Store the identity of Nodes that a packet has visited in header
            data fields in the order the packet visited the Nodes.<a class="pilcrow" href="#section-4.2-3.1">¶</a>
</li>
          <li class="normal" id="section-4.2-3.2">Support of a "Loopback" capability where a copy of the packet
            is returned to the encapsulating Node and the packet is processed
            like any other IOAM packet on the return transfer.<a class="pilcrow" href="#section-4.2-3.2">¶</a>
</li>
        </ul>
<p id="section-4.2-4">In addition to Node identity, Nodes may also identify the ingress
        and egress interfaces utilized by the tracing packet, the absolute
        time when the packet was processed, and other generic data (as
        described in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc9197#section-3">Section 3</a> of [<a class="xref" href="#RFC9197">RFC9197</a>]</span>).
        Interface identification isn't necessarily limited to IP, i.e.,
        different links in a bundle (Link Aggregation Control Protocol (LACP))
 could be identified. Equally well, 
        links without explicit IP addresses can be identified (like with
        unnumbered interfaces in an IGP deployment).<a class="pilcrow" href="#section-4.2-4">¶</a></p>
<p id="section-4.2-5">Note that the Type-P packet specification for this method will
        likely be a partial specification because most of the packet fields
        are determined by the user traffic. The packet encapsulation
        header or headers added by the hybrid method can certainly be specified in
        Type-P, in unpopulated form.<a class="pilcrow" href="#section-4.2-5">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-combining-different-methods">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-combining-different-methods">Combining Different Methods</a>
        </h3>
<p id="section-4.3-1">In principle, there are advantages if the entity conducting Route
        measurements can utilize both forms of advanced methods (active and
        hybrid) and combine the results. For example, if there are Nodes
        involved in the path that qualify as Cooperating Nodes but not as
        Discoverable Nodes, then a more complete view of Hops on the path is
        possible when a hybrid method (or interrogation protocol) is applied
        and the results are combined with the active method results collected
        across all other domains.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">In order to combine the results of active and hybrid/interrogation
        methods, the network Nodes that are part of a domain supporting an
        interrogation protocol have the following attributes:<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<ol class="normal type-1" id="section-4.3-3" start="1" type="1">
   <li id="section-4.3-3.1">Nodes at the ingress to the domain <span class="bcp14">SHOULD</span> be both Discoverable
            and Cooperating.<a class="pilcrow" href="#section-4.3-3.1">¶</a>
</li>
          <li id="section-4.3-3.2">Any Nodes within the domain that are both Discoverable and
            Cooperating <span class="bcp14">SHOULD</span> reveal the same Node identity in response to
            both active and hybrid methods.<a class="pilcrow" href="#section-4.3-3.2">¶</a>
</li>
          <li id="section-4.3-3.3">Nodes at the egress to the domain <span class="bcp14">SHOULD</span> be both Discoverable
            and Cooperating and <span class="bcp14">SHOULD</span> reveal the same Node identity in
            response to both active and hybrid methods.<a class="pilcrow" href="#section-4.3-3.3">¶</a>
</li>
        </ol>
<p id="section-4.3-4">When Nodes follow these requirements, it becomes a simple matter to
        match single-domain measurements with the overlapping results from a
        multidomain measurement.<a class="pilcrow" href="#section-4.3-4">¶</a></p>
<p id="section-4.3-5">In practice, Internet users do not typically have the ability to
        utilize the Operations, Administrations, and Maintenance (OAM)
 capabilities of networks that their packets traverse,
        so the results from a remote domain supporting an interrogation
        protocol would not normally be accessible. However, a network operator
        could combine interrogation results from their access domain with
        other measurements revealing the path outside their domain.<a class="pilcrow" href="#section-4.3-5">¶</a></p>
</section>
</section>
</div>
<div id="Cases">
<section id="section-5">
      <h2 id="name-background-on-round-trip-de">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-background-on-round-trip-de">Background on Round-Trip Delay Measurement Goals</a>
      </h2>
<p id="section-5-1">The aim of this method is to use packet probes to unveil the paths
      between any two End-Nodes of the network. Moreover, information derived
      from RTD measurements might be meaningful to identify:<a class="pilcrow" href="#section-5-1">¶</a></p>
<ol class="normal type-1" id="section-5-2" start="1" type="1">
 <li id="section-5-2.1">Intercontinental submarine links<a class="pilcrow" href="#section-5-2.1">¶</a>
</li>
        <li id="section-5-2.2">Satellite communications<a class="pilcrow" href="#section-5-2.2">¶</a>
</li>
        <li id="section-5-2.3">Congestion<a class="pilcrow" href="#section-5-2.3">¶</a>
</li>
        <li id="section-5-2.4">Inter-domain paths<a class="pilcrow" href="#section-5-2.4">¶</a>
</li>
      </ol>
<p id="section-5-3">This categorization is widely accepted in the literature and among
      operators alike, and it can be trusted with empirical data and several
      sources as ground of truth (e.g., <span>[<a class="xref" href="#RTTSub">RTTSub</a>]</span>), but it is an
      inference measurement nonetheless <span>[<a class="xref" href="#bdrmap">bdrmap</a>]</span> <span>[<a class="xref" href="#IDCong">IDCong</a>]</span>.<a class="pilcrow" href="#section-5-3">¶</a></p>
<p id="section-5-4">The first two categories correspond to the physical distance
      dependency on RTD, the next one binds RTD with
      queuing delay on routers, and the last one helps to identify different
      ASes using traceroutes. Due to the significant contribution of
      propagation delay in long-distance Hops, RTD will be on the order of
      100 ms on transatlantic Hops, depending on the geolocation of the vantage
      points. Moreover, RTD is typically higher than 480 ms when two Hops are
      connected using geostationary satellite technology (i.e., their orbit is
      at 36000 km). Detecting congestion with latency implies deeper
      mathematical understanding, since network traffic load is not stationary.
      Nonetheless, as the first approach, a link seems to be congested if
      observing different/varying statistical results after sending several
      traceroute probes (e.g., see <span>[<a class="xref" href="#IDCong">IDCong</a>]</span>). Finally, to
      recognize distinctive ASes in the same traceroute path is challenging
      because more data is needed, like AS relationships and Regional Internet
      Registry (RIR) delegations
      among others (for more details, please consult <span>[<a class="xref" href="#bdrmap">bdrmap</a>]</span>).<a class="pilcrow" href="#section-5-4">¶</a></p>
</section>
</div>
<div id="Statistics">
<section id="section-6">
      <h2 id="name-rtd-measurements-statistics">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-rtd-measurements-statistics">RTD Measurements Statistics</a>
      </h2>
<p id="section-6-1">Several articles have shown that network traffic presents a
      self-similar nature <span>[<a class="xref" href="#SSNT">SSNT</a>]</span> <span>[<a class="xref" href="#MLRM">MLRM</a>]</span> that is 
      accountable for filling the queues of the routers. Moreover, router
      queues are designed to handle traffic bursts, which is one of the most
      remarkable features of self-similarity. Naturally, while queue length
      increases, the delay to traverse the queue increases as well and leads
      to an increase on RTD. Due to traffic bursts generating short-term
      overflow on buffers (spiky patterns), every RTD only depicts the
      queueing status on the instant when that packet probe was in transit.
      For this reason, several RTD measurements during a time window could
      begin to describe the random behavior of latency. Loss must also be
      accounted for in the methodology.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">To understand the ongoing process, examining the quartiles provides a
      nonparametric way of analysis. Quartiles are defined by five values:
      minimum RTD (m), RTD value of the 25% of the Empirical Cumulative
      Distribution Function (ECDF) (Q1), the median value (Q2), the RTD value
      of the 75% of the ECDF (Q3), and the maximum RTD (M). Congestion can be
      inferred when RTD measurements are spread apart; consequently, the
      Interquartile Range (IQR), i.e., the distance between Q3 and Q1, increases
      its value.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">This procedure requires the algorithm presented in <span>[<a class="xref" href="#P2">P2</a>]</span> to compute quartile values "on the fly".<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">This procedure allows us to update the quartile values whenever a new
      measurement arrives, which is radically different from classic methods
      of computing quartiles, because they need to use the whole dataset to
      compute the values. This way of calculus provides savings in memory and
      computing time.<a class="pilcrow" href="#section-6-4">¶</a></p>
<p id="section-6-5">To sum up, the proposed measurement procedure consists of performing
      traceroutes several times to obtain samples of the RTD in every Hop from
      a path during a time window (W) and compute the quartiles for every
      Hop. This procedure could be done for a single Member Route flow, for a
      non-exhaustive search with parameter E (defined below) set to False, or
      for every detected Route Ensemble flow (E=True).<a class="pilcrow" href="#section-6-5">¶</a></p>
<p id="section-6-6">The identification of a specific Hop in a traceroute is based on the IP
      origin address of the returned ICMP Time Exceeded packet and on the
      distance identified by the value set in the TTL (or Hop Limit) field
      inserted by traceroute. As this specific Hop can be reached by different
      paths, the IP Source and Destination addresses of the traceroute
      packet also need to be recorded. Finally, different return paths are
      distinguished by evaluating the ICMP Time Exceeded TTL (or Hop Limit) of
      the reply message; if this TTL (or Hop Limit) is constant for different
      paths containing the same Hop, the return paths have the same distance.
      Moreover, this distance can be estimated considering that the TTL (or
      Hop Limit) value is normally initialized with values 64, 128, or 255.
      The 5-tuple (origin IP, destination IP, reply IP, distance, and response TTL
      or Hop Limit) unequivocally identifies every measurement.<a class="pilcrow" href="#section-6-6">¶</a></p>
<p id="section-6-7">This algorithm below runs in the origin of the traceroute. It returns
      the Qs quartiles for every Hop and Alt (alternative paths because of
      balancing). Notice that the "Alt" parameter condenses the parameters of
      the 5-tuple (origin IP, destination IP, reply IP, distance, and response
      TTL), i.e., one for each possible combination.<a class="pilcrow" href="#section-6-7">¶</a></p>
<div id="section-6-8">
<pre class="lang-pseudocode sourcecode">================================================================
0  input:   W (window time of the measurement)
1           i_t (time between two measurements, set the i_t time
2                long enough to avoid incomplete results)
3           E (True: exhaustive, False: a single path)
4           Dst (destination IP address)
5  output:  Qs (quartiles for every Hop and Alt)
----------------------------------------------------------------
6  T := start_timer(W)
7  while T is not finished do:
8  |       start_timer(i_t)
9  |       RTD(Hop,Alt) = advanced-traceroute(Dst,E)
10 |       for each Hop and Alt in RTD do:
11 |       |     Qs[Dst,Hop,Alt] := ComputeQs(RTD(Hop,Alt))
12 |       done
13 |       wait until i_t timer is expired
14 done
15  return (Qs)
================================================================

</pre><a class="pilcrow" href="#section-6-8">¶</a>
</div>
<p id="section-6-9">During the time W, lines 6 and 7 assure that the measurement loop is
      made.
      Lines 8 and 13 set a timer for each cycle of measurements. A cycle
      comprises the traceroutes packets, considering every possible Hop and
      the alternatives paths in the Alt variable (ensured in lines 9-12). In
      line 9, the advanced-traceroute could be either Paris-traceroute or
      Scamper, which will use the "exhaustive" mode or
      "tracelb" option if E is set to True, respectively. The
      procedure returns a list of tuples (m, Q1, Q2, Q3, and M) for each intermediate
      Hop, or "Alt" in as a function of the 5-tuple, in the path towards the
      Dst. Finally, lines 10 through 12 store each measurement into the
      real-time quartiles computation.<a class="pilcrow" href="#section-6-9">¶</a></p>
<p id="section-6-10">Notice there are cases where even having a unique Hop at distance
      h from the Src to Dst, the returning path could have several
      possibilities, yielding different total paths. In this situation, the
      algorithm will return another "Alt" for this particular Hop.<a class="pilcrow" href="#section-6-10">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-7-1">The security considerations that apply to any active measurement of
      live paths are relevant here as well. See <span>[<a class="xref" href="#RFC4656">RFC4656</a>]</span> and
      <span>[<a class="xref" href="#RFC5357">RFC5357</a>]</span>.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">The active measurement process of changing several fields to keep
      the checksum of different packets identical does not require special
      security considerations because it is part of synthetic traffic
      generation and is designed to have minimal to zero impact on network
      processing (to process the packets for ECMP).<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">Some of the protocols used (e.g., ICMP) do not provide cryptographic
      protection for the requested/returned data, and there are risks of
      processing untrusted data in general, but these are limitations of the
      existing protocols where we are applying new methods.<a class="pilcrow" href="#section-7-3">¶</a></p>
<p id="section-7-4">For applicable hybrid methods, the security considerations in <span>[<a class="xref" href="#RFC9197">RFC9197</a>]</span> apply.<a class="pilcrow" href="#section-7-4">¶</a></p>
<p id="section-7-5">When considering the privacy of those involved in measurement or those
      whose traffic is measured, the sensitive information available to
      potential observers is greatly reduced when using active techniques
      that are within this scope of work. Passive observations of user
      traffic for measurement purposes raise many privacy issues. We refer the
      reader to the privacy considerations described in the Large-scale
      Measurement of Broadband Performance (LMAP) Framework <span>[<a class="xref" href="#RFC7594">RFC7594</a>]</span>, which covers active and passive
      techniques.<a class="pilcrow" href="#section-7-5">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document has no IANA actions.<a class="pilcrow" href="#section-8-1">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-9.1">9.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC0792">[RFC0792]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Internet Control Message Protocol"</span>, <span class="seriesInfo">STD 5</span>, <span class="seriesInfo">RFC 792</span>, <span class="seriesInfo">DOI 10.17487/RFC0792</span>, <time class="refDate" datetime="1981-09">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc792">https://www.rfc-editor.org/info/rfc792</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1122">[RFC1122]</dt>
        <dd>
<span class="refAuthor">Braden, R., Ed.</span>, <span class="refTitle">"Requirements for Internet Hosts - Communication Layers"</span>, <span class="seriesInfo">STD 3</span>, <span class="seriesInfo">RFC 1122</span>, <span class="seriesInfo">DOI 10.17487/RFC1122</span>, <time class="refDate" datetime="1989-10">October 1989</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1122">https://www.rfc-editor.org/info/rfc1122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1812">[RFC1812]</dt>
        <dd>
<span class="refAuthor">Baker, F., Ed.</span>, <span class="refTitle">"Requirements for IP Version 4 Routers"</span>, <span class="seriesInfo">RFC 1812</span>, <span class="seriesInfo">DOI 10.17487/RFC1812</span>, <time class="refDate" datetime="1995-06">June 1995</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1812">https://www.rfc-editor.org/info/rfc1812</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2330">[RFC2330]</dt>
        <dd>
<span class="refAuthor">Paxson, V.</span>, <span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Mahdavi, J.</span>, and <span class="refAuthor">M. Mathis</span>, <span class="refTitle">"Framework for IP Performance Metrics"</span>, <span class="seriesInfo">RFC 2330</span>, <span class="seriesInfo">DOI 10.17487/RFC2330</span>, <time class="refDate" datetime="1998-05">May 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2330">https://www.rfc-editor.org/info/rfc2330</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2681">[RFC2681]</dt>
        <dd>
<span class="refAuthor">Almes, G.</span>, <span class="refAuthor">Kalidindi, S.</span>, and <span class="refAuthor">M. Zekauskas</span>, <span class="refTitle">"A Round-trip Delay Metric for IPPM"</span>, <span class="seriesInfo">RFC 2681</span>, <span class="seriesInfo">DOI 10.17487/RFC2681</span>, <time class="refDate" datetime="1999-09">September 1999</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2681">https://www.rfc-editor.org/info/rfc2681</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4656">[RFC4656]</dt>
        <dd>
<span class="refAuthor">Shalunov, S.</span>, <span class="refAuthor">Teitelbaum, B.</span>, <span class="refAuthor">Karp, A.</span>, <span class="refAuthor">Boote, J.</span>, and <span class="refAuthor">M. Zekauskas</span>, <span class="refTitle">"A One-way Active Measurement Protocol (OWAMP)"</span>, <span class="seriesInfo">RFC 4656</span>, <span class="seriesInfo">DOI 10.17487/RFC4656</span>, <time class="refDate" datetime="2006-09">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4656">https://www.rfc-editor.org/info/rfc4656</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5388">[RFC5388]</dt>
        <dd>
<span class="refAuthor">Niccolini, S.</span>, <span class="refAuthor">Tartarelli, S.</span>, <span class="refAuthor">Quittek, J.</span>, <span class="refAuthor">Dietz, T.</span>, and <span class="refAuthor">M. Swany</span>, <span class="refTitle">"Information Model and XML Data Model for Traceroute Measurements"</span>, <span class="seriesInfo">RFC 5388</span>, <span class="seriesInfo">DOI 10.17487/RFC5388</span>, <time class="refDate" datetime="2008-12">December 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5388">https://www.rfc-editor.org/info/rfc5388</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6438">[RFC6438]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span> and <span class="refAuthor">S. Amante</span>, <span class="refTitle">"Using the IPv6 Flow Label for Equal Cost Multipath Routing and Link Aggregation in Tunnels"</span>, <span class="seriesInfo">RFC 6438</span>, <span class="seriesInfo">DOI 10.17487/RFC6438</span>, <time class="refDate" datetime="2011-11">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6438">https://www.rfc-editor.org/info/rfc6438</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6673">[RFC6673]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Round-Trip Packet Loss Metrics"</span>, <span class="seriesInfo">RFC 6673</span>, <span class="seriesInfo">DOI 10.17487/RFC6673</span>, <time class="refDate" datetime="2012-08">August 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6673">https://www.rfc-editor.org/info/rfc6673</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7799">[RFC7799]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Active and Passive Metrics and Methods (with Hybrid Types In-Between)"</span>, <span class="seriesInfo">RFC 7799</span>, <span class="seriesInfo">DOI 10.17487/RFC7799</span>, <time class="refDate" datetime="2016-05">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7799">https://www.rfc-editor.org/info/rfc7799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8029">[RFC8029]</dt>
        <dd>
<span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Swallow, G.</span>, <span class="refAuthor">Pignataro, C., Ed.</span>, <span class="refAuthor">Kumar, N.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">M. Chen</span>, <span class="refTitle">"Detecting Multiprotocol Label Switched (MPLS) Data-Plane Failures"</span>, <span class="seriesInfo">RFC 8029</span>, <span class="seriesInfo">DOI 10.17487/RFC8029</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8029">https://www.rfc-editor.org/info/rfc8029</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8468">[RFC8468]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Fabini, J.</span>, <span class="refAuthor">Elkins, N.</span>, <span class="refAuthor">Ackermann, M.</span>, and <span class="refAuthor">V. Hegde</span>, <span class="refTitle">"IPv4, IPv6, and IPv4-IPv6 Coexistence: Updates for the IP Performance Metrics (IPPM) Framework"</span>, <span class="seriesInfo">RFC 8468</span>, <span class="seriesInfo">DOI 10.17487/RFC8468</span>, <time class="refDate" datetime="2018-11">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8468">https://www.rfc-editor.org/info/rfc8468</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9197">[RFC9197]</dt>
      <dd>
<span class="refAuthor">Brockners, F., Ed.</span>, <span class="refAuthor">Bhandari, S., Ed.</span>, and <span class="refAuthor">T. Mizrahi, Ed.</span>, <span class="refTitle">"Data Fields for In Situ Operations, Administration, and Maintenance (IOAM)"</span>, <span class="seriesInfo">RFC 9197</span>, <span class="seriesInfo">DOI 10.17487/RFC9197</span>, <time class="refDate" datetime="2022-05">May 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9197">https://www.rfc-editor.org/info/rfc9197</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-9.2">9.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="bdrmap">[bdrmap]</dt>
        <dd>
<span class="refAuthor">Luckie, M.</span>, <span class="refAuthor">Dhamdhere, A.</span>, <span class="refAuthor">Huffaker, B.</span>, <span class="refAuthor">Clark, D.</span>, and <span class="refAuthor">KC. Claffy</span>, <span class="refTitle">"bdrmap: Inference of Borders Between IP Networks"</span>, <span class="refContent">Proceedings of the 2016 ACM on Internet Measurement Conference, pp. 381-396</span>, <span class="seriesInfo">DOI 10.1145/2987443.2987467</span>, <time class="refDate" datetime="2016-11">November 2016</time>, <span>&lt;<a href="https://doi.org/10.1145/2987443.2987467">https://doi.org/10.1145/2987443.2987467</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IDCong">[IDCong]</dt>
        <dd>
<span class="refAuthor">Luckie, M.</span>, <span class="refAuthor">Dhamdhere, A.</span>, <span class="refAuthor">Clark, D.</span>, and <span class="refAuthor">B. Huffaker</span>, <span class="refTitle">"Challenges in Inferring Internet Interdomain Congestion"</span>, <span class="refContent">Proceedings of the 2014 Conference on Internet
   Measurement Conference, pp. 15-22</span>, <span class="seriesInfo">DOI 10.1145/2663716.2663741</span>, <time class="refDate" datetime="2014-11">November 2014</time>, <span>&lt;<a href="https://doi.org/10.1145/2663716.2663741">https://doi.org/10.1145/2663716.2663741</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="LOAD_BALANCE">[LOAD_BALANCE]</dt>
        <dd>
<span class="refAuthor">Sanguanpong, S.</span>, <span class="refAuthor">Pittayapitak, W.</span>, and <span class="refAuthor">K. Kasom Koht-Arsa</span>, <span class="refTitle">"COMPARISON OF HASH STRATEGIES FOR FLOW-BASED LOAD BALANCING"</span>, <span class="refContent">International Journal of Electronic
     Commerce Studies, Vol.6, No.2, pp.259-268</span>, <span class="seriesInfo">DOI 10.7903/ijecs.1346</span>, <time class="refDate" datetime="2015-12">December 2015</time>, <span>&lt;<a href="https://doi.org/10.7903/ijecs.1346">https://doi.org/10.7903/ijecs.1346</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MLB">[MLB]</dt>
        <dd>
<span class="refAuthor">Augustin, B.</span>, <span class="refAuthor">Friedman, T.</span>, and <span class="refAuthor">R. Teixeira</span>, <span class="refTitle">"Measuring load-balanced paths in the internet"</span>, <span class="refContent">Proceedings of the 7th ACM SIGCOMM conference on
   Internet measurement, pp. 149-160</span>, <span class="seriesInfo">DOI 10.1145/1298306.1298329</span>, <time class="refDate" datetime="2007-10">October 2007</time>, <span>&lt;<a href="https://doi.org/10.1145/1298306.1298329">https://doi.org/10.1145/1298306.1298329</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MLRM">[MLRM]</dt>
        <dd>
<span class="refAuthor">Fontugne, R.</span>, <span class="refAuthor">Mazel, J.</span>, and <span class="refAuthor">K. Fukuda</span>, <span class="refTitle">"An empirical mixture model for large-scale RTT measurements"</span>, <span class="refContent">2015 IEEE Conference on Computer Communications
   (INFOCOM), pp. 2470-2478</span>, <span class="seriesInfo">DOI 10.1109/INFOCOM.2015.7218636</span>, <time class="refDate" datetime="2015-04">April 2015</time>, <span>&lt;<a href="https://doi.org/10.1109/INFOCOM.2015.7218636">https://doi.org/10.1109/INFOCOM.2015.7218636</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="P2">[P2]</dt>
        <dd>
<span class="refAuthor">Jain, R.</span> and <span class="refAuthor">I. Chlamtac</span>, <span class="refTitle">"The P 2 algorithm for dynamic calculation of quartiles and histograms without storing observations"</span>, <span class="refContent">Communications of the ACM 28.10 (1985): 1076-1085</span>, <span class="seriesInfo">DOI 10.1145/4372.4378</span>, <time class="refDate" datetime="1985-10">October 1985</time>, <span>&lt;<a href="https://doi.org/10.1145/4372.4378">https://doi.org/10.1145/4372.4378</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="PT">[PT]</dt>
        <dd>
<span class="refAuthor">Augustin, B.</span>, <span class="refAuthor">Cuvellier, X.</span>, <span class="refAuthor">Orgogozo, B.</span>, <span class="refAuthor">Viger, F.</span>, <span class="refAuthor">Friedman, T.</span>, <span class="refAuthor">Latapy, M.</span>, <span class="refAuthor">Magnien, C.</span>, and <span class="refAuthor">R. Teixeira</span>, <span class="refTitle">"Avoiding traceroute anomalies with Paris traceroute"</span>, <span class="refContent">Proceedings of the 6th ACM SIGCOMM conference on
   Internet measurement, pp. 153-158</span>, <span class="seriesInfo">DOI 10.1145/1177080.1177100</span>, <time class="refDate" datetime="2006-10">October 2006</time>, <span>&lt;<a href="https://doi.org/10.1145/1177080.1177100">https://doi.org/10.1145/1177080.1177100</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2991">[RFC2991]</dt>
        <dd>
<span class="refAuthor">Thaler, D.</span> and <span class="refAuthor">C. Hopps</span>, <span class="refTitle">"Multipath Issues in Unicast and Multicast Next-Hop Selection"</span>, <span class="seriesInfo">RFC 2991</span>, <span class="seriesInfo">DOI 10.17487/RFC2991</span>, <time class="refDate" datetime="2000-11">November 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2991">https://www.rfc-editor.org/info/rfc2991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5357">[RFC5357]</dt>
        <dd>
<span class="refAuthor">Hedayat, K.</span>, <span class="refAuthor">Krzanowski, R.</span>, <span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Yum, K.</span>, and <span class="refAuthor">J. Babiarz</span>, <span class="refTitle">"A Two-Way Active Measurement Protocol (TWAMP)"</span>, <span class="seriesInfo">RFC 5357</span>, <span class="seriesInfo">DOI 10.17487/RFC5357</span>, <time class="refDate" datetime="2008-10">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5357">https://www.rfc-editor.org/info/rfc5357</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5835">[RFC5835]</dt>
        <dd>
<span class="refAuthor">Morton, A., Ed.</span> and <span class="refAuthor">S. Van den Berghe, Ed.</span>, <span class="refTitle">"Framework for Metric Composition"</span>, <span class="seriesInfo">RFC 5835</span>, <span class="seriesInfo">DOI 10.17487/RFC5835</span>, <time class="refDate" datetime="2010-04">April 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5835">https://www.rfc-editor.org/info/rfc5835</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5837">[RFC5837]</dt>
        <dd>
<span class="refAuthor">Atlas, A., Ed.</span>, <span class="refAuthor">Bonica, R., Ed.</span>, <span class="refAuthor">Pignataro, C., Ed.</span>, <span class="refAuthor">Shen, N.</span>, and <span class="refAuthor">JR. Rivers</span>, <span class="refTitle">"Extending ICMP for Interface and Next-Hop Identification"</span>, <span class="seriesInfo">RFC 5837</span>, <span class="seriesInfo">DOI 10.17487/RFC5837</span>, <time class="refDate" datetime="2010-04">April 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5837">https://www.rfc-editor.org/info/rfc5837</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6437">[RFC6437]</dt>
        <dd>
<span class="refAuthor">Amante, S.</span>, <span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Jiang, S.</span>, and <span class="refAuthor">J. Rajahalme</span>, <span class="refTitle">"IPv6 Flow Label Specification"</span>, <span class="seriesInfo">RFC 6437</span>, <span class="seriesInfo">DOI 10.17487/RFC6437</span>, <time class="refDate" datetime="2011-11">November 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6437">https://www.rfc-editor.org/info/rfc6437</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7312">[RFC7312]</dt>
        <dd>
<span class="refAuthor">Fabini, J.</span> and <span class="refAuthor">A. Morton</span>, <span class="refTitle">"Advanced Stream and Sampling Framework for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">RFC 7312</span>, <span class="seriesInfo">DOI 10.17487/RFC7312</span>, <time class="refDate" datetime="2014-08">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7312">https://www.rfc-editor.org/info/rfc7312</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7325">[RFC7325]</dt>
        <dd>
<span class="refAuthor">Villamizar, C., Ed.</span>, <span class="refAuthor">Kompella, K.</span>, <span class="refAuthor">Amante, S.</span>, <span class="refAuthor">Malis, A.</span>, and <span class="refAuthor">C. Pignataro</span>, <span class="refTitle">"MPLS Forwarding Compliance and Performance Requirements"</span>, <span class="seriesInfo">RFC 7325</span>, <span class="seriesInfo">DOI 10.17487/RFC7325</span>, <time class="refDate" datetime="2014-08">August 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7325">https://www.rfc-editor.org/info/rfc7325</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7594">[RFC7594]</dt>
        <dd>
<span class="refAuthor">Eardley, P.</span>, <span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Bagnulo, M.</span>, <span class="refAuthor">Burbridge, T.</span>, <span class="refAuthor">Aitken, P.</span>, and <span class="refAuthor">A. Akhter</span>, <span class="refTitle">"A Framework for Large-Scale Measurement of Broadband Performance (LMAP)"</span>, <span class="seriesInfo">RFC 7594</span>, <span class="seriesInfo">DOI 10.17487/RFC7594</span>, <time class="refDate" datetime="2015-09">September 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7594">https://www.rfc-editor.org/info/rfc7594</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8403">[RFC8403]</dt>
        <dd>
<span class="refAuthor">Geib, R., Ed.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Pignataro, C., Ed.</span>, and <span class="refAuthor">N. Kumar</span>, <span class="refTitle">"A Scalable and Topology-Aware MPLS Data-Plane Monitoring System"</span>, <span class="seriesInfo">RFC 8403</span>, <span class="seriesInfo">DOI 10.17487/RFC8403</span>, <time class="refDate" datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8403">https://www.rfc-editor.org/info/rfc8403</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RTTSub">[RTTSub]</dt>
        <dd>
<span class="refAuthor">Bischof, Z.</span>, <span class="refAuthor">Rula, J.</span>, and <span class="refAuthor">F. Bustamante</span>, <span class="refTitle">"In and out of Cuba: Characterizing Cuba's Connectivity"</span>, <span class="refContent">Proceedings of the 2015 ACM Conference on Internet
   Measurement Conference, pp. 487-493</span>, <span class="seriesInfo">DOI 10.1145/2815675.2815718</span>, <time class="refDate" datetime="2015-10">October 2015</time>, <span>&lt;<a href="https://doi.org/10.1145/2815675.2815718">https://doi.org/10.1145/2815675.2815718</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SCAMPER">[SCAMPER]</dt>
        <dd>
<span class="refAuthor">Matthew Luckie, M.</span>, <span class="refTitle">"Scamper: a scalable and extensible packet prober for active measurement of the internet"</span>, <span class="refContent">Proceedings of the 10th ACM SIGCOMM conference on
   Internet measurement, pp. 239-245</span>, <span class="seriesInfo">DOI 10.1145/1879141.1879171</span>, <time class="refDate" datetime="2010-11">November 2010</time>, <span>&lt;<a href="https://doi.org/10.1145/1879141.1879171">https://doi.org/10.1145/1879141.1879171</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SSNT">[SSNT]</dt>
      <dd>
<span class="refAuthor">Park, K.</span> and <span class="refAuthor">W. Willinger</span>, <span class="refTitle">"Self-Similar Network Traffic and Performance Evaluation (1st ed.)"</span>, <span class="seriesInfo">DOI 10.1002/047120644X</span>, <span class="seriesInfo"> John Wiley &amp; Sons, Inc., New York, NY, USA</span>, <time class="refDate" datetime="2000-08">August 2000</time>, <span>&lt;<a href="https://doi.org/10.1002/047120644X">https://doi.org/10.1002/047120644X</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-mpls-methods-for-route-asse">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-mpls-methods-for-route-asse">MPLS Methods for Route Assessment</a>
      </h2>
<p id="appendix-A-1">A Node assessing an MPLS path must be part of the MPLS domain where
      the path is implemented. When this condition is met, <span>[<a class="xref" href="#RFC8029">RFC8029</a>]</span> provides a
      powerful set of mechanisms to detect "correct operation of the
      data plane, as well as a mechanism to verify the data plane against the
      control plane".<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">MPLS routing is based on the presence of a Forwarding Equivalence
      Class (FEC) Stack in all visited Nodes. Selecting one of several
      Equal-Cost Multipaths (ECMPs) is, however, based on information hidden
      deeper in 
      the stack. Late deployments may support a so-called "Entropy label" for
      this purpose. State-of-the-art deployments base their choice of an ECMP
      member interface on the complete MPLS label stack and on IP addresses up
      to the complete 5-tuple IP header information (see <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc7325#section-2.4">Section 2.4</a> of [<a class="xref" href="#RFC7325">RFC7325</a>]</span>). Load sharing based
      on IP information decouples this 
      function from the actual MPLS routing information. Thus, an MPLS
      traceroute is able to check how packets with a contiguous number of
      ECMP-relevant IP addresses (and an identical MPLS label stack) are
      forwarded 
      by a particular router. The minimum number of equivalent MPLS paths
      traceable at a router should be 32. Implementations supporting more
      paths are available.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
<p id="appendix-A-3">The MPLS echo request and reply messages offering this feature must
      support the Downstream Detailed Mapping TLV (was Downstream Mapping
      initially, but the latter has been deprecated). The MPLS echo response
      includes the incoming interface where a router received the MPLS echo
      request. The MPLS echo reply further informs which of the n addresses
      relevant for the load-sharing decision results in a particular next-hop
      interface and contains the next Hop's interface address (if
      available). This ensures that the next Hop will receive a properly coded
      MPLS echo request in the next step Route of assessment.<a class="pilcrow" href="#appendix-A-3">¶</a></p>
<p id="appendix-A-4"><span>[<a class="xref" href="#RFC8403">RFC8403</a>]</span> explains how a central Path Monitoring
      System could be used to detect arbitrary MPLS paths between any routers
      within a single MPLS domain. The combination of MPLS forwarding, Segment
      Routing, and MPLS traceroute offers a simple architecture and a powerful
      mechanism to detect and validate (segment-routed) MPLS paths.<a class="pilcrow" href="#appendix-A-4">¶</a></p>
</section>
<div id="Acknowledgements">
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">The original three authors (Ignacio, Al, Joachim) acknowledge <span class="contact-name">Ruediger       Geib</span> for his penetrating comments on the initial document and his initial
      text for the appendix on MPLS. <span class="contact-name">Carlos Pignataro</span> challenged the authors
      to consider a wider scope and applied his substantial expertise with
      many technologies and their measurement features in his extensive
      comments. <span class="contact-name">Frank Brockners</span> also shared useful
      comments and so did <span class="contact-name">Footer        Foote</span>. We thank them all!<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">J. Ignacio Alvarez-Hamelin</span></div>
<div class="left" dir="auto"><span class="org">Universidad de Buenos Aires</span></div>
<div class="left" dir="auto"><span class="street-address">Av. Paseo Colón 850</span></div>
<div class="left" dir="auto">
<span class="postal-code">C1063ACV</span> <span class="locality">Buenos Aires</span>
</div>
<div class="left" dir="auto"><span class="country-name">Argentina</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+54%2011%205285-0716">+54 11 5285-0716</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:ihameli@cnet.fi.uba.ar">ihameli@cnet.fi.uba.ar</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="http://cnet.fi.uba.ar/ignacio.alvarez-hamelin/">http://cnet.fi.uba.ar/ignacio.alvarez-hamelin/</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Al Morton</span></div>
<div class="left" dir="auto"><span class="org">AT&amp;T Labs</span></div>
<div class="left" dir="auto"><span class="street-address">200 Laurel Avenue South</span></div>
<div class="left" dir="auto">
<span class="locality">Middletown</span>, <span class="region">NJ</span> <span class="postal-code">07748</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20732%20420%201571">+1 732 420 1571</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:acm@research.att.com">acm@research.att.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Joachim Fabini</span></div>
<div class="left" dir="auto"><span class="org">TU Wien</span></div>
<div class="left" dir="auto"><span class="street-address">Gusshausstrasse 25/E389</span></div>
<div class="left" dir="auto">
<span class="postal-code">1040</span> <span class="locality">Vienna</span>
</div>
<div class="left" dir="auto"><span class="country-name">Austria</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+43%201%2058801%2038813">+43 1 58801 38813</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:Joachim.Fabini@tuwien.ac.at">Joachim.Fabini@tuwien.ac.at</a>
</div>
<div class="url">
<span>URI:</span>
<a class="url" href="http://www.tc.tuwien.ac.at/about-us/staff/joachim-fabini/">http://www.tc.tuwien.ac.at/about-us/staff/joachim-fabini/</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Carlos Pignataro</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems, Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">7200-11 Kit Creek Road</span></div>
<div class="left" dir="auto">
<span class="locality">Research Triangle Park</span>, <span class="region">NC</span> <span class="postal-code">27709</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cpignata@cisco.com">cpignata@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Ruediger Geib</span></div>
<div class="left" dir="auto"><span class="org">Deutsche Telekom</span></div>
<div class="left" dir="auto"><span class="street-address">Heinrich Hertz Str. 3-7</span></div>
<div class="left" dir="auto">
<span class="postal-code">64295</span> <span class="locality">Darmstadt</span>
</div>
<div class="left" dir="auto"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+49%206151%205812747">+49 6151 5812747</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:Ruediger.Geib@telekom.de">Ruediger.Geib@telekom.de</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>