<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 9222: Guidelines for Autonomic Service Agents</title>
<meta content="Brian Carpenter" name="author"/>
<meta content="Laurent Ciavaglia" name="author"/>
<meta content="Sheng Jiang" name="author"/>
<meta content="Pierre Peloso" name="author"/>
<meta content="
       This document proposes guidelines for the design of Autonomic Service
      Agents for autonomic networks. Autonomic Service Agents, together with
      the Autonomic Network Infrastructure, the Autonomic Control Plane, and
      the GeneRic Autonomic Signaling Protocol, constitute base elements of an
      autonomic networking ecosystem.
       
    " name="description"/>
<meta content="xml2rfc 3.12.2" name="generator"/>
<meta content="GRASP" name="keyword"/>
<meta content="autonomous" name="keyword"/>
<meta content="autonomic function" name="keyword"/>
<meta content="self-management" name="keyword"/>
<meta content="autonomic networking" name="keyword"/>
<meta content="autonomous operation" name="keyword"/>
<meta content="self-management" name="keyword"/>
<meta content="infrastructure" name="keyword"/>
<meta content="intent" name="keyword"/>
<meta content="autonomic control plane" name="keyword"/>
<meta content="9222" name="rfc.number"/>
<!-- Generator version information:
  xml2rfc 3.12.2
    Python 3.6.15
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.0.1
    intervaltree 3.0.2
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.4.2
    pycairo 1.15.1
    pycountry 19.8.18
    pyflakes 2.1.1
    PyYAML 5.4.1
    requests 2.24.0
    setuptools 40.5.0
    six 1.14.0
    WeasyPrint 52.5
-->
<link href="rfc9222.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc9222" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-anima-asa-guidelines-7" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 9222</td>
<td class="center">ASA Guidelines</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Carpenter, et al.</td>
<td class="center">Informational</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc9222">9222</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Informational</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2022-03">March 2022</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Carpenter</div>
<div class="org">Univ. of Auckland</div>
</div>
<div class="author">
      <div class="author-name">L. Ciavaglia</div>
<div class="org">Rakuten Mobile</div>
</div>
<div class="author">
      <div class="author-name">S. Jiang</div>
<div class="org">Huawei Technologies Co., Ltd</div>
</div>
<div class="author">
      <div class="author-name">P. Peloso</div>
<div class="org">Nokia</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 9222</h1>
<h1 id="title">Guidelines for Autonomic Service Agents</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">This document proposes guidelines for the design of Autonomic Service
      Agents for autonomic networks. Autonomic Service Agents, together with
      the Autonomic Network Infrastructure, the Autonomic Control Plane, and
      the GeneRic Autonomic Signaling Protocol, constitute base elements of an
      autonomic networking ecosystem.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This document is not an Internet Standards Track specification; it is
            published for informational purposes.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by the
            Internet Engineering Steering Group (IESG).  Not all documents
            approved by the IESG are candidates for any level of Internet
            Standard; see Section 2 of RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc9222">https://www.rfc-editor.org/info/rfc9222</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-terminology">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p class="keepWithNext" id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-logical-structure-of-an-aut">Logical Structure of an Autonomic Service Agent</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-interaction-with-the-autono">Interaction with the Autonomic Networking Infrastructure</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-interaction-with-the-securi">Interaction with the Security Mechanisms</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-interaction-with-the-autonom">Interaction with the Autonomic Control Plane</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-interaction-with-grasp-and-">Interaction with GRASP and its API</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-interaction-with-policy-mec">Interaction with Policy Mechanisms</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-interaction-with-non-autono">Interaction with Non-autonomic Components and Systems</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-design-of-grasp-objectives">Design of GRASP Objectives</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-life-cycle">Life Cycle</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-installation-phase">Installation Phase</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a class="xref" href="#section-7.1.1">7.1.1</a>.  <a class="xref" href="#name-installation-phase-inputs-a">Installation Phase Inputs and Outputs</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-instantiation-phase">Instantiation Phase</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a class="xref" href="#section-7.2.1">7.2.1</a>.  <a class="xref" href="#name-operators-goal">Operator's Goal</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a class="xref" href="#section-7.2.2">7.2.2</a>.  <a class="xref" href="#name-instantiation-phase-inputs-">Instantiation Phase Inputs and Outputs</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.3">
                    <p id="section-toc.1-1.7.2.2.2.3.1"><a class="xref" href="#section-7.2.3">7.2.3</a>.  <a class="xref" href="#name-instantiation-phase-require">Instantiation Phase Requirements</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a class="xref" href="#section-7.3">7.3</a>.  <a class="xref" href="#name-operation-phase">Operation Phase</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a class="xref" href="#section-7.4">7.4</a>.  <a class="xref" href="#name-removal-phase">Removal Phase</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-coordination-and-data-model">Coordination and Data Models</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-coordination-between-autono">Coordination between Autonomic Functions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-coordination-with-tradition">Coordination with Traditional Management Functions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a class="xref" href="#section-8.3">8.3</a>.  <a class="xref" href="#name-data-models">Data Models</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-9">9</a>.  <a class="xref" href="#name-robustness">Robustness</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-10">10</a>. <a class="xref" href="#name-security-considerations">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-11">11</a>. <a class="xref" href="#name-iana-considerations">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a class="xref" href="#section-12">12</a>. <a class="xref" href="#name-references">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a class="xref" href="#section-12.1">12.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a class="xref" href="#section-12.2">12.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a class="xref" href="#appendix-A">Appendix A</a>.  <a class="xref" href="#name-example-logic-flows">Example Logic Flows</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a class="xref" href="#appendix-B"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a class="xref" href="#appendix-C"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
      This document proposes guidelines for the design of Autonomic Service Agents
     (ASAs) in the context of an Autonomic Network (AN) based on the Autonomic Network
     Infrastructure (ANI) outlined in the autonomic networking reference model <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span>.
     This infrastructure makes use of
     the Autonomic Control Plane (ACP) <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span> and
     the GeneRic Autonomic Signaling Protocol (GRASP) <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span>.
     A general introduction to this environment may be found at <span>[<a class="xref" href="#IPJ">IPJ</a>]</span>,
     which also includes explanatory diagrams,
     and a summary of terminology is in <a class="xref" href="#terminology">Section 2</a>.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">
     This document is a contribution to the description of an autonomic
     networking ecosystem, recognizing that a deployable autonomic network
     needs more than just ACP and GRASP implementations.  Such an autonomic
     network must achieve management tasks that a Network Operations Center
     (NOC) cannot readily achieve manually, such as continuous resource
     optimization or automated fault detection and repair. These tasks, and
     other management automation goals, are described at length in <span>[<a class="xref" href="#RFC7575">RFC7575</a>]</span>. The net result should be significant operational
     improvement.  To achieve this, the autonomic networking ecosystem must
     include at least a library of ASAs and corresponding GRASP technical
     objective definitions. A GRASP objective <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span> is a
     data structure whose main contents are a name and a value. The value
     consists of a single configurable parameter or a set of parameters of
     some kind.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">There must also be tools to deploy and oversee ASAs, and integration with
     existing operational mechanisms <span>[<a class="xref" href="#RFC8368">RFC8368</a>]</span>. However, this document focuses
     on the design of ASAs, with some reference to implementation and operational aspects.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">There is considerable literature about autonomic agents with a variety of
    proposals about how they should be characterized. Some examples are 
    <span>[<a class="xref" href="#DEMOLA06">DEMOLA06</a>]</span>,
    <span>[<a class="xref" href="#HUEBSCHER08">HUEBSCHER08</a>]</span>,    
    <span>[<a class="xref" href="#MOVAHEDI12">MOVAHEDI12</a>]</span>, and
    <span>[<a class="xref" href="#GANA13">GANA13</a>]</span>. However, for the present document,
    the basic definitions and goals for autonomic networking given in <span>[<a class="xref" href="#RFC7575">RFC7575</a>]</span>
    apply. According to RFC 7575, an Autonomic Service Agent is
    "An agent implemented
    on an autonomic node that implements an autonomic function, either in part
    (in the case of a distributed function) or whole."<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">ASAs must be distinguished from other forms of software
      components. They are components of network or service management; they
      do not in themselves provide services to end users. They do, however,
      provide management services to network operators and administrators.
      For example, the services envisaged for network function virtualization
      (NFV) <span>[<a class="xref" href="#NFV">NFV</a>]</span> or for service function chaining (SFC) <span>[<a class="xref" href="#RFC7665">RFC7665</a>]</span> might be managed by an ASA rather than by traditional
      configuration tools.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">Another example is that an existing script running within a router to
    locally monitor or configure functions or services could be upgraded to an
    ASA that could communicate with peer scripts on neighboring or remote
    routers.  A high-level API will allow such upgraded scripts to take full
    advantage of the secure ACP and the discovery, negotiation, and
    synchronization features of GRASP. Familiar tasks such as configuring an
    Interior Gateway Protocol (IGP) on neighboring routers or even exchanging
    IGP security keys could be performed securely in this way. This document
    mainly addresses issues affecting quite complex ASAs, but initially, the
    most useful ASAs may in fact be rather simple evolutions of existing
    scripts.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">The reference model <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span> for autonomic networks
      explains further the functionality of ASAs by adding the following:<a class="pilcrow" href="#section-1-7">¶</a></p>
<blockquote id="section-1-8">
      [An ASA is] a process that makes use of the features provided by the
      ANI to achieve its own goals, usually including interaction with other
      ASAs via GRASP <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span> or otherwise.  Of
      course, it also interacts with the specific targets of its function,
      using any suitable mechanism.  Unless its function is very simple, the
      ASA will need to handle overlapping asynchronous operations.  It may
      therefore be a quite complex piece of software in its own right, forming
      part of the application layer above the ANI.<a class="pilcrow" href="#section-1-8">¶</a>
</blockquote>
<p id="section-1-9">As mentioned, there will certainly be simple ASAs that manage a
      single objective in a straightforward way and do not need asynchronous
      operations.  In nodes where computing power and memory space are limited,
      ASAs should run at a much lower frequency than the primary workload, so
      CPU load should not be a big issue, but memory footprint in a
      constrained node is certainly a concern. ASAs installed in constrained
      devices will have limited functionality.  In such cases, many aspects of
      the current document do not apply. However, in the general case, an ASA
      may be a relatively complex software component that will in many cases
      control and monitor simpler entities in the same or remote host(s). For
      example, a device controller that manages tens or hundreds of simple
      devices might contain a single ASA.<a class="pilcrow" href="#section-1-9">¶</a></p>
<p id="section-1-10">The remainder of this document offers guidance on the design of complex ASAs.
      Some of the material may be familiar to those experienced in distributed
      fault-tolerant and real-time control systems. Robustness and security
      are of particular importance in autonomic networks and are discussed
      in Sections <a class="xref" href="#robust">9</a> and <a class="xref" href="#security">10</a>.<a class="pilcrow" href="#section-1-10">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<p id="section-2-1">This section summarizes various acronyms and terminology used in the
      document. Where no other reference is given, please consult <span>[<a class="xref" href="#RFC8993">RFC8993</a>]</span> or <span>[<a class="xref" href="#RFC7575">RFC7575</a>]</span>.<a class="pilcrow" href="#section-2-1">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-2">
        <dt id="section-2-2.1">Autonomic:
        </dt>
        <dd id="section-2-2.2" style="margin-left: 1.5em">self-managing (self-configuring, self-protecting, self- healing,
 self-optimizing), but allowing high-level guidance by a central entity
 such as a NOC<a class="pilcrow" href="#section-2-2.2">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.3">Autonomic Function:
        </dt>
        <dd id="section-2-2.4" style="margin-left: 1.5em">a function that adapts on its own to a changing environment<a class="pilcrow" href="#section-2-2.4">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.5">Autonomic Node: 
        </dt>
        <dd id="section-2-2.6" style="margin-left: 1.5em">a node that employs autonomic functions<a class="pilcrow" href="#section-2-2.6">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.7">ACP:
        </dt>
        <dd id="section-2-2.8" style="margin-left: 1.5em">Autonomic Control Plane <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span><a class="pilcrow" href="#section-2-2.8">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.9">AN:
        </dt>
        <dd id="section-2-2.10" style="margin-left: 1.5em">Autonomic Network; a network of autonomic nodes, which interact directly with each other<a class="pilcrow" href="#section-2-2.10">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.11">ANI:
        </dt>
        <dd id="section-2-2.12" style="margin-left: 1.5em">Autonomic Network Infrastructure<a class="pilcrow" href="#section-2-2.12">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.13">ASA:
        </dt>
        <dd id="section-2-2.14" style="margin-left: 1.5em">Autonomic Service Agent;  an agent installed on an autonomic node
 that implements an autonomic function, either partially (in the case
 of a distributed function) or completely<a class="pilcrow" href="#section-2-2.14">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.15">BRSKI:
        </dt>
        <dd id="section-2-2.16" style="margin-left: 1.5em">Bootstrapping Remote Secure Key Infrastructure <span>[<a class="xref" href="#RFC8995">RFC8995</a>]</span><a class="pilcrow" href="#section-2-2.16">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.17">CBOR: 
        </dt>
        <dd id="section-2-2.18" style="margin-left: 1.5em">Concise Binary Object Representation<span>[<a class="xref" href="#RFC8949">RFC8949</a>]</span><a class="pilcrow" href="#section-2-2.18">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.19">GRASP:
        </dt>
        <dd id="section-2-2.20" style="margin-left: 1.5em">GeneRric Autonomic Signaling Protocol <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span><a class="pilcrow" href="#section-2-2.20">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.21">GRASP API:
        </dt>
        <dd id="section-2-2.22" style="margin-left: 1.5em">GRASP Application Programming Interface <span>[<a class="xref" href="#RFC8991">RFC8991</a>]</span><a class="pilcrow" href="#section-2-2.22">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.23">NOC:
        </dt>
        <dd id="section-2-2.24" style="margin-left: 1.5em">Network Operations Center <span>[<a class="xref" href="#RFC8368">RFC8368</a>]</span><a class="pilcrow" href="#section-2-2.24">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.25">Objective:
        </dt>
        <dd id="section-2-2.26" style="margin-left: 1.5em">A GRASP technical objective is a data structure whose main
 contents are a name and a value.  The value consists of a single
 configurable parameter or a set of parameters of some kind <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span>.<a class="pilcrow" href="#section-2-2.26">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="structure">
<section id="section-3">
      <h2 id="name-logical-structure-of-an-aut">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-logical-structure-of-an-aut">Logical Structure of an Autonomic Service Agent</a>
      </h2>
<p id="section-3-1">As mentioned above, all but the simplest ASAs will need to support
      asynchronous operations.  Different programming environments support
      asynchronicity in different ways. In this document, we use an explicit
      multi-threading model to describe operations. This is illustrative, and
      alternatives to multi-threading are discussed in detail in connection
      with the GRASP API (see <a class="xref" href="#api">Section 4.3</a>).<a class="pilcrow" href="#section-3-1">¶</a></p>
<p id="section-3-2">A typical ASA will have a main thread that performs various initial
      housekeeping actions such as:<a class="pilcrow" href="#section-3-2">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-3.1">obtain authorization credentials, if needed<a class="pilcrow" href="#section-3-3.1">¶</a>
</li>
        <li class="normal" id="section-3-3.2">register the ASA with GRASP<a class="pilcrow" href="#section-3-3.2">¶</a>
</li>
        <li class="normal" id="section-3-3.3">acquire relevant policy parameters<a class="pilcrow" href="#section-3-3.3">¶</a>
</li>
        <li class="normal" id="section-3-3.4">declare data structures for relevant GRASP objectives<a class="pilcrow" href="#section-3-3.4">¶</a>
</li>
        <li class="normal" id="section-3-3.5">register with GRASP those objectives that it will actively manage<a class="pilcrow" href="#section-3-3.5">¶</a>
</li>
        <li class="normal" id="section-3-3.6">launch a self-monitoring thread<a class="pilcrow" href="#section-3-3.6">¶</a>
</li>
        <li class="normal" id="section-3-3.7">enter its main loop<a class="pilcrow" href="#section-3-3.7">¶</a>
</li>
      </ul>
<p id="section-3-4">The logic of the main loop will depend on the details of the autonomic function concerned.
       Whenever asynchronous operations are required, extra threads may be launched. 
       Examples of such threads include:<a class="pilcrow" href="#section-3-4">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-5.1">repeatedly flood an objective to the AN so that any ASA can
        receive the objective's latest value<a class="pilcrow" href="#section-3-5.1">¶</a>
</li>
        <li class="normal" id="section-3-5.2">accept incoming synchronization requests for an objective managed by this ASA<a class="pilcrow" href="#section-3-5.2">¶</a>
</li>
        <li class="normal" id="section-3-5.3">accept incoming negotiation requests for an objective managed by this ASA,
    and then conduct the resulting negotiation with the counterpart ASA<a class="pilcrow" href="#section-3-5.3">¶</a>
</li>
        <li class="normal" id="section-3-5.4">manage subsidiary non-autonomic devices directly<a class="pilcrow" href="#section-3-5.4">¶</a>
</li>
      </ul>
<p id="section-3-6">These threads should all either exit after their job is done or
      enter a wait state for new work to avoid wasting system resources.<a class="pilcrow" href="#section-3-6">¶</a></p>
<p id="section-3-7">According to the degree of parallelism needed by the application,
      some of these threads might be launched in multiple instances. In
      particular, if negotiation sessions with other ASAs are expected to be
      long or to involve wait states, the ASA designer might allow for
      multiple simultaneous negotiating threads, with appropriate use of
      queues and synchronization primitives to maintain consistency.<a class="pilcrow" href="#section-3-7">¶</a></p>
<p id="section-3-8">The main loop itself could act as the initiator of synchronization
      requests or negotiation requests when the ASA needs data or resources
      from other ASAs. In particular, the main loop should watch for changes
      in policy parameters that affect its operation and, if appropriate,
      occasionally refresh authorization credentials. It should also do
      whatever is required to avoid unnecessary resource consumption, for
      example, by limiting its frequency of execution.<a class="pilcrow" href="#section-3-8">¶</a></p>
<p id="section-3-9">The self-monitoring thread is of considerable importance. Failure of
      autonomic service agents is highly undesirable.  To a large extent, this
      depends on careful coding and testing, with no unhandled error returns
      or exceptions, but if there is nevertheless some sort of failure, the
      self-monitoring thread should detect it, fix it if possible, and, in the
      worst case, restart the entire ASA.<a class="pilcrow" href="#section-3-9">¶</a></p>
<p id="section-3-10"><a class="xref" href="#eg">Appendix A</a> presents some example logic flows in informal pseudocode.<a class="pilcrow" href="#section-3-10">¶</a></p>
</section>
</div>
<div id="interact">
<section id="section-4">
      <h2 id="name-interaction-with-the-autono">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-interaction-with-the-autono">Interaction with the Autonomic Networking Infrastructure</a>
      </h2>
<div id="interacts">
<section id="section-4.1">
        <h3 id="name-interaction-with-the-securi">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-interaction-with-the-securi">Interaction with the Security Mechanisms</a>
        </h3>
<p id="section-4.1-1">An ASA by definition runs in an autonomic node. Before any normal
        ASAs are started, such nodes must be bootstrapped into the autonomic
        network's secure key infrastructure, typically in accordance with
        <span>[<a class="xref" href="#RFC8995">RFC8995</a>]</span>. This key infrastructure will be used to
        secure the ACP (next section) and may be used by ASAs to set up
        additional secure interactions with their peers, if needed.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<p id="section-4.1-2">Note that the secure bootstrap process itself incorporates simple
        special-purpose ASAs that use a restricted mode of GRASP (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8995#section-4">Section 4</a> of [<a class="xref" href="#RFC8995">RFC8995</a>]</span>).<a class="pilcrow" href="#section-4.1-2">¶</a></p>
</section>
</div>
<div id="interacta">
<section id="section-4.2">
        <h3 id="name-interaction-with-the-autonom">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-interaction-with-the-autonom">Interaction with the Autonomic Control Plane</a>
        </h3>
<p id="section-4.2-1">In a normal autonomic network, ASAs will run as clients of the ACP,
        which will provide a fully secured network environment for all
        communication with other ASAs, in most cases mediated by GRASP (next
        section).<a class="pilcrow" href="#section-4.2-1">¶</a></p>
<p id="section-4.2-2">Note that the ACP formation process itself incorporates simple
        special-purpose ASAs that use a restricted mode of GRASP (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8994#section-6.4">Section 6.4</a> of [<a class="xref" href="#RFC8994">RFC8994</a>]</span>).<a class="pilcrow" href="#section-4.2-2">¶</a></p>
</section>
</div>
<div id="api">
<section id="section-4.3">
        <h3 id="name-interaction-with-grasp-and-">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-interaction-with-grasp-and-">Interaction with GRASP and its API</a>
        </h3>
<p id="section-4.3-1">In a node where a significant number of ASAs are installed, GRASP
        <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span> is likely to run as a separate process with
        its API <span>[<a class="xref" href="#RFC8991">RFC8991</a>]</span> available in user space. Thus, ASAs
        may operate without special privilege, unless they need it for other
        reasons. The ASA's view of GRASP is built around GRASP objectives
        (<a class="xref" href="#objdes">Section 6</a>), defined as data structures containing
        administrative information such as the objective's unique name, and
        its current value. The format and size of the value is not restricted
        by the protocol, except that it must be possible to serialize it for
        transmission in Concise Binary Object Representation (CBOR) <span>[<a class="xref" href="#RFC8949">RFC8949</a>]</span>, subject only to GRASP's maximum message size as
        discussed in <a class="xref" href="#objdes">Section 6</a>.<a class="pilcrow" href="#section-4.3-1">¶</a></p>
<p id="section-4.3-2">As discussed in <a class="xref" href="#structure">Section 3</a>, GRASP is an asynchronous
     protocol, and this document uses a multi-threading model to describe
     operations. In many programming environments, an "event loop" model is
     used instead, in which case each thread would be implemented as an event
     handler called in turn by the main loop. For this case, the GRASP API
     must provide non-blocking calls and possibly support callbacks. This
     topic is discussed in more detail in <span>[<a class="xref" href="#RFC8991">RFC8991</a>]</span>, and other
     asynchronicity models are also possible.  Whenever necessary, the GRASP
     session identifier will be used to distinguish simultaneous
     operations.<a class="pilcrow" href="#section-4.3-2">¶</a></p>
<p id="section-4.3-3">The GRASP API should offer the following features:<a class="pilcrow" href="#section-4.3-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-4.1">Registration functions, so that an ASA can register itself and
          the objectives that it manages.<a class="pilcrow" href="#section-4.3-4.1">¶</a>
</li>
          <li class="normal" id="section-4.3-4.2">A discovery function, by which an ASA can discover other ASAs
          supporting a given objective.<a class="pilcrow" href="#section-4.3-4.2">¶</a>
</li>
          <li class="normal" id="section-4.3-4.3">A negotiation request function, by which an ASA can start
          negotiation of an objective with a counterpart ASA.  With this,
          there is a corresponding listening function for an ASA that wishes
          to respond to negotiation requests and a set of functions to
          support negotiating steps. Once a negotiation starts, it is a
          symmetric process with both sides sending successive objective
          values to each other until agreement is reached (or the negotiation
          fails).<a class="pilcrow" href="#section-4.3-4.3">¶</a>
</li>
          <li class="normal" id="section-4.3-4.4">A synchronization function, by which an ASA can request the
          current value of an objective from a counterpart ASA.  With this,
          there is a corresponding listening function for an ASA that wishes
          to respond to synchronization requests.  Unlike negotiation,
          synchronization is an asymmetric process in which the listener sends
          a single objective value to the requester.<a class="pilcrow" href="#section-4.3-4.4">¶</a>
</li>
          <li class="normal" id="section-4.3-4.5">A flood function, by which an ASA can cause the current value of
          an objective to be flooded throughout the AN so that any ASA can
          receive it.<a class="pilcrow" href="#section-4.3-4.5">¶</a>
</li>
        </ul>
<p id="section-4.3-5">For further details and some additional housekeeping functions, see <span>[<a class="xref" href="#RFC8991">RFC8991</a>]</span>.<a class="pilcrow" href="#section-4.3-5">¶</a></p>
<p id="section-4.3-6">The GRASP API is intended to support the various interactions
        expected between most ASAs, such as the interactions outlined in <a class="xref" href="#structure">Section 3</a>. However, if ASAs require additional
        communication between themselves, they can do so directly over the ACP
        to benefit from its security. One option is to use GRASP discovery and
        synchronization as a rendezvous mechanism between two ASAs, passing
        communication parameters such as a TCP port number via GRASP. The use
        of TLS over the ACP for such communications is advisable, as described
        in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8994#section-6.9.2">Section 6.9.2</a> of [<a class="xref" href="#RFC8994">RFC8994</a>]</span>.<a class="pilcrow" href="#section-4.3-6">¶</a></p>
</section>
</div>
<section id="section-4.4">
        <h3 id="name-interaction-with-policy-mec">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-interaction-with-policy-mec">Interaction with Policy Mechanisms</a>
        </h3>
<p id="section-4.4-1"> At the time of writing, the policy mechanisms for the ANI are
        undefined. In particular, the use of declarative policies (aka
        Intents) for the definition and management of an ASA's behaviors remains
        a research topic <span>[<a class="xref" href="#I-D.irtf-nmrg-ibn-concepts-definitions">IBN-CONCEPTS</a>]</span>.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2"> In the cases where ASAs are defined as closed control
 loops, the specifications defined in <span>[<a class="xref" href="#ZSM009-1">ZSM009-1</a>]</span>
 regarding imperative and declarative goal statements may be
 applicable.<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<p id="section-4.4-3">In the ANI, policy dissemination is expected to operate by
 an information distribution mechanism (e.g., via GRASP <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span>) that can reach all autonomic nodes and
 therefore every ASA. However, each ASA must be capable of
 operating "out of the box" in the absence of locally defined
 policy, so every ASA implementation must include carefully
 chosen default values and settings for all policy
 parameters.<a class="pilcrow" href="#section-4.4-3">¶</a></p>
</section>
</section>
</div>
<div id="nonauto">
<section id="section-5">
      <h2 id="name-interaction-with-non-autono">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-interaction-with-non-autono">Interaction with Non-autonomic Components and Systems</a>
      </h2>
<p id="section-5-1">To have any external effects, an ASA must also interact with non-autonomic
    components of the node where it is installed. For example, an ASA whose purpose
    is to manage a resource must interact with that resource. An ASA managing
    an entity that is also managed by local software must interact
    with that software. For example, if such management is performed by NETCONF
    <span>[<a class="xref" href="#RFC6241">RFC6241</a>]</span>, the ASA must interact with the NETCONF
    server as an independent NETCONF client in the same node to avoid
    any inconsistency between configuration changes delivered
    via NETCONF and configuration changes made by the ASA.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2">In an environment where systems are virtualized and specialized using
    techniques such as network function virtualization or network slicing,
    there will be a design choice whether ASAs are deployed once per physical node
    or once per virtual context. A related issue is whether the ANI as a whole
    is deployed once on a physical network or whether several virtual ANIs
    are deployed. This aspect needs to be considered by the ASA designer.<a class="pilcrow" href="#section-5-2">¶</a></p>
</section>
</div>
<div id="objdes">
<section id="section-6">
      <h2 id="name-design-of-grasp-objectives">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-design-of-grasp-objectives">Design of GRASP Objectives</a>
      </h2>
<p id="section-6-1">The design of an ASA will often require the design of a new GRASP
      objective.  The general rules for the format of GRASP objectives, their
      names, and IANA registration are given in <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span>. Additionally, that document discusses various
      general considerations for the design of objectives, which are not
      repeated here. However, note that GRASP, like HTTP, does
      not provide transactional integrity. In particular, steps in a GRASP
      negotiation are not idempotent. The design of a GRASP objective and the
      logic flow of the ASA should take this into account. One approach, which
      should be used when possible, is to design objectives with idempotent
      semantics. If this is not possible, typically if an ASA is allocating
      part of a shared resource to other ASAs, it needs to ensure that the
      same part of the resource is not allocated twice. The easiest way is to
      run only one negotiation at a time. If an ASA is capable of overlapping
      several negotiations, it must avoid interference between these
      negotiations.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">Negotiations will always end, normally because one end or the other
    declares success or failure.  If this does not happen, either a timeout or
    exhaustion of the loop count will occur. The definition of a GRASP
    objective should describe a specific negotiation policy if it is not self-evident.<a class="pilcrow" href="#section-6-2">¶</a></p>
<p id="section-6-3">GRASP allows a "dry run" mode of negotiation, where a negotiation
      session follows its normal course but is not committed at either end
      until a subsequent live negotiation session.  If dry run mode is
      defined for the objective, its specification, and every implementation,
      must consider what state needs to be saved following a dry run
      negotiation, such that a subsequent live negotiation can be expected to
      succeed. It must be clear how long this state is kept and what happens
      if the live negotiation occurs after this state is deleted. An ASA that
      requests a dry run negotiation must take account of the possibility that
      a successful dry run is followed by a failed live negotiation. Because
      of these complexities, the dry run mechanism should only be supported by
      objectives and ASAs where there is a significant benefit from it.<a class="pilcrow" href="#section-6-3">¶</a></p>
<p id="section-6-4">The actual value field of an objective is limited by the GRASP
      protocol definition to any data structure that can be expressed in
      Concise Binary Object Representation (CBOR) <span>[<a class="xref" href="#RFC8949">RFC8949</a>]</span>. For some objectives, a single data item will
      suffice, for example, an integer, a floating point
      number, a UTF-8 string, or an arbitrary byte string.  For more complex
      cases, a simple tuple structure such as [item1, item2, item3] could be
      used.  Since CBOR is closely linked to JSON, it is also rather easy to
      define an objective whose value is a JSON structure. The formats
      acceptable by the GRASP API will limit the options in practice. A
      generic solution is for the API to accept and deliver the value field in
      raw CBOR, with the ASA itself encoding and decoding it via a CBOR
      library (<span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8991#section-2.3.2.4">Section 2.3.2.4</a> of [<a class="xref" href="#RFC8991">RFC8991</a>]</span>).<a class="pilcrow" href="#section-6-4">¶</a></p>
<p id="section-6-5">The maximum size of the value field of an objective is limited by the
    GRASP maximum message size. If the default maximum size specified as
    GRASP_DEF_MAX_SIZE by <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span> is not enough, the
    specification of the objective must indicate the required maximum message
    size for both unicast and multicast messages.<a class="pilcrow" href="#section-6-5">¶</a></p>
<p id="section-6-6">A mapping from YANG to CBOR is defined by <span>[<a class="xref" href="#I-D.ietf-core-yang-cbor">CBOR-YANG</a>]</span>. Subject to
    the size limit defined for GRASP messages, nothing prevents objectives transporting YANG in this way.<a class="pilcrow" href="#section-6-6">¶</a></p>
<p id="section-6-7">The flexibility of CBOR implies that the value field of many objectives can be extended in service,
    to add additional information or alternative content, especially if JSON-like structures are
    used. This has consequences for the robustness of ASAs, as discussed in <a class="xref" href="#robust">Section 9</a>.<a class="pilcrow" href="#section-6-7">¶</a></p>
</section>
</div>
<div id="life">
<section id="section-7">
      <h2 id="name-life-cycle">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-life-cycle">Life Cycle</a>
      </h2>
<p id="section-7-1">The ASA life cycle is discussed in <span>[<a class="xref" href="#I-D.peloso-anima-autonomic-function">AUTONOMIC-FUNCTION</a>]</span>,
      from which the following text was derived. It does not cover all details, and some
      of the terms used would require precise definitions in a given implementation.<a class="pilcrow" href="#section-7-1">¶</a></p>
<p id="section-7-2">In simple cases, autonomic functions could be permanent, in the sense
      that ASAs are shipped as part of a product and persist throughout the
      product's life. However, in complex cases, a more likely situation is
      that ASAs need to be installed or updated dynamically because of new
      requirements or bugs. This section describes one approach to the
      resulting life cycle of individual ASAs. It does not consider wider
      issues such as updates of shared libraries.<a class="pilcrow" href="#section-7-2">¶</a></p>
<p id="section-7-3">Because continuity of service is fundamental to autonomic networking,
    the process of seamlessly replacing a running instance of an ASA with a
    new version needs to be part of the ASA's design. The implication of
    service continuity on the design of ASAs can be illustrated along the
    three main phases of the ASA life cycle, namely installation,
    instantiation, and operation.<a class="pilcrow" href="#section-7-3">¶</a></p>
<span id="name-life-cycle-of-an-autonomic-"></span><div id="Fig_LC">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-7-4.1">
<pre>                  +--------------+
Undeployed ------&gt;|              |------&gt; Undeployed
                  |  Installed   |
              +--&gt;|              |---+
     Mandate  |   +--------------+   | Receives a
   is revoked |   +--------------+   |  Mandate
              +---|              |&lt;--+
                  | Instantiated |
              +--&gt;|              |---+
          set |   +--------------+   | set
         down |   +--------------+   | up
              +---|              |&lt;--+
                  |  Operational |
                  |              |
                  +--------------+
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-life-cycle-of-an-autonomic-">Life Cycle of an Autonomic Service Agent</a>
        </figcaption></figure>
</div>
<section id="section-7.1">
        <h3 id="name-installation-phase">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-installation-phase">Installation Phase</a>
        </h3>
<p id="section-7.1-1">We define "installation" to mean that a piece of software is loaded into
        a device, along with any necessary libraries, but is not yet activated.<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<p id="section-7.1-2">Before being able to instantiate and run ASAs, the operator will first provision the
 infrastructure with the sets of ASA software corresponding to its needs and objectives.
 Such software must be checked for integrity and authenticity before installation.
 The provisioning of the infrastructure is realized in the installation phase and consists of 
 installing (or checking the availability of) the pieces of software of the different ASAs 
 in a set of Installation Hosts within the autonomic network.<a class="pilcrow" href="#section-7.1-2">¶</a></p>
<p id="section-7.1-3">There are three properties applicable to the installation of ASAs:<a class="pilcrow" href="#section-7.1-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-4.1">The dynamic installation property
          allows installing an ASA on demand, on any hosts compatible with the ASA.<a class="pilcrow" href="#section-7.1-4.1">¶</a>
</li>
          <li class="normal" id="section-7.1-4.2">The decoupling property
          allows an ASA on one machine to control resources in another machine
          (known as "decoupled mode").<a class="pilcrow" href="#section-7.1-4.2">¶</a>
</li>
          <li class="normal" id="section-7.1-4.3">The multiplicity property
          allows controlling multiple sets of resources from a single ASA.<a class="pilcrow" href="#section-7.1-4.3">¶</a>
</li>
        </ul>
<p id="section-7.1-5">These three properties are very important in the context of the installation
        phase as their variations condition how the ASA could be installed on the infrastructure.<a class="pilcrow" href="#section-7.1-5">¶</a></p>
<section id="section-7.1.1">
          <h4 id="name-installation-phase-inputs-a">
<a class="section-number selfRef" href="#section-7.1.1">7.1.1. </a><a class="section-name selfRef" href="#name-installation-phase-inputs-a">Installation Phase Inputs and Outputs</a>
          </h4>
<p id="section-7.1.1-1">Inputs are:<a class="pilcrow" href="#section-7.1.1-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1.1-2.1">[ASA_type]: specifies which ASA to install.<a class="pilcrow" href="#section-7.1.1-2.1">¶</a>
</li>
            <li class="normal" id="section-7.1.1-2.2">[Installation_target_infrastructure]: specifies the candidate installation Hosts.<a class="pilcrow" href="#section-7.1.1-2.2">¶</a>
</li>
            <li class="normal" id="section-7.1.1-2.3">[ASA_placement_function]: specifies how the installation phase will meet the operator's
     needs and objectives for the provision of the infrastructure. This
     function is only useful in the decoupled mode. It can be as simple
     as an explicit list of hosts on which the ASAs are to be
     installed, or it could consist of operator-defined criteria and
     constraints.<a class="pilcrow" href="#section-7.1.1-2.3">¶</a>
</li>
          </ul>
<p id="section-7.1.1-3">The main output of the installation phase is a [List_of_ASAs] installed on
[List_of_hosts]. This output is also useful for the coordination function
where it acts as a static interaction map (see <a class="xref" href="#coordi">Section 8.1</a>).<a class="pilcrow" href="#section-7.1.1-3">¶</a></p>
<p id="section-7.1.1-4">The condition to validate in order to pass to next phase is to
          ensure that [List_of_ASAs] are correctly installed on
          [List_of_hosts].  A minimum set of primitives to support the
          installation of ASAs could be the following: install (List_of_ASAs,
          Installation_target_infrastructure, ASA_placement_function) and
          uninstall (List_of_ASAs).<a class="pilcrow" href="#section-7.1.1-4">¶</a></p>
</section>
</section>
<div id="Sec_Inst">
<section id="section-7.2">
        <h3 id="name-instantiation-phase">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-instantiation-phase">Instantiation Phase</a>
        </h3>
<p id="section-7.2-1">We define "instantiation" as the operation of creating a single ASA instance
        from the corresponding piece of installed software.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<p id="section-7.2-2">Once the ASAs are installed on the appropriate hosts in the
        network, these ASAs may start to operate.  From the operator
        viewpoint, an operating ASA means the ASA manages the network
        resources as per the objectives given.  At the ASA local level,
        operating means executing their control loop algorithm.<a class="pilcrow" href="#section-7.2-2">¶</a></p>
<p id="section-7.2-3">There are two aspects to take into consideration.  First, having a
        piece of code installed and available to run on a host is not the same
        as having an agent based on this piece of code running inside the
        host.  Second, in a coupled case, determining which resources are
        controlled by an ASA is straightforward (the ASA runs on the same
        autonomic node as the resources it is controlling). In a decoupled
        mode, determining this is a bit more complex: a starting agent will
        have to either discover the set of resources it ought to control, or
        such information has to be communicated to the ASA.<a class="pilcrow" href="#section-7.2-3">¶</a></p>
<p id="section-7.2-4">The instantiation phase of an ASA covers both these aspects:
        starting the agent code (when this does not start automatically) and
        determining which resources have to be controlled (when this is not
        straightforward).<a class="pilcrow" href="#section-7.2-4">¶</a></p>
<div id="Sec_Inst_Goal">
<section id="section-7.2.1">
          <h4 id="name-operators-goal">
<a class="section-number selfRef" href="#section-7.2.1">7.2.1. </a><a class="section-name selfRef" href="#name-operators-goal">Operator's Goal</a>
          </h4>
<p id="section-7.2.1-1">Through this phase, the operator wants to control its autonomic
          network regarding at least two aspects:<a class="pilcrow" href="#section-7.2.1-1">¶</a></p>
<ol class="normal type-1" id="section-7.2.1-2" start="1" type="1">
            <li id="section-7.2.1-2.1">determine the scope of autonomic functions by instructing which network
            resources have to be managed by which autonomic function (and more precisely
            by which release of the ASA software code, e.g., version number or provider).<a class="pilcrow" href="#section-7.2.1-2.1">¶</a>
</li>
            <li id="section-7.2.1-2.2">determine how the autonomic functions are organized by instantiating a set
            of ASAs across one or more autonomic nodes and instructing them
            accordingly about the other ASAs in the set as necessary.<a class="pilcrow" href="#section-7.2.1-2.2">¶</a>
</li>
          </ol>
<p id="section-7.2.1-3">
 In this phase, the operator may also want to
 set goals for autonomic functions, e.g., by
 configuring GRASP objectives.<a class="pilcrow" href="#section-7.2.1-3">¶</a></p>
<p id="section-7.2.1-4">The operator's goal can be summarized in an instruction to the autonomic ecosystem matching the following format,
          explained in detail in the next sub-section:<a class="pilcrow" href="#section-7.2.1-4">¶</a></p>
<p id="section-7.2.1-5" style="margin-left: 1.5em">[Instances_of_ASA_type] ready to control [Instantiation_target_infrastructure] with [Instantiation_target_parameters]<a class="pilcrow" href="#section-7.2.1-5">¶</a></p>
</section>
</div>
<div id="Sec_Inst_InOut">
<section id="section-7.2.2">
          <h4 id="name-instantiation-phase-inputs-">
<a class="section-number selfRef" href="#section-7.2.2">7.2.2. </a><a class="section-name selfRef" href="#name-instantiation-phase-inputs-">Instantiation Phase Inputs and Outputs</a>
          </h4>
<p id="section-7.2.2-1">Inputs are:<a class="pilcrow" href="#section-7.2.2-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2.2-2.1">[Instances_of_ASA_type]: specifies which ASAs to instantiate<a class="pilcrow" href="#section-7.2.2-2.1">¶</a>
</li>
            <li class="normal" id="section-7.2.2-2.2">[Instantiation_target_infrastructure]: specifies which
     resources are to be managed by the autonomic function; this can be
     the whole network or a subset of it like a domain, a physical
     segment, or even a specific list of resources.<a class="pilcrow" href="#section-7.2.2-2.2">¶</a>
</li>
            <li class="normal" id="section-7.2.2-2.3">[Instantiation_target_parameters]: specifies which GRASP
         objectives are to be sent to ASAs (e.g., an optimization target)<a class="pilcrow" href="#section-7.2.2-2.3">¶</a>
</li>
          </ul>
<p id="section-7.2.2-3">Outputs are:<a class="pilcrow" href="#section-7.2.2-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2.2-4.1">[Set_of_ASA_resources_relations]: describes which resources are managed by which ASA instances; this is
  not a formal message but a resulting configuration log for a set of ASAs.<a class="pilcrow" href="#section-7.2.2-4.1">¶</a>
</li>
          </ul>
</section>
</div>
<div id="Sec_Inst_Reqs">
<section id="section-7.2.3">
          <h4 id="name-instantiation-phase-require">
<a class="section-number selfRef" href="#section-7.2.3">7.2.3. </a><a class="section-name selfRef" href="#name-instantiation-phase-require">Instantiation Phase Requirements</a>
          </h4>
<p id="section-7.2.3-1">The instructions described in <a class="xref" href="#Sec_Inst">Section 7.2</a> could be
          either of the following:<a class="pilcrow" href="#section-7.2.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2.3-2.1">Sent to a targeted ASA. In this case, the receiving Agent will have to manage the
     specified list of [Instantiation_target_infrastructure], with the
     [Instantiation_target_parameters].<a class="pilcrow" href="#section-7.2.3-2.1">¶</a>
</li>
            <li class="normal" id="section-7.2.3-2.2">Broadcast to all ASAs. In this case, the ASAs would determine from the list which
     ASAs would handle which [Instantiation_target_infrastructure],
     with the [Instantiation_target_parameters].<a class="pilcrow" href="#section-7.2.3-2.2">¶</a>
</li>
          </ul>
<p id="section-7.2.3-3">These instructions may be grouped as a specific data structure referred to
as an ASA Instance Mandate. The specification of such an ASA Instance Mandate
is beyond the scope of this document.<a class="pilcrow" href="#section-7.2.3-3">¶</a></p>
<p id="section-7.2.3-4">The conclusion of this instantiation phase is a set of ASA
          instances ready to operate.  These ASA instances are characterized
          by the resources they manage, the metrics being monitored, and the
          actions that can be executed (like modifying certain parameter
          values).  The description of the ASA instance may be defined in an
          ASA Instance Manifest data structure.  The specification of such an
          ASA Instance Manifest is beyond the scope of this document.<a class="pilcrow" href="#section-7.2.3-4">¶</a></p>
<p id="section-7.2.3-5">The ASA Instance Manifest does not only serve informational
          purposes such as acknowledgement of successful instantiation to the
          operator but is also necessary for further autonomic operations with:<a class="pilcrow" href="#section-7.2.3-5">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2.3-6.1">coordinated entities (see <a class="xref" href="#coordi">Section 8.1</a>)<a class="pilcrow" href="#section-7.2.3-6.1">¶</a>
</li>
            <li class="normal" id="section-7.2.3-6.2">collaborative entities with purposes such as to establish knowledge exchange
            (some ASAs may produce knowledge or monitor metrics that would be useful for other ASAs)<a class="pilcrow" href="#section-7.2.3-6.2">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="Sec_Operation">
<section id="section-7.3">
        <h3 id="name-operation-phase">
<a class="section-number selfRef" href="#section-7.3">7.3. </a><a class="section-name selfRef" href="#name-operation-phase">Operation Phase</a>
        </h3>
<p id="section-7.3-1">During the operation phase, the operator can:<a class="pilcrow" href="#section-7.3-1">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.3-2.1">activate/deactivate ASAs: enable/disable their autonomic loops<a class="pilcrow" href="#section-7.3-2.1">¶</a>
</li>
          <li class="normal" id="section-7.3-2.2">modify ASA targets: set different technical objectives<a class="pilcrow" href="#section-7.3-2.2">¶</a>
</li>
          <li class="normal" id="section-7.3-2.3">modify ASAs managed resources: update the Instance Mandate to specify a different set of resources to
  manage (only applicable to decoupled ASAs)<a class="pilcrow" href="#section-7.3-2.3">¶</a>
</li>
        </ul>
<p id="section-7.3-3">During the operation phase, running ASAs can interact with other ASAs:<a class="pilcrow" href="#section-7.3-3">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.3-4.1">in order to exchange knowledge (e.g., an ASA providing traffic
          predictions to a load balancing ASA)<a class="pilcrow" href="#section-7.3-4.1">¶</a>
</li>
          <li class="normal" id="section-7.3-4.2">in order to collaboratively reach an objective (e.g., ASAs
          pertaining to the same autonomic function will collaborate, e.g., in
          the case of a load balancing function, by modifying link metrics
          according to neighboring resource loads)<a class="pilcrow" href="#section-7.3-4.2">¶</a>
</li>
        </ul>
<p id="section-7.3-5">During the operation phase, running ASAs are expected to apply
        coordination schemes as per <a class="xref" href="#coordi">Section 8.1</a>.<a class="pilcrow" href="#section-7.3-5">¶</a></p>
</section>
</div>
<div id="Sec_Removal">
<section id="section-7.4">
        <h3 id="name-removal-phase">
<a class="section-number selfRef" href="#section-7.4">7.4. </a><a class="section-name selfRef" href="#name-removal-phase">Removal Phase</a>
        </h3>
<p id="section-7.4-1">When an ASA is removed from service and uninstalled, the above steps
        are reversed. It is important
        that its data, especially any security key material, is purged.<a class="pilcrow" href="#section-7.4-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="coordm">
<section id="section-8">
      <h2 id="name-coordination-and-data-model">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-coordination-and-data-model">Coordination and Data Models</a>
      </h2>
<div id="coordi">
<section id="section-8.1">
        <h3 id="name-coordination-between-autono">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-coordination-between-autono">Coordination between Autonomic Functions</a>
        </h3>
<p id="section-8.1-1">Some autonomic functions will be completely independent of each
      other. However, others are at risk of interfering with each other; for
      example, two different optimization functions might both attempt to
      modify the same underlying parameter in different ways. In a complete
      system, a method is needed for identifying ASAs that might
      interfere with each other and coordinating their actions when
      necessary.<a class="pilcrow" href="#section-8.1-1">¶</a></p>
</section>
</div>
<div id="coordt">
<section id="section-8.2">
        <h3 id="name-coordination-with-tradition">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-coordination-with-tradition">Coordination with Traditional Management Functions</a>
        </h3>
<p id="section-8.2-1">Some ASAs will have functions that overlap with existing
      configuration tools and network management mechanisms such as
      command-line interfaces, DHCP, DHCPv6, SNMP, NETCONF, and RESTCONF.
      This is, of course, an existing problem whenever multiple configuration
      tools are in use by the NOC. Each ASA designer will need to consider
      this issue and how to avoid clashes and inconsistencies in various
      deployment scenarios. Some specific considerations for interaction with
      OAM tools are given in <span>[<a class="xref" href="#RFC8368">RFC8368</a>]</span>.  As another example,
      <span>[<a class="xref" href="#RFC8992">RFC8992</a>]</span> describes how autonomic management of IPv6
      prefixes can interact with prefix delegation via DHCPv6. The description
      of a GRASP objective and of an ASA using it should include a discussion
      of any such interactions.<a class="pilcrow" href="#section-8.2-1">¶</a></p>
</section>
</div>
<div id="datam">
<section id="section-8.3">
        <h3 id="name-data-models">
<a class="section-number selfRef" href="#section-8.3">8.3. </a><a class="section-name selfRef" href="#name-data-models">Data Models</a>
        </h3>
<p id="section-8.3-1">Management functions often include a shared data model, quite likely
      to be expressed in a formal notation such as YANG. This aspect should
      not be an afterthought in the design of an ASA. To the contrary, the
      design of the ASA and of its GRASP objectives should match the data
      model; as noted in <a class="xref" href="#objdes">Section 6</a>, YANG serialized as CBOR may
      be used directly as the value of a GRASP objective.<a class="pilcrow" href="#section-8.3-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="robust">
<section id="section-9">
      <h2 id="name-robustness">
<a class="section-number selfRef" href="#section-9">9. </a><a class="section-name selfRef" href="#name-robustness">Robustness</a>
      </h2>
<p id="section-9-1">It is of great importance that all components of an autonomic system
      are highly robust.  Although ASA designers should aim for their
      component to never fail, it is more important to design the ASA to
      assume that failures will happen and to gracefully recover from those
      failures when they occur. Hence, this section lists various aspects of
      robustness that ASA designers should consider:<a class="pilcrow" href="#section-9-1">¶</a></p>
<ol class="normal type-1" id="section-9-2" start="1" type="1">
        <li id="section-9-2.1">If despite all precautions, an ASA does encounter a fatal error,
        it should in any case restart automatically and try again.  To
        mitigate a loop in case of persistent failure, a suitable pause should
        be inserted before such a restart. The length of the pause depends on
        the use case; randomization and exponential backoff should be
        considered.<a class="pilcrow" href="#section-9-2.1">¶</a>
</li>
        <li id="section-9-2.2">If a newly received or calculated value for a parameter falls out
        of bounds, the corresponding parameter should be either left unchanged
        or restored to a value known to be safe in all configurations.<a class="pilcrow" href="#section-9-2.2">¶</a>
</li>
        <li id="section-9-2.3">If a GRASP synchronization or negotiation session fails for any
        reason, it may be repeated after a suitable pause. The length of the
        pause depends on the use case; randomization and exponential backoff
        should be considered.<a class="pilcrow" href="#section-9-2.3">¶</a>
</li>
        <li id="section-9-2.4">If a session fails repeatedly, the ASA should consider that its
        peer has failed, and it should cause GRASP to flush its discovery cache and
        repeat peer discovery.<a class="pilcrow" href="#section-9-2.4">¶</a>
</li>
        <li id="section-9-2.5">In any case, it may be prudent to repeat discovery periodically,
        depending on the use case.<a class="pilcrow" href="#section-9-2.5">¶</a>
</li>
        <li id="section-9-2.6">Any received GRASP message should be checked. If it is wrongly
        formatted, it should be ignored. Within a unicast session, an Invalid
        message (M_INVALID) may be sent. This function may be provided by the
        GRASP implementation itself.<a class="pilcrow" href="#section-9-2.6">¶</a>
</li>
        <li id="section-9-2.7">Any received GRASP objective should be checked. Basic formatting
        errors like invalid CBOR will likely be detected by GRASP itself, but
        the ASA is responsible for checking the precise syntax and semantics
        of a received objective. If it is wrongly formatted, it should be
        ignored. Within a negotiation session, a Negotiation End message
        (M_END) with a Decline option (O_DECLINE) should be sent. An ASA may
        log such events for diagnostic purposes.<a class="pilcrow" href="#section-9-2.7">¶</a>
</li>
        <li id="section-9-2.8">On the other hand, the definitions of GRASP objectives are very
        likely to be extended, using the flexibility of CBOR or JSON.
        Therefore, ASAs should be able to deal gracefully with unknown components
        within the values of objectives. The specification of an objective should
        describe how unknown components are to be handled (ignored, logged and
        ignored, or rejected as an error).<a class="pilcrow" href="#section-9-2.8">¶</a>
</li>
        <li id="section-9-2.9">If an ASA receives either an Invalid message (M_INVALID) or a Negotiation End
    message (M_END) with a Decline option (O_DECLINE), one possible reason is that
    the peer ASA does not support a new feature of either GRASP or the objective
    in question. In such a case, the ASA may choose to repeat the operation concerned
    without using that new feature.<a class="pilcrow" href="#section-9-2.9">¶</a>
</li>
        <li id="section-9-2.10">All other possible exceptions should be handled in an orderly
        way. There should be no such thing as an unhandled exception (but see
        point 1 above).<a class="pilcrow" href="#section-9-2.10">¶</a>
</li>
      </ol>
<p id="section-9-3">At a slightly more general level, ASAs are not services in themselves,
    but they automate services. This has a fundamental impact on how to design
    robust ASAs. In general, when an ASA observes a particular state (1) of
    operations of the services/resources it controls, it typically aims to
    improve this state to a better state, say (2).  Ideally, the ASA is built
    so that it can ensure that any error encountered can still lead to
    returning to (1) instead of a state (3), which is worse than (1). One
    example instance of this principle is "make-before-break" used in
    reconfiguration of routing protocols in manual operations. This principle
    of operations can accordingly be coded into the operation of an ASA.  The
    GRASP dry run option mentioned in <a class="xref" href="#objdes">Section 6</a> is another tool
    helpful for this ASA design goal of "test-before-make".<a class="pilcrow" href="#section-9-3">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-10">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-10">10. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-10-1">ASAs are intended to run in an environment that is protected by the
      Autonomic Control Plane <span>[<a class="xref" href="#RFC8994">RFC8994</a>]</span>, admission to which
      depends on an initial secure bootstrap process such as BRSKI <span>[<a class="xref" href="#RFC8995">RFC8995</a>]</span>.  Those documents describe security considerations
      relating to the use of and properties provided by the ACP and BRSKI,
      respectively.  Such an ACP can provide keying material for mutual
      authentication between ASAs as well as confidential communication
      channels for messages between ASAs.  In some deployments, a secure
      partition of the link layer might be used instead. GRASP itself has
      significant security considerations <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span>.  However,
      this does not relieve ASAs of responsibility for security.  When ASAs
      configure or manage network elements outside the ACP, potentially in a
      different physical node, they must interact with other non-autonomic
      software components to perform their management functions. The details
      are specific to each case, but this has an important security
      implication. An ASA might act as a loophole by which the managed entity
      could penetrate the security boundary of the ANI. Thus, ASAs must be
      designed to avoid loopholes such as passing on executable code or
      proxying unverified commands and should, if possible, operate in an
      unprivileged mode.  In particular, they must use secure coding
      practices, e.g., carefully validate all incoming information and avoid
      unnecessary elevation of privilege.  This will apply in particular when
      an ASA interacts with a management component such as a NETCONF
      server.<a class="pilcrow" href="#section-10-1">¶</a></p>
<p id="section-10-2">A similar situation will arise if an ASA acts as a gateway between
      two separate autonomic networks, i.e., it has access to two separate
      ACPs. Such an ASA must also be designed to avoid loopholes and to
      validate incoming information from both sides.<a class="pilcrow" href="#section-10-2">¶</a></p>
<p id="section-10-3">As a reminder, GRASP does not intrinsically provide transactional
      integrity (<a class="xref" href="#objdes">Section 6</a>).<a class="pilcrow" href="#section-10-3">¶</a></p>
<p id="section-10-4">As appropriate to their specific functions, ASAs should take account
      of relevant privacy considerations <span>[<a class="xref" href="#RFC6973">RFC6973</a>]</span>.<a class="pilcrow" href="#section-10-4">¶</a></p>
<p id="section-10-5">The initial version of the autonomic infrastructure assumes that all
      autonomic nodes are trusted by virtue of their admission to the ACP.
      ASAs are therefore trusted to manipulate any GRASP objective simply
      because they are installed on a node that has successfully joined the
      ACP. In the general case, a node may have multiple roles, and a role may
      use multiple ASAs, each using multiple GRASP objectives. Additional
      mechanisms for the fine-grained authorization of nodes and ASAs to
      manipulate specific GRASP objectives could be designed.  Meanwhile, we
      repeat that ASAs should run without special privilege if possible.
      Independently of this, interfaces between ASAs and the router
      configuration and monitoring services of the node can be subject to
      authentication that provides more fine-grained authorization for
      specific services. These additional authentication parameters could be
      passed to an ASA during its instantiation phase.<a class="pilcrow" href="#section-10-5">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-11">11. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-11-1">This document has no IANA actions.<a class="pilcrow" href="#section-11-1">¶</a></p>
</section>
</div>
<section id="section-12">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-12">12. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-12.1">12.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC8949">[RFC8949]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time class="refDate" datetime="2020-12">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8949">https://www.rfc-editor.org/info/rfc8949</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8990">[RFC8990]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Carpenter, B., Ed.</span>, and <span class="refAuthor">B. Liu, Ed.</span>, <span class="refTitle">"GeneRic Autonomic Signaling Protocol (GRASP)"</span>, <span class="seriesInfo">RFC 8990</span>, <span class="seriesInfo">DOI 10.17487/RFC8990</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8990">https://www.rfc-editor.org/info/rfc8990</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8994">[RFC8994]</dt>
        <dd>
<span class="refAuthor">Eckert, T., Ed.</span>, <span class="refAuthor">Behringer, M., Ed.</span>, and <span class="refAuthor">S. Bjarnason</span>, <span class="refTitle">"An Autonomic Control Plane (ACP)"</span>, <span class="seriesInfo">RFC 8994</span>, <span class="seriesInfo">DOI 10.17487/RFC8994</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8994">https://www.rfc-editor.org/info/rfc8994</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8995">[RFC8995]</dt>
      <dd>
<span class="refAuthor">Pritikin, M.</span>, <span class="refAuthor">Richardson, M.</span>, <span class="refAuthor">Eckert, T.</span>, <span class="refAuthor">Behringer, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"Bootstrapping Remote Secure Key Infrastructure (BRSKI)"</span>, <span class="seriesInfo">RFC 8995</span>, <span class="seriesInfo">DOI 10.17487/RFC8995</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8995">https://www.rfc-editor.org/info/rfc8995</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-12.2">12.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.peloso-anima-autonomic-function">[AUTONOMIC-FUNCTION]</dt>
        <dd>
<span class="refAuthor">Pierre, P.</span> and <span class="refAuthor">L. Ciavaglia</span>, <span class="refTitle">"A Day in the Life of an Autonomic Function"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-peloso-anima-autonomic-function-01</span>, <time class="refDate" datetime="2016-03-21">21 March 2016</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-peloso-anima-autonomic-function-01">https://datatracker.ietf.org/doc/html/draft-peloso-anima-autonomic-function-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-core-yang-cbor">[CBOR-YANG]</dt>
        <dd>
<span class="refAuthor">Veillette, M., Ed.</span>, <span class="refAuthor">Petrov, I., Ed.</span>, <span class="refAuthor">Pelov, A.</span>, <span class="refAuthor">Bormann, C.</span>, and <span class="refAuthor">M. Richardson</span>, <span class="refTitle">"CBOR Encoding of Data Modeled with YANG"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-core-yang-cbor-18</span>, <time class="refDate" datetime="2021-12">December 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-core-yang-cbor-18">https://datatracker.ietf.org/doc/html/draft-ietf-core-yang-cbor-18</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DEMOLA06">[DEMOLA06]</dt>
        <dd>
<span class="refAuthor">De Mola, F.</span> and <span class="refAuthor">R. Quitadamo</span>, <span class="refTitle">"Towards an Agent Model for Future Autonomic Communications"</span>, <span class="seriesInfo">Proceedings of the 7th WOA 2006 Workshop From Objects to Agents 51-59</span>, <time class="refDate" datetime="2006-09">September 2006</time>. </dd>
<dd class="break"></dd>
<dt id="GANA13">[GANA13]</dt>
        <dd>
<span class="refAuthor">ETSI</span>, <span class="refTitle">"Autonomic network engineering for the self-managing Future Internet (AFI); Generic Autonomic Network Architecture (An Architectural Reference Model for Autonomic Networking, Cognitive Networking and Self-Management)"</span>, <span class="refContent">GS AFI 002</span>, <span class="refContent">V1.1.1</span>, <time class="refDate" datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.etsi.org/deliver/etsi_gs/AFI/001_099/002/01.01.01_60/gs_afi002v010101p.pdf">https://www.etsi.org/deliver/etsi_gs/AFI/001_099/002/01.01.01_60/gs_afi002v010101p.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="HUEBSCHER08">[HUEBSCHER08]</dt>
        <dd>
<span class="refAuthor">Huebscher, M. C.</span> and <span class="refAuthor">J. A. McCann</span>, <span class="refTitle">"A survey of autonomic computing - degrees, models, and applications"</span>, <span class="refContent">ACM Computing Surveys (CSUR)</span>, <span class="refContent">Volume 40, Issue 3</span>, <span class="seriesInfo">DOI 10.1145/1380584.1380585</span>, <time class="refDate" datetime="2008-08">August 2008</time>, <span>&lt;<a href="https://doi.org/10.1145/1380584.1380585">https://doi.org/10.1145/1380584.1380585</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.irtf-nmrg-ibn-concepts-definitions">[IBN-CONCEPTS]</dt>
        <dd>
<span class="refAuthor">Clemm, A.</span>, <span class="refAuthor">Ciavaglia, L.</span>, <span class="refAuthor">Granville, L. Z.</span>, and <span class="refAuthor">J. Tantsura</span>, <span class="refTitle">"Intent-Based Networking - Concepts and Definitions"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-nmrg-ibn-concepts-definitions-09</span>, <time class="refDate" datetime="2022-03-24">24 March 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-irtf-nmrg-ibn-concepts-definitions-09">https://datatracker.ietf.org/doc/html/draft-irtf-nmrg-ibn-concepts-definitions-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IPJ">[IPJ]</dt>
        <dd>
<span class="refAuthor">Behringer, M.</span>, <span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Carpenter, B. E.</span>, <span class="refAuthor">Eckert, T.</span>, <span class="refAuthor">Campos Nobre, J.</span>, <span class="refAuthor">Jiang, S.</span>, <span class="refAuthor">Li, Y.</span>, and <span class="refAuthor">M. C. Richardson</span>, <span class="refTitle">"Autonomic Networking Gets Serious"</span>, <span class="refContent">The Internet Protocol Journal</span>, <span class="refContent">Volume 24, Issue 3, Page(s) 2 - 18</span>, <span class="refContent">ISSN 1944-1134</span>, <time class="refDate" datetime="2021-10">October 2021</time>, <span>&lt;<a href="https://ipj.dreamhosters.com/wp-content/uploads/2021/10/243-ipj.pdf">https://ipj.dreamhosters.com/wp-content/uploads/2021/10/243-ipj.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MOVAHEDI12">[MOVAHEDI12]</dt>
        <dd>
<span class="refAuthor">Movahedi, Z.</span>, <span class="refAuthor">Ayari, M.</span>, <span class="refAuthor">Langar, R.</span>, and <span class="refAuthor">G. Pujolle</span>, <span class="refTitle">"A Survey of Autonomic Network Architectures and Evaluation Criteria"</span>, <span class="refContent">IEEE Communications Surveys &amp; Tutorials</span>, <span class="refContent">Volume 14, Issue 2, Pages 464 - 490</span>, <span class="seriesInfo">DOI 10.1109/SURV.2011.042711.00078</span>, <time class="refDate" datetime="2012">2012</time>, <span>&lt;<a href="https://doi.org/10.1109/SURV.2011.042711.00078">https://doi.org/10.1109/SURV.2011.042711.00078</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="NFV">[NFV]</dt>
        <dd>
<span class="refAuthor">ETSI</span>, <span class="refTitle">"Network Functions Virtualisation"</span>, <span class="refContent">SDN and OpenFlow World Congress</span>, <time class="refDate" datetime="2012-10">October 2012</time>, <span>&lt;<a href="https://portal.etsi.org/NFV/NFV_White_Paper.pdf">https://portal.etsi.org/NFV/NFV_White_Paper.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
        <dd>
<span class="refAuthor">Enns, R., Ed.</span>, <span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refAuthor">Schoenwaelder, J., Ed.</span>, and <span class="refAuthor">A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time class="refDate" datetime="2011-06">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6973">[RFC6973]</dt>
        <dd>
<span class="refAuthor">Cooper, A.</span>, <span class="refAuthor">Tschofenig, H.</span>, <span class="refAuthor">Aboba, B.</span>, <span class="refAuthor">Peterson, J.</span>, <span class="refAuthor">Morris, J.</span>, <span class="refAuthor">Hansen, M.</span>, and <span class="refAuthor">R. Smith</span>, <span class="refTitle">"Privacy Considerations for Internet Protocols"</span>, <span class="seriesInfo">RFC 6973</span>, <span class="seriesInfo">DOI 10.17487/RFC6973</span>, <time class="refDate" datetime="2013-07">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6973">https://www.rfc-editor.org/info/rfc6973</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7575">[RFC7575]</dt>
        <dd>
<span class="refAuthor">Behringer, M.</span>, <span class="refAuthor">Pritikin, M.</span>, <span class="refAuthor">Bjarnason, S.</span>, <span class="refAuthor">Clemm, A.</span>, <span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Jiang, S.</span>, and <span class="refAuthor">L. Ciavaglia</span>, <span class="refTitle">"Autonomic Networking: Definitions and Design Goals"</span>, <span class="seriesInfo">RFC 7575</span>, <span class="seriesInfo">DOI 10.17487/RFC7575</span>, <time class="refDate" datetime="2015-06">June 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7575">https://www.rfc-editor.org/info/rfc7575</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7665">[RFC7665]</dt>
        <dd>
<span class="refAuthor">Halpern, J., Ed.</span> and <span class="refAuthor">C. Pignataro, Ed.</span>, <span class="refTitle">"Service Function Chaining (SFC) Architecture"</span>, <span class="seriesInfo">RFC 7665</span>, <span class="seriesInfo">DOI 10.17487/RFC7665</span>, <time class="refDate" datetime="2015-10">October 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7665">https://www.rfc-editor.org/info/rfc7665</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8368">[RFC8368]</dt>
        <dd>
<span class="refAuthor">Eckert, T., Ed.</span> and <span class="refAuthor">M. Behringer</span>, <span class="refTitle">"Using an Autonomic Control Plane for Stable Connectivity of Network Operations, Administration, and Maintenance (OAM)"</span>, <span class="seriesInfo">RFC 8368</span>, <span class="seriesInfo">DOI 10.17487/RFC8368</span>, <time class="refDate" datetime="2018-05">May 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8368">https://www.rfc-editor.org/info/rfc8368</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8991">[RFC8991]</dt>
        <dd>
<span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Liu, B., Ed.</span>, <span class="refAuthor">Wang, W.</span>, and <span class="refAuthor">X. Gong</span>, <span class="refTitle">"GeneRic Autonomic Signaling Protocol Application Program Interface (GRASP API)"</span>, <span class="seriesInfo">RFC 8991</span>, <span class="seriesInfo">DOI 10.17487/RFC8991</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8991">https://www.rfc-editor.org/info/rfc8991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8992">[RFC8992]</dt>
        <dd>
<span class="refAuthor">Jiang, S., Ed.</span>, <span class="refAuthor">Du, Z.</span>, <span class="refAuthor">Carpenter, B.</span>, and <span class="refAuthor">Q. Sun</span>, <span class="refTitle">"Autonomic IPv6 Edge Prefix Management in Large-Scale Networks"</span>, <span class="seriesInfo">RFC 8992</span>, <span class="seriesInfo">DOI 10.17487/RFC8992</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8992">https://www.rfc-editor.org/info/rfc8992</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8993">[RFC8993]</dt>
        <dd>
<span class="refAuthor">Behringer, M., Ed.</span>, <span class="refAuthor">Carpenter, B.</span>, <span class="refAuthor">Eckert, T.</span>, <span class="refAuthor">Ciavaglia, L.</span>, and <span class="refAuthor">J. Nobre</span>, <span class="refTitle">"A Reference Model for Autonomic Networking"</span>, <span class="seriesInfo">RFC 8993</span>, <span class="seriesInfo">DOI 10.17487/RFC8993</span>, <time class="refDate" datetime="2021-05">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8993">https://www.rfc-editor.org/info/rfc8993</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ZSM009-1">[ZSM009-1]</dt>
      <dd>
<span class="refAuthor">ETSI</span>, <span class="refTitle">"Zero-touch network and Service Management (ZSM); Closed-Loop Automation; Part 1: Enablers"</span>, <span class="refContent">GS ZSM 009-1</span>, <span class="refContent">Version 1.1.1</span>, <time class="refDate" datetime="2021-06">June 2021</time>, <span>&lt;<a href="https://www.etsi.org/deliver/etsi_gs/ZSM/001_099/00901/01.01.01_60/gs_ZSM00901v010101p.pdf">https://www.etsi.org/deliver/etsi_gs/ZSM/001_099/00901/01.01.01_60/gs_ZSM00901v010101p.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="eg">
<section id="appendix-A">
      <h2 id="name-example-logic-flows">
<a class="section-number selfRef" href="#appendix-A">Appendix A. </a><a class="section-name selfRef" href="#name-example-logic-flows">Example Logic Flows</a>
      </h2>
<p id="appendix-A-1">This appendix describes generic logic flows that combine to act as an
      Autonomic Service Agent (ASA) for resource management. Note that these
      are illustrative examples and are in no sense requirements. As long as
      the rules of GRASP are followed, a real implementation could be
      different. The reader is assumed to be familiar with GRASP <span>[<a class="xref" href="#RFC8990">RFC8990</a>]</span> and its conceptual API <span>[<a class="xref" href="#RFC8991">RFC8991</a>]</span>.<a class="pilcrow" href="#appendix-A-1">¶</a></p>
<p id="appendix-A-2">A complete autonomic function for a distributed resource will consist
      of a number of instances of the ASA placed at relevant points in a
      network. Specific details will, of course, depend on the resource
      concerned. One example is IP address prefix management, as specified in
      <span>[<a class="xref" href="#RFC8992">RFC8992</a>]</span>. In this case, an instance of the ASA will
      exist in each delegating router.<a class="pilcrow" href="#appendix-A-2">¶</a></p>
<p id="appendix-A-3">
An underlying assumption is that there is an initial source of the resource in
question, referred to here as an origin ASA. The other ASAs, known as
delegators, obtain supplies of the resource from the origin, delegate
quantities of the resource to consumers that request it, and recover it when
no longer needed.<a class="pilcrow" href="#appendix-A-3">¶</a></p>
<p id="appendix-A-4">
Another assumption is there is a set of network-wide policy parameters, which
the origin will provide to the delegators. These parameters will control how
the delegators decide how much resource to provide to consumers.  Thus, the
ASA logic has two operating modes: origin and delegator. When running as an
origin, it starts by obtaining a quantity of the resource from the NOC, and it
acts as a source of policy parameters, via both GRASP flooding and GRASP
synchronization. (In some scenarios, flooding or synchronization alone might
be sufficient, but this example includes both.)<a class="pilcrow" href="#appendix-A-4">¶</a></p>
<p id="appendix-A-5">
When running as a delegator, it starts with an empty resource pool,
acquires the policy parameters by GRASP synchronization, and delegates
quantities of the resource to consumers that request it. Both as an origin and as a delegator, when its pool is low,
it seeks quantities of the resource by
requesting GRASP negotiation with peer ASAs. When its pool is sufficient, it
hands out resource to peer ASAs in response to negotiation requests. Thus,
over time, the initial resource pool held by the origin will be shared among
all the delegators according to demand.<a class="pilcrow" href="#appendix-A-5">¶</a></p>
<p id="appendix-A-6">
In theory, a network could include any number of origins and any number of
delegators, with the only condition being that each origin's initial resource
pool is unique. A realistic scenario is to have exactly one origin and as many
delegators as you like. A scenario with no origin is useless.<a class="pilcrow" href="#appendix-A-6">¶</a></p>
<p id="appendix-A-7">
An implementation requirement is that resource pools are kept in stable storage. Otherwise, if a delegator exits for any reason, all the resources it has obtained or delegated are lost. If an origin exits, its entire spare pool is lost. The logic for using stable storage and for crash recovery is not included in the pseudocode below, which focuses on communication between ASAs. Since GRASP operations are not intrinsically idempotent, data integrity during failure scenarios is the responsibility of the ASA designer. This is a complex topic in its own right that is not discussed in the present document.<a class="pilcrow" href="#appendix-A-7">¶</a></p>
<p id="appendix-A-8">
The description below does not implement GRASP's dry run function. That would require temporarily marking any resource handed out in a dry run negotiation as reserved, until either the peer obtains it in a live run, or a suitable timeout occurs.<a class="pilcrow" href="#appendix-A-8">¶</a></p>
<p id="appendix-A-9">
The main data structures used in each instance of the ASA are:<a class="pilcrow" href="#appendix-A-9">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-10.1">resource_pool: an ordered list of available resources, for example. Depending on the
  nature of the resource, units of resource are split when appropriate, and a
  background garbage collector recombines split resources if they are returned
  to the pool.<a class="pilcrow" href="#appendix-A-10.1">¶</a>
</li>
        <li class="normal" id="appendix-A-10.2">delegated_list: where a delegator stores the resources it has given to subsidiary devices.<a class="pilcrow" href="#appendix-A-10.2">¶</a>
</li>
      </ul>
<p id="appendix-A-11">
Possible main logic flows are below, using a threaded implementation model. As noted above, alternative approaches to asynchronous operations are possible. The transformation to an event loop model should be apparent; each thread would correspond to one event in the event loop.<a class="pilcrow" href="#appendix-A-11">¶</a></p>
<p id="appendix-A-12">
The GRASP objectives are as follows:<a class="pilcrow" href="#appendix-A-12">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-13.1">["EX1.Resource", flags, loop_count, value], where the value depends on the resource concerned but will typically include its size and          
identification.<a class="pilcrow" href="#appendix-A-13.1">¶</a>
</li>
        <li class="normal" id="appendix-A-13.2">["EX1.Params", flags, loop_count, value], where the value will be, for example, a JSON object defining the applicable parameters.<a class="pilcrow" href="#appendix-A-13.2">¶</a>
</li>
      </ul>
<p id="appendix-A-14">
In the outline logic flows below, these objectives are represented simply by their names.<a class="pilcrow" href="#appendix-A-14">¶</a></p>
<div id="appendix-A-15">
<pre class="lang-pseudocode sourcecode">MAIN PROGRAM:

Create empty resource_pool (and an associated lock)
Create empty delegated_list
Determine whether to act as origin
if origin:
    Obtain initial resource_pool contents from NOC
    Obtain value of EX1.Params from NOC
Register ASA with GRASP
Register GRASP objectives EX1.Resource and EX1.Params
if origin:
    Start FLOODER thread to flood EX1.Params
    Start SYNCHRONIZER listener for EX1.Params
Start MAIN_NEGOTIATOR thread for EX1.Resource
if not origin:
    Obtain value of EX1.Params from GRASP flood or synchronization
    Start DELEGATOR thread
Start GARBAGE_COLLECTOR thread
good_peer = none
do forever:
    if resource_pool is low:
        Calculate amount A of resource needed
        Discover peers using GRASP M_DISCOVER / M_RESPONSE
        if good_peer in peers:
            peer = good_peer
        else:
            peer =  #any choice among peers
        grasp.request_negotiate("EX1.Resource", peer)
        #i.e., send negotiation request
        Wait for response (M_NEGOTIATE, M_END or M_WAIT)
        if OK:
            if offered amount of resource sufficient:
                Send M_END + O_ACCEPT #negotiation succeeded
                Add resource to pool
                good_peer = peer      #remember this choice
            else:
                Send M_END + O_DECLINE #negotiation failed
                good_peer = none       #forget this choice
    sleep() #periodic timer suitable for application scenario
</pre><a class="pilcrow" href="#appendix-A-15">¶</a>
</div>
<div id="appendix-A-16">
<pre class="lang-pseudocode sourcecode">MAIN_NEGOTIATOR thread:

do forever:
    grasp.listen_negotiate("EX1.Resource")
    #i.e., wait for negotiation request
    Start a separate new NEGOTIATOR thread for requested amount A
</pre><a class="pilcrow" href="#appendix-A-16">¶</a>
</div>
<div id="appendix-A-17">
<pre class="lang-pseudocode sourcecode">NEGOTIATOR thread:

Request resource amount A from resource_pool
if not OK:
    while not OK and A &gt; Amin:
        A = A-1
        Request resource amount A from resource_pool
if OK:
    Offer resource amount A to peer by GRASP M_NEGOTIATE
    if received M_END + O_ACCEPT:
        #negotiation succeeded
    elif received M_END + O_DECLINE or other error:
        #negotiation failed
        Return resource to resource_pool
else:
    Send M_END + O_DECLINE #negotiation failed
#thread exits
</pre><a class="pilcrow" href="#appendix-A-17">¶</a>
</div>
<div id="appendix-A-18">
<pre class="lang-pseudocode sourcecode">DELEGATOR thread:

do forever:
    Wait for request or release for resource amount A
    if request:
        Get resource amount A from resource_pool
        if OK:
            Delegate resource to consumer #atomic
            Record in delegated_list      #operation
        else:
            Signal failure to consumer
            Signal main thread that resource_pool is low
    else:
        Delete resource from delegated_list
        Return resource amount A to resource_pool
</pre><a class="pilcrow" href="#appendix-A-18">¶</a>
</div>
<div id="appendix-A-19">
<pre class="lang-pseudocode sourcecode">SYNCHRONIZER thread:

do forever:
    Wait for  M_REQ_SYN message for EX1.Params
    Reply with M_SYNCH message for EX1.Params
</pre><a class="pilcrow" href="#appendix-A-19">¶</a>
</div>
<div id="appendix-A-20">
<pre class="lang-pseudocode sourcecode">FLOODER thread:

do forever:
    Send M_FLOOD message for EX1.Params
    sleep() #periodic timer suitable for application scenario

</pre><a class="pilcrow" href="#appendix-A-20">¶</a>
</div>
<div id="appendix-A-21">
<pre class="lang-pseudocode sourcecode">GARBAGE_COLLECTOR thread:

do forever:
    Search resource_pool for adjacent resources
    Merge adjacent resources
    sleep() #periodic timer suitable for application scenario
</pre><a class="pilcrow" href="#appendix-A-21">¶</a>
</div>
</section>
</div>
<div id="ack">
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">Valuable comments were received from <span class="contact-name">Michael       Behringer</span>, <span class="contact-name">Menachem Dodge</span>, <span class="contact-name">Martin Dürst</span>, <span class="contact-name">Toerless Eckert</span>,
      <span class="contact-name">Thomas Fossati</span>, <span class="contact-name">Alex Galis</span>,
      <span class="contact-name">Bing Liu</span>, <span class="contact-name">Benno Overeinder</span>,
      <span class="contact-name">Michael Richardson</span>, <span class="contact-name">Rob       Wilton</span>, and other IESG members.<a class="pilcrow" href="#appendix-B-1">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Brian Carpenter</span></div>
<div class="left" dir="auto"><span class="street-address">School of Computer Science<br/>University of Auckland<br/>PB 92019</span></div>
<div class="left" dir="auto">
<span class="locality">Auckland</span> <span class="postal-code">1142</span>
</div>
<div class="left" dir="auto"><span class="country-name">New Zealand</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:brian.e.carpenter@gmail.com">brian.e.carpenter@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Laurent Ciavaglia</span></div>
<div class="left" dir="auto"><span class="org">Rakuten Mobile</span></div>
<div class="left" dir="auto"><span class="locality">Paris</span></div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:laurent.ciavaglia@rakuten.com">laurent.ciavaglia@rakuten.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Sheng Jiang</span></div>
<div class="left" dir="auto"><span class="org">Huawei Technologies Co., Ltd</span></div>
<div class="left" dir="auto"><span class="street-address">Q14 Huawei Campus<br/>156 Beiqing Road<br/>Hai-Dian District</span></div>
<div class="left" dir="auto"><span class="locality">Beijing</span></div>
<div class="left" dir="auto"><span class="postal-code">100095</span></div>
<div class="left" dir="auto"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:jiangsheng@huawei.com">jiangsheng@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Pierre Peloso</span></div>
<div class="left" dir="auto"><span class="org">Nokia</span></div>
<div class="left" dir="auto"><span class="street-address">Villarceaux</span></div>
<div class="left" dir="auto">
<span class="postal-code">91460</span> <span class="locality">Nozay</span>
</div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pierre.peloso@nokia.com">pierre.peloso@nokia.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>