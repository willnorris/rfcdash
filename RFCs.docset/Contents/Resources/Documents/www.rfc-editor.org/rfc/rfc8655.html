<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8655: Deterministic Networking Architecture</title>
<meta content="Norman Finn" name="author"/>
<meta content="Pascal Thubert" name="author"/>
<meta content="Balázs Varga" name="author"/>
<meta content="János Farkas" name="author"/>
<meta content="
       
 This document provides the overall architecture for
 Deterministic Networking (DetNet), which provides a capability
 to carry specified unicast or multicast data flows for
 real-time applications with extremely low data loss rates and
 bounded latency within a network domain.  Techniques used
 include 1) reserving data-plane resources for individual (or
 aggregated) DetNet flows in some or all of the intermediate
 nodes along the path of the flow, 2) providing explicit routes
 for DetNet flows that do not immediately change with the
 network topology, and 3) distributing data from DetNet flow
 packets over time and/or space to ensure delivery of each
 packet's data in spite of the loss of a path.  DetNet operates
 at the IP layer and delivers service over lower-layer
 technologies such as MPLS and Time-Sensitive
 Networking (TSN) as defined by IEEE 802.1.
       
    " name="description"/>
<meta content="xml2rfc 2.34.0" name="generator"/>
<meta content="TSN, Bounded Lantency, Reliable Networking, Available Networking" name="keyword"/>
<meta content="8655" name="rfc.number"/>
<link href="rfc8655.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8655" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-ietf-detnet-architecture-13" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8655</td>
<td class="center">Deterministic Networking Architecture</td>
<td class="right">October 2019</td>
</tr></thead>
<tfoot><tr>
<td class="left">Finn, et al.</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8655">8655</a></dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2019-10">October 2019</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">N. Finn</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">P. Thubert</div>
<div class="org">Cisco</div>
</div>
<div class="author">
      <div class="author-name">B. Varga</div>
<div class="org">Ericsson</div>
</div>
<div class="author">
      <div class="author-name">J. Farkas</div>
<div class="org">Ericsson</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8655</h1>
<h1 id="title">Deterministic Networking Architecture</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">
 This document provides the overall architecture for
 Deterministic Networking (DetNet), which provides a capability
 to carry specified unicast or multicast data flows for
 real-time applications with extremely low data loss rates and
 bounded latency within a network domain.  Techniques used
 include 1) reserving data-plane resources for individual (or
 aggregated) DetNet flows in some or all of the intermediate
 nodes along the path of the flow, 2) providing explicit routes
 for DetNet flows that do not immediately change with the
 network topology, and 3) distributing data from DetNet flow
 packets over time and/or space to ensure delivery of each
 packet's data in spite of the loss of a path.  DetNet operates
 at the IP layer and delivers service over lower-layer
 technologies such as MPLS and Time-Sensitive
 Networking (TSN) as defined by IEEE 802.1.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8655">https://www.rfc-editor.org/info/rfc8655</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2019 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-boilerplate.3">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.1">
            <p id="section-boilerplate.3-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-boilerplate.3-1.1.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.2">
            <p id="section-boilerplate.3-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-terminology">Terminology</a><a class="pilcrow" href="#section-boilerplate.3-1.2.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.2.2.1">
                <p id="section-boilerplate.3-1.2.2.1.1"><a class="xref" href="#section-2.1">2.1</a>.  <a class="xref" href="#name-terms-used-in-this-document">Terms Used in This Document</a><a class="pilcrow" href="#section-boilerplate.3-1.2.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.2.2.2">
                <p id="section-boilerplate.3-1.2.2.2.1"><a class="xref" href="#section-2.2">2.2</a>.  <a class="xref" href="#name-dictionary-of-terms-used-by">Dictionary of Terms Used by TSN and DetNet</a><a class="pilcrow" href="#section-boilerplate.3-1.2.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.3">
            <p id="section-boilerplate.3-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-providing-the-detnet-qualit">Providing the DetNet Quality of Service</a><a class="pilcrow" href="#section-boilerplate.3-1.3.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.3.2.1">
                <p id="section-boilerplate.3-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-primary-goals-defining-the-">Primary Goals Defining the DetNet QoS</a><a class="pilcrow" href="#section-boilerplate.3-1.3.2.1.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.3.2.2">
                <p id="section-boilerplate.3-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-mechanisms-to-achieve-detne">Mechanisms to Achieve DetNet QoS</a><a class="pilcrow" href="#section-boilerplate.3-1.3.2.2.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.3.2.2.2.1">
                    <p id="section-boilerplate.3-1.3.2.2.2.1.1"><a class="xref" href="#section-3.2.1">3.2.1</a>.  <a class="xref" href="#name-resource-allocation">Resource Allocation</a><a class="pilcrow" href="#section-boilerplate.3-1.3.2.2.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.3.2.2.2.2">
                    <p id="section-boilerplate.3-1.3.2.2.2.2.1"><a class="xref" href="#section-3.2.2">3.2.2</a>.  <a class="xref" href="#name-service-protection">Service Protection</a><a class="pilcrow" href="#section-boilerplate.3-1.3.2.2.2.2.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.3.2.2.2.3">
                    <p id="section-boilerplate.3-1.3.2.2.2.3.1"><a class="xref" href="#section-3.2.3">3.2.3</a>.  <a class="xref" href="#name-explicit-routes">Explicit Routes</a><a class="pilcrow" href="#section-boilerplate.3-1.3.2.2.2.3.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.3.2.3">
                <p id="section-boilerplate.3-1.3.2.3.1"><a class="xref" href="#section-3.3">3.3</a>.  <a class="xref" href="#name-secondary-goals-for-detnet">Secondary Goals for DetNet</a><a class="pilcrow" href="#section-boilerplate.3-1.3.2.3.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.3.2.3.2.1">
                    <p id="section-boilerplate.3-1.3.2.3.2.1.1"><a class="xref" href="#section-3.3.1">3.3.1</a>.  <a class="xref" href="#name-coexistence-with-normal-tra">Coexistence with Normal Traffic</a><a class="pilcrow" href="#section-boilerplate.3-1.3.2.3.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.3.2.3.2.2">
                    <p id="section-boilerplate.3-1.3.2.3.2.2.1"><a class="xref" href="#section-3.3.2">3.3.2</a>.  <a class="xref" href="#name-fault-mitigation">Fault Mitigation</a><a class="pilcrow" href="#section-boilerplate.3-1.3.2.3.2.2.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.4">
            <p id="section-boilerplate.3-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-detnet-architecture">DetNet Architecture</a><a class="pilcrow" href="#section-boilerplate.3-1.4.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.1">
                <p id="section-boilerplate.3-1.4.2.1.1"><a class="xref" href="#section-4.1">4.1</a>.  <a class="xref" href="#name-detnet-stack-model">DetNet Stack Model</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.1.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.1.2.1">
                    <p id="section-boilerplate.3-1.4.2.1.2.1.1"><a class="xref" href="#section-4.1.1">4.1.1</a>.  <a class="xref" href="#name-representative-protocol-sta">Representative Protocol Stack Model</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.1.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.1.2.2">
                    <p id="section-boilerplate.3-1.4.2.1.2.2.1"><a class="xref" href="#section-4.1.2">4.1.2</a>.  <a class="xref" href="#name-detnet-data-plane-overview">DetNet Data-Plane Overview</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.1.2.2.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.1.2.3">
                    <p id="section-boilerplate.3-1.4.2.1.2.3.1"><a class="xref" href="#section-4.1.3">4.1.3</a>.  <a class="xref" href="#name-network-reference-model">Network Reference Model</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.1.2.3.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.2">
                <p id="section-boilerplate.3-1.4.2.2.1"><a class="xref" href="#section-4.2">4.2</a>.  <a class="xref" href="#name-detnet-systems">DetNet Systems</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.2.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.2.2.1">
                    <p id="section-boilerplate.3-1.4.2.2.2.1.1"><a class="xref" href="#section-4.2.1">4.2.1</a>.  <a class="xref" href="#name-end-system">End System</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.2.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.2.2.2">
                    <p id="section-boilerplate.3-1.4.2.2.2.2.1"><a class="xref" href="#section-4.2.2">4.2.2</a>.  <a class="xref" href="#name-detnet-edge-relay-and-trans">DetNet Edge, Relay, and Transit Nodes</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.2.2.2.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.3">
                <p id="section-boilerplate.3-1.4.2.3.1"><a class="xref" href="#section-4.3">4.3</a>.  <a class="xref" href="#name-detnet-flows">DetNet Flows</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.3.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.3.2.1">
                    <p id="section-boilerplate.3-1.4.2.3.2.1.1"><a class="xref" href="#section-4.3.1">4.3.1</a>.  <a class="xref" href="#name-detnet-flow-types">DetNet Flow Types</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.3.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.3.2.2">
                    <p id="section-boilerplate.3-1.4.2.3.2.2.1"><a class="xref" href="#section-4.3.2">4.3.2</a>.  <a class="xref" href="#name-source-transmission-behavio">Source Transmission Behavior</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.3.2.2.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.3.2.3">
                    <p id="section-boilerplate.3-1.4.2.3.2.3.1"><a class="xref" href="#section-4.3.3">4.3.3</a>.  <a class="xref" href="#name-incomplete-networks">Incomplete Networks</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.3.2.3.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.4">
                <p id="section-boilerplate.3-1.4.2.4.1"><a class="xref" href="#section-4.4">4.4</a>.  <a class="xref" href="#name-traffic-engineering-for-det">Traffic Engineering for DetNet</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.4.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.4.2.1">
                    <p id="section-boilerplate.3-1.4.2.4.2.1.1"><a class="xref" href="#section-4.4.1">4.4.1</a>.  <a class="xref" href="#name-the-application-plane">The Application Plane</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.4.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.4.2.2">
                    <p id="section-boilerplate.3-1.4.2.4.2.2.1"><a class="xref" href="#section-4.4.2">4.4.2</a>.  <a class="xref" href="#name-the-controller-plane">The Controller Plane</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.4.2.2.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.4.2.3">
                    <p id="section-boilerplate.3-1.4.2.4.2.3.1"><a class="xref" href="#section-4.4.3">4.4.3</a>.  <a class="xref" href="#name-the-network-plane">The Network Plane</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.4.2.3.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.5">
                <p id="section-boilerplate.3-1.4.2.5.1"><a class="xref" href="#section-4.5">4.5</a>.  <a class="xref" href="#name-queuing-shaping-scheduling-">Queuing, Shaping, Scheduling, and Preemption</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.5.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.6">
                <p id="section-boilerplate.3-1.4.2.6.1"><a class="xref" href="#section-4.6">4.6</a>.  <a class="xref" href="#name-service-instance">Service Instance</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.6.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.7">
                <p id="section-boilerplate.3-1.4.2.7.1"><a class="xref" href="#section-4.7">4.7</a>.  <a class="xref" href="#name-flow-identification-at-tech">Flow Identification at Technology Borders</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.7.1">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.7.2.1">
                    <p id="section-boilerplate.3-1.4.2.7.2.1.1"><a class="xref" href="#section-4.7.1">4.7.1</a>.  <a class="xref" href="#name-exporting-flow-identificati">Exporting Flow Identification</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.7.2.1.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.7.2.2">
                    <p id="section-boilerplate.3-1.4.2.7.2.2.1"><a class="xref" href="#section-4.7.2">4.7.2</a>.  <a class="xref" href="#name-flow-attribute-mapping-betw">Flow Attribute Mapping between Layers</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.7.2.2.1">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.7.2.3">
                    <p id="section-boilerplate.3-1.4.2.7.2.3.1"><a class="xref" href="#section-4.7.3">4.7.3</a>.  <a class="xref" href="#name-flow-id-mapping-examples">Flow-ID Mapping Examples</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.7.2.3.1">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.8">
                <p id="section-boilerplate.3-1.4.2.8.1"><a class="xref" href="#section-4.8">4.8</a>.  <a class="xref" href="#name-advertising-resources-capab">Advertising Resources, Capabilities, and Adjacencies</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.8.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.9">
                <p id="section-boilerplate.3-1.4.2.9.1"><a class="xref" href="#section-4.9">4.9</a>.  <a class="xref" href="#name-scaling-to-larger-networks">Scaling to Larger Networks</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.9.1">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.4.2.10">
                <p id="section-boilerplate.3-1.4.2.10.1"><a class="xref" href="#section-4.10">4.10</a>. <a class="xref" href="#name-compatibility-with-layer-2">Compatibility with Layer 2</a><a class="pilcrow" href="#section-boilerplate.3-1.4.2.10.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.5">
            <p id="section-boilerplate.3-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-boilerplate.3-1.5.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.6">
            <p id="section-boilerplate.3-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-privacy-considerations">Privacy Considerations</a><a class="pilcrow" href="#section-boilerplate.3-1.6.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.7">
            <p id="section-boilerplate.3-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-boilerplate.3-1.7.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.8">
            <p id="section-boilerplate.3-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-boilerplate.3-1.8.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.9">
            <p id="section-boilerplate.3-1.9.1"><a class="xref" href="#section-appendix.a"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-boilerplate.3-1.9.1">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.10">
            <p id="section-boilerplate.3-1.10.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-boilerplate.3-1.10.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1">
        This document provides the overall architecture for Deterministic
        Networking (DetNet), which provides a capability for the delivery of
        data flows with extremely low packet loss rates and bounded end-to-end
        delivery latency.  DetNet is for networks that are under a single
        administrative control or within a closed group of administrative
        control; these include campus-wide networks and private WANs. DetNet
        is not for large groups of domains such as the Internet.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2">
        DetNet operates at the IP layer and delivers service over lower-layer
        technologies such as MPLS and IEEE 802.1 Time-Sensitive Networking
        (TSN).

DetNet provides a reliable and available service by dedicating network
resources such as link bandwidth and buffer space to DetNet flows and/or
classes of DetNet flows, and by replicating packets along multiple paths.
Unused reserved resources are available to non-DetNet packets as long as all
guarantees are fulfilled.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3"> The <span><a class="xref" href="#RFC8557">"Deterministic
Networking Problem Statement"</a> [<a class="xref" href="#RFC8557">RFC8557</a>]</span> introduces DetNet, and <span><a class="xref" href="#RFC8578">"Deterministic Networking Use Cases"</a> [<a class="xref" href="#RFC8578">RFC8578</a>]</span> summarizes the
need for it.  See <span>[<a class="xref" href="#I-D.ietf-detnet-data-plane-framework">DETNET-FRAMEWORK</a>]</span> for specific techniques
that can be used to identify DetNet flows and assign them to specific paths
through a network.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4"> A goal of DetNet is a converged network in all
respects, including the convergence of sensitive non-IP networks onto a common
network infrastructure.  The presence of DetNet flows does not preclude
non-DetNet flows, and the benefits offered DetNet flows should not, except in
extreme cases, prevent existing Quality-of-Service (QoS) mechanisms from
operating in a normal fashion, subject to the bandwidth required for the
DetNet flows.  A single source-destination pair can trade both DetNet and
non-DetNet flows.  End systems and applications need not instantiate special
interfaces for DetNet flows.  Networks are not restricted to certain
topologies; connectivity is not restricted.  Any application that generates a
data flow that can be usefully characterized as having a maximum bandwidth
should be able to take advantage of DetNet, as long as the necessary resources
can be reserved.

Reservations can be made by the application itself, via network management,
centrally by an application's controller, or by other means, for instance, by
placing on-demand reservation via a distributed Control Plane, e.g.,
leveraging the Resource Reservation Protocol (RSVP) <span>[<a class="xref" href="#RFC2205">RFC2205</a>]</span>.

QoS requirements of DetNet flows can be met if all network
nodes in a DetNet domain implement DetNet capabilities. DetNet nodes can be
interconnected with different sub-network technologies (<a class="xref" href="#sec_dt_dp">Section 4.1.2</a>) where the nodes of the subnet are not DetNet aware
(<a class="xref" href="#netref">Section 4.1.3</a>).<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5"> Many applications that are intended to be
served by DetNet require the ability to synchronize the clocks in end systems
to a sub-microsecond accuracy.  Some of the queue-control techniques defined
in <a class="xref" href="#QueuingModels">Section 4.5</a> also require time synchronization among
network nodes.  The means used to achieve time synchronization are not
addressed in this document.  DetNet can accommodate various
time-synchronization techniques and profiles that are defined elsewhere to
address the needs of different market segments.<a class="pilcrow" href="#section-1-5">¶</a></p>
</section>
</div>
<section id="section-2">
      <h2 id="name-terminology">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-terminology">Terminology</a>
      </h2>
<section id="section-2.1">
        <h3 id="name-terms-used-in-this-document">
<a class="section-number selfRef" href="#section-2.1">2.1. </a><a class="section-name selfRef" href="#name-terms-used-in-this-document">Terms Used in This Document</a>
        </h3>
<p id="section-2.1-1">
 The following terms are used in the context of DetNet in this document:<a class="pilcrow" href="#section-2.1-1">¶</a></p>
<dl class="dlNewline" id="section-2.1-2">
          <dt id="section-2.1-2.1">allocation</dt>
          <dd id="section-2.1-2.2" style="margin-left: 1.5em">
   The dedication of resources 
   to support a DetNet flow. Depending on an
   implementation, the resource may be reused by
   non-DetNet flows when it is not used by the DetNet
   flow.<a class="pilcrow" href="#section-2.1-2.2">¶</a>
</dd>
<dt id="section-2.1-2.3">App-flow</dt>
          <dd id="section-2.1-2.4" style="margin-left: 1.5em">
 The payload (data) carried over a DetNet service.<a class="pilcrow" href="#section-2.1-2.4">¶</a>
</dd>
<dt id="section-2.1-2.5">DetNet compound flow and DetNet member flow</dt>
          <dd id="section-2.1-2.6" style="margin-left: 1.5em"> A DetNet compound
   flow is a DetNet flow that has been separated into
   multiple duplicate DetNet member flows for service
   protection at the DetNet service sub-layer.  Member
   flows are merged back into a single DetNet compound
   flow such that there are no duplicate packets.
   "Compound" and "member" are strictly relative to
   each other, not absolutes; a DetNet compound flow
   comprising multiple DetNet member flows can, in
   turn, be a member of a higher-order compound.<a class="pilcrow" href="#section-2.1-2.6">¶</a>
</dd>
<dt id="section-2.1-2.7">DetNet destination</dt>
          <dd id="section-2.1-2.8" style="margin-left: 1.5em">
 An end system capable of terminating a DetNet flow.<a class="pilcrow" href="#section-2.1-2.8">¶</a>
</dd>
<dt id="section-2.1-2.9">DetNet domain</dt>
          <dd id="section-2.1-2.10" style="margin-left: 1.5em">
   The portion of a network that
   is DetNet aware.  It includes end systems and DetNet
   nodes.<a class="pilcrow" href="#section-2.1-2.10">¶</a>
</dd>
<dt id="section-2.1-2.11">DetNet edge node</dt>
          <dd id="section-2.1-2.12" style="margin-left: 1.5em"> An instance
   of a DetNet relay node that acts as a source and/or
   destination at the DetNet service sub-layer. For
   example, it can include a DetNet service sub-layer
   proxy function for DetNet service protection (e.g.,
   the addition or removal of packet sequencing
   information) for one or more end systems, it can start
   or terminate resource allocation at the DetNet
   forwarding sub-layer, or it can aggregate DetNet services
   into new DetNet flows.  It is analogous to a Label
   Edge Router (LER) or a Provider Edge (PE) router.<a class="pilcrow" href="#section-2.1-2.12">¶</a>
</dd>
<dt id="section-2.1-2.13">DetNet flow</dt>
          <dd id="section-2.1-2.14" style="margin-left: 1.5em">
 A sequence of packets that conforms uniquely
 to a flow identifier and to which the DetNet service is to be
 provided. It includes any DetNet headers added to support the
 DetNet service and forwarding sub-layers.<a class="pilcrow" href="#section-2.1-2.14">¶</a>
</dd>
<dt id="section-2.1-2.15">DetNet forwarding sub-layer</dt>
          <dd id="section-2.1-2.16" style="margin-left: 1.5em">
                           DetNet functionality is divided into two sub-layers.  One of
                           them is the DetNet forwarding sub-layer, which optionally
   provides resource allocation for DetNet flows over paths
   provided by the underlying network.<a class="pilcrow" href="#section-2.1-2.16">¶</a>
</dd>
<dt id="section-2.1-2.17">DetNet intermediate node</dt>
          <dd id="section-2.1-2.18" style="margin-left: 1.5em">
   A DetNet relay node or DetNet transit node.<a class="pilcrow" href="#section-2.1-2.18">¶</a>
</dd>
<dt id="section-2.1-2.19">DetNet node</dt>
          <dd id="section-2.1-2.20" style="margin-left: 1.5em"> A
    DetNet edge node, a DetNet relay
   node, or a DetNet transit node.<a class="pilcrow" href="#section-2.1-2.20">¶</a>
</dd>
<dt id="section-2.1-2.21">DetNet relay node</dt>
          <dd id="section-2.1-2.22" style="margin-left: 1.5em"> A DetNet
   node that includes a service
   sub-layer function that interconnects different
   DetNet forwarding sub-layer paths to provide service
   protection.  A DetNet relay node participates in the
   DetNet service sub-layer.  It typically incorporates
   DetNet forwarding sub-layer functions as well, in
   which case it is collocated with a transit node.<a class="pilcrow" href="#section-2.1-2.22">¶</a>
</dd>
<dt id="section-2.1-2.23">DetNet service sub-layer</dt>
          <dd id="section-2.1-2.24" style="margin-left: 1.5em"> 
           DetNet functionality is divided into two sub-layers.  One of
           them is the DetNet service sub-layer, at which a DetNet
           service (e.g., service protection) is provided.<a class="pilcrow" href="#section-2.1-2.24">¶</a>
</dd>
<dt id="section-2.1-2.25">DetNet service proxy</dt>
          <dd id="section-2.1-2.26" style="margin-left: 1.5em">
           A proxy that maps between App-flows and DetNet flows.<a class="pilcrow" href="#section-2.1-2.26">¶</a>
</dd>
<dt id="section-2.1-2.27">DetNet source</dt>
          <dd id="section-2.1-2.28" style="margin-left: 1.5em">
   An end system capable of originating a DetNet flow.<a class="pilcrow" href="#section-2.1-2.28">¶</a>
</dd>
<dt id="section-2.1-2.29">DetNet system</dt>
          <dd id="section-2.1-2.30" style="margin-left: 1.5em">
   A DetNet-aware end system, transit node, or relay node.
   "DetNet" may be omitted in some text.<a class="pilcrow" href="#section-2.1-2.30">¶</a>
</dd>
<dt id="section-2.1-2.31">DetNet transit node</dt>
          <dd id="section-2.1-2.32" style="margin-left: 1.5em"> 
                          A DetNet node, operating at the DetNet forwarding sub-layer,
   that utilizes link-layer and/or network-layer
   switching across multiple links and/or sub-networks
   to provide paths for DetNet service sub-layer
   functions.  It typically provides resource allocation
   over those paths.  An MPLS Label Switch Router (LSR) is an example of a
   DetNet transit node.<a class="pilcrow" href="#section-2.1-2.32">¶</a>
</dd>
<dt id="section-2.1-2.33">DetNet-UNI</dt>
          <dd id="section-2.1-2.34" style="margin-left: 1.5em">
   A User-to-Network Interface (UNI) with DetNet-specific
   functionalities. It is a packet-based reference
   point and may provide multiple functions like
   encapsulation, status, synchronization, etc.<a class="pilcrow" href="#section-2.1-2.34">¶</a>
</dd>
<dt id="section-2.1-2.35">end system</dt>
          <dd id="section-2.1-2.36" style="margin-left: 1.5em">
   Commonly called a "host" in the RFC series and an
   "end station" in IEEE 802 standards. End systems of
   interest to this document are either sources or
   destinations of DetNet flows, and they may or may
   not be aware of DetNet forwarding sub-layers or
   DetNet service sub-layers.<a class="pilcrow" href="#section-2.1-2.36">¶</a>
</dd>
<dt id="section-2.1-2.37">link</dt>
          <dd id="section-2.1-2.38" style="margin-left: 1.5em"> 
   A connection between two DetNet nodes.  It may be
   composed of a physical link or a sub-network
   technology that can provide appropriate traffic
   delivery for DetNet flows.<a class="pilcrow" href="#section-2.1-2.38">¶</a>
</dd>
<dt id="section-2.1-2.39">Packet Elimination Function (PEF)</dt>
          <dd id="section-2.1-2.40" style="margin-left: 1.5em">
          A function that eliminates duplicate
          copies of packets to prevent excess packets flooding the
          network or duplicate packets being sent out of the DetNet
          domain.  A PEF can be implemented by a DetNet edge node, a
          DetNet relay node, or an end system.<a class="pilcrow" href="#section-2.1-2.40">¶</a>
</dd>
<dt id="section-2.1-2.41">Packet Replication Function (PRF)</dt>
          <dd id="section-2.1-2.42" style="margin-left: 1.5em">
         A function that replicates DetNet flow
         packets and forwards them to one or more next hops in the
         DetNet domain.  The number of packet copies sent to the
         next hops is a parameter specific to the DetNet flow at the point
         of replication. A PRF can be implemented by a DetNet edge
         node, a DetNet relay node, or an end system.<a class="pilcrow" href="#section-2.1-2.42">¶</a>
</dd>
<dt id="section-2.1-2.43">PREOF</dt>
          <dd id="section-2.1-2.44" style="margin-left: 1.5em">
         A collective name for Packet Replication, Elimination, and Ordering Functions.<a class="pilcrow" href="#section-2.1-2.44">¶</a>
</dd>
<dt id="section-2.1-2.45">Packet Ordering Function (POF)</dt>
          <dd id="section-2.1-2.46" style="margin-left: 1.5em">
         A function that reorders packets within
         a DetNet flow that are received out of order.  This
         function can be implemented by a DetNet edge node, a
         DetNet relay node, or an end system.<a class="pilcrow" href="#section-2.1-2.46">¶</a>
</dd>
<dt id="section-2.1-2.47">reservation</dt>
          <dd id="section-2.1-2.48" style="margin-left: 1.5em">
   The set of resources allocated between a source and
   one or more destinations through DetNet nodes and
   subnets associated with a DetNet flow in order to provide
   the provisioned DetNet service.<a class="pilcrow" href="#section-2.1-2.48">¶</a>
</dd>
</dl>
</section>
<section id="section-2.2">
        <h3 id="name-dictionary-of-terms-used-by">
<a class="section-number selfRef" href="#section-2.2">2.2. </a><a class="section-name selfRef" href="#name-dictionary-of-terms-used-by">Dictionary of Terms Used by TSN and DetNet</a>
        </h3>
<p id="section-2.2-1">
   This section serves as a dictionary for translating the
   terms used by the Time-Sensitive Networking (TSN) Task Group 
   <span>[<a class="xref" href="#IEEE802.1TSNTG">IEEE802.1TSNTG</a>]</span> of the IEEE 802.1 WG to those of
   the Deterministic Networking (detnet) WG of the IETF.<a class="pilcrow" href="#section-2.2-1">¶</a></p>
<dl class="dlNewline" id="section-2.2-2">
          <dt id="section-2.2-2.1">Listener</dt>
          <dd id="section-2.2-2.2" style="margin-left: 1.5em">
   The term used by IEEE 802.1 for a destination of a DetNet flow.<a class="pilcrow" href="#section-2.2-2.2">¶</a>
</dd>
<dt id="section-2.2-2.3">Relay system</dt>
          <dd id="section-2.2-2.4" style="margin-left: 1.5em">
   The term used by IEEE
   802.1 for a DetNet intermediate node.<a class="pilcrow" href="#section-2.2-2.4">¶</a>
</dd>
<dt id="section-2.2-2.5">Stream</dt>
          <dd id="section-2.2-2.6" style="margin-left: 1.5em">
   The term used by IEEE 802.1 for a DetNet flow.<a class="pilcrow" href="#section-2.2-2.6">¶</a>
</dd>
<dt id="section-2.2-2.7">Talker</dt>
          <dd id="section-2.2-2.8" style="margin-left: 1.5em">
   The term used by IEEE
   802.1 for the source of a DetNet flow.<a class="pilcrow" href="#section-2.2-2.8">¶</a>
</dd>
</dl>
</section>
</section>
<div id="ProvidingQoS">
<section id="section-3">
      <h2 id="name-providing-the-detnet-qualit">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-providing-the-detnet-qualit">Providing the DetNet Quality of Service</a>
      </h2>
<div id="DefiningGoals">
<section id="section-3.1">
        <h3 id="name-primary-goals-defining-the-">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-primary-goals-defining-the-">Primary Goals Defining the DetNet QoS</a>
        </h3>
<p id="section-3.1-1">
 The DetNet QoS can be expressed in terms of:<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<ul>
<li id="section-3.1-2.1">
 Minimum and maximum end-to-end latency from source to
 destination, timely delivery, and bounded jitter
 (packet delay variation) derived from these
 constraints.<a class="pilcrow" href="#section-3.1-2.1">¶</a>
</li>
          <li id="section-3.1-2.2">
 Packet loss ratio under various assumptions as to the operational
 states of the nodes and links.<a class="pilcrow" href="#section-3.1-2.2">¶</a>
</li>
          <li id="section-3.1-2.3">
 An upper bound on out-of-order packet delivery. It is worth noting
 that some DetNet applications are unable to tolerate any
 out-of-order delivery.<a class="pilcrow" href="#section-3.1-2.3">¶</a>
</li>
        </ul>
<p id="section-3.1-3">
 It is a distinction of DetNet that it is concerned solely with 
 worst-case values for the end-to-end latency, jitter, and 
 misordering. Average, mean, or typical values are of little
 interest, because they do not affect the ability of a real-time
 system to perform its tasks. In general, a trivial priority-based
 queuing scheme will give better average latency to a data flow than
 DetNet; however, it may not be a suitable option for DetNet because
 of its worst-case latency.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">
 Three techniques are used by DetNet to provide these qualities of service:<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<ul>
<li id="section-3.1-5.1">
 Resource allocation (<a class="xref" href="#Zero">Section 3.2.1</a>)<a class="pilcrow" href="#section-3.1-5.1">¶</a>
</li>
          <li id="section-3.1-5.2">
 Service protection (<a class="xref" href="#srvcprot">Section 3.2.2</a>)<a class="pilcrow" href="#section-3.1-5.2">¶</a>
</li>
          <li id="section-3.1-5.3">
 Explicit routes (<a class="xref" href="#pinned">Section 3.2.3</a>)<a class="pilcrow" href="#section-3.1-5.3">¶</a>
</li>
        </ul>
<p id="section-3.1-6">
            Resource allocation operates by assigning resources, e.g., buffer
            space or link bandwidth, to a DetNet flow (or flow aggregate) along
            its path. Resource allocation greatly reduces, or even eliminates
            entirely, packet loss due to output packet contention within the
            network, but it can only be supplied to a DetNet flow that is limited
            at the source to a maximum packet size and transmission rate. 
 
 As DetNet flows are assumed to be rate limited and DetNet is designed
 to provide sufficient allocated resources (including provisioned
 capacity), the use of transport-layer congestion control 
 <span>[<a class="xref" href="#RFC2914">RFC2914</a>]</span> for App-flows is not required; however,
 if resources are allocated appropriately, use of congestion control
 should not impact transmission negatively.<a class="pilcrow" href="#section-3.1-6">¶</a></p>
<p id="section-3.1-7"> Resource allocation addresses two of the DetNet QoS requirements: latency
and packet loss. Given that DetNet nodes have a finite amount of buffer space,
resource allocation necessarily results in a maximum end-to-end
latency. Resource allocation also addresses contention-related packet loss.<a class="pilcrow" href="#section-3.1-7">¶</a></p>
<p id="section-3.1-8"> Other important contributions to packet loss are random media errors
and equipment failures.  Service protection is the name for the mechanisms
used by DetNet to address these losses.  The mechanisms employed are
constrained by the need to meet the users' latency requirements. Packet
replication and elimination (<a class="xref" href="#Seamless">Section 3.2.2.2</a>) and packet encoding
(<a class="xref" href="#PacketEncoding">Section 3.2.2.3</a>) are described in this document to provide
service protection, but other mechanisms may also be found. For instance,
packet encoding can be used to provide service protection against random media
errors, while packet replication and elimination can be used to provide
service protection against equipment failures. This mechanism distributes the
contents of DetNet flows over multiple paths in time and/or space, so that the
loss of some of the paths does need not cause the loss of any packets.<a class="pilcrow" href="#section-3.1-8">¶</a></p>
<p id="section-3.1-9"> The paths are typically (but not necessarily) explicit routes so that
they do not normally suffer temporary interruptions caused by the convergence
of routing or bridging protocols.<a class="pilcrow" href="#section-3.1-9">¶</a></p>
<p id="section-3.1-10"> These three techniques can be applied individually or applied together; it
results that eight combinations, including none (no DetNet), are
possible. Some combinations, however, are of wider utility than others.  This
separation keeps the protocol stack coherent and maximizes interoperability
with existing and developing standards in the IETF and other Standards
Development Organizations.  The following are examples of typical expected
combinations:<a class="pilcrow" href="#section-3.1-10">¶</a></p>
<ul>
<li id="section-3.1-11.1">
 The combination of explicit routes and service protection is the technique
 employed by seamless redundancy mechanisms applied on a ring topology,
 e.g., as described in <span>[<a class="xref" href="#IEC-62439-3">IEC-62439-3</a>]</span>. In this
 example, explicit routes are achieved by limiting the physical
 topology of the network to a ring. Sequentialization, replication, and
 duplicate elimination are facilitated by packet tags added at the
 front or the end of Ethernet frames. <span>[<a class="xref" href="#RFC8227">RFC8227</a>]</span> provides
 another example in the context of MPLS.<a class="pilcrow" href="#section-3.1-11.1">¶</a>
</li>
          <li id="section-3.1-11.2"> Resource allocation
 alone was originally offered by Audio Video Bridging as defined by IEEE 802.1 <span>[<a class="xref" href="#IEEE802.1BA">IEEE802.1BA</a>]</span>.  As long as the network suffers no failures,
 packet loss due to output packet contention can be eliminated through
 the use of a reservation protocol (e.g., the Multiple Stream Registration
 Protocol <span>[<a class="xref" href="#IEEE802.1Q">IEEE802.1Q</a>]</span>), shapers in every bridge,
 and proper dimensioning.<a class="pilcrow" href="#section-3.1-11.2">¶</a>
</li>
          <li id="section-3.1-11.3"> Using all three together gives
 maximum protection.<a class="pilcrow" href="#section-3.1-11.3">¶</a>
</li>
        </ul>
<p id="section-3.1-12"> There are, of course, simpler methods available (and employed today) to
achieve levels of latency and packet loss that are satisfactory for many
applications.  Prioritization and over-provisioning is one such technique.
However, these methods generally work best in the absence of any significant
amount of noncritical traffic in the network (if, indeed, such traffic is
supported at all). They may also work only if the critical traffic constitutes only a small portion of
the network's theoretical capacity, if all systems are functioning properly,
or if actions by end systems that disrupt the network's
operations are absent.<a class="pilcrow" href="#section-3.1-12">¶</a></p>
<p id="section-3.1-13"> There are any number of methods in use, defined, or in progress for
accomplishing each of the above techniques.  It is expected that the DetNet
architecture defined in this document will assist various vendors, users, and/or "vertical" Standards
Development Organizations (dedicated to a single industry) in making selections
among the available means of implementing DetNet networks.<a class="pilcrow" href="#section-3.1-13">¶</a></p>
</section>
</div>
<div id="Techniques">
<section id="section-3.2">
        <h3 id="name-mechanisms-to-achieve-detne">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-mechanisms-to-achieve-detne">Mechanisms to Achieve DetNet QoS</a>
        </h3>
<div id="Zero">
<section id="section-3.2.1">
          <h4 id="name-resource-allocation">
<a class="section-number selfRef" href="#section-3.2.1">3.2.1. </a><a class="section-name selfRef" href="#name-resource-allocation">Resource Allocation</a>
          </h4>
<div id="ZeroL">
<section id="section-3.2.1.1">
            <h5 id="name-eliminate-contention-loss">
<a class="section-number selfRef" href="#section-3.2.1.1">3.2.1.1. </a><a class="section-name selfRef" href="#name-eliminate-contention-loss">Eliminate Contention Loss</a>
            </h5>
<p id="section-3.2.1.1-1">
 The primary means by which DetNet achieves its QoS
 assurances is to reduce, or even completely eliminate,
 packet loss due to output packet contention within a
 DetNet node as a cause of packet loss.  This can be
 achieved only by the provision of sufficient buffer
 storage at each node through the network to ensure
 that no packets are dropped due to a lack of buffer
 storage.  Note that App-flows are generally not
 expected to be responsive to implicit <span>[<a class="xref" href="#RFC2914">RFC2914</a>]</span> or explicit congestion notification
 <span>[<a class="xref" href="#RFC3168">RFC3168</a>]</span>.<a class="pilcrow" href="#section-3.2.1.1-1">¶</a></p>
<p id="section-3.2.1.1-2"> Ensuring adequate buffering requires, in turn, that
 the source and every DetNet node along the path to the
 destination (or nearly every node; see <a class="xref" href="#Incomplete">Section 4.3.3</a>) be careful to regulate its output to
 not exceed the data rate for any DetNet flow, except for brief
 periods when making up for interfering traffic.  Any packet
 sent ahead of its time potentially adds to the number of
 buffers required by the next-hop DetNet node and may thus
 exceed the resources allocated for a particular DetNet
 flow. Furthermore, rate limiting (e.g., using traffic policing)
 and shaping functions (e.g., shaping as defined in <span>[<a class="xref" href="#RFC2475">RFC2475</a>]</span>) at the
 ingress of the DetNet domain must be applied. This is needed
 for meeting the requirements of DetNet flows as well as for
 protecting non-DetNet traffic from potentially misbehaving
 DetNet traffic sources. Note that large buffers have some
 issues (see, e.g., <span>[<a class="xref" href="#BUFFERBLOAT">BUFFERBLOAT</a>]</span>).<a class="pilcrow" href="#section-3.2.1.1-2">¶</a></p>
<p id="section-3.2.1.1-3"> The low-level mechanisms described in <a class="xref" href="#QueuingModels">Section 4.5</a>
provide the necessary regulation of transmissions by an end system or DetNet
node to provide resource allocation.  The allocation of the bandwidth and
buffers for a DetNet flow requires provisioning.  A DetNet node may have other
resources requiring allocation and/or scheduling that might otherwise be
over-subscribed and trigger the rejection of a reservation.<a class="pilcrow" href="#section-3.2.1.1-3">¶</a></p>
</section>
</div>
<div id="Jitterless">
<section id="section-3.2.1.2">
            <h5 id="name-jitter-reduction">
<a class="section-number selfRef" href="#section-3.2.1.2">3.2.1.2. </a><a class="section-name selfRef" href="#name-jitter-reduction">Jitter Reduction</a>
            </h5>
<p id="section-3.2.1.2-1">
       A core objective of DetNet is to enable the convergence of sensitive non-IP networks
       onto a common network infrastructure. This requires the accurate emulation
       of currently deployed mission-specific networks, which,
       for example, rely on point-to-point analog (e.g., 4-20mA modulation) and
       serial-digital cables (or buses) for highly reliable, synchronized, and
       jitter-free communications. While the latency of analog transmissions is
       basically the speed of light, legacy serial links are usually slow (in the
       order of Kbps) compared to, say, Gigabit Ethernet, and some latency is usually
       acceptable. What is not acceptable is the introduction of excessive jitter,
       which may, for instance, affect the stability of control systems.<a class="pilcrow" href="#section-3.2.1.2-1">¶</a></p>
<p id="section-3.2.1.2-2">Applications that are designed to operate on serial links usually do
       not provide services to recover the jitter, because jitter simply does not
       exist there. DetNet flows are generally expected to be delivered in order,
       and the precise time of reception influences the processes. In order to
       converge such existing applications,
       there is a desire to emulate all properties of the serial cable, such
       as clock transportation, perfect flow isolation, and fixed latency. While minimal
       jitter (in the form of specifying minimum, as well as maximum, end-to-end latency)
       is supported by DetNet, there are practical limitations on packet-based networks
       in this regard. In general, users
       are encouraged to use a combination of:<a class="pilcrow" href="#section-3.2.1.2-2">¶</a></p>
<ul>
<li id="section-3.2.1.2-3.1">
  Sub-microsecond time synchronization among all source and destination
  end systems, and<a class="pilcrow" href="#section-3.2.1.2-3.1">¶</a>
</li>
              <li id="section-3.2.1.2-3.2">
  Time-of-execution fields in the application packets.<a class="pilcrow" href="#section-3.2.1.2-3.2">¶</a>
</li>
            </ul>
<p id="section-3.2.1.2-4">
      Jitter reduction is provided by the mechanisms described in <a class="xref" href="#QueuingModels">Section 4.5</a>
      that also provide resource allocation.<a class="pilcrow" href="#section-3.2.1.2-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="srvcprot">
<section id="section-3.2.2">
          <h4 id="name-service-protection">
<a class="section-number selfRef" href="#section-3.2.2">3.2.2. </a><a class="section-name selfRef" href="#name-service-protection">Service Protection</a>
          </h4>
<p id="section-3.2.2-1">
     Service protection aims to mitigate or eliminate packet loss due
     to equipment failures, including random media and/or memory
     faults. These types of packet loss can be greatly reduced by
     spreading the data over multiple disjoint forwarding
     paths. Various service protection methods are described in <span>[<a class="xref" href="#RFC6372">RFC6372</a>]</span>, e.g., 1+1 linear protection.  The functional
     details of an additional method are described in <a class="xref" href="#Seamless">Section 3.2.2.2</a>, which can be implemented as described in
     <a class="xref" href="#PacketEncoding">Section 3.2.2.3</a> or as specified in <span>[<a class="xref" href="#I-D.ietf-detnet-mpls">DETNET-MPLS</a>]</span> in order to provide 1+n hitless
     protection. The appropriate service protection mechanism depends
     on the scenario and the requirements.<a class="pilcrow" href="#section-3.2.2-1">¶</a></p>
<div id="inorder">
<section id="section-3.2.2.1">
            <h5 id="name-in-order-delivery">
<a class="section-number selfRef" href="#section-3.2.2.1">3.2.2.1. </a><a class="section-name selfRef" href="#name-in-order-delivery">In-Order Delivery</a>
            </h5>
<p id="section-3.2.2.1-1">
        Out-of-order packet delivery can be a side effect of service
        protection.  Packets delivered out of order impact the amount of
        buffering needed at the destination to properly process the received
        data. Such packets also influence the jitter of a flow. The guarantees
        of a DetNet service include a maximum amount of misordering as a
 constraint. Zero misordering would be a valid service constraint to
        reflect that the end system(s) of the flow cannot tolerate any
        out-of-order delivery. A DetNet Packet Ordering Function (POF)
        (<a class="xref" href="#Seamless">Section 3.2.2.2</a>) can be used to provide in-order delivery.<a class="pilcrow" href="#section-3.2.2.1-1">¶</a></p>
</section>
</div>
<div id="Seamless">
<section id="section-3.2.2.2">
            <h5 id="name-packet-replication-and-elim">
<a class="section-number selfRef" href="#section-3.2.2.2">3.2.2.2. </a><a class="section-name selfRef" href="#name-packet-replication-and-elim">Packet Replication and Elimination</a>
            </h5>
<p id="section-3.2.2.2-1">
         This section describes a service protection method that sends copies
         of the same packets over multiple paths.<a class="pilcrow" href="#section-3.2.2.2-1">¶</a></p>
<p id="section-3.2.2.2-2"> The DetNet service
         sub-layer includes the PRF, PEF, and POF for use in DetNet edge,
         relay node, and end-system packet processing.  These functions can be
         enabled in a DetNet edge node, relay node, or end system. The
         collective name for all three functions is Packet Replication,
         Elimination, and Ordering Functions (PREOF).  The packet replication
         and elimination service protection method altogether involves four
         capabilities:<a class="pilcrow" href="#section-3.2.2.2-2">¶</a></p>
<ul>
<li id="section-3.2.2.2-3.1">
 Sequencing information is provided to the
 packets of a DetNet compound flow.  This may
 be done by adding a sequence number or time
 stamp as part of DetNet, or it may be inherent
 in the packet, e.g., in a higher-layer
 protocol or associated to other physical
 properties such as the precise time (and radio
 channel) of reception of the packet.  This is
 typically done once, at or near the source.<a class="pilcrow" href="#section-3.2.2.2-3.1">¶</a>
</li>
              <li id="section-3.2.2.2-3.2"> The PRF
 replicates these packets into multiple DetNet
 member flows and typically sends them along
 multiple different paths to the
 destination(s), e.g., over the explicit routes
 described in <a class="xref" href="#pinned">Section 3.2.3</a>. The location
 within a DetNet node and the mechanism used
 for the PRF are left open for implementations.<a class="pilcrow" href="#section-3.2.2.2-3.2">¶</a>
</li>
              <li id="section-3.2.2.2-3.3"> The PEF
 eliminates duplicate packets of a DetNet flow
 based on the sequencing information and a
 history of received packets. The output of the
 PEF is always a single packet.  This may be
 done at any DetNet node along the path to save
 network resources further downstream, in
 particular if multiple replication points
 exist. But the most common case is to perform
 this operation at the very edge of the DetNet
 network, preferably in or near the
 receiver. The location within a DetNet node
 and the mechanism used for the PEF is left open
 for implementations.<a class="pilcrow" href="#section-3.2.2.2-3.3">¶</a>
</li>
              <li id="section-3.2.2.2-3.4"> The
 POF uses the sequencing
 information to reorder a DetNet flow's packets
 that are received out of order.<a class="pilcrow" href="#section-3.2.2.2-3.4">¶</a>
</li>
            </ul>
<p id="section-3.2.2.2-4"> The order in which a DetNet node applies PEF, POF, and
 PRF to a DetNet flow is left open for implementations.<a class="pilcrow" href="#section-3.2.2.2-4">¶</a></p>
<p id="section-3.2.2.2-5"> Some service protection mechanisms rely on switching from one flow to
another when a failure of a flow is detected. Contrarily, packet replication
and elimination combines the DetNet member flows sent along multiple different
paths and performs a packet-by-packet selection of which to discard, e.g.,
based on sequencing information.<a class="pilcrow" href="#section-3.2.2.2-5">¶</a></p>
<p id="section-3.2.2.2-6">In the simplest case, this amounts to 1) replicating each packet in a
source that has two interfaces and 2) conveying them through the network along
separate (Shared Risk Link Group (SRLG) disjoint) paths to the similarly
dual-homed destinations that 3) reorder the packets and 4) discard the
duplicates. This ensures that one path
remains, even if some DetNet intermediate node fails.  The sequencing
information can also be used for loss detection and for reordering.<a class="pilcrow" href="#section-3.2.2.2-6">¶</a></p>
<p id="section-3.2.2.2-7">
DetNet relay nodes in the network can provide replication and elimination
facilities at various points in the network so that multiple failures can be
accommodated.<a class="pilcrow" href="#section-3.2.2.2-7">¶</a></p>
<p id="section-3.2.2.2-8"> This is shown in <a class="xref" href="#FigSeamless">Figure 1</a>, where the two relay nodes
each replicate (R) the DetNet flow on input, sending the DetNet member flows
to both the other relay node and to the end system, and eliminate duplicates
(E) on the output interface to the right-hand end system.  Any one link in the
network can fail, and the DetNet compound flow can still get through.
Furthermore, two links can fail, as long as they are in different segments of
the network.<a class="pilcrow" href="#section-3.2.2.2-8">¶</a></p>
<span id="name-packet-replication-and-elimi"></span><div id="FigSeamless">
<figure id="figure-1">
              <div class="artwork art-text alignLeft" id="section-3.2.2.2-9.1">
<pre>             &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; relay &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
            &gt; /------------+ R node E +------------\ &gt;
           &gt; /                  v + ^               \ &gt;
   end    R +                   v | ^                + E end
   system   +                   v | ^                +   system
           &gt; \                  v + ^               / &gt;
            &gt; \------------+ R relay E +-----------/ &gt;
             &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;  node &gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;</pre>
</div>
<figcaption><a class="selfRef" href="#figure-1">Figure 1</a>:
<a class="selfRef" href="#name-packet-replication-and-elimi">Packet Replication and Elimination</a>
              </figcaption></figure>
</div>
<p id="section-3.2.2.2-10">Packet replication and elimination does not react to and correct failures;
it is entirely passive.  Thus, intermittent failures, mistakenly created
packet filters, or misrouted data is handled just the same as the equipment
failures that are handled by typical routing and bridging protocols.<a class="pilcrow" href="#section-3.2.2.2-10">¶</a></p>
<p id="section-3.2.2.2-11">If member flows that take different-length paths through the network are
combined, a merge point may require extra buffering to equalize the delays
over the different paths.  This equalization ensures that the resultant
compound flow will not exceed its contracted bandwidth even after one of the
paths is restored after a failure. The extra buffering can be also used to
provide in-order delivery.<a class="pilcrow" href="#section-3.2.2.2-11">¶</a></p>
</section>
</div>
<div id="PacketEncoding">
<section id="section-3.2.2.3">
            <h5 id="name-packet-encoding-for-service">
<a class="section-number selfRef" href="#section-3.2.2.3">3.2.2.3. </a><a class="section-name selfRef" href="#name-packet-encoding-for-service">Packet Encoding for Service Protection</a>
            </h5>
<p id="section-3.2.2.3-1">
              There are methods for using multiple paths to provide service protection
              that involve encoding the information in a
              packet belonging to a DetNet flow into multiple transmission units,
              combining information from multiple packets into any given transmission unit.
              Such techniques, also known as "network coding",
              can be used as a DetNet service protection technique.<a class="pilcrow" href="#section-3.2.2.3-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="pinned">
<section id="section-3.2.3">
          <h4 id="name-explicit-routes">
<a class="section-number selfRef" href="#section-3.2.3">3.2.3. </a><a class="section-name selfRef" href="#name-explicit-routes">Explicit Routes</a>
          </h4>
<p id="section-3.2.3-1">
In networks controlled by typical dynamic control protocols such as IS-IS or
OSPF, a network topology event in one part of the network can impact, at least
briefly, the delivery of data in parts of the network remote from the failure
or recovery event. Even the use of redundant paths through a network, e.g., as
defined by <span>[<a class="xref" href="#RFC6372">RFC6372</a>]</span>, does not eliminate the chances of packet
loss. Furthermore, out-of-order packet delivery can be a side effect of route
changes.<a class="pilcrow" href="#section-3.2.3-1">¶</a></p>
<p id="section-3.2.3-2"> Many real-time networks rely on physical rings of two-port
devices, with a relatively simple ring control protocol.  This supports
redundant paths for service protection with a minimum of wiring.  As an
additional benefit, ring topologies can often utilize different topology
management protocols from those used for a mesh network, with a consequent
reduction in the response time to topology changes.  Of course, this comes at
some cost in terms of increased hop count, and thus latency, for the typical
path.<a class="pilcrow" href="#section-3.2.3-2">¶</a></p>
<p id="section-3.2.3-3"> In order to get the advantages of low hop count and still ensure against
even very brief losses of connectivity, DetNet employs explicit routes where
the path taken by a given DetNet flow does not change, at least not
immediately and likely not at all, in response to network topology events.
Service protection (see Sections <a class="xref" href="#srvcprot">3.2.2</a>
and <a class="xref" href="#PacketEncoding">3.2.2.3</a>) over explicit routes
provides a high likelihood of continuous connectivity.  Explicit routes can be
established in various ways, e.g., with RSVP-TE <span>[<a class="xref" href="#RFC3209">RFC3209</a>]</span>, with
Segment Routing (SR) <span>[<a class="xref" href="#RFC8402">RFC8402</a>]</span>, via a SDN approach <span>[<a class="xref" href="#RFC8453">RFC8453</a>]</span>, with IS-IS <span>[<a class="xref" href="#RFC7813">RFC7813</a>]</span>, etc.  Explicit routes
are typically used in MPLS TE (Traffic Engineering) Label Switched Paths
(LSPs).<a class="pilcrow" href="#section-3.2.3-3">¶</a></p>
<p id="section-3.2.3-4"> Out-of-order packet delivery can be a side effect of distributing a single
flow over multiple paths, especially when there is a change from one path to
another when combining the flow. This is irrespective of the distribution
method used and also applies to service protection over explicit routes. As
described in <a class="xref" href="#inorder">Section 3.2.2.1</a>, out-of-order packets influence the
jitter of a flow and impact the amount of buffering needed to process the
data; therefore, the guarantees of a DetNet service include a maximum amount
of misordering as a constraint. The use of explicit routes helps to provide in-order delivery
because there is no immediate route change with the network topology, but the
changes are plannable as they are between the different explicit routes.<a class="pilcrow" href="#section-3.2.3-4">¶</a></p>
</section>
</div>
</section>
</div>
<div id="MoreGoals">
<section id="section-3.3">
        <h3 id="name-secondary-goals-for-detnet">
<a class="section-number selfRef" href="#section-3.3">3.3. </a><a class="section-name selfRef" href="#name-secondary-goals-for-detnet">Secondary Goals for DetNet</a>
        </h3>
<p id="section-3.3-1">
        Many applications require DetNet to provide additional services, including coexistence with
        other QoS mechanisms (<a class="xref" href="#Coexistence">Section 3.3.1</a>) and protection against misbehaving transmitters
        (<a class="xref" href="#FaultMitigation">Section 3.3.2</a>).<a class="pilcrow" href="#section-3.3-1">¶</a></p>
<div id="Coexistence">
<section id="section-3.3.1">
          <h4 id="name-coexistence-with-normal-tra">
<a class="section-number selfRef" href="#section-3.3.1">3.3.1. </a><a class="section-name selfRef" href="#name-coexistence-with-normal-tra">Coexistence with Normal Traffic</a>
          </h4>
<p id="section-3.3.1-1">
              A DetNet network supports the dedication of a high proportion of
              the network bandwidth to DetNet flows.  But, no matter how much
              is dedicated for DetNet flows, it is a goal of DetNet to coexist
              with existing Class-of-Service schemes (e.g., DiffServ).  It is
              also important that non-DetNet traffic not disrupt the DetNet
              flow, of course (see Sections <a class="xref" href="#FaultMitigation">3.3.2</a> and <a class="xref" href="#SecurityConsiderations">5</a>).  For these reasons:<a class="pilcrow" href="#section-3.3.1-1">¶</a></p>
<ul>
<li id="section-3.3.1-2.1">Bandwidth (transmission opportunities) not utilized by a DetNet flow is
available to non-DetNet packets (though not to other DetNet flows).<a class="pilcrow" href="#section-3.3.1-2.1">¶</a>
</li>
            <li id="section-3.3.1-2.2"> DetNet flows can be shaped or scheduled, in order to ensure that the
highest-priority non-DetNet packet is also ensured a worst-case latency.<a class="pilcrow" href="#section-3.3.1-2.2">¶</a>
</li>
            <li id="section-3.3.1-2.3"> When transmission opportunities for DetNet flows are scheduled in detail,
the algorithm constructing the schedule should leave sufficient
opportunities for non-DetNet packets to satisfy the needs of the users of the
network.  Detailed scheduling can also permit the time-shared use of buffer
resources by different DetNet flows.<a class="pilcrow" href="#section-3.3.1-2.3">¶</a>
</li>
          </ul>
<p id="section-3.3.1-3"> Starvation of non-DetNet traffic must be avoided, for example, by
          traffic policing and shaping functions (e.g., <span>[<a class="xref" href="#RFC2475">RFC2475</a>]</span>). Thus, the net effect of the presence of DetNet
          flows in a network on the non-DetNet flows is primarily a reduction
          in the available bandwidth.<a class="pilcrow" href="#section-3.3.1-3">¶</a></p>
</section>
</div>
<div id="FaultMitigation">
<section id="section-3.3.2">
          <h4 id="name-fault-mitigation">
<a class="section-number selfRef" href="#section-3.3.2">3.3.2. </a><a class="section-name selfRef" href="#name-fault-mitigation">Fault Mitigation</a>
          </h4>
<p id="section-3.3.2-1">
              Robust real-time systems require reducing the number of possible
              failures. Filters and policers should be used in a DetNet
              network to detect if DetNet packets are received on the wrong
              interface, at the wrong time, or in too great a volume.
              Furthermore, filters and policers can take actions to discard
              the offending packets or flows, or trigger shutting down the
              offending flow or the offending interface.<a class="pilcrow" href="#section-3.3.2-1">¶</a></p>
<p id="section-3.3.2-2"> It is also
              essential that filters and service remarking be employed at the
              network edge to prevent non-DetNet packets from being mistaken
              for DetNet packets and thus impinging on the resources
              allocated to DetNet packets. In particular, sending DetNet
              traffic into networks that have not been provisioned in advance
              to handle that DetNet traffic has to be treated as a fault.  The
              use of egress traffic filters, or equivalent mechanisms, to
              prevent this from happening are strongly recommended at the
              edges of DetNet networks and DetNet supporting networks.  In
              this context, the term 'provisioned' has a broad meaning, e.g.,
              provisioning could be performed via an administrative decision
              that the downstream network has the available capacity to carry
              the DetNet traffic that is being sent into it.<a class="pilcrow" href="#section-3.3.2-2">¶</a></p>
<p id="section-3.3.2-3">
  
      Note that the sending of App-flows that do not use
      transport-layer congestion control per <span>[<a class="xref" href="#RFC2914">RFC2914</a>]</span> into a network that is not
      provisioned to handle such traffic has to be treated
      as a fault and prevented. PRF-generated DetNet
      member flows also need to be treated as not using
      transport-layer congestion control even if the
      original App-flow supports transport-layer
      congestion control because PREOF can remove
      congestion indications at the PEF and thereby hide
      such indications (e.g., drops, ECN markings,
      increased latency) from end systems.<a class="pilcrow" href="#section-3.3.2-3">¶</a></p>
<p id="section-3.3.2-4"> The mechanisms to support these requirements are both Data
          Plane and implementation specific.  Solutions that are data-plane
          specific will be specified in the relevant data-plane solution
          document. There also exist techniques, at present and/or in various
          stages of standardization, that can support these fault-mitigation
          tasks that deliver a high probability that misbehaving systems will
          have zero impact on well-behaved DetNet flows with the exception, of
          course, of the receiving interface(s) immediately downstream from
          the misbehaving device.  Examples of such techniques include traffic
          policing and shaping functions (e.g., those described in <span>[<a class="xref" href="#RFC2475">RFC2475</a>]</span>),
          separating flows into per-flow rate-limited queues, and potentially
          applying active queue management <span>[<a class="xref" href="#RFC7567">RFC7567</a>]</span>.<a class="pilcrow" href="#section-3.3.2-4">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="arch">
<section id="section-4">
      <h2 id="name-detnet-architecture">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-detnet-architecture">DetNet Architecture</a>
      </h2>
<div id="Stacks">
<section id="section-4.1">
        <h3 id="name-detnet-stack-model">
<a class="section-number selfRef" href="#section-4.1">4.1. </a><a class="section-name selfRef" href="#name-detnet-stack-model">DetNet Stack Model</a>
        </h3>
<p id="section-4.1-1">
   DetNet functionality (<a class="xref" href="#ProvidingQoS">Section 3</a>) is implemented
   in two adjacent sub-layers in the protocol stack: the DetNet service
   sub-layer and the DetNet forwarding sub-layer. The DetNet service sub-layer
   provides DetNet service, e.g., service protection,  to higher layers
   in the protocol stack and applications. The DetNet forwarding sub-layer 
   supports DetNet service in the underlying network, e.g., by 
   providing explicit routes and resource allocation to DetNet flows.<a class="pilcrow" href="#section-4.1-1">¶</a></p>
<div id="StackModel">
<section id="section-4.1.1">
          <h4 id="name-representative-protocol-sta">
<a class="section-number selfRef" href="#section-4.1.1">4.1.1. </a><a class="section-name selfRef" href="#name-representative-protocol-sta">Representative Protocol Stack Model</a>
          </h4>
<p id="section-4.1.1-1"><a class="xref" href="#ProtStack1">Figure 2</a> illustrates a conceptual DetNet data-plane layering model.
                One may compare it to that in <span>[<a class="xref" href="#IEEE802.1CB">IEEE802.1CB</a>]</span>, Annex C.<a class="pilcrow" href="#section-4.1.1-1">¶</a></p>
<span id="name-detnet-data-plane-protocol-"></span><div id="ProtStack1">
<figure id="figure-2">
            <div class="artwork art-text alignCenter" id="section-4.1.1-2.1">
<pre>   |  packets going  |        ^  packets coming   ^
   v down the stack  v        |   up the stack    |
+-----------------------+   +-----------------------+
|        Source         |   |      Destination      |
+-----------------------+   +-----------------------+
|   Service sub-layer:  |   |   Service sub-layer:  |
|   Packet sequencing   |   | Duplicate elimination |
|    Flow replication   |   |      Flow merging     |
|    Packet encoding    |   |    Packet decoding    |
+-----------------------+   +-----------------------+
| Forwarding sub-layer: |   | Forwarding sub-layer: |
|  Resource allocation  |   |  Resource allocation  |
|    Explicit routes    |   |    Explicit routes    |
+-----------------------+   +-----------------------+
|     Lower layers      |   |     Lower layers      |
+-----------------------+   +-----------------------+
            v                           ^
             \_________________________/
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-2">Figure 2</a>:
<a class="selfRef" href="#name-detnet-data-plane-protocol-">DetNet Data-Plane Protocol Stack</a>
            </figcaption></figure>
</div>
<p id="section-4.1.1-3">
                Not all sub-layers are required for any given application, or even for any
                given network. The functionality shown in <a class="xref" href="#ProtStack1">Figure 2</a> is:<a class="pilcrow" href="#section-4.1.1-3">¶</a></p>
<dl class="dlNewline" id="section-4.1.1-4">
            <dt id="section-4.1.1-4.1">Application</dt>
            <dd id="section-4.1.1-4.2" style="margin-left: 1.5em">
                        Shown as "source" and "destination" in the diagram.<a class="pilcrow" href="#section-4.1.1-4.2">¶</a>
</dd>
<dt id="section-4.1.1-4.3">Packet sequencing</dt>
            <dd id="section-4.1.1-4.4" style="margin-left: 1.5em">
                    As part of the DetNet service sub-layer, the packet
                    sequencing function supplies the sequence number for
                    packet replication and elimination for DetNet service
                    protection (<a class="xref" href="#Seamless">Section 3.2.2.2</a>); thus, its peer is
                    duplicate elimination.  This sub-layer is not needed if a
                    higher-layer protocol is expected to perform any packet
                    sequencing and duplicate elimination required by the
                    DetNet flow replication.<a class="pilcrow" href="#section-4.1.1-4.4">¶</a>
</dd>
<dt id="section-4.1.1-4.5">Duplicate elimination</dt>
            <dd id="section-4.1.1-4.6" style="margin-left: 1.5em">
                        As part of the DetNet service sub-layer, based on the sequence number
                        supplied by its peer (packet sequencing),
                        duplicate elimination discards any duplicate packets generated by DetNet
                        flow replication.  It can operate on member flows, compound flows, or both.
                        The replication may also be inferred from other
                        information such as the precise time of reception in a scheduled network.
                        The duplicate elimination sub-layer may also perform resequencing of packets
                        to restore packet order in a
                        flow that was disrupted by the loss of packets on one or another of
                        the multiple paths taken.<a class="pilcrow" href="#section-4.1.1-4.6">¶</a>
</dd>
<dt id="section-4.1.1-4.7">Flow replication</dt>
            <dd id="section-4.1.1-4.8" style="margin-left: 1.5em"> As
                    part of DetNet service protection, packets that belong to
                    a DetNet compound flow are replicated into two or more
                    DetNet member flows.  This function is separate from
                    packet sequencing.  Flow replication can be an explicit
                    replication and remarking of packets or can be performed
                    by, for example, techniques similar to ordinary multicast
                    replication, albeit with resource allocation implications.
                    Its peer is DetNet flow merging.<a class="pilcrow" href="#section-4.1.1-4.8">¶</a>
</dd>
<dt id="section-4.1.1-4.9">Flow merging</dt>
            <dd id="section-4.1.1-4.10" style="margin-left: 1.5em"> As
                    part of the DetNet service sub-layer, the flow merging
                    function combines DetNet member flows together for packets
                    coming up the stack belonging to a specific DetNet
                    compound flow. DetNet flow merging, together with packet
                    sequencing, duplicate elimination, and DetNet flow
                    replication perform packet replication and elimination
                    (<a class="xref" href="#srvcprot">Section 3.2.2</a>). Its peer is DetNet flow
                    replication.<a class="pilcrow" href="#section-4.1.1-4.10">¶</a>
</dd>
<dt id="section-4.1.1-4.11">Packet encoding</dt>
            <dd id="section-4.1.1-4.12" style="margin-left: 1.5em"> As
                    part of DetNet service protection, as an alternative to
                    packet sequencing and flow replication, packet encoding
                    combines the information in multiple DetNet packets,
                    perhaps from different DetNet compound flows, and
                    transmits that information in packets on different DetNet
                    member flows.  Its peer is packet decoding.<a class="pilcrow" href="#section-4.1.1-4.12">¶</a>
</dd>
<dt id="section-4.1.1-4.13">Packet decoding</dt>
            <dd id="section-4.1.1-4.14" style="margin-left: 1.5em"> As
                    part of DetNet service protection, as an alternative to
                    flow merging and duplicate elimination, packet decoding
                    takes packets from different DetNet member flows and
                    computes from those packets the original DetNet packets
                    from the compound flows input to packet encoding.  Its
                    peer is packet encoding.<a class="pilcrow" href="#section-4.1.1-4.14">¶</a>
</dd>
<dt id="section-4.1.1-4.15">Resource allocation</dt>
            <dd id="section-4.1.1-4.16" style="margin-left: 1.5em">
                    The DetNet forwarding sub-layer provides resource
                    allocation. See <a class="xref" href="#QueuingModels">Section 4.5</a>.  The
                    actual queuing and shaping mechanisms are typically
                    provided by the underlying subnet.  These can be closely
                    associated with the means of providing paths for DetNet
                    flows.  The path and the resource allocation are conflated
                    in this figure.<a class="pilcrow" href="#section-4.1.1-4.16">¶</a>
</dd>
<dt id="section-4.1.1-4.17">Explicit routes</dt>
            <dd id="section-4.1.1-4.18" style="margin-left: 1.5em">
 Explicit routes are arrangements of fixed paths operated at
 the DetNet forwarding sub-layer that are determined in advance
 to avoid the impact of network convergence on DetNet flows.<a class="pilcrow" href="#section-4.1.1-4.18">¶</a>
</dd>
</dl>
<p id="section-4.1.1-5">
            Operations, Administration, and Maintenance (OAM) leverages
            in-band and out-of-band signaling that validates whether the
            service is effectively obtained within QoS constraints.  OAM is
            not shown in <a class="xref" href="#ProtStack1">Figure 2</a>; it may reside in any
            number of the layers.  OAM can involve specific tagging added in
            the packets for tracing implementation or network configuration
            errors; traceability enables finding whether a packet is a
            replica, which DetNet relay node performed the replication, and
            which segment was intended for the replica. Active and hybrid OAM
            methods require additional bandwidth to perform fault management
            and performance monitoring of the DetNet domain. OAM may, for
            instance, generate special test probes or add OAM information into
            the data packet.<a class="pilcrow" href="#section-4.1.1-5">¶</a></p>
<p id="section-4.1.1-6">
                The packet replication and elimination functions may be
                performed either at the source and destination ends of a
                DetNet compound flow or in a DetNet relay node.<a class="pilcrow" href="#section-4.1.1-6">¶</a></p>
</section>
</div>
<div id="sec_dt_dp">
<section id="section-4.1.2">
          <h4 id="name-detnet-data-plane-overview">
<a class="section-number selfRef" href="#section-4.1.2">4.1.2. </a><a class="section-name selfRef" href="#name-detnet-data-plane-overview">DetNet Data-Plane Overview</a>
          </h4>
<p id="section-4.1.2-1">
            A "Deterministic Network" will be composed of DetNet-enabled end
            systems, DetNet edge nodes, and DetNet relay nodes, which
            collectively deliver DetNet services.  DetNet relay and edge nodes
            are interconnected via DetNet transit nodes (e.g., LSRs), which
            support DetNet but are not DetNet service aware. All DetNet nodes
            are connected to sub-networks, where a point-to-point link is also
            considered a simple sub-network. These sub-networks provide
            DetNet-compatible service for support of DetNet traffic.  Examples
            of sub-network technologies include MPLS TE, TSN as defined by
            IEEE 802.1, and OTN (Optical Transport Network).  Of course,
            multilayer DetNet systems may also be possible, where one DetNet
            appears as a sub-network and provides service to a higher-layer
            DetNet system. A simple DetNet concept network is shown in <a class="xref" href="#fig_detnet">Figure 3</a>.


Note that in this and following figures, "Forwarding" and "Fwd" refer to the
DetNet forwarding sub-layer, and "Service" and "Svc" refer to the DetNet
service sub-layer; both of these sub-layers are described in detail in <a class="xref" href="#StackModel">Section 4.1.1</a>.<a class="pilcrow" href="#section-4.1.2-1">¶</a></p>
<span id="name-a-simple-detnet-enabled-net"></span><div id="fig_detnet">
<figure id="figure-3">
            <div class="artwork art-text alignCenter" id="section-4.1.2-2.1">
<pre>TSN               Edge        Transit         Relay        DetNet
End System        Node         Node           Node        End System

+----------+   +.........+                               +----------+
|  Appl.   |&lt;--:Svc Proxy:-- End-to-End Service --------&gt;|  Appl.   |
+----------+   +---------+                 +---------+   +----------+
|   TSN    |   |TSN| |Svc|&lt;- DetNet flow --: Service :--&gt;| Service  |
+----------+   +---+ +---+   +--------+    +---------+   +----------+
|Forwarding|   |Fwd| |Fwd|   |  Fwd   |    |Fwd| |Fwd|   |Forwarding|
+-------.--+   +-.-+ +-.-+   +--.----.+    +-.-+ +-.-+   +---.------+
        :  Link  :    /  ,-----. \   : Link  :    /  ,-----.  \
        +........+    +-[  Sub- ]-+  +.......+    +-[  Sub- ]-+
                        [network]                   [network] 
                         `-----'                     `-----'
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-3">Figure 3</a>:
<a class="selfRef" href="#name-a-simple-detnet-enabled-net">A Simple DetNet-Enabled Network</a>
            </figcaption></figure>
</div>
<p id="section-4.1.2-3">
            DetNet Data Plane is divided into two sub-layers: the DetNet
            service sub-layer and the DetNet forwarding sub-layer. This helps
            to explore and evaluate various combinations of the data-plane
            solutions available. Some of them are illustrated in <a class="xref" href="#fig_adaptation">Figure 4</a>.  This separation of DetNet sub-layers,
            while helpful, should not be considered a formal requirement.
            For example, some technologies may violate these strict sub-layers
            and still be able to deliver a DetNet service.<a class="pilcrow" href="#section-4.1.2-3">¶</a></p>
<span id="name-detnet-adaptation-to-data-p"></span><div id="fig_adaptation">
<figure id="figure-4">
            <div class="artwork art-text alignCenter" id="section-4.1.2-4.1">
<pre>              .
              .
+-----------------------------+
|  DetNet Service sub-layer   | PW, UDP, GRE
+-----------------------------+
| DetNet Forwarding sub-layer | IPv6, IPv4, MPLS TE LSPs, MPLS SR
+-----------------------------+
              .
              .
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-4">Figure 4</a>:
<a class="selfRef" href="#name-detnet-adaptation-to-data-p">DetNet Adaptation to Data Plane</a>
            </figcaption></figure>
</div>
<p id="section-4.1.2-5">
            In some networking scenarios, the end system initially provides a
            DetNet flow encapsulation, which contains all information needed
            by DetNet nodes (e.g., DetNet flow based on the Real-time Transport
            Protocol (RTP) <span>[<a class="xref" href="#RFC3550">RFC3550</a>]</span> that is carried over a
            native UDP/IP network or pseudowire (PW)). In other scenarios, the
            encapsulation formats might differ significantly.<a class="pilcrow" href="#section-4.1.2-5">¶</a></p>
<p id="section-4.1.2-6">
            There are many valid options to create a data-plane solution for DetNet
            traffic by selecting a technology approach for the DetNet service sub-layer and
            also selecting a technology approach for the DetNet forwarding sub-layer. There are
            a large number of valid combinations.<a class="pilcrow" href="#section-4.1.2-6">¶</a></p>
<p id="section-4.1.2-7">
            One of the most fundamental differences between different
            potential data-plane options is the basic headers used by DetNet
            nodes.  For example, the basic service can be delivered based on
            an MPLS label or an IP header. This decision impacts the basic
            forwarding logic for the DetNet service sub-layer. Note that in
            both cases, IP addresses are used to address DetNet nodes.  The
            selected DetNet forwarding sub-layer technology also needs to be
            mapped to the subnet technology used to interconnect DetNet
            nodes. For example, DetNet flows will need to be mapped to TSN
            Streams.<a class="pilcrow" href="#section-4.1.2-7">¶</a></p>
</section>
</div>
<div id="netref">
<section id="section-4.1.3">
          <h4 id="name-network-reference-model">
<a class="section-number selfRef" href="#section-4.1.3">4.1.3. </a><a class="section-name selfRef" href="#name-network-reference-model">Network Reference Model</a>
          </h4>
<p id="section-4.1.3-1"><a class="xref" href="#fig_DetNetservice">Figure 5</a> shows another view of the
 DetNet service-related reference points and main components.<a class="pilcrow" href="#section-4.1.3-1">¶</a></p>
<span id="name-detnet-service-reference-mo"></span><div id="fig_DetNetservice">
<figure id="figure-5">
            <div class="artwork art-text alignLeft" id="section-4.1.3-2.1">
<pre>DetNet                                                     DetNet
End System                                                 End System
   _                                                             _
  / \     +----DetNet-UNI (U)                                   / \
 /App\    |                                                    /App\
/-----\   |                                                   /-----\
| NIC |   v         ________                                  | NIC |
+--+--+   _____    /        \             DetNet-UNI (U) --+  +--+--+
   |     /     \__/          \                             |     |
   |    / +----+    +----+    \_____                       |     |
   |   /  |    |    |    |          \_______               |     |
   +------U PE +----+ P  +----+             \          _   v     |
       |  |    |    |    |    |              |     ___/ \        |
       |  +--+-+    +----+    |       +----+ |    /      \_      |
       \     |                |       |    | |   /         \     |
        \    |   +----+    +--+-+  +--+PE  |------         U-----+
         \   |   |    |    |    |  |  |    | |   \_      _/
          \  +---+ P  +----+ P  +--+  +----+ |     \____/
           \___  |    |    |    |           /
               \ +----+__  +----+     DetNet-1    DetNet-2
   |            \_____/  \___________/                           |
   |                                                             |
   |      |     End-to-End Service         |     |         |     |
   &lt;-------------------------------------------------------------&gt;
   |      |     DetNet Service             |     |         |     |
   |      &lt;------------------------------------------------&gt;     |
   |      |                                |     |         |     |
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-5">Figure 5</a>:
<a class="selfRef" href="#name-detnet-service-reference-mo">DetNet Service Reference Model (Multidomain)</a>
            </figcaption></figure>
</div>
<p id="section-4.1.3-3">DetNet User-to-Network Interfaces (DetNet-UNIs) ("U" in <a class="xref" href="#fig_DetNetservice">Figure 5</a>) are assumed in this document to be
            packet-based reference points and provide connectivity over the
            packet network. A DetNet-UNI may provide multiple functions. For
     example, it may:<a class="pilcrow" href="#section-4.1.3-3">¶</a></p>
<ul>
<li id="section-4.1.3-4.1">add encapsulation specific to networking technology to the DetNet flows if necessary,<a class="pilcrow" href="#section-4.1.3-4.1">¶</a>
</li>
            <li id="section-4.1.3-4.2">provide status of the availability of the resources associated with a reservation,<a class="pilcrow" href="#section-4.1.3-4.2">¶</a>
</li>
            <li id="section-4.1.3-4.3">provide a synchronization service for the end system, or<a class="pilcrow" href="#section-4.1.3-4.3">¶</a>
</li>
            <li id="section-4.1.3-4.4">carry enough signaling to place the reservation in a network without a
controller or in a network where the controller only deals with the network
but not the end systems.<a class="pilcrow" href="#section-4.1.3-4.4">¶</a>
</li>
          </ul>
<p id="section-4.1.3-5">
           Internal reference points of end systems (between the application
           and the Network Interface Card (NIC)) are more challenging from the
           control perspective, and they may have extra requirements (e.g.,
           in-order delivery is expected in end system internal reference
           points, whereas it is considered optional over the DetNet-UNI).<a class="pilcrow" href="#section-4.1.3-5">¶</a></p>
</section>
</div>
</section>
</div>
<div id="netrefsys">
<section id="section-4.2">
        <h3 id="name-detnet-systems">
<a class="section-number selfRef" href="#section-4.2">4.2. </a><a class="section-name selfRef" href="#name-detnet-systems">DetNet Systems</a>
        </h3>
<div id="es">
<section id="section-4.2.1">
          <h4 id="name-end-system">
<a class="section-number selfRef" href="#section-4.2.1">4.2.1. </a><a class="section-name selfRef" href="#name-end-system">End System</a>
          </h4>
<p id="section-4.2.1-1"> 
 The traffic characteristics of an App-flow can be CBR
 (constant bit rate) or VBR (variable bit rate) and can have
 Layer 1, Layer 2, or Layer 3 encapsulation (e.g., TDM
 (time-division multiplexing) Ethernet, IP). These
 characteristics are considered as input for resource
 reservation and might be simplified to ensure determinism
 during packet forwarding (e.g., making reservations for the
 peak rate of VBR traffic, etc.).<a class="pilcrow" href="#section-4.2.1-1">¶</a></p>
<p id="section-4.2.1-2"> 
 An end system may or may not be aware of the DetNet forwarding sub-layer
 or DetNet service sub-layer. That is, an end
 system may or may not contain DetNet-specific
 functionality. End systems with DetNet functionalities may
 have the same or different forwarding sub-layer as the
 connected DetNet domain. Categorization of end systems are
 shown in <a class="xref" href="#fig_endsys2">Figure 6</a>.<a class="pilcrow" href="#section-4.2.1-2">¶</a></p>
<span id="name-categorization-of-end-syste"></span><div id="fig_endsys2">
<figure id="figure-6">
            <div class="artwork art-text alignLeft" id="section-4.2.1-3.1">
<pre>             End system
                 |
                 |
                 |  DetNet aware ?
                / \ 
        +------&lt;   &gt;------+
     NO |       \ /       | YES
        |        v        |
 DetNet-unaware           |
   End system             |
                          | Service/Forwarding
                          |  sub-layer
                         / \  aware ?
               +--------&lt;   &gt;-------------+
       f-aware |         \ /              | s-aware
               |          v               |
               |          | both          |
               |          |               |
       DetNet f-aware     |        DetNet s-aware
         End system       |         End system
                          v
                    DetNet sf-aware
                      End system
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-6">Figure 6</a>:
<a class="selfRef" href="#name-categorization-of-end-syste">Categorization of End Systems</a>
            </figcaption></figure>
</div>
<p id="section-4.2.1-4"> 
 The following are some known use case examples for end systems:<a class="pilcrow" href="#section-4.2.1-4">¶</a></p>
<dl class="dlNewline" id="section-4.2.1-5">
            <dt id="section-4.2.1-5.1">DetNet unaware</dt>
            <dd id="section-4.2.1-5.2" style="margin-left: 1.5em"> The classic case requiring service proxies.<a class="pilcrow" href="#section-4.2.1-5.2">¶</a>
</dd>
<dt id="section-4.2.1-5.3">DetNet f-aware</dt>
            <dd id="section-4.2.1-5.4" style="margin-left: 1.5em">A system that is aware of the DetNet forwarding
  sub-layer. It knows about some TSN
 functions (e.g., reservation) but not about service
 protection.<a class="pilcrow" href="#section-4.2.1-5.4">¶</a>
</dd>
<dt id="section-4.2.1-5.5">DetNet s-aware</dt>
            <dd id="section-4.2.1-5.6" style="margin-left: 1.5em"> A system that is aware of the DetNet service 
 sub-layer. It supplies sequence numbers but
 doesn't know about resource allocation.<a class="pilcrow" href="#section-4.2.1-5.6">¶</a>
</dd>
<dt id="section-4.2.1-5.7">DetNet sf-aware</dt>
            <dd id="section-4.2.1-5.8" style="margin-left: 1.5em">A fully functioning DetNet end
 system. It has DetNet functionalities and usually the
 same forwarding paradigm as the connected DetNet
 domain. It can be treated as an integral part of the
 DetNet domain.<a class="pilcrow" href="#section-4.2.1-5.8">¶</a>
</dd>
</dl>
</section>
</div>
<div id="ertn">
<section id="section-4.2.2">
          <h4 id="name-detnet-edge-relay-and-trans">
<a class="section-number selfRef" href="#section-4.2.2">4.2.2. </a><a class="section-name selfRef" href="#name-detnet-edge-relay-and-trans">DetNet Edge, Relay, and Transit Nodes</a>
          </h4>
<p id="section-4.2.2-1">
            As shown in <a class="xref" href="#fig_detnet">Figure 3</a>, DetNet edge nodes
            providing proxy service and DetNet relay nodes providing the
            DetNet service sub-layer are DetNet aware, and DetNet transit
            nodes need only be aware of the DetNet forwarding sub-layer.<a class="pilcrow" href="#section-4.2.2-1">¶</a></p>
<p id="section-4.2.2-2"> In general, if a DetNet flow passes through one or more
            DetNet-unaware network nodes between two DetNet nodes providing
            the DetNet forwarding sub-layer for that flow, there is a
            potential for disruption or failure of the DetNet QoS.  A network
            administrator needs to 1) ensure that the DetNet-unaware network
            nodes are configured to minimize the chances of packet loss and
            delay and 2) provision enough extra buffer space in the DetNet
            transit node following the DetNet-unaware network nodes to absorb
            the induced latency variations.<a class="pilcrow" href="#section-4.2.2-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="DetNetFlows">
<section id="section-4.3">
        <h3 id="name-detnet-flows">
<a class="section-number selfRef" href="#section-4.3">4.3. </a><a class="section-name selfRef" href="#name-detnet-flows">DetNet Flows</a>
        </h3>
<div id="DetNetFlowsTypes">
<section id="section-4.3.1">
          <h4 id="name-detnet-flow-types">
<a class="section-number selfRef" href="#section-4.3.1">4.3.1. </a><a class="section-name selfRef" href="#name-detnet-flow-types">DetNet Flow Types</a>
          </h4>
<p id="section-4.3.1-1">
 A DetNet flow can have different formats while its packets are forwarded
 between the peer end systems depending on the type of the end
 systems. Corresponding to the end system types, the following possible
 types/formats of a DetNet flow are distinguished in this document. The
 different flow types have different requirements to DetNet nodes.<a class="pilcrow" href="#section-4.3.1-1">¶</a></p>
<dl class="dlNewline" id="section-4.3.1-2">
            <dt id="section-4.3.1-2.1">App-flow</dt>
            <dd id="section-4.3.1-2.2" style="margin-left: 1.5em">The payload (data) carried over a DetNet
                    flow between DetNet-unaware end systems. An App-flow does
                    not contain any DetNet-related attributes and does not
                    imply any specific requirement on DetNet nodes.<a class="pilcrow" href="#section-4.3.1-2.2">¶</a>
</dd>
<dt id="section-4.3.1-2.3">DetNet-f-flow</dt>
            <dd id="section-4.3.1-2.4" style="margin-left: 1.5em">The specific format of a DetNet flow. It
                    only requires the resource allocation features provided by
                    the DetNet forwarding sub-layer.<a class="pilcrow" href="#section-4.3.1-2.4">¶</a>
</dd>
<dt id="section-4.3.1-2.5">DetNet-s-flow</dt>
            <dd id="section-4.3.1-2.6" style="margin-left: 1.5em">The specific format of a DetNet flow. It
                     only requires the service protection feature ensured by
                     the DetNet service sub-layer.<a class="pilcrow" href="#section-4.3.1-2.6">¶</a>
</dd>
<dt id="section-4.3.1-2.7"> DetNet-sf-flow</dt>
            <dd id="section-4.3.1-2.8" style="margin-left: 1.5em">The specific format of a DetNet
                     flow. It requires both the DetNet service sub-layer and
                     the DetNet forwarding sub-layer functions during
                     forwarding.<a class="pilcrow" href="#section-4.3.1-2.8">¶</a>
</dd>
</dl>
</section>
</div>
<div id="FlowLimits">
<section id="section-4.3.2">
          <h4 id="name-source-transmission-behavio">
<a class="section-number selfRef" href="#section-4.3.2">4.3.2. </a><a class="section-name selfRef" href="#name-source-transmission-behavio">Source Transmission Behavior</a>
          </h4>
<p id="section-4.3.2-1">
                  For the purposes of resource allocation,
                  DetNet flows can be synchronous or asynchronous.
                  In synchronous DetNet flows, at least the DetNet nodes (and possibly
                  the end systems) are closely time
                  synchronized, typically to better than 1 microsecond.  By transmitting
                  packets from different DetNet flows or classes of DetNet flows at different times,
                  using repeating schedules synchronized among the DetNet nodes, resources
                  such as buffers and link bandwidth can be shared over the time domain
                  among different DetNet flows.  There is a trade-off among techniques for
                  synchronous DetNet flows between the burden of fine-grained scheduling and the
                  benefit of reducing the required resources, especially buffer space.<a class="pilcrow" href="#section-4.3.2-1">¶</a></p>
<p id="section-4.3.2-2">
                  In contrast, asynchronous DetNet flows are not coordinated with a fine-grained
                  schedule, so relay and end systems must assume worst-case interference
                  among DetNet flows contending for buffer resources.
                  Asynchronous DetNet flows are characterized by:<a class="pilcrow" href="#section-4.3.2-2">¶</a></p>
<ul>
<li id="section-4.3.2-3.1">
                          A maximum packet size;<a class="pilcrow" href="#section-4.3.2-3.1">¶</a>
</li>
            <li id="section-4.3.2-3.2">
                          An observation interval; and<a class="pilcrow" href="#section-4.3.2-3.2">¶</a>
</li>
            <li id="section-4.3.2-3.3">
                          A maximum number of transmissions during that observation interval.<a class="pilcrow" href="#section-4.3.2-3.3">¶</a>
</li>
          </ul>
<p id="section-4.3.2-4"> These parameters, together with knowledge of the
              protocol stack used (and thus the size of the various headers
              added to a packet), provide the bandwidth that is needed for the
              DetNet flow.<a class="pilcrow" href="#section-4.3.2-4">¶</a></p>
<p id="section-4.3.2-5"> The source is required not to exceed these
              limits in order to obtain DetNet service.  If the source
              transmits less data than this limit allows, then the unused resource,
              such as link bandwidth, can be made available by the DetNet
              system to non-DetNet packets as long as all guarantees are
              fulfilled.  However, making those resources available to DetNet
              packets in other DetNet flows would serve no purpose.  Those
              other DetNet flows have their own dedicated resources, on the
              assumption that all DetNet flows can use all of their resources
              over a long period of time.<a class="pilcrow" href="#section-4.3.2-5">¶</a></p>
<p id="section-4.3.2-6">
     There is no expectation in DetNet for App-flows to be responsive to
     congestion control <span>[<a class="xref" href="#RFC2914">RFC2914</a>]</span> or explicit congestion
     notification <span>[<a class="xref" href="#RFC3168">RFC3168</a>]</span>. The assumption is that a DetNet
     flow, to be useful, must be delivered in its entirety.  That is, while
     any useful application is written to expect a certain number of lost
     packets, the real-time applications of interest to DetNet demand that the
     loss of data due to the network is a rare event.<a class="pilcrow" href="#section-4.3.2-6">¶</a></p>
<p id="section-4.3.2-7"> Although DetNet strives to minimize the changes required of an
 application to allow it to shift from a special-purpose digital network to an
 Internet Protocol network, one fundamental shift in the behavior of network
 applications is impossible to avoid: the reservation of resources before the
 application starts.  In the first place, a network cannot deliver finite
 latency and practically zero packet loss to an arbitrarily high offered load.
 Secondly, achieving practically zero packet loss for DetNet flows means that
 DetNet nodes have to dedicate buffer resources to specific DetNet flows or to
 classes of DetNet flows.  The requirements of each reservation have to be
 translated into the parameters that control each DetNet system's queuing,
 shaping, and scheduling functions, and they have to be delivered to the DetNet nodes and end
 systems.<a class="pilcrow" href="#section-4.3.2-7">¶</a></p>
<p id="section-4.3.2-8"> All nodes in a DetNet domain are expected to support the data behavior
required to deliver a particular DetNet service. If a node itself is not
DetNet service aware, the DetNet nodes that are adjacent to them must ensure
that the node that is non-DetNet aware is provisioned to appropriately support
the DetNet service. For example, a TSN node (as defined by IEEE 802.1) may be used to
interconnect DetNet-aware nodes, and these DetNet nodes can map DetNet flows
to 802.1 TSN flows. As another example, an MPLS-TE or MPLS-TP (Transport Profile) domain may be used to
interconnect DetNet-aware nodes, and these DetNet nodes can map DetNet flows
to TE LSPs, which can provide the QoS requirements of the DetNet service.<a class="pilcrow" href="#section-4.3.2-8">¶</a></p>
</section>
</div>
<div id="Incomplete">
<section id="section-4.3.3">
          <h4 id="name-incomplete-networks">
<a class="section-number selfRef" href="#section-4.3.3">4.3.3. </a><a class="section-name selfRef" href="#name-incomplete-networks">Incomplete Networks</a>
          </h4>
<p id="section-4.3.3-1">
                  The presence in the network of intermediate nodes or subnets
                  that are not fully capable of offering DetNet services
                  complicates the ability of the intermediate nodes and/or
                  controller to allocate resources, as extra buffering must be
                  allocated at points downstream from the non-DetNet
                  intermediate node for a DetNet flow. This extra buffering
                  may increase latency and/or jitter.<a class="pilcrow" href="#section-4.3.3-1">¶</a></p>
</section>
</div>
</section>
</div>
<div id="te">
<section id="section-4.4">
        <h3 id="name-traffic-engineering-for-det">
<a class="section-number selfRef" href="#section-4.4">4.4. </a><a class="section-name selfRef" href="#name-traffic-engineering-for-det">Traffic Engineering for DetNet</a>
        </h3>
<p id="section-4.4-1"><span><a class="xref" href="#TEAS">Traffic Engineering Architecture and Signaling (TEAS)
          </a> [<a class="xref" href="#TEAS">TEAS</a>]</span> defines traffic-engineering architectures for generic applicability
         across packet and nonpacket networks.
         From a TEAS perspective, Traffic Engineering (TE) refers to techniques 
         that enable operators to control how specific traffic flows are treated
         within their networks.<a class="pilcrow" href="#section-4.4-1">¶</a></p>
<p id="section-4.4-2">
         Because of its very nature of establishing explicit optimized paths,
         DetNet can be seen as a new, specialized branch of 
         TE, and it inherits its architecture with a separation 
         into planes.<a class="pilcrow" href="#section-4.4-2">¶</a></p>
<p id="section-4.4-3">
         The DetNet architecture is thus composed of three planes: a (User)
         Application Plane, a Controller Plane, and a Network Plane. This
         echoes the composition of Figure 1 of <span><a class="xref" href="#RFC7426">"Software-Defined Networking (SDN): Layers and
         Architecture Terminology"</a> [<a class="xref" href="#RFC7426">RFC7426</a>]</span> and the controllers identified in
         <span>[<a class="xref" href="#RFC8453">RFC8453</a>]</span> and <span>[<a class="xref" href="#RFC7149">RFC7149</a>]</span>.<a class="pilcrow" href="#section-4.4-3">¶</a></p>
<div id="appplane">
<section id="section-4.4.1">
          <h4 id="name-the-application-plane">
<a class="section-number selfRef" href="#section-4.4.1">4.4.1. </a><a class="section-name selfRef" href="#name-the-application-plane">The Application Plane</a>
          </h4>
<p id="section-4.4.1-1">
         Per <span>[<a class="xref" href="#RFC7426">RFC7426</a>]</span>,
         the Application Plane includes both applications and services. In particular,
         the Application Plane incorporates the User Agent, a specialized application 
         that interacts with the end user and operator and performs requests for 
         DetNet services via an abstract Flow Management Entity
         (FME), which may or may not be collocated with (one of) the end systems.<a class="pilcrow" href="#section-4.4.1-1">¶</a></p>
<p id="section-4.4.1-2">At the Application Plane, a management interface enables
 the negotiation of flows between end systems. An abstraction
 of the flow called a Traffic Specification (TSpec) provides
 the representation. This abstraction is used to place a
 reservation over the (Northbound) Service Interface and within
 the Application Plane.  It is associated with an abstraction
 of location, such as IP addresses and DNS names, to identify
 the end systems and possibly specify DetNet nodes.<a class="pilcrow" href="#section-4.4.1-2">¶</a></p>
</section>
</div>
<div id="ctrlplane">
<section id="section-4.4.2">
          <h4 id="name-the-controller-plane">
<a class="section-number selfRef" href="#section-4.4.2">4.4.2. </a><a class="section-name selfRef" href="#name-the-controller-plane">The Controller Plane</a>
          </h4>
<p id="section-4.4.2-1">
         The Controller Plane corresponds to the aggregation of the Control
         and Management Planes in <span>[<a class="xref" href="#RFC7426">RFC7426</a>]</span>, though Common
         Control and Measurement Plane (CCAMP) (as defined by the CCAMP
  Working Group <span>[<a class="xref" href="#CCAMP">CCAMP</a>]</span>) makes an
         additional distinction between management and measurement.  When the
         logical separation of the Control, Measurement, and other Management
         entities is not relevant, the term "Controller Plane" is used for
         simplicity to represent them all, and the term "Controller Plane
         Function (CPF)" refers to any device operating in that plane, whether
         it is a Path Computation Element (PCE) <span>[<a class="xref" href="#RFC4655">RFC4655</a>]</span>, a
         Network Management Entity (NME), or a distributed control protocol.


         The CPF is a core element of a controller, in charge of computing
         deterministic paths to be applied in the Network Plane.<a class="pilcrow" href="#section-4.4.2-1">¶</a></p>
<p id="section-4.4.2-2">
         A (Northbound) Service Interface enables applications in the Application
         Plane to communicate with the entities in the Controller Plane as
  illustrated in <a class="xref" href="#NorthSouth">Figure 7</a>.<a class="pilcrow" href="#section-4.4.2-2">¶</a></p>
<p id="section-4.4.2-3">
         One or more CPFs collaborate to implement the requests from the FME
         as per-flow, per-hop behaviors installed in the DetNet nodes for each
         individual flow. The CPFs place each flow along a deterministic
         arrangement of DetNet nodes so as to respect per-flow constraints such
         as security and latency, and to optimize the overall result for metrics
         such as an abstract aggregated cost. The deterministic arrangement can
         typically be more complex than a direct arrangement and include
         redundant paths with one or more packet replication and elimination
         points. Scaling to larger networks is discussed in <a class="xref" href="#Scaling">Section 4.9</a>.<a class="pilcrow" href="#section-4.4.2-3">¶</a></p>
</section>
</div>
<div id="netplane">
<section id="section-4.4.3">
          <h4 id="name-the-network-plane">
<a class="section-number selfRef" href="#section-4.4.3">4.4.3. </a><a class="section-name selfRef" href="#name-the-network-plane">The Network Plane</a>
          </h4>
<p id="section-4.4.3-1">

The Network Plane represents the network devices and protocols as a whole,
regardless of the layer at which the network devices operate. It includes the
Data Plane and Operational Plane (e.g., OAM) aspects.<a class="pilcrow" href="#section-4.4.3-1">¶</a></p>
<p id="section-4.4.3-2">The Network Plane comprises the Network Interface Cards (NICs) in the
end systems, which are typically IP hosts, and DetNet nodes, which
are typically IP routers and MPLS switches.<a class="pilcrow" href="#section-4.4.3-2">¶</a></p>
<p id="section-4.4.3-3">
         A Southbound (Network) Interface enables the entities in the Controller
         Plane to communicate with devices in the Network Plane as illustrated 
  in <a class="xref" href="#NorthSouth">Figure 7</a>. This interface leverages and extends 
  TEAS to describe the physical topology and resources in the Network
  Plane.<a class="pilcrow" href="#section-4.4.3-3">¶</a></p>
<span id="name-northbound-and-southbound-i"></span><div id="NorthSouth">
<figure id="figure-7">
            <div class="artwork art-text alignLeft" id="section-4.4.3-4.1">
<pre>    End                                                     End
    System                                               System

   -+-+-+-+-+-+-+ Northbound -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-

             CPF         CPF              CPF              CPF

   -+-+-+-+-+-+-+ Southbound -+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-

              DetNet     DetNet     DetNet     DetNet
               Node       Node       Node       Node
    NIC                                                     NIC
              DetNet     DetNet     DetNet     DetNet
               Node       Node       Node       Node
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-7">Figure 7</a>:
<a class="selfRef" href="#name-northbound-and-southbound-i">Northbound and Southbound Interfaces</a>
            </figcaption></figure>
</div>
<p id="section-4.4.3-5">
The DetNet nodes (and possibly the end systems' NICs) expose their capabilities
and physical resources to the controller (the CPF) and update the CPFs with
their dynamic perception of the topology across the Southbound Interface. In
return, the CPFs set the per-flow paths up, providing a Flow Characterization
that is more tightly coupled to the DetNet node operation than a TSpec.<a class="pilcrow" href="#section-4.4.3-5">¶</a></p>
<p id="section-4.4.3-6"> At the Network Plane, DetNet nodes may exchange information regarding
the state of the paths, between adjacent DetNet nodes and possibly with the
end systems, and forward packets within constraints associated to each flow,
or, when unable to do so, perform a last-resort operation such as drop or
declassify.<a class="pilcrow" href="#section-4.4.3-6">¶</a></p>
<p id="section-4.4.3-7"> This document focuses on the Southbound interface and the
operation of the Network Plane.<a class="pilcrow" href="#section-4.4.3-7">¶</a></p>
</section>
</div>
</section>
</div>
<div id="QueuingModels">
<section id="section-4.5">
        <h3 id="name-queuing-shaping-scheduling-">
<a class="section-number selfRef" href="#section-4.5">4.5. </a><a class="section-name selfRef" href="#name-queuing-shaping-scheduling-">Queuing, Shaping, Scheduling, and Preemption</a>
        </h3>
<p id="section-4.5-1"> DetNet achieves bounded delivery latency by reserving bandwidth and buffer
resources at each DetNet node along the path of the DetNet flow.  The
reservation itself is not sufficient, however.  Implementors and users of a
number of proprietary and standard real-time networks have found that
standards for specific data-plane techniques are required to enable these
assurances to be made in a multivendor network.  The fundamental reason is
that latency variation in one DetNet system results in the need for extra
buffer space in the next-hop DetNet system(s), which in turn increases the
worst-case per-hop latency.<a class="pilcrow" href="#section-4.5-1">¶</a></p>
<p id="section-4.5-2"> Standard queuing and transmission-selection algorithms allow TE
(<a class="xref" href="#te">Section 4.4</a>) to compute the latency contribution of each
DetNet node to the end-to-end latency, to compute the amount of buffer space
required in each DetNet node for each incremental DetNet flow, and most
importantly, to translate from a flow specification to a set of values for the
managed objects that control each relay or end system.  For example, the IEEE
802.1 WG has specified (and is specifying) a set of queuing, shaping, and
scheduling algorithms that enable each DetNet node, and/or a central
controller, to compute these values.  These algorithms include:<a class="pilcrow" href="#section-4.5-2">¶</a></p>
<ul>
<li id="section-4.5-3.1">
  A credit-based shaper <span>[<a class="xref" href="#IEEE802.1Qav">IEEE802.1Qav</a>]</span> (incorporated to <span>[<a class="xref" href="#IEEE802.1Q">IEEE802.1Q</a>]</span>).<a class="pilcrow" href="#section-4.5-3.1">¶</a>
</li>
          <li id="section-4.5-3.2"> Time-gated queues governed by a rotating time schedule based on
synchronized time <span>[<a class="xref" href="#IEEE802.1Qbv">IEEE802.1Qbv</a>]</span> (incorporated to <span>[<a class="xref" href="#IEEE802.1Q">IEEE802.1Q</a>]</span>).<a class="pilcrow" href="#section-4.5-3.2">¶</a>
</li>
          <li id="section-4.5-3.3"> Synchronized double (or triple) buffers driven by synchronized time ticks.
<span>[<a class="xref" href="#IEEE802.1Qch">IEEE802.1Qch</a>]</span> (incorporated to <span>[<a class="xref" href="#IEEE802.1Q">IEEE802.1Q</a>]</span>).<a class="pilcrow" href="#section-4.5-3.3">¶</a>
</li>
          <li id="section-4.5-3.4"> Preemption of an Ethernet packet in transmission by a packet with a more
stringent latency requirement, followed by the resumption of the preempted
packet <span>[<a class="xref" href="#IEEE802.1Qbu">IEEE802.1Qbu</a>]</span> (incorporated to <span>[<a class="xref" href="#IEEE802.1Q">IEEE802.1Q</a>]</span>) <span>[<a class="xref" href="#IEEE802.3br">IEEE802.3br</a>]</span> (incorporated to <span>[<a class="xref" href="#IEEE802.3">IEEE802.3</a>]</span>).<a class="pilcrow" href="#section-4.5-3.4">¶</a>
</li>
        </ul>
<p id="section-4.5-4"> While these techniques are currently embedded in
 Ethernet <span>[<a class="xref" href="#IEEE802.3">IEEE802.3</a>]</span> and bridging
 standards, we can note that they are all, except perhaps for
 packet preemption, equally applicable to media other than
 Ethernet and to routers as well as bridges. Other media may
 have their own methods (see, e.g., <span>[<a class="xref" href="#I-D.ietf-6tisch-architecture">TSCH-ARCH</a>]</span> and <span>[<a class="xref" href="#RFC7554">RFC7554</a>]</span>).
 Further techniques are defined by the IETF (e.g., <span>[<a class="xref" href="#RFC8289">RFC8289</a>]</span> and <span>[<a class="xref" href="#RFC8033">RFC8033</a>]</span>).  DetNet may
 include such definitions in the future or may define how
 these techniques can be used by DetNet nodes.<a class="pilcrow" href="#section-4.5-4">¶</a></p>
</section>
</div>
<div id="ServInst">
<section id="section-4.6">
        <h3 id="name-service-instance">
<a class="section-number selfRef" href="#section-4.6">4.6. </a><a class="section-name selfRef" href="#name-service-instance">Service Instance</a>
        </h3>
<p id="section-4.6-1"> A service instance represents all the functions required
 on a DetNet node to allow the end-to-end service between the
 UNIs.<a class="pilcrow" href="#section-4.6-1">¶</a></p>
<p id="section-4.6-2"> The DetNet network general reference model is shown in <a class="xref" href="#fig_DetNetrefmodel">Figure 8</a> for a DetNet service scenario (i.e., between two
DetNet-UNIs). In this figure, end systems ("A" and "B") are connected directly
to the edge nodes of an IP/MPLS network ("PE1" and "PE2"). End systems
participating in DetNet communication may require connectivity before setting
up an App-flow that requires the DetNet service. Such a connectivity-related
service instance and the one dedicated for DetNet service share the same
access. Packets belonging to a DetNet flow are selected by a filter configured
on the access ("F1" and "F2"). As a result, data-flow-specific access
("access-A + F1" and "access-B + F2") is terminated in the flow-specific
service instance ("SI-1" and "SI-2"). A tunnel is used to provide connectivity
between the service instances.<a class="pilcrow" href="#section-4.6-2">¶</a></p>
<p id="section-4.6-3"> The tunnel is exclusively used for the packets of the DetNet flow between "SI-1" and "SI-2". The service instances are configured to implement DetNet functions and a flow-specific DetNet forwarding. The service instance and the tunnel may or may not be shared by multiple DetNet flows. Sharing the service instance by multiple DetNet flows requires properly populated forwarding tables of the service instance.<a class="pilcrow" href="#section-4.6-3">¶</a></p>
<span id="name-detnet-network-general-refe"></span><div id="fig_DetNetrefmodel">
<figure id="figure-8">
          <div class="artwork art-text alignLeft" id="section-4.6-4.1">
<pre>          access-A                                     access-B
           &lt;-----&gt;    &lt;-------- tunnel ----------&gt;     &lt;-----&gt;

              +---------+        ___  _        +---------+
End system    |  +----+ |       /   \/ \_      | +----+  | End system
    "A" -------F1+    | |      /         \     | |    +F2----- "B"
              |  |    +========+ IP/MPLS +=======+    |  |
              |  |SI-1| |      \__  Net._/     | |SI-2|  |
              |  +----+ |         \____/       | +----+  |
              |PE1      |                      |      PE2|
              +---------+                      +---------+</pre>
</div>
<figcaption><a class="selfRef" href="#figure-8">Figure 8</a>:
<a class="selfRef" href="#name-detnet-network-general-refe">DetNet Network General Reference Model</a>
          </figcaption></figure>
</div>
<p id="section-4.6-5"> The tunnel between the service instances may have some special
characteristics. For example, in case of a DetNet L3 service, there are
differences in the usage of the PW for DetNet traffic compared to the network
model described in <span>[<a class="xref" href="#RFC6658">RFC6658</a>]</span>. In the DetNet scenario, the PW is
likely to be used exclusively by the DetNet flow, whereas <span>[<a class="xref" href="#RFC6658">RFC6658</a>]</span> states:<a class="pilcrow" href="#section-4.6-5">¶</a></p>
<blockquote id="section-4.6-6">
The packet PW appears as a single point-to-point link to the client
layer.  Network-layer adjacency formation and maintenance between the
client equipments will follow the normal practice needed to support
the required relationship in the client layer.<a class="pilcrow" href="#section-4.6-6">¶</a>
</blockquote>
<p id="section-4.6-7">and<a class="pilcrow" href="#section-4.6-7">¶</a></p>
<blockquote id="section-4.6-8">
This packet pseudowire is used to transport all of the required layer 2 and
layer 3 protocols between LSR1 and LSR2.<a class="pilcrow" href="#section-4.6-8">¶</a>
</blockquote>
<p id="section-4.6-9">
Further details are network technology specific and can be found in <span>[<a class="xref" href="#I-D.ietf-detnet-data-plane-framework">DETNET-FRAMEWORK</a>]</span>.<a class="pilcrow" href="#section-4.6-9">¶</a></p>
</section>
</div>
<div id="FlowIDatTechBord">
<section id="section-4.7">
        <h3 id="name-flow-identification-at-tech">
<a class="section-number selfRef" href="#section-4.7">4.7. </a><a class="section-name selfRef" href="#name-flow-identification-at-tech">Flow Identification at Technology Borders</a>
        </h3>
<p id="section-4.7-1">This section discusses what needs to be done at technology
      borders including Ethernet as one of the technologies. Flow
      identification for MPLS and IP Data Planes are described in <span>[<a class="xref" href="#I-D.ietf-detnet-mpls">DETNET-MPLS</a>]</span> and <span>[<a class="xref" href="#I-D.ietf-detnet-ip">DETNET-IP</a>]</span>,
      respectively.<a class="pilcrow" href="#section-4.7-1">¶</a></p>
<div id="Relayering">
<section id="section-4.7.1">
          <h4 id="name-exporting-flow-identificati">
<a class="section-number selfRef" href="#section-4.7.1">4.7.1. </a><a class="section-name selfRef" href="#name-exporting-flow-identificati">Exporting Flow Identification</a>
          </h4>
<p id="section-4.7.1-1">
   A DetNet node may need to map specific flows to lower-layer
   flows (or Streams) in order to provide specific queuing and
   shaping services for specific flows.  For example:<a class="pilcrow" href="#section-4.7.1-1">¶</a></p>
<ul>
<li id="section-4.7.1-2.1">
 A non-IP, strictly L2 source end system X may be sending multiple flows
 to the same L2 destination end system Y.  Those flows may include
 DetNet flows with different QoS requirements and may include non-DetNet
 flows.<a class="pilcrow" href="#section-4.7.1-2.1">¶</a>
</li>
            <li id="section-4.7.1-2.2">
 A router may be sending any number of flows to another router.
 Again, those flows may include
 DetNet flows with different QoS requirements and may include non-DetNet
 flows.<a class="pilcrow" href="#section-4.7.1-2.2">¶</a>
</li>
            <li id="section-4.7.1-2.3">
 Two routers may be separated by bridges.  For these bridges to perform
 any required per-flow queuing and shaping, they must be able to identify
 the individual flows.<a class="pilcrow" href="#section-4.7.1-2.3">¶</a>
</li>
            <li id="section-4.7.1-2.4">
 A Label Edge Router (LER) may have a Label Switched
 Path (LSP) set up for handling traffic
 destined for a particular IP address carrying only non-DetNet flows.  If
 a DetNet flow to that same address is requested, a separate LSP may be
 needed in order for all of the Label Switch Routers (LSRs) along the
 path to the destination to give that flow special queuing and shaping.<a class="pilcrow" href="#section-4.7.1-2.4">¶</a>
</li>
          </ul>
<p id="section-4.7.1-3"> The need for a lower-layer node to be aware of
 individual higher-layer flows is not unique to DetNet.  But,
 given the endless complexity of layering and relayering over
 tunnels that is available to network designers, DetNet needs
 to provide a model for flow identification that is better than
 packet inspection.  That is not to say that packet inspection
 to Layer 4 or Layer 5 addresses will not be used or the
 capability standardized; however, there are alternatives.<a class="pilcrow" href="#section-4.7.1-3">¶</a></p>
<p id="section-4.7.1-4">
 A DetNet relay node can connect DetNet flows on different
 paths using different flow identification methods.  For
 example:<a class="pilcrow" href="#section-4.7.1-4">¶</a></p>
<ul>
<li id="section-4.7.1-5.1">
   A single unicast DetNet flow passing from router A through a bridged network
   to router B may be assigned a TSN Stream identifier that is
   unique within that bridged network.  The bridges can then identify the
   flow without accessing higher-layer headers.  Of course, the receiving router
   must recognize and accept that TSN Stream.<a class="pilcrow" href="#section-4.7.1-5.1">¶</a>
</li>
            <li id="section-4.7.1-5.2">
   A DetNet flow passing from LSR A to LSR B may be assigned a different
   label than that used for other flows to the same IP destination.<a class="pilcrow" href="#section-4.7.1-5.2">¶</a>
</li>
          </ul>
<p id="section-4.7.1-6">
   In any of the above cases, it is possible that an existing DetNet flow can
   be an aggregate carrying multiple other DetNet flows (not to be confused
   with DetNet compound vs. member flows).  Of course, this requires that the
   aggregate DetNet flow be provisioned properly to carry the aggregated flows.<a class="pilcrow" href="#section-4.7.1-6">¶</a></p>
<p id="section-4.7.1-7">
   Thus, rather than packet inspection, there is the option to export
   higher-layer information to the lower layer.  The requirement to support
   one or the other method for flow identification (or both) is a
   complexity that is part of DetNet control models.<a class="pilcrow" href="#section-4.7.1-7">¶</a></p>
</section>
</div>
<div id="FlowAttrMapping">
<section id="section-4.7.2">
          <h4 id="name-flow-attribute-mapping-betw">
<a class="section-number selfRef" href="#section-4.7.2">4.7.2. </a><a class="section-name selfRef" href="#name-flow-attribute-mapping-betw">Flow Attribute Mapping between Layers</a>
          </h4>
<p id="section-4.7.2-1">Forwarding of packets of DetNet flows over multiple
 technology domains may require that lower layers are aware of
 specific flows of higher layers. Such an "exporting of flow
 identification" is needed each time when the forwarding
 paradigm is changed on the forwarding path (e.g., two LSRs are
 interconnected by an L2 bridged domain, etc.). The three
 representative forwarding methods considered for DetNet
 are:<a class="pilcrow" href="#section-4.7.2-1">¶</a></p>
<ul>
<li id="section-4.7.2-2.1">IP routing<a class="pilcrow" href="#section-4.7.2-2.1">¶</a>
</li>
            <li id="section-4.7.2-2.2">MPLS label switching<a class="pilcrow" href="#section-4.7.2-2.2">¶</a>
</li>
            <li id="section-4.7.2-2.3">Ethernet bridging<a class="pilcrow" href="#section-4.7.2-2.3">¶</a>
</li>
          </ul>
<p id="section-4.7.2-3">
 A packet with corresponding Flow-IDs is illustrated in <a class="xref" href="#fig_FlowIDStack">Figure 9</a>, 
 which also indicates where each Flow-ID can be added or removed.<a class="pilcrow" href="#section-4.7.2-3">¶</a></p>
<span id="name-packet-with-multiple-flow-i"></span><div id="fig_FlowIDStack">
<figure id="figure-9">
            <div class="artwork art-text alignLeft" id="section-4.7.2-4.1">
<pre>    add/remove     add/remove
    Eth Flow-ID    IP Flow-ID
        |             |
        v             v
     +-----------------------------------------------------------+
     |      |      |      |                                      |
     | Eth  | MPLS |  IP  |     Application data                 |
     |      |      |      |                                      |
     +-----------------------------------------------------------+
               ^
               |
           add/remove
          MPLS Flow-ID
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-9">Figure 9</a>:
<a class="selfRef" href="#name-packet-with-multiple-flow-i">Packet with Multiple Flow-IDs</a>
            </figcaption></figure>
</div>
<p id="section-4.7.2-5"> The additional (domain-specific) Flow-ID can be:<a class="pilcrow" href="#section-4.7.2-5">¶</a></p>
<ul>
<li id="section-4.7.2-6.1">created by a domain-specific function or<a class="pilcrow" href="#section-4.7.2-6.1">¶</a>
</li>
            <li id="section-4.7.2-6.2">derived from the Flow-ID added to the App-flow.<a class="pilcrow" href="#section-4.7.2-6.2">¶</a>
</li>
          </ul>
<p id="section-4.7.2-7">
 The Flow-ID must be unique inside a given domain. Note that the Flow-ID added to the App-flow is still present in the packet, but some nodes may lack the function to recognize it; that's why the additional Flow-ID is added.<a class="pilcrow" href="#section-4.7.2-7">¶</a></p>
</section>
</div>
<div id="FlowIDMapEx">
<section id="section-4.7.3">
          <h4 id="name-flow-id-mapping-examples">
<a class="section-number selfRef" href="#section-4.7.3">4.7.3. </a><a class="section-name selfRef" href="#name-flow-id-mapping-examples">Flow-ID Mapping Examples</a>
          </h4>
<p id="section-4.7.3-1"> IP nodes and MPLS nodes are assumed to be configured to push such an additional (domain-specific) Flow-ID when sending traffic to an Ethernet switch (as shown in the examples below).<a class="pilcrow" href="#section-4.7.3-1">¶</a></p>
<p id="section-4.7.3-2"><a class="xref" href="#fig_ippushflowid">Figure 10</a> shows a scenario where an IP end system ("IP-A") is connected via two Ethernet switches ("ETH-n") to an IP router ("IP-1").<a class="pilcrow" href="#section-4.7.3-2">¶</a></p>
<span id="name-ip-nodes-interconnected-by-"></span><div id="fig_ippushflowid">
<figure id="figure-10">
            <div class="artwork art-text alignLeft" id="section-4.7.3-3.1">
<pre>                                  IP domain
               &lt;-----------------------------------------------

        +======+                                       +======+
        |L3-ID |                                       |L3-ID |
        +======+  /\                           +-----+ +======+
                 /  \       Forward as         |     |
                /IP-A\      per ETH-ID         |IP-1 |      Recognize
Push  ------&gt;  +-+----+         |              +---+-+  &lt;----- ETH-ID
ETH-ID           |         +----+-----+            |
                 |         v          v            |
                 |      +-----+    +-----+         |
                 +------+     |    |     +---------+
        +......+        |ETH-1+----+ETH-2|           +======+
        .L3-ID .        +-----+    +-----+           |L3-ID |
        +======+             +......+                +======+
        |ETH-ID|             .L3-ID .                |ETH-ID|
        +======+             +======+                +------+
                             |ETH-ID|
                             +======+

                          Ethernet domain
                        &lt;----------------&gt;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-10">Figure 10</a>:
<a class="selfRef" href="#name-ip-nodes-interconnected-by-">IP Nodes Interconnected by an Ethernet Domain</a>
            </figcaption></figure>
</div>
<p id="section-4.7.3-4"> End system "IP-A" uses the original App-flow-specific ID
 ("L3-ID"), but as it is connected to an Ethernet
 domain, it has to push an Ethernet-domain-specific
  Flow-ID ("ETH-ID") before sending the packet to
 "ETH-1". Ethernet switch "ETH-1" can recognize the data flow
 based on the "ETH-ID", and it does forwarding toward
 "ETH-2". "ETH-2" switches the packet toward the IP
 router. "IP-1" must be configured to receive the Ethernet
 Flow-ID-specific multicast
 flow, but (as it is an L3
 node) it decodes the data flow ID based on the "L3-ID" fields
 of the received packet.<a class="pilcrow" href="#section-4.7.3-4">¶</a></p>
<p id="section-4.7.3-5"><a class="xref" href="#fig_mplspushflowid">Figure 11</a> shows a scenario where MPLS domain nodes ("PE-n" and "P-m") are connected via two Ethernet switches ("ETH-n").<a class="pilcrow" href="#section-4.7.3-5">¶</a></p>
<span id="name-mpls-nodes-interconnected-b"></span><div id="fig_mplspushflowid">
<figure id="figure-11">
            <div class="artwork art-text alignLeft" id="section-4.7.3-6.1">
<pre>                                 MPLS domain
               &lt;-----------------------------------------------&gt;

    +=======+                                  +=======+
    |MPLS-ID|                                  |MPLS-ID|
    +=======+  +-----+                 +-----+ +=======+ +-----+
               |     |   Forward as    |     |           |     |
               |PE-1 |   per ETH-ID    | P-2 +-----------+ PE-2|
Push   -----&gt;  +-+---+        |        +---+-+           +-----+
ETH-ID           |      +-----+----+       |  \ Recognize
                 |      v          v       |   +-- ETH-ID
                 |   +-----+    +-----+    |
                 +---+     |    |     +----+
        +.......+    |ETH-1+----+ETH-2|   +=======+
        .MPLS-ID.    +-----+    +-----+   |MPLS-ID|
        +=======+                         +=======+
        |ETH-ID |         +.......+       |ETH-ID |
        +=======+         .MPLS-ID.       +-------+
                          +=======+
                          |ETH-ID |
                          +=======+
                       Ethernet domain
                     &lt;----------------&gt;
</pre>
</div>
<figcaption><a class="selfRef" href="#figure-11">Figure 11</a>:
<a class="selfRef" href="#name-mpls-nodes-interconnected-b">MPLS Nodes Interconnected by an Ethernet Domain</a>
            </figcaption></figure>
</div>
<p id="section-4.7.3-7"> "PE-1" uses the MPLS-specific ID ("MPLS-ID"), but as it
 is connected to an Ethernet domain, it has to push an
 Ethernet-domain-specific Flow-ID
  ("ETH-ID") before sending the
 packet to "ETH-1". Ethernet switch "ETH-1" can recognize the
 data flow based on the "ETH-ID", and it does forwarding toward
 "ETH-2". "ETH-2" switches the packet toward the MPLS node
 ("P-2"). "P-2" must be configured to receive the Ethernet
 Flow-ID-specific multicast flow, but (as it is an MPLS node)
 it decodes the data flow ID based on the "MPLS-ID" fields of
 the received packet.<a class="pilcrow" href="#section-4.7.3-7">¶</a></p>
<p id="section-4.7.3-8">One can appreciate from the above example that, when the means used for DetNet flow identification
            is altered or exported, the means for encoding the sequence number information must similarly
            be altered or exported.<a class="pilcrow" href="#section-4.7.3-8">¶</a></p>
</section>
</div>
</section>
</div>
<div id="Advertising">
<section id="section-4.8">
        <h3 id="name-advertising-resources-capab">
<a class="section-number selfRef" href="#section-4.8">4.8. </a><a class="section-name selfRef" href="#name-advertising-resources-capab">Advertising Resources, Capabilities, and Adjacencies</a>
        </h3>
<p id="section-4.8-1">
   Provisioning of DetNet requires knowledge about:<a class="pilcrow" href="#section-4.8-1">¶</a></p>
<ul>
<li id="section-4.8-2.1">
 Details of the DetNet system's capabilities that are required in order to
 accurately allocate that DetNet system's resources, as well as other DetNet systems'
 resources.  This includes, for example, which specific queuing and
 shaping algorithms are implemented (<a class="xref" href="#QueuingModels">Section 4.5</a>),
 the number of buffers dedicated for DetNet allocation, and the worst-case
 forwarding delay and misordering.<a class="pilcrow" href="#section-4.8-2.1">¶</a>
</li>
          <li id="section-4.8-2.2">
 The actual state of a DetNet node's DetNet resources.<a class="pilcrow" href="#section-4.8-2.2">¶</a>
</li>
          <li id="section-4.8-2.3">
 The identity of the DetNet system's neighbors and the characteristics of the
 link(s) between the DetNet systems, including the latency of
 the links (in nanoseconds).<a class="pilcrow" href="#section-4.8-2.3">¶</a>
</li>
        </ul>
</section>
</div>
<div id="Scaling">
<section id="section-4.9">
        <h3 id="name-scaling-to-larger-networks">
<a class="section-number selfRef" href="#section-4.9">4.9. </a><a class="section-name selfRef" href="#name-scaling-to-larger-networks">Scaling to Larger Networks</a>
        </h3>
<p id="section-4.9-1">
   Reservations for individual DetNet flows require considerable state information in
   each DetNet node, especially when adequate fault mitigation
   (<a class="xref" href="#FaultMitigation">Section 3.3.2</a>) is required.  The DetNet Data Plane, in order to
   support larger numbers of DetNet flows, must support the aggregation of DetNet flows.
   Such aggregated flows can be viewed by the DetNet nodes' Data Plane
   largely as individual DetNet flows.  Without such aggregation, the per-relay
   system may limit the scale of DetNet networks. Example techniques that may be used 
   include MPLS hierarchy and IP DiffServ Code Points (DSCPs).<a class="pilcrow" href="#section-4.9-1">¶</a></p>
</section>
</div>
<div id="Compatibility">
<section id="section-4.10">
        <h3 id="name-compatibility-with-layer-2">
<a class="section-number selfRef" href="#section-4.10">4.10. </a><a class="section-name selfRef" href="#name-compatibility-with-layer-2">Compatibility with Layer 2</a>
        </h3>
<p id="section-4.10-1">
 Standards providing similar capabilities for bridged networks (only) have
 been and are being generated in the IEEE 802 LAN/MAN Standards Committee.
 The present architecture describes an abstract model that can be applicable
 both at Layer 2 and Layer 3, and over links not defined by IEEE 802.<a class="pilcrow" href="#section-4.10-1">¶</a></p>
<p id="section-4.10-2"> DetNet-enabled end systems and DetNet nodes can be interconnected by
sub-networks, i.e., Layer 2 technologies.  These sub-networks will provide
DetNet compatible service for support of DetNet traffic.  Examples of
sub-network technologies include MPLS TE, TSN as defined by IEEE 802.1, and a point-to-point OTN
link.  Of course, multilayer DetNet systems may be possible too, where one
DetNet appears as a sub-network and provides service to a higher-layer DetNet
system.<a class="pilcrow" href="#section-4.10-2">¶</a></p>
</section>
</div>
</section>
</div>
<div id="SecurityConsiderations">
<section id="section-5">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-5-1">
   Security considerations for DetNet are described in detail
   in <span>[<a class="xref" href="#I-D.ietf-detnet-security">DETNET-SECURITY</a>]</span>. This section considers
   exclusively security considerations that are specific to the
   DetNet architecture.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2"> Security aspects that are
   unique to DetNet are those whose aim is to provide the
   specific QoS aspects of DetNet, which are
   primarily to deliver data flows with extremely low packet
   loss rates and bounded end-to-end delivery latency. A DetNet
   may be implemented using MPLS and/or IP (including both v4
   and v6) technologies and thus inherits the security
   properties of those technologies at both the Data Plane and
   the Controller Plane.<a class="pilcrow" href="#section-5-2">¶</a></p>
<p id="section-5-3"> Security considerations for
   DetNet are constrained (compared to, for example, the open
   Internet) because DetNet is defined to operate only within a
   single administrative domain (see <a class="xref" href="#introduction">Section 1</a>). The primary
   considerations are to secure the request and control of
   DetNet resources, maintain confidentiality of data
   traversing the DetNet, and provide the availability of the
   DetNet QoS.<a class="pilcrow" href="#section-5-3">¶</a></p>
<p id="section-5-4"> To secure the request
   and control of DetNet resources, authentication and
   authorization can be used for each device connected to a
   DetNet domain, most importantly to network controller
   devices. Control of a DetNet network may be centralized or
   distributed (within a single administrative domain). In the
   case of centralized control, precedent for security
   considerations as defined for Abstraction and Control of
   Traffic Engineered Networks (ACTN) can be found in <span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc8453#section-9">Section 9</a> of [<a class="xref" href="#RFC8453">RFC8453</a>]</span>. In the case of distributed
   control protocols, DetNet security is expected to be
   provided by the security properties of the protocols in
   use. In any case, the result is that manipulation of
   administratively configurable parameters is limited to
   authorized entities.<a class="pilcrow" href="#section-5-4">¶</a></p>
<p id="section-5-5"> To maintain confidentiality of
   data traversing the DetNet, application flows can be
   protected through whatever means is provided by the
   underlying technology. For example, encryption may be used,
   such as that provided by IPsec <span>[<a class="xref" href="#RFC4301">RFC4301</a>]</span>, for
   IP flows and by MACSec <span>[<a class="xref" href="#IEEE802.1AE">IEEE802.1AE</a>]</span> for
   Ethernet (Layer 2) flows.<a class="pilcrow" href="#section-5-5">¶</a></p>
<p id="section-5-6"> DetNet flows are
   identified on a per-flow basis, which may provide attackers
   with additional information about the data flows (when
   compared to networks that do not include per-flow
   identification).  This is an inherent property of DetNet
   that has security implications that should be considered
   when determining if DetNet is a suitable technology for any
   given use case.<a class="pilcrow" href="#section-5-6">¶</a></p>
<p id="section-5-7"> To provide uninterrupted
   availability of the DetNet QoS, provisions
   can be made against DoS attacks and delay attacks. To
   protect against DoS attacks, excess traffic due to malicious
   or malfunctioning devices can be prevented or mitigated, for
   example, through the use of traffic admission control
   applied at the input of a DetNet domain as described in
   <a class="xref" href="#Zero">Section 3.2.1</a> and through the fault-mitigation
   methods described in <a class="xref" href="#FaultMitigation">Section 3.3.2</a>. To
   prevent DetNet packets from being delayed by an entity
   external to a DetNet domain, DetNet technology definition
   can allow for the mitigation of man-in-the-middle attacks,
   for example, through use of authentication and authorization
   of devices within the DetNet domain.<a class="pilcrow" href="#section-5-7">¶</a></p>
<p id="section-5-8"> Because DetNet
   mechanisms or applications that rely on DetNet can make
   heavy use of methods that require precise time
   synchronization, the accuracy, availability, and integrity
   of time synchronization is of critical importance. Extensive
   discussion of this topic can be found in <span>[<a class="xref" href="#RFC7384">RFC7384</a>]</span>.<a class="pilcrow" href="#section-5-8">¶</a></p>
<p id="section-5-9"> DetNet use cases are known to
   have widely divergent security requirements. The intent of
   this section is to provide a baseline for security
   considerations that are common to all DetNet designs and
   implementations, without burdening individual designs with
   specifics of security infrastructure that may not be
   germane to the given use case. Designers and implementors of
   DetNet systems are expected to take use-case-specific considerations
   into account in their DetNet designs
   and implementations.<a class="pilcrow" href="#section-5-9">¶</a></p>
</section>
</div>
<section id="section-6">
      <h2 id="name-privacy-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-privacy-considerations">Privacy Considerations</a>
      </h2>
<p id="section-6-1">
 DetNet provides a QoS, and the generic
 considerations for such mechanisms apply. In particular, such markings
 allow for an attacker to correlate flows or to select particular types
 of flow for more detailed inspection.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">
 However, the requirement for every (or almost every) node along the path of
 a DetNet flow to identify DetNet flows may present an additional attack
 surface for privacy should the DetNet paradigm be found useful in broader
 environments.<a class="pilcrow" href="#section-6-2">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document has no IANA actions.<a class="pilcrow" href="#section-7-1">¶</a></p>
</section>
<section id="section-8">
      <h2 id="name-informative-references">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
      </h2>
<dl class="references">
<dt id="BUFFERBLOAT">[BUFFERBLOAT]</dt>
      <dd>
<span class="refAuthor">Gettys, J.</span><span class="refAuthor"> and K. Nichols</span>, <span class="refTitle">"Bufferbloat: Dark Buffers in the Internet"</span>, <span class="seriesInfo">DOI 10.1145/2063176.2063196</span>, <span class="seriesInfo">Communications of the ACM, Volume 55, Issue 1</span>, <time datetime="2012-01">January 2012</time>, <span>&lt;<a href="https://doi.org/10.1145/2063176.2063196">https://doi.org/10.1145/2063176.2063196</a>&gt;</span>. </dd>
<dt id="CCAMP">[CCAMP]</dt>
      <dd>
<span class="refAuthor">IETF</span>, <span class="refTitle">"Common Control and Measurement Plane (ccamp)"</span>, <time>October 2019</time>, <span>&lt;<a href="https://datatracker.ietf.org/wg/ccamp/charter/">https://datatracker.ietf.org/wg/ccamp/charter/</a>&gt;</span>. </dd>
<dt id="I-D.ietf-detnet-data-plane-framework">[DETNET-FRAMEWORK]</dt>
      <dd>
<span class="refAuthor">Varga, B.</span><span class="refAuthor">, Farkas, J.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Fedyk, D.</span><span class="refAuthor">, Malis, A.</span><span class="refAuthor">, Bryant, S.</span><span class="refAuthor">, and J. Korhonen</span>, <span class="refTitle">"DetNet Data Plane Framework"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-data-plane-framework-02</span>, <time datetime="2019-09-13">13 September 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-data-plane-framework-02">https://tools.ietf.org/html/draft-ietf-detnet-data-plane-framework-02</a>&gt;</span>. </dd>
<dt id="I-D.ietf-detnet-ip">[DETNET-IP]</dt>
      <dd>
<span class="refAuthor">Varga, B.</span><span class="refAuthor">, Farkas, J.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Fedyk, D.</span><span class="refAuthor">, Malis, A.</span><span class="refAuthor">, Bryant, S.</span><span class="refAuthor">, and J. Korhonen</span>, <span class="refTitle">"DetNet Data Plane: IP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-ip-01</span>, <time datetime="2019-07-01">1 July 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-ip-01">https://tools.ietf.org/html/draft-ietf-detnet-ip-01</a>&gt;</span>. </dd>
<dt id="I-D.ietf-detnet-mpls">[DETNET-MPLS]</dt>
      <dd>
<span class="refAuthor">Varga, B.</span><span class="refAuthor">, Farkas, J.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Fedyk, D.</span><span class="refAuthor">, Malis, A.</span><span class="refAuthor">, Bryant, S.</span><span class="refAuthor">, and J. Korhonen</span>, <span class="refTitle">"DetNet Data Plane: MPLS"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-mpls-01</span>, <time datetime="2019-07-01">1 July 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-mpls-01">https://tools.ietf.org/html/draft-ietf-detnet-mpls-01</a>&gt;</span>. </dd>
<dt id="I-D.ietf-detnet-security">[DETNET-SECURITY]</dt>
      <dd>
<span class="refAuthor">Mizrahi, T.</span><span class="refAuthor">, Grossman, E.</span><span class="refAuthor">, Hacker, A.</span><span class="refAuthor">, Das, S.</span><span class="refAuthor">, Dowdell, J.</span><span class="refAuthor">, Austad, H.</span><span class="refAuthor">, Stanton, K.</span><span class="refAuthor">, and N. Finn</span>, <span class="refTitle">"Deterministic Networking (DetNet) Security Considerations"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-security-05</span>, <time datetime="2019-08-29">29 August 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-detnet-security-05">https://tools.ietf.org/html/draft-ietf-detnet-security-05</a>&gt;</span>. </dd>
<dt id="IEC-62439-3">[IEC-62439-3]</dt>
      <dd>
<span class="refAuthor">IEC</span>, <span class="refTitle">"Industrial communication networks - High availability automation networks - Part 3: Parallel Redundancy Protocol (PRP) and High-availability Seamless Redundancy (HSR)"</span>, <span class="seriesInfo">TC 65 / SC 65C</span>, <span class="seriesInfo">IEC 62439-3:2016</span>, <time datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://webstore.iec.ch/publication/24447">https://webstore.iec.ch/publication/24447</a>&gt;</span>. </dd>
<dt id="IEEE802.1AE">[IEEE802.1AE]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks-Media Access Control (MAC) Security"</span>, <span class="seriesInfo">IEEE 802.1AE-2018</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8585421">https://ieeexplore.ieee.org/document/8585421</a>&gt;</span>. </dd>
<dt id="IEEE802.1BA">[IEEE802.1BA]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks--Audio Video Bridging (AVB) Systems"</span>, <span class="seriesInfo">IEEE 802.1BA-2011</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/6032690">https://ieeexplore.ieee.org/document/6032690</a>&gt;</span>. </dd>
<dt id="IEEE802.1CB">[IEEE802.1CB]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks--Frame Replication and Elimination for Reliability"</span>, <span class="seriesInfo">DOI 10.1109/IEEESTD.2017.8091139</span>, <span class="seriesInfo">IEEE 802.1CB-2017</span>, <time>October 2019</time>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8091139">https://ieeexplore.ieee.org/document/8091139</a>&gt;</span>. </dd>
<dt id="IEEE802.1Q">[IEEE802.1Q]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and Metropolitan Area Network--Bridges and Bridged Networks"</span>, <span class="seriesInfo">IEEE 802.1Q-2018</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8403927">https://ieeexplore.ieee.org/document/8403927</a>&gt;</span>. </dd>
<dt id="IEEE802.1Qav">[IEEE802.1Qav]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and Metropolitan Area Networks - Virtual Bridged Local Area Networks Amendment 12: Forwarding and Queuing Enhancements for Time-Sensitive Streams"</span>, <span class="seriesInfo">IEEE 802.1Qav-2009</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/5375704">https://ieeexplore.ieee.org/document/5375704</a>&gt;</span>. </dd>
<dt id="IEEE802.1Qbu">[IEEE802.1Qbu]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks -- Bridges and Bridged Networks -- Amendment 26: Frame Preemption"</span>, <span class="seriesInfo">IEEE 802.1Qbu-2016</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/7553415">https://ieeexplore.ieee.org/document/7553415</a>&gt;</span>. </dd>
<dt id="IEEE802.1Qbv">[IEEE802.1Qbv]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks -- Bridges and Bridged Networks - Amendment 25: Enhancements for Scheduled Traffic"</span>, <span class="seriesInfo">IEEE 802.1Qbv-2015</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/7440741">https://ieeexplore.ieee.org/document/7440741</a>&gt;</span>. </dd>
<dt id="IEEE802.1Qch">[IEEE802.1Qch]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks--Bridges and Bridged Networks--Amendment 29: Cyclic Queuing and Forwarding"</span>, <span class="seriesInfo">IEEE 802.1Qch-2017</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/7961303">https://ieeexplore.ieee.org/document/7961303</a>&gt;</span>. </dd>
<dt id="IEEE802.1TSNTG">[IEEE802.1TSNTG]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"Time-Sensitive Networking (TSN) Task Group"</span>, <span>&lt;<a href="https://1.ieee802.org/tsn/">https://1.ieee802.org/tsn/</a>&gt;</span>. </dd>
<dt id="IEEE802.3">[IEEE802.3]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Ethernet"</span>, <span class="seriesInfo">IEEE 802.3-2018</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/8457469">https://ieeexplore.ieee.org/document/8457469</a>&gt;</span>. </dd>
<dt id="IEEE802.3br">[IEEE802.3br]</dt>
      <dd>
<span class="refAuthor">IEEE</span>, <span class="refTitle">"IEEE Standard for Ethernet Amendment 5: Specification and Management Parameters for Interspersing Express Traffic"</span>, <span class="seriesInfo">IEEE 802.3br</span>, <span>&lt;<a href="https://ieeexplore.ieee.org/document/7900321">https://ieeexplore.ieee.org/document/7900321</a>&gt;</span>. </dd>
<dt id="RFC2205">[RFC2205]</dt>
      <dd>
<span class="refAuthor">Braden, R., Ed.</span><span class="refAuthor">, Zhang, L.</span><span class="refAuthor">, Berson, S.</span><span class="refAuthor">, Herzog, S.</span><span class="refAuthor">, and S. Jamin</span>, <span class="refTitle">"Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification"</span>, <span class="seriesInfo">RFC 2205</span>, <span class="seriesInfo">DOI 10.17487/RFC2205</span>, <time datetime="1997-09">September 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2205">https://www.rfc-editor.org/info/rfc2205</a>&gt;</span>. </dd>
<dt id="RFC2475">[RFC2475]</dt>
      <dd>
<span class="refAuthor">Blake, S.</span><span class="refAuthor">, Black, D.</span><span class="refAuthor">, Carlson, M.</span><span class="refAuthor">, Davies, E.</span><span class="refAuthor">, Wang, Z.</span><span class="refAuthor">, and W. Weiss</span>, <span class="refTitle">"An Architecture for Differentiated Services"</span>, <span class="seriesInfo">RFC 2475</span>, <span class="seriesInfo">DOI 10.17487/RFC2475</span>, <time datetime="1998-12">December 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2475">https://www.rfc-editor.org/info/rfc2475</a>&gt;</span>. </dd>
<dt id="RFC2914">[RFC2914]</dt>
      <dd>
<span class="refAuthor">Floyd, S.</span>, <span class="refTitle">"Congestion Control Principles"</span>, <span class="seriesInfo">BCP 41</span>, <span class="seriesInfo">RFC 2914</span>, <span class="seriesInfo">DOI 10.17487/RFC2914</span>, <time datetime="2000-09">September 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2914">https://www.rfc-editor.org/info/rfc2914</a>&gt;</span>. </dd>
<dt id="RFC3168">[RFC3168]</dt>
      <dd>
<span class="refAuthor">Ramakrishnan, K.</span><span class="refAuthor">, Floyd, S.</span><span class="refAuthor">, and D. Black</span>, <span class="refTitle">"The Addition of Explicit Congestion Notification (ECN) to IP"</span>, <span class="seriesInfo">RFC 3168</span>, <span class="seriesInfo">DOI 10.17487/RFC3168</span>, <time datetime="2001-09">September 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3168">https://www.rfc-editor.org/info/rfc3168</a>&gt;</span>. </dd>
<dt id="RFC3209">[RFC3209]</dt>
      <dd>
<span class="refAuthor">Awduche, D.</span><span class="refAuthor">, Berger, L.</span><span class="refAuthor">, Gan, D.</span><span class="refAuthor">, Li, T.</span><span class="refAuthor">, Srinivasan, V.</span><span class="refAuthor">, and G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time datetime="2001-12">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
<dt id="RFC3550">[RFC3550]</dt>
      <dd>
<span class="refAuthor">Schulzrinne, H.</span><span class="refAuthor">, Casner, S.</span><span class="refAuthor">, Frederick, R.</span><span class="refAuthor">, and V. Jacobson</span>, <span class="refTitle">"RTP: A Transport Protocol for Real-Time Applications"</span>, <span class="seriesInfo">STD 64</span>, <span class="seriesInfo">RFC 3550</span>, <span class="seriesInfo">DOI 10.17487/RFC3550</span>, <time datetime="2003-07">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3550">https://www.rfc-editor.org/info/rfc3550</a>&gt;</span>. </dd>
<dt id="RFC4301">[RFC4301]</dt>
      <dd>
<span class="refAuthor">Kent, S.</span><span class="refAuthor"> and K. Seo</span>, <span class="refTitle">"Security Architecture for the Internet Protocol"</span>, <span class="seriesInfo">RFC 4301</span>, <span class="seriesInfo">DOI 10.17487/RFC4301</span>, <time datetime="2005-12">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4301">https://www.rfc-editor.org/info/rfc4301</a>&gt;</span>. </dd>
<dt id="RFC4655">[RFC4655]</dt>
      <dd>
<span class="refAuthor">Farrel, A.</span><span class="refAuthor">, Vasseur, J.-P.</span><span class="refAuthor">, and J. Ash</span>, <span class="refTitle">"A Path Computation Element (PCE)-Based Architecture"</span>, <span class="seriesInfo">RFC 4655</span>, <span class="seriesInfo">DOI 10.17487/RFC4655</span>, <time datetime="2006-08">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4655">https://www.rfc-editor.org/info/rfc4655</a>&gt;</span>. </dd>
<dt id="RFC6372">[RFC6372]</dt>
      <dd>
<span class="refAuthor">Sprecher, N., Ed.</span><span class="refAuthor"> and A. Farrel, Ed.</span>, <span class="refTitle">"MPLS Transport Profile (MPLS-TP) Survivability Framework"</span>, <span class="seriesInfo">RFC 6372</span>, <span class="seriesInfo">DOI 10.17487/RFC6372</span>, <time datetime="2011-09">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6372">https://www.rfc-editor.org/info/rfc6372</a>&gt;</span>. </dd>
<dt id="RFC6658">[RFC6658]</dt>
      <dd>
<span class="refAuthor">Bryant, S., Ed.</span><span class="refAuthor">, Martini, L.</span><span class="refAuthor">, Swallow, G.</span><span class="refAuthor">, and A. Malis</span>, <span class="refTitle">"Packet Pseudowire Encapsulation over an MPLS PSN"</span>, <span class="seriesInfo">RFC 6658</span>, <span class="seriesInfo">DOI 10.17487/RFC6658</span>, <time datetime="2012-07">July 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6658">https://www.rfc-editor.org/info/rfc6658</a>&gt;</span>. </dd>
<dt id="RFC7149">[RFC7149]</dt>
      <dd>
<span class="refAuthor">Boucadair, M.</span><span class="refAuthor"> and C. Jacquenet</span>, <span class="refTitle">"Software-Defined Networking: A Perspective from within a Service Provider Environment"</span>, <span class="seriesInfo">RFC 7149</span>, <span class="seriesInfo">DOI 10.17487/RFC7149</span>, <time datetime="2014-03">March 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7149">https://www.rfc-editor.org/info/rfc7149</a>&gt;</span>. </dd>
<dt id="RFC7384">[RFC7384]</dt>
      <dd>
<span class="refAuthor">Mizrahi, T.</span>, <span class="refTitle">"Security Requirements of Time Protocols in Packet Switched Networks"</span>, <span class="seriesInfo">RFC 7384</span>, <span class="seriesInfo">DOI 10.17487/RFC7384</span>, <time datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7384">https://www.rfc-editor.org/info/rfc7384</a>&gt;</span>. </dd>
<dt id="RFC7426">[RFC7426]</dt>
      <dd>
<span class="refAuthor">Haleplidis, E., Ed.</span><span class="refAuthor">, Pentikousis, K., Ed.</span><span class="refAuthor">, Denazis, S.</span><span class="refAuthor">, Hadi Salim, J.</span><span class="refAuthor">, Meyer, D.</span><span class="refAuthor">, and O. Koufopavlou</span>, <span class="refTitle">"Software-Defined Networking (SDN): Layers and Architecture Terminology"</span>, <span class="seriesInfo">RFC 7426</span>, <span class="seriesInfo">DOI 10.17487/RFC7426</span>, <time datetime="2015-01">January 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7426">https://www.rfc-editor.org/info/rfc7426</a>&gt;</span>. </dd>
<dt id="RFC7554">[RFC7554]</dt>
      <dd>
<span class="refAuthor">Watteyne, T., Ed.</span><span class="refAuthor">, Palattella, M.</span><span class="refAuthor">, and L. Grieco</span>, <span class="refTitle">"Using IEEE 802.15.4e Time-Slotted Channel Hopping (TSCH) in the Internet of Things (IoT): Problem Statement"</span>, <span class="seriesInfo">RFC 7554</span>, <span class="seriesInfo">DOI 10.17487/RFC7554</span>, <time datetime="2015-05">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7554">https://www.rfc-editor.org/info/rfc7554</a>&gt;</span>. </dd>
<dt id="RFC7567">[RFC7567]</dt>
      <dd>
<span class="refAuthor">Baker, F., Ed.</span><span class="refAuthor"> and G. Fairhurst, Ed.</span>, <span class="refTitle">"IETF Recommendations Regarding Active Queue Management"</span>, <span class="seriesInfo">BCP 197</span>, <span class="seriesInfo">RFC 7567</span>, <span class="seriesInfo">DOI 10.17487/RFC7567</span>, <time datetime="2015-07">July 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7567">https://www.rfc-editor.org/info/rfc7567</a>&gt;</span>. </dd>
<dt id="RFC7813">[RFC7813]</dt>
      <dd>
<span class="refAuthor">Farkas, J., Ed.</span><span class="refAuthor">, Bragg, N.</span><span class="refAuthor">, Unbehagen, P.</span><span class="refAuthor">, Parsons, G.</span><span class="refAuthor">, Ashwood-Smith, P.</span><span class="refAuthor">, and C. Bowers</span>, <span class="refTitle">"IS-IS Path Control and Reservation"</span>, <span class="seriesInfo">RFC 7813</span>, <span class="seriesInfo">DOI 10.17487/RFC7813</span>, <time datetime="2016-06">June 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7813">https://www.rfc-editor.org/info/rfc7813</a>&gt;</span>. </dd>
<dt id="RFC8033">[RFC8033]</dt>
      <dd>
<span class="refAuthor">Pan, R.</span><span class="refAuthor">, Natarajan, P.</span><span class="refAuthor">, Baker, F.</span><span class="refAuthor">, and G. White</span>, <span class="refTitle">"Proportional Integral Controller Enhanced (PIE): A Lightweight Control Scheme to Address the Bufferbloat Problem"</span>, <span class="seriesInfo">RFC 8033</span>, <span class="seriesInfo">DOI 10.17487/RFC8033</span>, <time datetime="2017-02">February 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8033">https://www.rfc-editor.org/info/rfc8033</a>&gt;</span>. </dd>
<dt id="RFC8227">[RFC8227]</dt>
      <dd>
<span class="refAuthor">Cheng, W.</span><span class="refAuthor">, Wang, L.</span><span class="refAuthor">, Li, H.</span><span class="refAuthor">, van Helvoort, H.</span><span class="refAuthor">, and J. Dong</span>, <span class="refTitle">"MPLS-TP Shared-Ring Protection (MSRP) Mechanism for Ring Topology"</span>, <span class="seriesInfo">RFC 8227</span>, <span class="seriesInfo">DOI 10.17487/RFC8227</span>, <time datetime="2017-08">August 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8227">https://www.rfc-editor.org/info/rfc8227</a>&gt;</span>. </dd>
<dt id="RFC8289">[RFC8289]</dt>
      <dd>
<span class="refAuthor">Nichols, K.</span><span class="refAuthor">, Jacobson, V.</span><span class="refAuthor">, McGregor, A., Ed.</span><span class="refAuthor">, and J. Iyengar, Ed.</span>, <span class="refTitle">"Controlled Delay Active Queue Management"</span>, <span class="seriesInfo">RFC 8289</span>, <span class="seriesInfo">DOI 10.17487/RFC8289</span>, <time datetime="2018-01">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8289">https://www.rfc-editor.org/info/rfc8289</a>&gt;</span>. </dd>
<dt id="RFC8402">[RFC8402]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span><span class="refAuthor">, Previdi, S., Ed.</span><span class="refAuthor">, Ginsberg, L.</span><span class="refAuthor">, Decraene, B.</span><span class="refAuthor">, Litkowski, S.</span><span class="refAuthor">, and R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dt id="RFC8453">[RFC8453]</dt>
      <dd>
<span class="refAuthor">Ceccarelli, D., Ed.</span><span class="refAuthor"> and Y. Lee, Ed.</span>, <span class="refTitle">"Framework for Abstraction and Control of TE Networks (ACTN)"</span>, <span class="seriesInfo">RFC 8453</span>, <span class="seriesInfo">DOI 10.17487/RFC8453</span>, <time datetime="2018-08">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8453">https://www.rfc-editor.org/info/rfc8453</a>&gt;</span>. </dd>
<dt id="RFC8557">[RFC8557]</dt>
      <dd>
<span class="refAuthor">Finn, N.</span><span class="refAuthor"> and P. Thubert</span>, <span class="refTitle">"Deterministic Networking Problem Statement"</span>, <span class="seriesInfo">RFC 8557</span>, <span class="seriesInfo">DOI 10.17487/RFC8557</span>, <time datetime="2019-05">May 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8557">https://www.rfc-editor.org/info/rfc8557</a>&gt;</span>. </dd>
<dt id="RFC8578">[RFC8578]</dt>
      <dd>
<span class="refAuthor">Grossman, E., Ed.</span>, <span class="refTitle">"Deterministic Networking Use Cases"</span>, <span class="seriesInfo">RFC 8578</span>, <span class="seriesInfo">DOI 10.17487/RFC8578</span>, <time datetime="2019-05">May 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8578">https://www.rfc-editor.org/info/rfc8578</a>&gt;</span>. </dd>
<dt id="TEAS">[TEAS]</dt>
      <dd>
<span class="refAuthor">IETF</span>, <span class="refTitle">"Traffic Engineering Architecture and Signaling (teas)"</span>, <time>October 2019</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/charter-ietf-teas/">https://datatracker.ietf.org/doc/charter-ietf-teas/</a>&gt;</span>. </dd>
<dt id="I-D.ietf-6tisch-architecture">[TSCH-ARCH]</dt>
    <dd>
<span class="refAuthor">Thubert, P.</span>, <span class="refTitle">"An Architecture for IPv6 over the TSCH mode of IEEE 802.15.4"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6tisch-architecture-26</span>, <time datetime="2019-08-27">27 August 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-6tisch-architecture-26">https://tools.ietf.org/html/draft-ietf-6tisch-architecture-26</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">The authors wish to thank Lou Berger, David Black, Stewart
   Bryant, Rodney Cummings, Ethan Grossman, Craig Gunther, Marcel
   Kiessling, Rudy Klecka, Jouni Korhonen, Erik Nordmark, Shitanshu
   Shah, Wilfried Steiner, George Swallow, Michael Johas Teener, Pat
   Thaler, Thomas Watteyne, Patrick Wetterwald, Karl Weber, and Anca
   Zamfir for their various contributions to this work.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
</section>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Norman Finn</span></div>
<div class="left" dir="auto"><span class="org">Huawei</span></div>
<div class="left" dir="auto"><span class="street-address">3101 Rio Way</span></div>
<div class="left" dir="auto">
<span class="locality">Spring Valley</span>, <span class="region">California</span> <span class="postal-code">91977</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20925%20980%206430">+1 925 980 6430</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:nfinn@nfinnconsulting.com">nfinn@nfinnconsulting.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Pascal Thubert</span></div>
<div class="left" dir="auto"><span class="org">Cisco Systems</span></div>
<div class="left" dir="auto"><span class="extended-address">Batiment T3</span></div>
<div class="left" dir="auto"><span class="street-address">Village d'Entreprises Green Side, 400, Avenue de Roumanille</span></div>
<div class="left" dir="auto">
<span class="postal-code">06410</span> <span class="locality">Biot - Sophia Antipolis</span>
</div>
<div class="left" dir="auto"><span class="country-name">France</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+33%204%2097%2023%2026%2034">+33 4 97 23 26 34</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:pthubert@cisco.com">pthubert@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Balázs Varga</span></div>
<div class="left" dir="auto"><span class="org">Ericsson</span></div>
<div class="left" dir="auto"><span class="locality">Budapest</span></div>
<div class="left" dir="auto"><span class="street-address">Magyar tudosok korutja 11</span></div>
<div class="left" dir="auto"><span class="postal-code">1117</span></div>
<div class="left" dir="auto"><span class="country-name">Hungary</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:balazs.a.varga@ericsson.com">balazs.a.varga@ericsson.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">János Farkas</span></div>
<div class="left" dir="auto"><span class="org">Ericsson</span></div>
<div class="left" dir="auto"><span class="locality">Budapest</span></div>
<div class="left" dir="auto"><span class="street-address">Magyar tudosok korutja 11</span></div>
<div class="left" dir="auto"><span class="postal-code">1117</span></div>
<div class="left" dir="auto"><span class="country-name">Hungary</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:janos.farkas@ericsson.com">janos.farkas@ericsson.com</a>
</div>
</address>
</section>
</div>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>


</body></html>