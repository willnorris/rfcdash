<html><head></head><body><pre>Internet Engineering Task Force (IETF)                        J. Howlett
Request for Comments: 7833                                          Jisc
Category: Standards Track                                     S. Hartman
ISSN: 2070-1721                                        Painless Security
                                                    A. Perez-Mendez, Ed.
                                                    University of Murcia
                                                                May 2016


   <span class="h1">A RADIUS Attribute, Binding, Profiles, Name Identifier Format, and</span>
 <span class="h1">Confirmation Methods for the Security Assertion Markup Language (SAML)</span>

Abstract

   This document describes the use of the Security Assertion Markup
   Language (SAML) with RADIUS in the context of the Application
   Bridging for Federated Access Beyond web (ABFAB) architecture.  It
   defines two RADIUS attributes, a SAML binding, a SAML name identifier
   format, two SAML profiles, and two SAML confirmation methods.  The
   RADIUS attributes permit encapsulation of SAML Assertions and
   protocol messages within RADIUS, allowing SAML entities to
   communicate using the binding.  The two profiles describe the
   application of this binding for ABFAB authentication and assertion
   Query/Request, enabling a Relying Party to request authentication of,
   or assertions for, users or machines (clients).  These clients may be
   named using a Network Access Identifier (NAI) name identifier format.
   Finally, the subject confirmation methods allow requests and queries
   to be issued for a previously authenticated user or machine without
   needing to explicitly identify them as the subject.  The use of the
   artifacts defined in this document is not exclusive to ABFAB.  They
   can be applied in any Authentication, Authorization, and Accounting
   (AAA) scenario, such as network access control.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="./rfc5741#section-2">Section 2 of RFC 5741</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc7833">http://www.rfc-editor.org/info/rfc7833</a>.





<span class="grey">Howlett, et al.              Standards Track                    [Page 1]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-2"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://www.rfc-editor.org/bcp/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   <a href="#section-1">1</a>. Introduction ....................................................<a href="#page-3">3</a>
      <a href="#section-1.1">1.1</a>. Terminology ................................................<a href="#page-5">5</a>
   <a href="#section-2">2</a>. Conventions .....................................................<a href="#page-5">5</a>
   <a href="#section-3">3</a>. RADIUS SAML Attributes ..........................................<a href="#page-5">5</a>
      <a href="#section-3.1">3.1</a>. SAML-Assertion Attribute ...................................<a href="#page-6">6</a>
      <a href="#section-3.2">3.2</a>. SAML-Protocol Attribute ....................................<a href="#page-7">7</a>
   <a href="#section-4">4</a>. SAML RADIUS Binding .............................................<a href="#page-8">8</a>
      <a href="#section-4.1">4.1</a>. Required Information .......................................<a href="#page-8">8</a>
      <a href="#section-4.2">4.2</a>. Operation ..................................................<a href="#page-8">8</a>
      <a href="#section-4.3">4.3</a>. Processing of Names ........................................<a href="#page-9">9</a>
           <a href="#section-4.3.1">4.3.1</a>. AAA Names ..........................................<a href="#page-10">10</a>
           <a href="#section-4.3.2">4.3.2</a>. SAML Names .........................................<a href="#page-10">10</a>
           <a href="#section-4.3.3">4.3.3</a>. Mapping of AAA Names in SAML Metadata ..............<a href="#page-11">11</a>
           <a href="#section-4.3.4">4.3.4</a>. Example of SAML Metadata That Includes AAA Names ...<a href="#page-13">13</a>
      <a href="#section-4.4">4.4</a>. Use of XML Signatures .....................................<a href="#page-14">14</a>
      <a href="#section-4.5">4.5</a>. Metadata Considerations ...................................<a href="#page-14">14</a>
   <a href="#section-5">5</a>. Network Access Identifier Name Identifier Format ...............<a href="#page-14">14</a>
   <a href="#section-6">6</a>. RADIUS State Confirmation Method Identifiers ...................<a href="#page-15">15</a>
   <a href="#section-7">7</a>. ABFAB Authentication Profile ...................................<a href="#page-15">15</a>
      <a href="#section-7.1">7.1</a>. Required Information ......................................<a href="#page-15">15</a>
      <a href="#section-7.2">7.2</a>. Profile Overview ..........................................<a href="#page-16">16</a>
      <a href="#section-7.3">7.3</a>. Profile Description .......................................<a href="#page-18">18</a>
           <a href="#section-7.3.1">7.3.1</a>. Client Request to Relying Party ....................<a href="#page-18">18</a>
           7.3.2. Relying Party Issues &lt;samlp:AuthnRequest&gt;
                  to Identity Provider ...............................<a href="#page-18">18</a>
           <a href="#section-7.3.3">7.3.3</a>. Identity Provider Identifies Client ................<a href="#page-18">18</a>
           7.3.4. Identity Provider Issues &lt;samlp:Response&gt;
                  to Relying Party ...................................<a href="#page-19">19</a>
           <a href="#section-7.3.5">7.3.5</a>. Relying Party Grants or Denies Access to Client ....<a href="#page-19">19</a>





<span class="grey">Howlett, et al.              Standards Track                    [Page 2]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-3"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


      <a href="#section-7.4">7.4</a>. Use of Authentication Request Protocol ....................<a href="#page-19">19</a>
           <a href="#section-7.4.1">7.4.1</a>. &lt;samlp:AuthnRequest&gt; Usage .........................<a href="#page-19">19</a>
           <a href="#section-7.4.2">7.4.2</a>. &lt;samlp:Response&gt; Message Usage .....................<a href="#page-20">20</a>
           <a href="#section-7.4.3">7.4.3</a>. &lt;samlp:Response&gt; Message Processing Rules ..........<a href="#page-20">20</a>
           <a href="#section-7.4.4">7.4.4</a>. Unsolicited Responses ..............................<a href="#page-21">21</a>
           <a href="#section-7.4.5">7.4.5</a>. Use of the SAML RADIUS Binding .....................<a href="#page-21">21</a>
           <a href="#section-7.4.6">7.4.6</a>. Use of XML Signatures ..............................<a href="#page-21">21</a>
           <a href="#section-7.4.7">7.4.7</a>. Metadata Considerations ............................<a href="#page-21">21</a>
   <a href="#section-8">8</a>. ABFAB Assertion Query/Request Profile ..........................<a href="#page-21">21</a>
      <a href="#section-8.1">8.1</a>. Required Information ......................................<a href="#page-22">22</a>
      <a href="#section-8.2">8.2</a>. Profile Overview ..........................................<a href="#page-22">22</a>
      <a href="#section-8.3">8.3</a>. Profile Description .......................................<a href="#page-23">23</a>
           8.3.1. Differences from the SAML V2.0 Assertion
                  Query/Request Profile ..............................<a href="#page-23">23</a>
           <a href="#section-8.3.2">8.3.2</a>. Use of the SAML RADIUS Binding .....................<a href="#page-23">23</a>
           <a href="#section-8.3.3">8.3.3</a>. Use of XML Signatures ..............................<a href="#page-24">24</a>
           <a href="#section-8.3.4">8.3.4</a>. Metadata Considerations ............................<a href="#page-24">24</a>
   <a href="#section-9">9</a>. Privacy Considerations .........................................<a href="#page-24">24</a>
   <a href="#section-10">10</a>. Security Considerations .......................................<a href="#page-25">25</a>
   <a href="#section-11">11</a>. IANA Considerations ...........................................<a href="#page-25">25</a>
      <a href="#section-11.1">11.1</a>. RADIUS Attributes ........................................<a href="#page-25">25</a>
      <a href="#section-11.2">11.2</a>. ABFAB Parameters .........................................<a href="#page-26">26</a>
      <a href="#section-11.3">11.3</a>. Registration of the ABFAB URN Namespace ..................<a href="#page-27">27</a>
   <a href="#section-12">12</a>. References ....................................................<a href="#page-27">27</a>
      <a href="#section-12.1">12.1</a>. Normative References .....................................<a href="#page-27">27</a>
      <a href="#section-12.2">12.2</a>. Informative References ...................................<a href="#page-29">29</a>
   <a href="#appendix-A">Appendix A</a>. XML Schema ............................................<a href="#page-30">30</a>
   Acknowledgments ...................................................<a href="#page-32">32</a>
   Authors' Addresses ................................................<a href="#page-32">32</a>

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.%20%20Introduction"></a><a class="selflink" href="#section-1" id="section-1">1</a>.  Introduction</span>

   Within the ABFAB (Application Bridging for Federated Access Beyond
   web) architecture [<a href="./rfc7831" title='"Application Bridging for Federated Access Beyond Web (ABFAB) Architecture"'>RFC7831</a>], it is often desirable to convey Security
   Assertion Markup Language (SAML) Assertions and protocol messages.

   SAML typically only considers the use of HTTP-based transports, known
   as bindings [<a href="#ref-OASIS.saml-bindings-2.0-os">OASIS.saml-bindings-2.0-os</a>], which are primarily
   intended for use with the SAML V2.0 web browser single sign-on
   profile [<a href="#ref-OASIS.saml-profiles-2.0-os">OASIS.saml-profiles-2.0-os</a>].  However, the goal of ABFAB is
   to extend the applicability of federated identity beyond the web to
   other applications by building on the Authentication, Authorization,
   and Accounting (AAA) framework.  Consequently, there exists a
   requirement for SAML to integrate with the AAA framework and with
   protocols such as RADIUS [<a href="./rfc2865" title='"Remote Authentication Dial In User Service (RADIUS)"'>RFC2865</a>] and Diameter [<a href="./rfc6733" title='"Diameter Base Protocol"'>RFC6733</a>], in
   addition to HTTP.





<span class="grey">Howlett, et al.              Standards Track                    [Page 3]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-4"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   In summary, this document specifies:

   o  Two RADIUS attributes to encapsulate SAML Assertions and protocol
      messages, respectively.

   o  A SAML RADIUS binding that defines how SAML Assertions and
      protocol messages can be transported by RADIUS within a SAML
      exchange.

   o  A SAML name identifier format in the form of a Network Access
      Identifier.

   o  A profile of the SAML Authentication Request Protocol that uses
      the SAML RADIUS binding to effect SAML-based authentication and
      authorization.

   o  A profile of the SAML Assertion Query and Request Protocol that
      uses the SAML RADIUS binding to effect the query and request of
      SAML Assertions.

   o  Two SAML subject confirmation methods for indicating that a user
      or machine client is the subject of an assertion.

   This document adheres to the guidelines stipulated by
   [<a href="#ref-OASIS.saml-bindings-2.0-os">OASIS.saml-bindings-2.0-os</a>] and [<a href="#ref-OASIS.saml-profiles-2.0-os">OASIS.saml-profiles-2.0-os</a>] for
   defining new SAML bindings and profiles, respectively, and other
   conventions applied formally or otherwise within SAML.  In
   particular, this document provides a "Required Information" section
   for the binding (<a href="#section-4.1">Section 4.1</a>) and profiles (Sections <a href="#section-7.1">7.1</a> and <a href="#section-8.1">8.1</a>)
   that enumerate:

   o  A URI that uniquely identifies the protocol binding or profile.

   o  Postal or electronic contact information for the author.

   o  A reference to previously defined bindings or profiles that the
      new binding updates or obsoletes.

   o  In the case of a profile, any SAML confirmation method identifiers
      defined and/or utilized by the profile.











<span class="grey">Howlett, et al.              Standards Track                    [Page 4]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-5"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/1.1.%20%20Terminology"></a><a class="selflink" href="#section-1.1" id="section-1.1">1.1</a>.  Terminology</span>

   This document uses terminology from a number of related standards
   that tend to adopt different terms for similar or identical concepts.
   In general, this document uses, when possible, the ABFAB term for the
   entity, as described in [<a href="./rfc7831" title='"Application Bridging for Federated Access Beyond Web (ABFAB) Architecture"'>RFC7831</a>].  For reference, we include the
   following table, which maps the different terms into a single view.
   (In this document, "NAS" refers to a network access server, and "AS"
   refers to an authentication server.)

      +----------+-----------+------------------+-------------------+
      | Protocol | Client    | Relying Party    | Identity Provider |
      +----------+-----------+------------------+-------------------+
      | ABFAB    | Client    | Relying Party    | Identity Provider |
      |          |           |                  |                   |
      | SAML     | Subject   | Service Provider | Identity Provider |
      |          | Principal | Requester        | Responder         |
      |          |           | Consumer         | Issuer            |
      |          |           |                  |                   |
      | RADIUS   | User      | NAS              | AS                |
      |          |           | RADIUS client    | RADIUS server     |
      +----------+-----------+------------------+-------------------+

                           Table 1: Terminology

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/2.%20%20Conventions"></a><a class="selflink" href="#section-2" id="section-2">2</a>.  Conventions</span>

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in <a href="./rfc2119">RFC 2119</a> [<a href="./rfc2119" title='"Key words for use in RFCs to Indicate Requirement Levels"'>RFC2119</a>].

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.%20%20RADIUS%20SAML%20Attributes"></a><a class="selflink" href="#section-3" id="section-3">3</a>.  RADIUS SAML Attributes</span>

   The SAML RADIUS binding defined in <a href="#section-4">Section 4</a> of this document uses
   two attributes to convey SAML Assertions and protocol messages
   [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>].  Owing to the typical size of these
   structures, these attributes use the "Long Extended Type" format
   [<a href="./rfc6929" title='"Remote Authentication Dial In User Service (RADIUS) Protocol Extensions"'>RFC6929</a>] to encapsulate their data.  RADIUS entities MUST NOT
   include both attributes in the same RADIUS message, as they represent
   exclusive alternatives to convey SAML information.











<span class="grey">Howlett, et al.              Standards Track                    [Page 5]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-6"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.1.%20%20SAML-Assertion%20Attribute"></a><a class="selflink" href="#section-3.1" id="section-3.1">3.1</a>.  SAML-Assertion Attribute</span>

   This attribute is used to encode a SAML Assertion.  Figure 1
   represents the format of this attribute.

                          1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |    Length     | Extended-Type |M|  Reserved   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Value...
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                      Figure 1: SAML-Assertion Format

   Type

      245

   Length

      &gt;= 5

   Extended-Type

      1

   M (More)

      As described in [<a href="./rfc6929" title='"Remote Authentication Dial In User Service (RADIUS) Protocol Extensions"'>RFC6929</a>].

   Reserved

      As described in [<a href="./rfc6929" title='"Remote Authentication Dial In User Service (RADIUS) Protocol Extensions"'>RFC6929</a>].

   Value

      One or more octets encoding a SAML Assertion.













<span class="grey">Howlett, et al.              Standards Track                    [Page 6]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-7"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/3.2.%20%20SAML-Protocol%20Attribute"></a><a class="selflink" href="#section-3.2" id="section-3.2">3.2</a>.  SAML-Protocol Attribute</span>

   This attribute is used to encode a SAML protocol message.  Figure 2
   represents the format of this attribute.

                          1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Type        |    Length     | Extended-Type |M|  Reserved   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Value...
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                      Figure 2: SAML-Protocol Format

   Type

      245

   Length

      &gt;= 5

   Extended-Type

      2

   M (More)

      As described in [<a href="./rfc6929" title='"Remote Authentication Dial In User Service (RADIUS) Protocol Extensions"'>RFC6929</a>].

   Reserved

      As described in [<a href="./rfc6929" title='"Remote Authentication Dial In User Service (RADIUS) Protocol Extensions"'>RFC6929</a>].

   Value

      One or more octets encoding a SAML protocol message.













<span class="grey">Howlett, et al.              Standards Track                    [Page 7]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-8"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.%20%20SAML%20RADIUS%20Binding"></a><a class="selflink" href="#section-4" id="section-4">4</a>.  SAML RADIUS Binding</span>

   The SAML RADIUS binding defines how RADIUS [<a href="./rfc2865" title='"Remote Authentication Dial In User Service (RADIUS)"'>RFC2865</a>] can be used to
   enable a RADIUS client and server to exchange SAML Assertions and
   protocol messages.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.1.%20%20Required%20Information"></a><a class="selflink" href="#section-4.1" id="section-4.1">4.1</a>.  Required Information</span>

   Identification: urn:ietf:params:abfab:bindings:radius

   Contact information: iesg@ietf.org

   Updates: None.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.2.%20%20Operation"></a><a class="selflink" href="#section-4.2" id="section-4.2">4.2</a>.  Operation</span>

   In this specification, the Relying Party (RP) MUST trust any
   statement in the SAML messages from the Identity Provider (IdP) in
   the same way that it trusts information contained in RADIUS
   attributes.  These entities MUST trust the RADIUS infrastructure to
   provide integrity of the SAML messages.

   Hence, it is REQUIRED that the RADIUS exchange be protected using
   Transport Layer Security (TLS) encryption for RADIUS [<a href="./rfc6614" title='"Transport Layer Security (TLS) Encryption for RADIUS"'>RFC6614</a>] to
   provide confidentiality and integrity protection, unless alternative
   methods to ensure them are used, such as IPsec tunnels or a
   sufficiently secure internal network.

   Implementations of this profile can take advantage of mechanisms to
   permit the transport of longer SAML messages over RADIUS transports,
   such as the support of fragmentation of RADIUS packets [<a href="./rfc7499" title='"Support of Fragmentation of RADIUS Packets"'>RFC7499</a>] or
   larger packets for RADIUS over TCP [<a href="#ref-RADIUS-Large-Pkts">RADIUS-Large-Pkts</a>].

   There are two system models for the use of SAML over RADIUS.  The
   first is a request-response model, using the RADIUS SAML-Protocol
   attribute defined in <a href="#section-3">Section 3</a> to encapsulate the SAML protocol
   messages.

   1.  The RADIUS client, acting as an RP, transmits a SAML request
       element within a RADIUS Access-Request message.  This message
       MUST include a single instance of the RADIUS User-Name attribute
       whose value MUST conform to the Network Access Identifier
       [<a href="./rfc7542" title='"The Network Access Identifier"'>RFC7542</a>] scheme.  The RP MUST NOT include more than one SAML
       request element.







<span class="grey">Howlett, et al.              Standards Track                    [Page 8]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-9"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   2.  The RADIUS server, acting as an IdP, returns a SAML protocol
       message within a RADIUS Access-Accept or Access-Reject message.
       These messages necessarily conclude a RADIUS exchange, and
       therefore this is the only opportunity for the IdP to send a
       response in the context of this exchange.  The IdP MUST NOT
       include more than one SAML response.  An IdP that refuses to
       perform a message exchange with the RP can silently discard the
       SAML request (this could subsequently be followed by a RADIUS
       Access-Reject, as the same conditions that cause the IdP to
       discard the SAML request may also cause the RADIUS server to fail
       to authenticate).

   The second system model permits a RADIUS server acting as an IdP to
   use the RADIUS SAML-Assertion attribute defined in <a href="#section-3">Section 3</a> to
   encapsulate an unsolicited SAML Assertion.  This attribute MUST be
   included in a RADIUS Access-Accept message.  When included, the
   attribute MUST contain a single SAML Assertion.

   RADIUS servers MUST NOT include both the SAML-Protocol and the
   SAML-Assertion attribute in the same RADIUS message.  If an IdP is
   producing a response to a SAML request, then the first system model
   is used.  An IdP MAY ignore a SAML request and send an unsolicited
   assertion using the second system model (that is, using the RADIUS
   SAML-Assertion attribute).

   In either system model, IdPs SHOULD return a RADIUS State attribute
   as part of the Access-Accept message so that future SAML queries or
   requests can be run against the same context of an authentication
   exchange.

   This binding is intended to be composed with other uses of RADIUS,
   such as network access.  Therefore, other arbitrary RADIUS attributes
   MAY be used in either the request or response.

   In the case of a SAML processing error, the RADIUS server MAY include
   a SAML response message with an appropriate value for the
   &lt;samlp:Status&gt; element within the Access-Accept or Access-Reject
   packet to notify the client.  Alternatively, the RADIUS server can
   respond without a SAML-Protocol attribute.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.%20%20Processing%20of%20Names"></a><a class="selflink" href="#section-4.3" id="section-4.3">4.3</a>.  Processing of Names</span>

   SAML entities using profiles making use of this binding will
   typically possess both the SAML and AAA names of their
   correspondents.  Frequently, these entities will need to apply
   policies using these names -- for example, when deciding to release
   attributes.  Often, these policies will be security-sensitive, and so
   it is important that policy is applied on these names consistently.



<span class="grey">Howlett, et al.              Standards Track                    [Page 9]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-10"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.1.%20%20AAA%20Names"></a><a class="selflink" href="#section-4.3.1" id="section-4.3.1">4.3.1</a>.  AAA Names</span>

   These rules relate to the processing of AAA names by SAML entities
   using profiles making use of this binding.

   o  IdPs SHOULD apply policy based on the RP's identity associated
      with the RADIUS Access-Request.

   o  RPs SHOULD apply policy based on the NAI realm associated with the
      RADIUS Access-Accept.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.2.%20%20SAML%20Names"></a><a class="selflink" href="#section-4.3.2" id="section-4.3.2">4.3.2</a>.  SAML Names</span>

   These rules relate to the processing of SAML names by SAML entities
   using profiles making use of this binding.

   IdPs MAY apply policy based on the RP's SAML entityID.  In such
   cases, at least one of the following methods is required in order to
   establish a relationship between the SAML name and the AAA name of
   the RP:

   o  RADIUS client identity in trusted SAML metadata (as described in
      <a href="#section-4.3.3">Section 4.3.3</a>).

   o  RADIUS client identity in trusted digitally signed SAML request.

   A digitally signed SAML request without the RADIUS client identity is
   not sufficient, since a malicious RADIUS entity can observe a SAML
   message and include it in a different RADIUS message without the
   consent of the issuer of that SAML message.  If an IdP were to
   process the SAML message without confirming that it applied to the
   RADIUS message, inappropriate policy would be used.

   RPs MAY apply policy based on the SAML issuer's entityID.  In such
   cases, at least one of the following methods is required in order to
   establish a relationship between the SAML name and the AAA name of
   the IdP:

   o  RADIUS realm in trusted SAML metadata (as described in
      <a href="#section-4.3.3">Section 4.3.3</a>).

   o  RADIUS realm in trusted digitally signed SAML response or
      assertion.

   A digitally signed SAML response alone is not sufficient, for the
   same reasons as those described above for SAML requests.





<span class="grey">Howlett, et al.              Standards Track                   [Page 10]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-11"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.3.%20%20Mapping%20of%20AAA%20Names%20in%20SAML%20Metadata"></a><a class="selflink" href="#section-4.3.3" id="section-4.3.3">4.3.3</a>.  Mapping of AAA Names in SAML Metadata</span>

   This section defines extensions to the SAML metadata schema
   [<a href="#ref-OASIS.saml-metadata-2.0-os">OASIS.saml-metadata-2.0-os</a>] that are required in order to represent
   AAA names associated with a particular &lt;EntityDescriptor&gt; element.

   In SAML metadata, a single entity may act in many different roles in
   the support of multiple profiles.  This document defines two new
   roles: RADIUS IdP and RADIUS RP, requiring the declaration of two new
   subtypes of RoleDescriptorType: RADIUSIDPDescriptorType and
   RADIUSRPDescriptorType.  These subtypes contain the additional
   elements required to represent AAA names for IdP and RP entities,
   respectively.

<span class="h5"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.3.1.%20%20RADIUSIDPDescriptorType"></a><a class="selflink" href="#section-4.3.3.1" id="section-4.3.3.1">4.3.3.1</a>.  RADIUSIDPDescriptorType</span>

   The RADIUSIDPDescriptorType complex type extends RoleDescriptorType
   with elements common to IdPs that support RADIUS.  It contains the
   following additional elements:

   &lt;RADIUSIDPService&gt; [Zero or More]  Zero or more elements of type
      EndpointType that describe RADIUS endpoints that are associated
      with the entity.

   &lt;RADIUSRealm&gt; [Zero or More]  Zero or more elements of type string
      that represent the acceptable values of the RADIUS realm
      associated with the entity, obtained from the realm part of the
      RADIUS User-Name attribute.























<span class="grey">Howlett, et al.              Standards Track                   [Page 11]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-12"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   The following schema fragment defines the RADIUSIDPDescriptorType
   complex type:

           &lt;complexType name="RADIUSIDPDescriptorType"&gt;
             &lt;complexContent&gt;
               &lt;extension base="md:RoleDescriptorType"&gt;
                 &lt;sequence&gt;
                   &lt;element ref="abfab:RADIUSIDPService"
                                 minOccurs="0" maxOccurs="unbounded"/&gt;
                   &lt;element ref="abfab:RADIUSRealm"
                                 minOccurs="0" maxOccurs="unbounded"/&gt;
                 &lt;/sequence&gt;
               &lt;/extension&gt;
             &lt;/complexContent&gt;
           &lt;/complexType&gt;
           &lt;element name="RADIUSIDPService" type="md:EndpointType"/&gt;
           &lt;element name="RADIUSRealm" type="string"/&gt;

                 Figure 3: RADIUSIDPDescriptorType Schema

<span class="h5"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.3.2.%20%20RADIUSRPDescriptorType"></a><a class="selflink" href="#section-4.3.3.2" id="section-4.3.3.2">4.3.3.2</a>.  RADIUSRPDescriptorType</span>

   The RADIUSRPDescriptorType complex type extends RoleDescriptorType
   with elements common to RPs that support RADIUS.  It contains the
   following additional elements:

   &lt;RADIUSRPService&gt; [Zero or More]  Zero or more elements of type
      EndpointType that describe RADIUS endpoints that are associated
      with the entity.

   &lt;RADIUSNasIpAddress&gt; [Zero or More]  Zero or more elements of type
      string that represent the acceptable values of the RADIUS
      NAS-IP-Address or NAS-IPv6-Address attributes associated with the
      entity.

   &lt;RADIUSNasIdentifier&gt; [Zero or More]  Zero or more elements of type
      string that represent the acceptable values of the RADIUS
      NAS-Identifier attribute associated with the entity.

   &lt;RADIUSGssEapName&gt; [Zero or More]  Zero or more elements of type
      string that represent the acceptable values of the GSS-API
      Mechanism for the Extensible Authentication Protocol (GSS-EAP)
      acceptor name associated with the entity.  The format for this
      name is described in <a href="./rfc7055#section-3.1">Section 3.1 of [RFC7055]</a>, while <a href="./rfc7055#section-3.4">Section 3.4
      of [RFC7055]</a> describes how that name is decomposed and transported
      using RADIUS attributes.





<span class="grey">Howlett, et al.              Standards Track                   [Page 12]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-13"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   The following schema fragment defines the RADIUSRPDescriptorType
   complex type:

       &lt;complexType name="RADIUSRPDescriptorType"&gt;
         &lt;complexContent&gt;
           &lt;extension base="md:RoleDescriptorType"&gt;
             &lt;sequence&gt;
               &lt;element ref="md:RADIUSRPService"
                             minOccurs="0" maxOccurs="unbounded"/&gt;
               &lt;element ref="md:RADIUSNasIpAddress"
                             minOccurs="0" maxOccurs="unbounded"/&gt;
               &lt;element ref="md:RADIUSNasIdentifier"
                             minOccurs="0" maxOccurs="unbounded"/&gt;
               &lt;element ref="md:RADIUSGssEapName"
                             minOccurs="0" maxOccurs="unbounded"/&gt;
             &lt;/sequence&gt;
           &lt;/extension&gt;
         &lt;/complexContent&gt;
       &lt;/complexType&gt;
       &lt;element name="RADIUSRPService" type="md:EndpointType"/&gt;
       &lt;element name="RADIUSNasIpAddress" type="string"/&gt;
       &lt;element name="RADIUSNasIdentifier" type="string"/&gt;
       &lt;element name="RADIUSGssEapName" type="string"/&gt;

                  Figure 4: RADIUSRPDescriptorType Schema

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.3.4.%20%20Example%20of%20SAML%20Metadata%20That%20Includes%20AAA%20Names"></a><a class="selflink" href="#section-4.3.4" id="section-4.3.4">4.3.4</a>.  Example of SAML Metadata That Includes AAA Names</span>

   Figures 5 and 6 illustrate examples of metadata that includes AAA
   names for an IdP and an RP, respectively.  The IdP's SAML name is
   "<a href="https://IdentityProvider.com/">https://IdentityProvider.com/</a>", whereas its RADIUS realm is
   "idp.com".  The RP's SAML name is "<a href="https://RelyingParty.com/SAML">https://RelyingParty.com/SAML</a>",
   being its GSS-EAP acceptor name "nfs/fileserver.rp.com@RP.COM".

&lt;EntityDescriptor
   xmlns="urn:oasis:names:tc:SAML:2.0:metadata"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:abfab="urn:ietf:params:xml:ns:abfab"
   entityID="https://IdentityProvider.com/SAML"&gt;
   &lt;RoleDescriptor
      xsi:type="abfab:RADIUSIDPDescriptorType"
      protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol"&gt;
       &lt;RADIUSRealm&gt;idp.com&lt;/RADIUSRealm&gt;
   &lt;/RoleDescriptor&gt;
&lt;/EntityDescriptor&gt;

                      Figure 5: Metadata for the IdP




<span class="grey">Howlett, et al.              Standards Track                   [Page 13]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-14"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


&lt;EntityDescriptor
   xmlns="urn:oasis:names:tc:SAML:2.0:metadata"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:abfab="urn:ietf:params:xml:ns:abfab"
   entityID="https://RelyingParty.com/SAML"&gt;
   &lt;RoleDescriptor
      xsi:type="abfab:RADIUSRPDescriptorType"
      protocolSupportEnumeration="urn:oasis:names:tc:SAML:2.0:protocol"&gt;
       &lt;RADIUSGssEapName&gt;nfs/fileserver.rp.com@RP.COM&lt;/RADIUSGssEapName&gt;
   &lt;/RoleDescriptor&gt;
&lt;/EntityDescriptor&gt;

                       Figure 6: Metadata for the RP

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.4.%20%20Use%20of%20XML%20Signatures"></a><a class="selflink" href="#section-4.4" id="section-4.4">4.4</a>.  Use of XML Signatures</span>

   This binding calls for the use of SAML elements that support XML
   signatures.  To promote interoperability, implementations of this
   binding MUST support a default configuration that does not require
   the use of XML signatures.  Implementations MAY choose to use XML
   signatures.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/4.5.%20%20Metadata%20Considerations"></a><a class="selflink" href="#section-4.5" id="section-4.5">4.5</a>.  Metadata Considerations</span>

   This binding, and the profiles, are mostly intended to be used
   without metadata.  In this usage, RADIUS infrastructure is used to
   provide integrity and naming of the SAML messages and assertions.
   RADIUS configuration is used to provide policy, including which
   attributes are accepted from an RP and which attributes are sent by
   an IdP.

   Nevertheless, if metadata is used, the roles described in
   <a href="#section-4.3.3">Section 4.3.3</a> MUST be present.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/5.%20%20Network%20Access%20Identifier%20Name%20Identifier%20Format"></a><a class="selflink" href="#section-5" id="section-5">5</a>.  Network Access Identifier Name Identifier Format</span>

   URI: urn:ietf:params:abfab:nameid-format:nai

   Indicates that the content of the element is in the form of a Network
   Access Identifier (NAI) using the syntax described by [<a href="./rfc7542" title='"The Network Access Identifier"'>RFC7542</a>].











<span class="grey">Howlett, et al.              Standards Track                   [Page 14]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-15"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/6.%20%20RADIUS%20State%20Confirmation%20Method%20Identifiers"></a><a class="selflink" href="#section-6" id="section-6">6</a>.  RADIUS State Confirmation Method Identifiers</span>

   URI: urn:ietf:params:abfab:cm:user

   URI: urn:ietf:params:abfab:cm:machine

   Indicates that the subject is the system entity (either the user or
   machine) authenticated by a previously transmitted RADIUS
   Access-Accept message, as identified by the value of that RADIUS
   message's State attribute.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.%20%20ABFAB%20Authentication%20Profile"></a><a class="selflink" href="#section-7" id="section-7">7</a>.  ABFAB Authentication Profile</span>

   In the scenario supported by the ABFAB Authentication Profile, a
   client controlling a User Agent requests access to an RP.  The RP
   uses RADIUS to authenticate the client.  In particular, the RP,
   acting as a RADIUS client, attempts to validate the client's
   credentials against a RADIUS server acting as the client's IdP.  If
   the IdP successfully authenticates the client, it produces an
   authentication assertion that is consumed by the RP.  This assertion
   MAY include a name identifier that can be used between the RP and the
   IdP to refer to the client.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.1.%20%20Required%20Information"></a><a class="selflink" href="#section-7.1" id="section-7.1">7.1</a>.  Required Information</span>

   Identification: urn:ietf:params:abfab:profiles:authentication

   Contact information: iesg@ietf.org

   SAML confirmation method identifiers: The SAML V2.0 "RADIUS State"
   confirmation method identifiers -- either
   urn:ietf:params:abfab:cm:user or urn:ietf:params:abfab:cm:machine --
   are used by this profile.

   Updates: None.
















<span class="grey">Howlett, et al.              Standards Track                   [Page 15]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-16"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.2.%20%20Profile%20Overview"></a><a class="selflink" href="#section-7.2" id="section-7.2">7.2</a>.  Profile Overview</span>

   To implement this scenario, this profile of the SAML Authentication
   Request Protocol MUST be used in conjunction with the SAML RADIUS
   binding defined in <a href="#section-4">Section 4</a>.

   This profile is based on the SAML V2.0 web browser single sign-on
   profile [<a href="#ref-OASIS.saml-profiles-2.0-os">OASIS.saml-profiles-2.0-os</a>].  There are some important
   differences; specifically:

   Authentication:  This profile does not require the use of any
      particular authentication method.  The ABFAB architecture does
      require the use of the Extensible Authentication Protocol (EAP)
      [<a href="./rfc3579" title='"RADIUS (Remote Authentication Dial In User Service) Support For Extensible Authentication Protocol (EAP)"'>RFC3579</a>], but this specification may be used in other non-ABFAB
      scenarios.

   Bindings:  This profile does not use HTTP-based bindings.  Instead,
      all SAML protocol messages are transported using the SAML RADIUS
      binding defined in <a href="#section-4">Section 4</a>.  This is intended to reduce the
      number of bindings that implementations must support to be
      interoperable.

   Requests:  The profile does not permit the RP to name the
      &lt;saml:Subject&gt; of the &lt;samlp:AuthnRequest&gt;.  This is intended to
      simplify implementation and interoperability.

   Responses:  The profile only permits the IdP to return a single SAML
      message or assertion that MUST contain exactly one authentication
      statement.  Other statements may be included within this assertion
      at the discretion of the IdP.  This is intended to simplify
      implementation and interoperability.




















<span class="grey">Howlett, et al.              Standards Track                   [Page 16]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-17"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   Figure 7 below illustrates the flow of messages within this profile.

       Client            Relying Party             Identity Provider
         |                     |                           |
         |         (1)         |                           |
         | - - - - - - - - - &gt; |                           |
         |                     |                           |
         |                     |            (2)            |
         |                     | - - - - - - - - - - - - &gt; |
         |                     |                           |
         |              (3)    |                           |
         | &lt; - - - - - - - - - |- - - - - - - - - - - - - &gt;|
         |                     |                           |
         |                     |            (4)            |
         |                     | &lt; - - - - - - - - - - - - |
         |                     |                           |
         |         (5)         |                           |
         | &lt; - - - - - - - - - |                           |
         |                     |                           |
         V                     V                           V

                        Figure 7: Flow of Messages

   The following steps are described by the profile.  Within an
   individual step, there may be one or more actual message exchanges.

   1.  Client request to RP (<a href="#section-7.3.1">Section 7.3.1</a>): In step 1, the client, via
       a User Agent, makes a request for a secured resource at the RP.
       The RP determines that no security context for the client exists
       and initiates the authentication process.

   2.  RP issues &lt;samlp:AuthnRequest&gt; to IdP (<a href="#section-7.3.2">Section 7.3.2</a>).  In step
       2, the RP may optionally issue a &lt;samlp:AuthnRequest&gt; message to
       be delivered to the IdP using the SAML-Protocol RADIUS attribute.

   3.  IdP identifies client (<a href="#section-7.3.3">Section 7.3.3</a>).  In step 3, the client is
       authenticated and identified by the IdP, while honoring any
       requirements imposed by the RP in the &lt;samlp:AuthnRequest&gt;
       message if provided.

   4.  IdP issues &lt;samlp:Response&gt; to RP (<a href="#section-7.3.4">Section 7.3.4</a>).  In step 4,
       the IdP issues a &lt;samlp:Response&gt; message to the RP using the
       SAML RADIUS binding.  The response either indicates an error or
       includes a SAML authentication statement in exactly one SAML
       Assertion.  If the RP did not send a &lt;samlp:AuthnRequest&gt;, the
       IdP issues an unsolicited &lt;samlp:Assertion&gt;, as described in
       <a href="#section-7.4.4">Section 7.4.4</a>.




<span class="grey">Howlett, et al.              Standards Track                   [Page 17]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-18"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   5.  RP grants or denies access to client (<a href="#section-7.3.5">Section 7.3.5</a>).  In step 5,
       having received the response from the IdP, the RP can respond to
       the client with its own error, or can establish its own security
       context for the client and return the requested resource.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.3.%20%20Profile%20Description"></a><a class="selflink" href="#section-7.3" id="section-7.3">7.3</a>.  Profile Description</span>

   The ABFAB Authentication Profile is a profile of the SAML V2.0
   Authentication Request Protocol [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>].  Where both
   specifications conflict, the ABFAB Authentication Profile takes
   precedence.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.3.1.%20%20Client%20Request%20to%20Relying%20Party"></a><a class="selflink" href="#section-7.3.1" id="section-7.3.1">7.3.1</a>.  Client Request to Relying Party</span>

   The profile is initiated by an arbitrary client request to the RP.
   There are no restrictions on the form of the request.  The RP is free
   to use any means it wishes to associate the subsequent interactions
   with the original request.  The RP, acting as a RADIUS client,
   attempts to authenticate the client.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.3.2.%20%20Relying%20Party%20Issues%20%3Csamlp%3AAuthnRequest%3E%20to%20Identity%20Provider"></a><a class="selflink" href="#section-7.3.2" id="section-7.3.2">7.3.2</a>.  Relying Party Issues &lt;samlp:AuthnRequest&gt; to Identity Provider</span>

   The RP uses RADIUS to communicate with the client's IdP.  The RP MAY
   include a &lt;samlp:AuthnRequest&gt; within this RADIUS Access-Request
   message using the SAML-Protocol RADIUS attribute.  The "next hop"
   destination MAY be the IdP or, alternatively, an intermediate RADIUS
   proxy.

   Profile-specific rules for the contents of the &lt;samlp:AuthnRequest&gt;
   element are given in <a href="#section-7.4.1">Section 7.4.1</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.3.3.%20%20Identity%20Provider%20Identifies%20Client"></a><a class="selflink" href="#section-7.3.3" id="section-7.3.3">7.3.3</a>.  Identity Provider Identifies Client</span>

   The IdP MUST establish the identity of the client using a RADIUS
   authentication method, or else it will return an error.  If the
   ForceAuthn attribute in the &lt;samlp:AuthnRequest&gt; element (if sent by
   the RP) is present and true, the IdP MUST freshly establish this
   identity rather than relying on any existing session state it may
   have with the client (for example, TLS state that may be used for
   session resumption).  Otherwise, and in all other respects, the IdP
   may use any method to authenticate the client, subject to the
   constraints called out in the &lt;samlp:AuthnRequest&gt; message.









<span class="grey">Howlett, et al.              Standards Track                   [Page 18]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-19"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.3.4.%20%20Identity%20Provider%20Issues%20%3Csamlp%3AResponse%3E%20to%20Relying%20Party"></a><a class="selflink" href="#section-7.3.4" id="section-7.3.4">7.3.4</a>.  Identity Provider Issues &lt;samlp:Response&gt; to Relying Party</span>

   The IdP MUST conclude the authentication in a manner consistent with
   the RADIUS authentication result.  The IdP MAY issue a
   &lt;samlp:Response&gt; message to the RP that is consistent with the
   authentication result, as described in [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>].
   This SAML response is delivered to the RP using the SAML RADIUS
   binding described in <a href="#section-4">Section 4</a>.

   Profile-specific rules regarding the contents of the &lt;samlp:Response&gt;
   element are given in <a href="#section-7.4.2">Section 7.4.2</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.3.5.%20%20Relying%20Party%20Grants%20or%20Denies%20Access%20to%20Client"></a><a class="selflink" href="#section-7.3.5" id="section-7.3.5">7.3.5</a>.  Relying Party Grants or Denies Access to Client</span>

   If a &lt;samlp:Response&gt; message is issued by the IdP, the RP MUST
   process that message and any enclosed assertion elements as described
   in [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>].  Any subsequent use of the assertion
   elements is at the discretion of the RP, subject to any restrictions
   contained within the assertions themselves or from any previously
   established out-of-band policy that governs the interaction between
   the IdP and the RP.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.4.%20%20Use%20of%20Authentication%20Request%20Protocol"></a><a class="selflink" href="#section-7.4" id="section-7.4">7.4</a>.  Use of Authentication Request Protocol</span>

   This profile is based on the Authentication Request Protocol defined
   in [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>].  In the nomenclature of actors
   enumerated in <a href="#section-3.4">Section 3.4</a> of that document, the RP is the requester,
   the User Agent is the attesting entity, and the client is the
   subject.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.4.1.%20%20%3Csamlp%3AAuthnRequest%3E%20Usage"></a><a class="selflink" href="#section-7.4.1" id="section-7.4.1">7.4.1</a>.  &lt;samlp:AuthnRequest&gt; Usage</span>

   The RP MUST NOT include a &lt;saml:Subject&gt; element in the request.  The
   authenticated RADIUS identity identifies the client to the IdP.

   An RP MAY include any message content described in Section 3.4.1 of
   [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>].  All processing rules are as defined in
   [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>].

   If the RP wishes to permit the IdP to establish a new identifier for
   the client if none exists, it MUST include a &lt;saml:NameIDPolicy&gt;
   element with the AllowCreate attribute set to "true".  Otherwise,
   only a client for whom the IdP has previously established an
   identifier usable by the RP can be authenticated successfully.

   The &lt;samlp:AuthnRequest&gt; message MAY be signed.  Authentication and
   integrity are also provided by the SAML RADIUS binding.




<span class="grey">Howlett, et al.              Standards Track                   [Page 19]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-20"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.4.2.%20%20%3Csamlp%3AResponse%3E%20Message%20Usage"></a><a class="selflink" href="#section-7.4.2" id="section-7.4.2">7.4.2</a>.  &lt;samlp:Response&gt; Message Usage</span>

   If the IdP cannot or will not satisfy the request, it MUST respond
   with a &lt;samlp:Response&gt; message containing an appropriate error
   status code or codes and/or respond with a RADIUS Access-Reject
   message.

   If the IdP wishes to return an error, it MUST NOT include any
   assertions in the &lt;samlp:Response&gt; message.  Otherwise, if the
   request is successful (or if the response is not associated with a
   request), the &lt;samlp:Response&gt; element is subject to the following
   constraints:

   o  It MAY be signed.

   o  It MUST contain exactly one assertion.  The &lt;saml:Subject&gt; element
      of this assertion MUST refer to the authenticated RADIUS user.

   o  The assertion MUST contain a &lt;saml:AuthnStatement&gt;.  Also, the
      assertion MUST contain a &lt;saml:Subject&gt; element with at least one
      &lt;saml:SubjectConfirmation&gt; element containing a
      &lt;saml:ConfirmationMethod&gt; element of urn:ietf:params:abfab:cm:user
      or urn:ietf:params:abfab:cm:machine that reflects the
      authentication of the client to the IdP.  Since the
      &lt;samlp:Response&gt; message is in response to a &lt;samlp:AuthnRequest&gt;,
      the InResponseTo attribute (in both the
      &lt;saml:SubjectConfirmationData&gt; and &lt;saml:Response&gt; elements) MUST
      match the request's ID.  The &lt;saml:Subject&gt; element MAY use the
      NAI name identifier format described in <a href="#section-5">Section 5</a> to establish an
      identifier between the RP and the IdP.

   o  Other conditions MAY be included as requested by the RP or at the
      discretion of the IdP.  The IdP is NOT obligated to honor the
      requested set of conditions in the &lt;samlp:AuthnRequest&gt;, if any.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.4.3.%20%20%3Csamlp%3AResponse%3E%20Message%20Processing%20Rules"></a><a class="selflink" href="#section-7.4.3" id="section-7.4.3">7.4.3</a>.  &lt;samlp:Response&gt; Message Processing Rules</span>

   The RP MUST do the following:

   o  Assume that the client's identifier implied by a SAML &lt;Subject&gt;
      element, if present, takes precedence over an identifier implied
      by the RADIUS User-Name attribute.

   o  Verify that the InResponseTo attribute in the "RADIUS State"
      &lt;saml:SubjectConfirmationData&gt; equals the ID of its original
      &lt;samlp:AuthnRequest&gt; message, unless the response is unsolicited,
      in which case the attribute MUST NOT be present.




<span class="grey">Howlett, et al.              Standards Track                   [Page 20]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-21"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   o  If a &lt;saml:AuthnStatement&gt; used to establish a security context
      for the client contains a SessionNotOnOrAfter attribute, the
      security context SHOULD be discarded once this time is reached,
      unless the RP reestablishes the client's identity by repeating the
      use of this profile.

   o  Verify that any assertions relied upon are valid according to
      processing rules specified in [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>].

   o  Any assertion that is not valid or whose subject confirmation
      requirements cannot be met MUST be discarded and MUST NOT be used
      to establish a security context for the client.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.4.4.%20%20Unsolicited%20Responses"></a><a class="selflink" href="#section-7.4.4" id="section-7.4.4">7.4.4</a>.  Unsolicited Responses</span>

   An IdP MAY initiate this profile by delivering an unsolicited
   assertion to an RP.  This MUST NOT contain any
   &lt;saml:SubjectConfirmationData&gt; elements containing an InResponseTo
   attribute.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.4.5.%20%20Use%20of%20the%20SAML%20RADIUS%20Binding"></a><a class="selflink" href="#section-7.4.5" id="section-7.4.5">7.4.5</a>.  Use of the SAML RADIUS Binding</span>

   It is RECOMMENDED that the RADIUS exchange be protected using TLS
   encryption for RADIUS [<a href="./rfc6614" title='"Transport Layer Security (TLS) Encryption for RADIUS"'>RFC6614</a>] to provide confidentiality and
   integrity protection.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.4.6.%20%20Use%20of%20XML%20Signatures"></a><a class="selflink" href="#section-7.4.6" id="section-7.4.6">7.4.6</a>.  Use of XML Signatures</span>

   This profile calls for the use of SAML elements that support XML
   signatures.  To promote interoperability, implementations of this
   profile MUST NOT require the use of XML signatures.  Implementations
   MAY choose to use XML signatures.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/7.4.7.%20%20Metadata%20Considerations"></a><a class="selflink" href="#section-7.4.7" id="section-7.4.7">7.4.7</a>.  Metadata Considerations</span>

   There are no metadata considerations particular to this profile,
   aside from those applying to the use of the RADIUS binding.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.%20%20ABFAB%20Assertion%20Query%2FRequest%20Profile"></a><a class="selflink" href="#section-8" id="section-8">8</a>.  ABFAB Assertion Query/Request Profile</span>

   This profile builds on the SAML V2.0 Assertion Query/Request Profile
   defined by [<a href="#ref-OASIS.saml-profiles-2.0-os">OASIS.saml-profiles-2.0-os</a>].  That profile describes the
   use of the Assertion Query and Request Protocol defined by
   Section 3.3 of [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>] with synchronous bindings,
   such as the SOAP binding defined in [<a href="#ref-OASIS.saml-bindings-2.0-os">OASIS.saml-bindings-2.0-os</a>].






<span class="grey">Howlett, et al.              Standards Track                   [Page 21]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-22"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   Although the SAML V2.0 Assertion Query/Request Profile is independent
   of the underlying binding, it is nonetheless useful to describe the
   use of the SAML RADIUS binding defined in <a href="#section-4">Section 4</a> of this document,
   in the interest of promoting interoperable implementations,
   particularly as the SAML V2.0 Assertion Query/Request Profile is most
   frequently discussed and implemented in the context of the SOAP
   binding.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.1.%20%20Required%20Information"></a><a class="selflink" href="#section-8.1" id="section-8.1">8.1</a>.  Required Information</span>

   Identification: urn:ietf:params:abfab:profiles:query

   Contact information: iesg@ietf.org

   Description: Given below.

   Updates: None.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.2.%20%20Profile%20Overview"></a><a class="selflink" href="#section-8.2" id="section-8.2">8.2</a>.  Profile Overview</span>

   As with the SAML V2.0 Assertion Query/Request Profile defined by
   [<a href="#ref-OASIS.saml-profiles-2.0-os">OASIS.saml-profiles-2.0-os</a>], the message exchange and basic
   processing rules that govern this profile are largely defined by
   Section 3.3 of [<a href="#ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>], which defines the messages
   to be exchanged, in combination with the binding used to exchange the
   messages.  The SAML RADIUS binding described in this document defines
   the binding of the message exchange to RADIUS.  Unless specifically
   noted here, all requirements defined in those specifications apply.

   Figure 8 below illustrates the basic template for the Query/Request
   Profile.

     Relying Party                                   Identity Provider
    (SAML requester)                                 (SAML responder)
          |                                                 |
          |                       (1)                       |
          | - - - - - - - - - - - - - - - - - - - - - - - &gt; |
          |                                                 |
          |                       (2)                       |
          | &lt; - - - - - - - - - - - - - - - - - - - - - - - |
          |                                                 |
          V                                                 V

            Figure 8: Basic Template for Query/Request Profile







<span class="grey">Howlett, et al.              Standards Track                   [Page 22]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-23"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   The following steps are described by the profile:

   1.  Query/Request issued by RP: In step 1, an RP initiates the
       profile by sending an &lt;AssertionIDRequest&gt;, &lt;SubjectQuery&gt;,
       &lt;AuthnQuery&gt;, &lt;AttributeQuery&gt;, or &lt;AuthzDecisionQuery&gt; message
       to a SAML authority.

   2.  &lt;Response&gt; issued by SAML authority: In step 2, the responding
       SAML authority (after processing the query or request) issues a
       &lt;Response&gt; message to the RP.

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.3.%20%20Profile%20Description"></a><a class="selflink" href="#section-8.3" id="section-8.3">8.3</a>.  Profile Description</span>

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.3.1.%20%20Differences%20from%20the%20SAML%20V2.0%20Assertion%20Query%2FRequest%20Profile"></a><a class="selflink" href="#section-8.3.1" id="section-8.3.1">8.3.1</a>.  Differences from the SAML V2.0 Assertion Query/Request Profile</span>

   This profile is identical to the SAML V2.0 Assertion Query/Request
   Profile, with the following exceptions:

   o  When processing the SAML request, the IdP MUST give precedence to
      the client's identifier implied by the RADIUS State attribute, if
      present, over the identifier implied by the SAML request's
      &lt;Subject&gt;, if any.

   o  In respect to Sections <a href="#section-6.3.1">6.3.1</a> and <a href="#section-6.5">6.5</a> of
      [<a href="#ref-OASIS.saml-profiles-2.0-os">OASIS.saml-profiles-2.0-os</a>], this profile does not consider the
      use of metadata (as in [<a href="#ref-OASIS.saml-metadata-2.0-os">OASIS.saml-metadata-2.0-os</a>]).  See
      <a href="#section-8.3.4">Section 8.3.4</a>.

   o  In respect to Sections <a href="#section-6.3.2">6.3.2</a>, <a href="#section-6.4.1">6.4.1</a>, and <a href="#section-6.4.2">6.4.2</a> of
      [<a href="#ref-OASIS.saml-profiles-2.0-os">OASIS.saml-profiles-2.0-os</a>], this profile additionally stipulates
      that implementations of this profile MUST NOT require the use of
      XML signatures.  See <a href="#section-8.3.3">Section 8.3.3</a>.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.3.2.%20%20Use%20of%20the%20SAML%20RADIUS%20Binding"></a><a class="selflink" href="#section-8.3.2" id="section-8.3.2">8.3.2</a>.  Use of the SAML RADIUS Binding</span>

   The RADIUS Access-Request sent by the RP:

   o  MUST include an instance of the RADIUS Service-Type attribute,
      having a value of Authorize-Only.

   o  SHOULD include the RADIUS State attribute, where this
      Query/Request pertains to a previously authenticated client.

   When processing the SAML request, the IdP MUST give precedence to the
   client's identifier implied by the RADIUS State attribute over the
   identifier implied by the SAML request's &lt;Subject&gt;, if any.





<span class="grey">Howlett, et al.              Standards Track                   [Page 23]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-24"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   It is RECOMMENDED that the RADIUS exchange be protected using TLS
   encryption for RADIUS [<a href="./rfc6614" title='"Transport Layer Security (TLS) Encryption for RADIUS"'>RFC6614</a>] to provide confidentiality and
   integrity protection.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.3.3.%20%20Use%20of%20XML%20Signatures"></a><a class="selflink" href="#section-8.3.3" id="section-8.3.3">8.3.3</a>.  Use of XML Signatures</span>

   This profile calls for the use of SAML elements that support XML
   signatures.  To promote interoperability, implementations of this
   profile MUST NOT require the use of XML signatures.  Implementations
   MAY choose to use XML signatures.

<span class="h4"><a class="dashAnchor" name="//apple_ref/cpp/Section/8.3.4.%20%20Metadata%20Considerations"></a><a class="selflink" href="#section-8.3.4" id="section-8.3.4">8.3.4</a>.  Metadata Considerations</span>

   There are no metadata considerations particular to this profile,
   aside from those applying to the use of the RADIUS binding.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/9.%20%20Privacy%20Considerations"></a><a class="selflink" href="#section-9" id="section-9">9</a>.  Privacy Considerations</span>

   The profiles defined in this document allow an RP to request specific
   information about the client and allow an IdP to disclose information
   about that client.  In this sense, IdPs MUST apply policy to decide
   what information is released to a particular RP.  Moreover, the
   identity of the client is typically hidden from the RP unless
   provided by the IdP.  Conversely, the RP does typically know the
   realm of the IdP, as it is required to route the RADIUS packets to
   the right destination.

   The kind of information that is released by the IdP can include
   generic attributes such as affiliation shared by many clients.  But
   even these generic attributes can help to identify a specific client.
   Other kinds of attributes may also provide an RP with the ability to
   link the same client between different sessions.  Finally, other
   kinds of attributes might provide a group of RPs with the ability to
   link the client between them or with personally identifiable
   information about the client.

   These profiles do not directly provide a client with a mechanism to
   express preferences about what information is released.  That
   information can be expressed out of band, for example, as part of the
   enrollment process.

   The RP may disclose privacy-sensitive information about itself as
   part of the request, although this is unlikely in typical
   deployments.







<span class="grey">Howlett, et al.              Standards Track                   [Page 24]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-25"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   If RADIUS proxies are used and encryption is not used, the attributes
   disclosed by the IdP are visible to the proxies.  This is a
   significant privacy exposure in some deployments.  Ongoing work is
   exploring mechanisms for creating TLS connections directly between
   the RADIUS client and the RADIUS server to reduce this exposure.  If
   proxies are used, the impact of exposing SAML Assertions to the
   proxies needs to be carefully considered.

   The use of TLS to provide confidentiality for the RADIUS exchange is
   strongly encouraged.  Without this, passive eavesdroppers can observe
   the assertions.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/10.%20%20Security%20Considerations"></a><a class="selflink" href="#section-10" id="section-10">10</a>.  Security Considerations</span>

   In this specification, the RP MUST trust any statement in the SAML
   messages from the IdP in the same way that it trusts information
   contained in RADIUS attributes.  These entities MUST trust the RADIUS
   infrastructure to provide integrity of the SAML messages.

   Furthermore, the RP MUST apply policy and filter the information
   based on what information the IdP is permitted to assert and on what
   trust is reasonable to place in proxies between them.

   XML signatures and encryption are provided as an OPTIONAL mechanism
   for end-to-end security.  These mechanisms can protect SAML messages
   from being modified by proxies in the RADIUS infrastructure.  These
   mechanisms are not mandatory to implement.  It is believed that
   ongoing work to provide direct TLS connections between a RADIUS
   client and RADIUS server will provide similar assurances but better
   deployability.  XML security is appropriate for deployments where
   end-to-end security is required but proxies cannot be removed or
   where SAML messages need to be verified at a later time or by parties
   not involved in the authentication exchange.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.%20%20IANA%20Considerations"></a><a class="selflink" href="#section-11" id="section-11">11</a>.  IANA Considerations</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.1.%20%20RADIUS%20Attributes"></a><a class="selflink" href="#section-11.1" id="section-11.1">11.1</a>.  RADIUS Attributes</span>

   The Attribute Types and Attribute Values defined in this document
   have been registered by the Internet Assigned Numbers Authority
   (IANA) from the RADIUS namespaces as described in the "IANA
   Considerations" section of [<a href="./rfc3575" title='"IANA Considerations for RADIUS (Remote Authentication Dial In User Service)"'>RFC3575</a>], in accordance with <a href="https://www.rfc-editor.org/bcp/bcp26">BCP 26</a>
   [<a href="./rfc5226" title="">RFC5226</a>].  For RADIUS packets, attributes, and registries created by
   this document, IANA has placed them at
   &lt;<a href="http://www.iana.org/assignments/radius-types">http://www.iana.org/assignments/radius-types</a>&gt;.






<span class="grey">Howlett, et al.              Standards Track                   [Page 25]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-26"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   In particular, this document defines two new RADIUS attributes,
   entitled "SAML-Assertion" and "SAML-Protocol" (see <a href="#section-3">Section 3</a>), with
   assigned values of 245.1 and 245.2 from the long extended space
   [<a href="./rfc6929" title='"Remote Authentication Dial In User Service (RADIUS) Protocol Extensions"'>RFC6929</a>]:

     Type  Ext. Type  Name            Length  Meaning
     ----  ---------  --------------  ------  ------------------------
     245   1          SAML-Assertion  &gt;=5     Encodes a SAML Assertion
     245   2          SAML-Protocol   &gt;=5     Encodes a SAML protocol
                                                message

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.2.%20%20ABFAB%20Parameters"></a><a class="selflink" href="#section-11.2" id="section-11.2">11.2</a>.  ABFAB Parameters</span>

   A new top-level registry has been created, entitled "Application
   Bridging for Federated Access Beyond Web (ABFAB) Parameters".

   In this top-level registry, a sub-registry entitled "ABFAB URN
   Parameters" has been created.  Registration in this registry is via
   IETF Review or Expert Review procedures [<a href="./rfc5226" title="">RFC5226</a>].

   This paragraph gives guidance to designated experts.  Registrations
   in this registry are generally only expected as part of protocols
   published as RFCs on the IETF stream; other URIs are expected to be
   better choices for non-IETF work.  Expert review is permitted mainly
   to allow early registration related to specifications under
   development when the community believes they have reached sufficient
   maturity.  The expert SHOULD evaluate the maturity and stability of
   such an IETF-stream specification.  Experts SHOULD review anything
   not from the IETF stream for consistency and consensus with current
   practice.  Today, such requests would not typically be approved.

   If a parameter named "paramname" is registered in this registry, then
   its URN will be "urn:ietf:params:abfab:paramname".  The initial
   registrations are as follows:

                  +-------------------------+-----------+
                  | Parameter               | Reference |
                  +-------------------------+-----------+
                  | bindings:radius         | <a href="#section-4">Section 4</a> |
                  | nameid-format:nai       | <a href="#section-5">Section 5</a> |
                  | profiles:authentication | <a href="#section-7">Section 7</a> |
                  | profiles:query          | <a href="#section-8">Section 8</a> |
                  | cm:user                 | <a href="#section-6">Section 6</a> |
                  | cm:machine              | <a href="#section-6">Section 6</a> |
                  +-------------------------+-----------+

                             ABFAB Parameters




<span class="grey">Howlett, et al.              Standards Track                   [Page 26]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-27"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/11.3.%20%20Registration%20of%20the%20ABFAB%20URN%20Namespace"></a><a class="selflink" href="#section-11.3" id="section-11.3">11.3</a>.  Registration of the ABFAB URN Namespace</span>

   IANA has registered the "abfab" URN sub-namespace in the IETF URN
   sub-namespace for protocol parameters defined in [<a href="./rfc3553" title='"An IETF URN Sub-namespace for Registered Protocol Parameters"'>RFC3553</a>].

   Registry Name: abfab

   Specification: <a href="./rfc7833">RFC 7833</a> (this document)

   Repository: ABFAB URN Parameters (<a href="#section-11.2">Section 11.2</a>)

   Index Value: Sub-parameters MUST be specified in UTF-8, using
   standard URI encoding where necessary.

<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/12.%20%20References"></a><a class="selflink" href="#section-12" id="section-12">12</a>.  References</span>

<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/12.1.%20%20Normative%20References"></a><a class="selflink" href="#section-12.1" id="section-12.1">12.1</a>.  Normative References</span>

   [<a id="ref-OASIS.saml-bindings-2.0-os">OASIS.saml-bindings-2.0-os</a>]
              Cantor, S., Hirsch, F., Kemp, J., Philpott, R., and E.
              Maler, "Bindings for the OASIS Security Assertion
              Markup Language (SAML) V2.0", OASIS
              Standard saml-bindings-2.0-os, March 2005,
              &lt;<a href="http://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf">http://docs.oasis-open.org/security/saml/v2.0/</a>
              <a href="http://docs.oasis-open.org/security/saml/v2.0/saml-bindings-2.0-os.pdf">saml-bindings-2.0-os.pdf</a>&gt;.

   [<a id="ref-OASIS.saml-core-2.0-os">OASIS.saml-core-2.0-os</a>]
              Cantor, S., Kemp, J., Philpott, R., and E. Maler,
              "Assertions and Protocols for the OASIS Security Assertion
              Markup Language (SAML) V2.0", OASIS
              Standard saml-core-2.0-os, March 2005,
              &lt;<a href="http://docs.oasis-open.org/security/saml/v2.0/saml-core-2.0-os.pdf">http://docs.oasis-open.org/security/saml/v2.0/</a>
              <a href="http://docs.oasis-open.org/security/saml/v2.0/saml-core-2.0-os.pdf">saml-core-2.0-os.pdf</a>&gt;.

   [<a id="ref-OASIS.saml-metadata-2.0-os">OASIS.saml-metadata-2.0-os</a>]
              Cantor, S., Moreh, J., Philpott, R., and E. Maler,
              "Metadata for the OASIS Security Assertion Markup Language
              (SAML) V2.0", OASIS Standard saml-metadata-2.0-os,
              March 2005, &lt;<a href="http://docs.oasis-open.org/security/saml/v2.0/saml-metadata-2.0-os.pdf">http://docs.oasis-open.org/security/</a>
              <a href="http://docs.oasis-open.org/security/saml/v2.0/saml-metadata-2.0-os.pdf">saml/v2.0/saml-metadata-2.0-os.pdf</a>&gt;.

   [<a id="ref-OASIS.saml-profiles-2.0-os">OASIS.saml-profiles-2.0-os</a>]
              Hughes, J., Cantor, S., Hodges, J., Hirsch, F., Mishra,
              P., Philpott, R., and E. Maler, "Profiles for the OASIS
              Security Assertion Markup Language (SAML) V2.0", OASIS
              Standard OASIS.saml-profiles-2.0-os, March 2005,
              &lt;<a href="http://docs.oasis-open.org/security/saml/v2.0/saml-profiles-2.0-os.pdf">http://docs.oasis-open.org/security/saml/v2.0/</a>
              <a href="http://docs.oasis-open.org/security/saml/v2.0/saml-profiles-2.0-os.pdf">saml-profiles-2.0-os.pdf</a>&gt;.



<span class="grey">Howlett, et al.              Standards Track                   [Page 27]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-28"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


   [<a id="ref-RFC2119">RFC2119</a>]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", <a href="https://www.rfc-editor.org/bcp/bcp14">BCP 14</a>, <a href="./rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a id="ref-RFC2865">RFC2865</a>]  Rigney, C., Willens, S., Rubens, A., and W. Simpson,
              "Remote Authentication Dial In User Service (RADIUS)",
              <a href="./rfc2865">RFC 2865</a>, DOI 10.17487/RFC2865, June 2000,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2865">http://www.rfc-editor.org/info/rfc2865</a>&gt;.

   [<a id="ref-RFC3575">RFC3575</a>]  Aboba, B., "IANA Considerations for RADIUS (Remote
              Authentication Dial In User Service)", <a href="./rfc3575">RFC 3575</a>,
              DOI 10.17487/RFC3575, July 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3575">http://www.rfc-editor.org/info/rfc3575</a>&gt;.

   [<a id="ref-RFC3579">RFC3579</a>]  Aboba, B. and P. Calhoun, "RADIUS (Remote Authentication
              Dial In User Service) Support For Extensible
              Authentication Protocol (EAP)", <a href="./rfc3579">RFC 3579</a>,
              DOI 10.17487/RFC3579, September 2003,
              &lt;<a href="http://www.rfc-editor.org/info/rfc3579">http://www.rfc-editor.org/info/rfc3579</a>&gt;.

   [<a id="ref-RFC6614">RFC6614</a>]  Winter, S., McCauley, M., Venaas, S., and K. Wierenga,
              "Transport Layer Security (TLS) Encryption for RADIUS",
              <a href="./rfc6614">RFC 6614</a>, DOI 10.17487/RFC6614, May 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6614">http://www.rfc-editor.org/info/rfc6614</a>&gt;.

   [<a id="ref-RFC6929">RFC6929</a>]  DeKok, A. and A. Lior, "Remote Authentication Dial In User
              Service (RADIUS) Protocol Extensions", <a href="./rfc6929">RFC 6929</a>,
              DOI 10.17487/RFC6929, April 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6929">http://www.rfc-editor.org/info/rfc6929</a>&gt;.

   [<a id="ref-RFC7542">RFC7542</a>]  DeKok, A., "The Network Access Identifier", <a href="./rfc7542">RFC 7542</a>,
              DOI 10.17487/RFC7542, May 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7542">http://www.rfc-editor.org/info/rfc7542</a>&gt;.

















<span class="grey">Howlett, et al.              Standards Track                   [Page 28]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-29"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h3"><a class="dashAnchor" name="//apple_ref/cpp/Section/12.2.%20%20Informative%20References"></a><a class="selflink" href="#section-12.2" id="section-12.2">12.2</a>.  Informative References</span>

   [<a id="ref-RADIUS-Large-Pkts">RADIUS-Large-Pkts</a>]
              Hartman, S., <a href="https://www.google.com/search?sitesearch=datatracker.ietf.org%2Fdoc%2Fhtml%2F&amp;q=inurl:draft-+%22Larger+Packets+for+RADIUS+over+TCP%22" style="text-decoration: none">"Larger Packets for RADIUS over TCP"</a>, Work in
              Progress, <a href="./draft-ietf-radext-bigger-packets-07">draft-ietf-radext-bigger-packets-07</a>, April 2016.

   [<a id="ref-RFC3553">RFC3553</a>]  Mealling, M., Masinter, L., Hardie, T., and G. Klyne, "An
              IETF URN Sub-namespace for Registered Protocol
              Parameters", <a href="https://www.rfc-editor.org/bcp/bcp73">BCP 73</a>, <a href="./rfc3553">RFC 3553</a>, DOI 10.17487/RFC3553,
              June 2003, &lt;<a href="http://www.rfc-editor.org/info/rfc3553">http://www.rfc-editor.org/info/rfc3553</a>&gt;.

   [<a id="ref-RFC5226">RFC5226</a>]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", <a href="https://www.rfc-editor.org/bcp/bcp26">BCP 26</a>, <a href="./rfc5226">RFC 5226</a>,
              DOI 10.17487/RFC5226, May 2008,
              &lt;<a href="http://www.rfc-editor.org/info/rfc5226">http://www.rfc-editor.org/info/rfc5226</a>&gt;.

   [<a id="ref-RFC6733">RFC6733</a>]  Fajardo, V., Ed., Arkko, J., Loughney, J., and G. Zorn,
              Ed., "Diameter Base Protocol", <a href="./rfc6733">RFC 6733</a>,
              DOI 10.17487/RFC6733, October 2012,
              &lt;<a href="http://www.rfc-editor.org/info/rfc6733">http://www.rfc-editor.org/info/rfc6733</a>&gt;.

   [<a id="ref-RFC7055">RFC7055</a>]  Hartman, S., Ed., and J. Howlett, "A GSS-API Mechanism for
              the Extensible Authentication Protocol", <a href="./rfc7055">RFC 7055</a>,
              DOI 10.17487/RFC7055, December 2013,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7055">http://www.rfc-editor.org/info/rfc7055</a>&gt;.

   [<a id="ref-RFC7499">RFC7499</a>]  Perez-Mendez, A., Ed., Marin-Lopez, R., Pereniguez-Garcia,
              F., Lopez-Millan, G., Lopez, D., and A. DeKok, "Support of
              Fragmentation of RADIUS Packets", <a href="./rfc7499">RFC 7499</a>,
              DOI 10.17487/RFC7499, April 2015,
              &lt;<a href="http://www.rfc-editor.org/info/rfc7499">http://www.rfc-editor.org/info/rfc7499</a>&gt;.

   [<a id="ref-RFC7831">RFC7831</a>]  Howlett, J., Hartman, S., Tschofenig, H., and J. Schaad,
              "Application Bridging for Federated Access Beyond Web
              (ABFAB) Architecture", <a href="./rfc7831">RFC 7831</a>, DOI 10.17487/RFC7831,
              May 2016, &lt;<a href="http://www.rfc-editor.org/info/rfc7831">http://www.rfc-editor.org/info/rfc7831</a>&gt;.

   [<a id="ref-W3C.REC-xmlschema-1">W3C.REC-xmlschema-1</a>]
              Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn,
              "XML Schema Part 1: Structures Second Edition",
              W3C REC-xmlschema-1, October 2004,
              &lt;<a href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</a>&gt;.









<span class="grey">Howlett, et al.              Standards Track                   [Page 29]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-30"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


<span class="h2"><a class="dashAnchor" name="//apple_ref/cpp/Section/Appendix%20A.%20%20XML%20Schema"></a><a class="selflink" href="#appendix-A" id="appendix-A">Appendix A</a>.  XML Schema</span>

   The following schema formally defines the
   "urn:ietf:params:xml:ns:abfab" namespace used in this document, in
   conformance with [<a href="#ref-W3C.REC-xmlschema-1">W3C.REC-xmlschema-1</a>].  Although XML validation is
   optional, the schema that follows is the normative definition of the
   constructs it defines.  Where the schema differs from any prose in
   this specification, the schema takes precedence.

           &lt;schema
             targetNamespace="urn:ietf:params:xml:ns:abfab"
             xmlns="http://www.w3.org/2001/XMLSchema"
             xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
             xmlns:abfab="urn:ietf:params:xml:ns:abfab"
             elementFormDefault="unqualified"
             attributeFormDefault="unqualified"
             blockDefault="substitution"
             version="1.0"&gt;

             &lt;import namespace="urn:oasis:names:tc:SAML:2.0:metadata"/&gt;

             &lt;complexType name="RADIUSIDPDescriptorType"&gt;
               &lt;complexContent&gt;
                 &lt;extension base="md:RoleDescriptorType"&gt;
                   &lt;sequence&gt;
                     &lt;element ref="abfab:RADIUSIDPService"
                                   minOccurs="0" maxOccurs="unbounded"/&gt;
                     &lt;element ref="abfab:RADIUSRealm"
                                   minOccurs="0" maxOccurs="unbounded"/&gt;
                   &lt;/sequence&gt;
                 &lt;/extension&gt;
               &lt;/complexContent&gt;
             &lt;/complexType&gt;
             &lt;element name="RADIUSIDPService" type="md:EndpointType"/&gt;
             &lt;element name="RADIUSRealm" type="string"/&gt;
















<span class="grey">Howlett, et al.              Standards Track                   [Page 30]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-31"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


             &lt;complexType name="RADIUSRPDescriptorType"&gt;
               &lt;complexContent&gt;
                 &lt;extension base="md:RoleDescriptorType"&gt;
                   &lt;sequence&gt;
                     &lt;element ref="md:RADIUSRPService"
                                   minOccurs="0" maxOccurs="unbounded"/&gt;
                     &lt;element ref="md:RADIUSNasIpAddress"
                                   minOccurs="0" maxOccurs="unbounded"/&gt;
                     &lt;element ref="md:RADIUSNasIdentifier"
                                   minOccurs="0" maxOccurs="unbounded"/&gt;
                     &lt;element ref="md:RADIUSGssEapName"
                                   minOccurs="0" maxOccurs="unbounded"/&gt;
                   &lt;/sequence&gt;
                 &lt;/extension&gt;
               &lt;/complexContent&gt;
             &lt;/complexType&gt;
             &lt;element name="RADIUSRPService" type="md:EndpointType"/&gt;
             &lt;element name="RADIUSNasIpAddress" type="string"/&gt;
             &lt;element name="RADIUSNasIdentifier" type="string"/&gt;
             &lt;element name="RADIUSGssEapName" type="string"/&gt;
           &lt;/schema&gt;






























<span class="grey">Howlett, et al.              Standards Track                   [Page 31]</span></pre>
<hr class="noprint"/><!--NewPage--><pre class="newpage"><span id="page-32"></span>
<span class="grey"><a href="./rfc7833">RFC 7833</a>                       SAML RADIUS                      May 2016</span>


Acknowledgments

   The authors would like to acknowledge the OASIS Security Services
   (SAML) Technical Committee, and Scott Cantor in particular, for their
   help with the SAML-related material.

   The authors would also like to acknowledge the collaboration of Jim
   Schaad, Leif Johansson, Klaas Wierenga, Stephen Farrell, Gabriel
   Lopez-Millan, and Rafa Marin-Lopez, who have provided valuable
   comments on this document.

Authors' Addresses

   Josh Howlett
   Jisc
   Lumen House, Library Avenue, Harwell
   Oxford  OX11 0SG
   United Kingdom

   Phone: +44 1235 822363
   Email: Josh.Howlett@ja.net


   Sam Hartman
   Painless Security

   Email: hartmans-ietf@mit.edu


   Alejandro Perez-Mendez (editor)
   University of Murcia
   Campus de Espinardo S/N, Faculty of Computer Science
   Murcia  30100
   Spain

   Phone: +34 868 88 46 44
   Email: alex@um.es














Howlett, et al.              Standards Track                   [Page 32]
</pre>
</body></html>