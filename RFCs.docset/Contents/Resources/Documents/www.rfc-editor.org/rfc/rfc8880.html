<!DOCTYPE html>
<html class="RFC" lang="en"><head>
<meta charset="utf-8"/>
<meta content="Common,Latin" name="scripts"/>
<meta content="initial-scale=1.0" name="viewport"/>
<title>RFC 8880: Special Use Domain Name 'ipv4only.arpa'</title>
<meta content="Stuart Cheshire" name="author"/>
<meta content="David Schinazi" name="author"/>
<meta content="
       NAT64 (Network Address and Protocol Translation from IPv6
      Clients to IPv4 Servers) allows client devices using IPv6 to
      communicate with servers that have only IPv4 connectivity. 
       The specification for how a client discovers its local network's
      NAT64 prefix (RFC 7050) defines the special name
      'ipv4only.arpa' for this purpose.
      However, in its Domain Name Reservation
      Considerations section (Section 8.1),
      that specification (RFC 7050) indicates that the name
      actually has no particularly special properties that would require
      special handling. 
       Consequently, despite the well-articulated special purpose of the
      name,
      'ipv4only.arpa' was not recorded in the
      Special-Use Domain Names registry
      as a name with special properties. 
       This document updates RFC 7050.
      It describes the special treatment required and
      formally declares the special properties of the name.
      It also adds similar declarations for the corresponding reverse mapping
      names. 
    " name="description"/>
<meta content="xml2rfc 2.47.0" name="generator"/>
<meta content="IPv6" name="keyword"/>
<meta content="NAT64" name="keyword"/>
<meta content="DNS64" name="keyword"/>
<meta content="8880" name="rfc.number"/>
<link href="rfc8880.xml" rel="alternate" type="application/rfc+xml"/>
<link href="#copyright" rel="license"/>
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css"/>
<link href="https://dx.doi.org/10.17487/rfc8880" rel="alternate"/>
  <link href="urn:issn:2070-1721" rel="alternate"/>
  <link href="https://datatracker.ietf.org/doc/draft-cheshire-sudn-ipv4only-dot-arpa-17" rel="prev"/>
  </head>
<body>
<script src="https://www.rfc-editor.org/js/metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">RFC 8880</td>
<td class="center">Special Name ipv4only.arpa</td>
<td class="right">August 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Cheshire &amp; Schinazi</td>
<td class="center">Standards Track</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div class="document-information" id="external-metadata"></div>
<div class="document-information" id="internal-metadata">
<dl id="identifiers">
<dt class="label-stream">Stream:</dt>
<dd class="stream">Internet Engineering Task Force (IETF)</dd>
<dt class="label-rfc">RFC:</dt>
<dd class="rfc"><a class="eref" href="https://www.rfc-editor.org/rfc/rfc8880">8880</a></dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a class="eref" href="https://www.rfc-editor.org/rfc/rfc7050">7050</a> </dd>
<dt class="label-category">Category:</dt>
<dd class="category">Standards Track</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time class="published" datetime="2020-08">August 2020</time>
    </dd>
<dt class="label-issn">ISSN:</dt>
<dd class="issn">2070-1721</dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">S. Cheshire</div>
<div class="org">Apple Inc.</div>
</div>
<div class="author">
      <div class="author-name">D. Schinazi</div>
<div class="org">Google LLC</div>
</div>
</dd>
</dl>
</div>
<h1 id="rfcnum">RFC 8880</h1>
<h1 id="title">Special Use Domain Name 'ipv4only.arpa'</h1>
<section id="section-abstract">
      <h2 id="abstract"><a class="selfRef" href="#abstract">Abstract</a></h2>
<p id="section-abstract-1">NAT64 (Network Address and Protocol Translation from IPv6
      Clients to IPv4 Servers) allows client devices using IPv6 to
      communicate with servers that have only IPv4 connectivity.<a class="pilcrow" href="#section-abstract-1">¶</a></p>
<p id="section-abstract-2">The specification for how a client discovers its local network's
      NAT64 prefix (RFC 7050) defines the special name
      'ipv4only.arpa' for this purpose.
      However, in its Domain Name Reservation
      Considerations section (Section 8.1),
      that specification (RFC 7050) indicates that the name
      actually has no particularly special properties that would require
      special handling.<a class="pilcrow" href="#section-abstract-2">¶</a></p>
<p id="section-abstract-3">Consequently, despite the well-articulated special purpose of the
      name,
      'ipv4only.arpa' was not recorded in the
      Special-Use Domain Names registry
      as a name with special properties.<a class="pilcrow" href="#section-abstract-3">¶</a></p>
<p id="section-abstract-4">This document updates RFC 7050.
      It describes the special treatment required and
      formally declares the special properties of the name.
      It also adds similar declarations for the corresponding reverse mapping
      names.<a class="pilcrow" href="#section-abstract-4">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a class="section-name selfRef" href="#name-status-of-this-memo">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
            This is an Internet Standards Track document.<a class="pilcrow" href="#section-boilerplate.1-1">¶</a></p>
<p id="section-boilerplate.1-2">
            This document is a product of the Internet Engineering Task Force
            (IETF).  It represents the consensus of the IETF community.  It has
            received public review and has been approved for publication by
            the Internet Engineering Steering Group (IESG).  Further
            information on Internet Standards is available in Section 2 of 
            RFC 7841.<a class="pilcrow" href="#section-boilerplate.1-2">¶</a></p>
<p id="section-boilerplate.1-3">
            Information about the current status of this document, any
            errata, and how to provide feedback on it may be obtained at
            <span><a href="https://www.rfc-editor.org/info/rfc8880">https://www.rfc-editor.org/info/rfc8880</a></span>.<a class="pilcrow" href="#section-boilerplate.1-3">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a class="section-name selfRef" href="#name-copyright-notice">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a class="pilcrow" href="#section-boilerplate.2-1">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a class="pilcrow" href="#section-boilerplate.2-2">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a class="toplink" href="#" onclick="scroll(0,0)">▲</a><h2 id="name-table-of-contents">
<a class="section-name selfRef" href="#name-table-of-contents">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1">
            <p class="keepWithNext" id="section-toc.1-1.1.1"><a class="xref" href="#section-1">1</a>.  <a class="xref" href="#name-introduction">Introduction</a><a class="pilcrow" href="#section-toc.1-1.1.1">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1.2.1">
                <p class="keepWithNext" id="section-toc.1-1.1.2.1.1"><a class="xref" href="#section-1.1">1.1</a>.  <a class="xref" href="#name-conventions-and-terminology">Conventions and Terminology</a><a class="pilcrow" href="#section-toc.1-1.1.2.1.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.2">
            <p class="keepWithNext" id="section-toc.1-1.2.1"><a class="xref" href="#section-2">2</a>.  <a class="xref" href="#name-reasons-to-declare-ipv4only">Reasons to Declare 'ipv4only.arpa' as Special</a><a class="pilcrow" href="#section-toc.1-1.2.1">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a class="xref" href="#section-3">3</a>.  <a class="xref" href="#name-consequences-of-ipv4onlyarp">Consequences of 'ipv4only.arpa' Not Being Declared Special</a><a class="pilcrow" href="#section-toc.1-1.3.1">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a class="xref" href="#section-3.1">3.1</a>.  <a class="xref" href="#name-consequences-for-name-resol">Consequences for Name Resolution APIs and Libraries</a><a class="pilcrow" href="#section-toc.1-1.3.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a class="xref" href="#section-3.2">3.2</a>.  <a class="xref" href="#name-consequences-for-dns64-impl">Consequences for DNS64 Implementations</a><a class="pilcrow" href="#section-toc.1-1.3.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a class="xref" href="#section-4">4</a>.  <a class="xref" href="#name-remedies">Remedies</a><a class="pilcrow" href="#section-toc.1-1.4.1">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a class="xref" href="#section-5">5</a>.  <a class="xref" href="#name-security-considerations">Security Considerations</a><a class="pilcrow" href="#section-toc.1-1.5.1">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a class="xref" href="#section-6">6</a>.  <a class="xref" href="#name-iana-considerations">IANA Considerations</a><a class="pilcrow" href="#section-toc.1-1.6.1">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a class="xref" href="#section-7">7</a>.  <a class="xref" href="#name-domain-name-reservation-con">Domain Name Reservation Considerations</a><a class="pilcrow" href="#section-toc.1-1.7.1">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a class="xref" href="#section-7.1">7.1</a>.  <a class="xref" href="#name-special-use-domain-name-ipv">Special Use Domain Name 'ipv4only.arpa'</a><a class="pilcrow" href="#section-toc.1-1.7.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a class="xref" href="#section-7.2">7.2</a>.  <a class="xref" href="#name-names-17000192inaddrarpa-an">Names '170.0.0.192.in‑addr.arpa' and
        '171.0.0.192.in‑addr.arpa'</a><a class="pilcrow" href="#section-toc.1-1.7.2.2.1">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a class="xref" href="#section-7.2.1">7.2.1</a>.  <a class="xref" href="#name-ip6arpa-reverse-mapping-ptr">ip6.arpa Reverse Mapping PTR Records</a><a class="pilcrow" href="#section-toc.1-1.7.2.2.2.1.1">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a class="xref" href="#section-8">8</a>.  <a class="xref" href="#name-references">References</a><a class="pilcrow" href="#section-toc.1-1.8.1">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a class="xref" href="#section-8.1">8.1</a>.  <a class="xref" href="#name-normative-references">Normative References</a><a class="pilcrow" href="#section-toc.1-1.8.2.1.1">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a class="xref" href="#section-8.2">8.2</a>.  <a class="xref" href="#name-informative-references">Informative References</a><a class="pilcrow" href="#section-toc.1-1.8.2.2.1">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a class="xref" href="#section-appendix.a">Appendix A</a>.  <a class="xref" href="#name-example-bind-9-configuratio">Example BIND 9 Configuration</a><a class="pilcrow" href="#section-toc.1-1.9.1">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a class="xref" href="#section-appendix.b"></a><a class="xref" href="#name-acknowledgements">Acknowledgements</a><a class="pilcrow" href="#section-toc.1-1.10.1">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a class="xref" href="#section-appendix.c"></a><a class="xref" href="#name-authors-addresses">Authors' Addresses</a><a class="pilcrow" href="#section-toc.1-1.11.1">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a class="section-number selfRef" href="#section-1">1. </a><a class="section-name selfRef" href="#name-introduction">Introduction</a>
      </h2>
<p id="section-1-1"><span><a class="xref" href="#RFC6146">NAT64
      (Network Address and Protocol Translation from IPv6
      Clients to IPv4 Servers)</a> [<a class="xref" href="#RFC6146">RFC6146</a>]</span>
      allows client devices using IPv6 to
      communicate with servers that have only IPv4 connectivity.<a class="pilcrow" href="#section-1-1">¶</a></p>
<p id="section-1-2"><span><a class="xref" href="#RFC6147">DNS64
      (DNS Extensions for Network Address Translation from IPv6
      Clients to IPv4 Servers)</a> [<a class="xref" href="#RFC6147">RFC6147</a>]</span>
      facilitates use of NAT64 by clients
      by generating synthesized IPv6 addresses for IPv4 servers
      that have no IPv6 address of their own, or by communicating
      the local network's NAT64 prefix to clients so that they
      can perform the IPv6 address synthesis themselves.<a class="pilcrow" href="#section-1-2">¶</a></p>
<p id="section-1-3">The specification for <span><a class="xref" href="#RFC7050">how a
      client discovers its local network's NAT64 prefix</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span> defines the
      special name 'ipv4only.arpa' for this purpose, but in its Domain Name
      Reservation Considerations section (Section 8.1),
      that specification <span>[<a class="xref" href="#RFC7050">RFC7050</a>]</span> indicates that the name
      actually
      has no particularly special properties that would require special
      handling and does not request IANA to record the name in the <span><a class="xref" href="#SUDN">Special-Use Domain Names
      registry</a> [<a class="xref" href="#SUDN">SUDN</a>]</span>.<a class="pilcrow" href="#section-1-3">¶</a></p>
<p id="section-1-4">Consequently, despite the well-articulated special purpose of the
      name,
      'ipv4only.arpa' was not recorded in the
      <span><a class="xref" href="#SUDN">Special-Use Domain Names
      registry</a> [<a class="xref" href="#SUDN">SUDN</a>]</span>
      as a name with special properties.<a class="pilcrow" href="#section-1-4">¶</a></p>
<p id="section-1-5">This omission was discussed in the document
      <span><a class="xref" href="#RFC8244">"Special-Use Domain Names
      Problem Statement"</a> [<a class="xref" href="#RFC8244">RFC8244</a>]</span>.<a class="pilcrow" href="#section-1-5">¶</a></p>
<p id="section-1-6">As a result of this omission, in cases where software needs
      to give this name special treatment in order for it to work correctly,
      there was no clear mandate authorizing software authors to implement
      that
      special treatment. Software implementers were left with the choice
      between not implementing the special behavior necessary for the name
      queries to work correctly or implementing the special behavior
      and being accused of being noncompliant with IETF DNS
      specifications.<a class="pilcrow" href="#section-1-6">¶</a></p>
<p id="section-1-7">This document describes the special treatment required,
      formally declares the special properties of the name,
      and adds similar declarations for the corresponding reverse mapping
      names.<a class="pilcrow" href="#section-1-7">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-conventions-and-terminology">
<a class="section-number selfRef" href="#section-1.1">1.1. </a><a class="section-name selfRef" href="#name-conventions-and-terminology">Conventions and Terminology</a>
        </h3>
<p id="section-1.1-1">
    The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>",
    "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>",
    "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
    "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are
    to be interpreted as
    described in BCP 14 <span>[<a class="xref" href="#RFC2119">RFC2119</a>]</span> <span>[<a class="xref" href="#RFC8174">RFC8174</a>]</span> 
    when, and only when, they appear in all capitals, as shown here.<a class="pilcrow" href="#section-1.1-1">¶</a></p>
</section>
</div>
</section>
<section id="section-2">
      <h2 id="name-reasons-to-declare-ipv4only">
<a class="section-number selfRef" href="#section-2">2. </a><a class="section-name selfRef" href="#name-reasons-to-declare-ipv4only">Reasons to Declare 'ipv4only.arpa' as Special</a>
      </h2>
<p id="section-2-1">The hostname 'ipv4only.arpa' is peculiar in that it was never
      intended
      to be treated like a normal hostname.<a class="pilcrow" href="#section-2-1">¶</a></p>
<p id="section-2-2">A typical client never has any reason to look up the IPv4 address
      records for 'ipv4only.arpa': no normal user is ever trying to view a
      website hosted at that domain name or trying to send email to an email
      address at that domain name.  The name 'ipv4only.arpa' is already known,
      <span><a class="xref" href="#RFC7050">by IETF specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>, to
      have exactly two IPv4 address records: 192.0.0.170 and 192.0.0.171.  No
      client ever has to look up the name in order to learn those two
      addresses.<a class="pilcrow" href="#section-2-2">¶</a></p>
<p id="section-2-3">In contrast, clients often look up the IPv6 AAAA address records for
      'ipv4only.arpa', which is contrary to general DNS expectations, given
      that it is already known, <span><a class="xref" href="#RFC7050">by
      IETF specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>, that 'ipv4only.arpa' is an IPv4-only name,
      and it has no IPv6 AAAA address records.  And yet, clients expect to
      receive, and do in fact receive, positive answers for these IPv6 AAAA
      address records that apparently should not exist.<a class="pilcrow" href="#section-2-3">¶</a></p>
<p id="section-2-4">This odd query behavior comes not because clients are using DNS to
      learn
      legitimate answers from the name's legitimate authoritative
      server, but because the DNS protocol has, in effect, been co-opted as an
      improvised
      client-to-middlebox communication protocol to look for a DNS64/NAT64
      <span>[<a class="xref" href="#RFC6147">RFC6147</a>]</span> <span>[<a class="xref" href="#RFC6146">RFC6146</a>]</span>
      gateway and, if one is present,
      to request that it disclose the prefix it is using for IPv6 address
      synthesis.<a class="pilcrow" href="#section-2-4">¶</a></p>
<p id="section-2-5">This use of specially crafted DNS queries as an improvised
      client-to-middlebox communication protocol has a number of specific
      consequences, outlined below, which client software needs to take into
      account if the queries are to produce the desired results.  This
      is particularly true
      when used on a multihomed host or when a VPN tunnel is in use.  The
      name 'ipv4only.arpa' is most definitely a special name and needs to be
      listed in IANA's registry along with <span><a class="xref" href="#SUDN">other DNS names that have special uses</a> [<a class="xref" href="#SUDN">SUDN</a>]</span>.<a class="pilcrow" href="#section-2-5">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-consequences-of-ipv4onlyarp">
<a class="section-number selfRef" href="#section-3">3. </a><a class="section-name selfRef" href="#name-consequences-of-ipv4onlyarp">Consequences of 'ipv4only.arpa' Not Being Declared Special</a>
      </h2>
<p id="section-3-1">As a result of <span><a class="xref" href="#RFC7050">the original
      specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>
      not formally declaring 'ipv4only.arpa' to have special properties,
      there was no clear mandate for DNS software to treat this name
      specially.
      In particular, this lack of mandate for special treatment is relevant
      (a) to the name resolution APIs and libraries on client devices and
      (b) to DNS64 <span>[<a class="xref" href="#RFC6147">RFC6147</a>]</span> implementations.
      These two aspects are discussed in more detail below.<a class="pilcrow" href="#section-3-1">¶</a></p>
<section id="section-3.1">
        <h3 id="name-consequences-for-name-resol">
<a class="section-number selfRef" href="#section-3.1">3.1. </a><a class="section-name selfRef" href="#name-consequences-for-name-resol">Consequences for Name Resolution APIs and Libraries</a>
        </h3>
<p id="section-3.1-1">A serious problem can occur with DNS64/NAT64 when a device is
 configured to
        use a recursive resolver other than the one it learned from the
 network.<a class="pilcrow" href="#section-3.1-1">¶</a></p>
<p id="section-3.1-2">A device joining a NAT64
        network will learn the recursive resolver recommended for that
 network, typically
        via <span><a class="xref" href="#RFC8106">IPv6 Router Advertisement
 Options</a> [<a class="xref" href="#RFC8106">RFC8106</a>]</span>
        or via <span><a class="xref" href="#RFC3646">DHCPv6</a> [<a class="xref" href="#RFC3646">RFC3646</a>]</span>.
        On a NAT64 network, it is essential that the client use the
        DNS64 recursive resolver recommended for that network, since only that
 recursive resolver can
        be relied upon to know the appropriate prefix(es) to use for
 synthesizing IPv6
        addresses that will be acceptable to that NAT64 gateway.<a class="pilcrow" href="#section-3.1-2">¶</a></p>
<p id="section-3.1-3">However, it is becoming increasingly common for users to manually
 override their
        default DNS configuration because they wish to use some other public
 recursive
        resolver on the Internet, which may offer better speed, reliability,
        or privacy than the local network's default recursive resolver.
        At the time of writing, examples of widely known public recursive
 resolver services
        include
        <span><a class="xref" href="#DNS1">Cloudflare Public DNS</a> [<a class="xref" href="#DNS1">DNS1</a>]</span>,
        <span><a class="xref" href="#DNS8">Google Public DNS</a> [<a class="xref" href="#DNS8">DNS8</a>]</span>, and
        <span><a class="xref" href="#DNS9">Quad9</a> [<a class="xref" href="#DNS9">DNS9</a>]</span>.<a class="pilcrow" href="#section-3.1-3">¶</a></p>
<p id="section-3.1-4">Another common scenario is the use of corporate or personal VPN client
 software.  



Both for privacy reasons and because the local network's recursive resolver
will typically be unable to provide answers for the company's private internal
host names, VPN client software usually overrides the local network's default
configuration to divert some or all DNS requests so that they go to the
company's own private internal recursive resolver instead of to the default
recursive resolver the client learned from its local network. (The company's
own private internal recursive resolvers typically have addresses that are
themselves reached through the VPN tunnel, not via the public Internet.)

As with the case described above of public recursive resolver services, the
company's private internal recursive resolver cannot be expected to be able to
synthesize IPv6 addresses correctly for use with the local network's NAT64
gateway, because the company's private internal recursive resolver is unlikely
to be aware of the NAT64 prefix in use on the NAT64 network to which the
client device is currently attached.  It is clear that a single recursive
resolver cannot meet both needs.  The local network's recursive resolver
cannot be expected to give answers for some unknown company's private internal
host names, and a company's private internal recursive resolver cannot be
expected to give correctly synthesized IPv6 addresses suitable for some
unknown local network's NAT64 gateway.<a class="pilcrow" href="#section-3.1-4">¶</a></p>
<p id="section-3.1-5">Note that multiple NAT64 services may be simultaneously available to a
client.  For example, the local network may provide NAT64 service (to allow an
IPv6-only client device to access IPv4-only Internet services), while at the
same time, a corporate VPN may also provide NAT64 service (to allow a client
connecting via an IPv6-only VPN tunnel to access IPv4-only corporate
services).  The NAT64 address synthesis prefixes for the two NAT64 services
may be different.  In this case, it is essential that the NAT64 address
synthesis prefix used on the local network be the prefix learned from the
local network's recursive resolver, and the NAT64 address synthesis prefix
used on the VPN tunnel be the prefix learned from the VPN tunnel's recursive
resolver.<a class="pilcrow" href="#section-3.1-5">¶</a></p>
<p id="section-3.1-6">The difficulty here arises because DNS is being used for two
 unrelated purposes.
        The first purpose is retrieving data from a (nominally) global
 database,
        generally retrieving the IP address(es) associated with a hostname.
        The second purpose is using the DNS protocol as a middlebox
 communication
        protocol, to interrogate the local network infrastructure to discover
        the IPv6 prefix(es) in use by the local NAT64 gateway for address
 synthesis.<a class="pilcrow" href="#section-3.1-6">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-consequences-for-dns64-impl">
<a class="section-number selfRef" href="#section-3.2">3.2. </a><a class="section-name selfRef" href="#name-consequences-for-dns64-impl">Consequences for DNS64 Implementations</a>
        </h3>
<p id="section-3.2-1">As a result of there being no mandate for special treatment,
        queries for 'ipv4only.arpa' had to be handled normally,
        resulting in DNS64 gateways performing unnecessary
        queries to the authoritative 'arpa' name servers, both
        unnecessary IPv6 address record queries (DNS qtype "AAAA", always
 returning negative responses) and
        unnecessary IPv4 address record queries (DNS qtype "A", always
 returning the same positive responses).<a class="pilcrow" href="#section-3.2-1">¶</a></p>
<p id="section-3.2-2">Having DNS64 gateways around the world issue these queries
 generated
        additional load on the authoritative 'arpa' name servers, which was
        redundant when the name 'ipv4only.arpa' is defined, <span><a class="xref" href="#RFC7050">by IETF specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>,
        to have exactly two IPv4 address records, 192.0.0.170 and 192.0.0.171,
        and no other IPv4 or IPv6 address records.<a class="pilcrow" href="#section-3.2-2">¶</a></p>
<p id="section-3.2-3">Also, at times, for reasons that remain
        unclear, the authoritative 'arpa' name servers have been observed to
 be slow or unresponsive.
        The failures of these 'ipv4only.arpa' queries result in unnecessary
 failures
        of the DNS64 gateways and of the client devices that depend on them
 for
        <span><a class="xref" href="#RFC6147">DNS64</a> [<a class="xref" href="#RFC6147">RFC6147</a>]</span> address
 synthesis.<a class="pilcrow" href="#section-3.2-3">¶</a></p>
<p id="section-3.2-4">Even when the authoritative 'arpa' name servers are operating
 correctly,
        having to perform an unnecessary query to obtain an answer that is
 already
        known in advance can add precious milliseconds of delay,
        affecting user experience on the client devices waiting
        for those synthesized replies.<a class="pilcrow" href="#section-3.2-4">¶</a></p>
</section>
</section>
<section id="section-4">
      <h2 id="name-remedies">
<a class="section-number selfRef" href="#section-4">4. </a><a class="section-name selfRef" href="#name-remedies">Remedies</a>
      </h2>
<p id="section-4-1">This document leverages operational experience to update the <span><a class="xref" href="#RFC6761">Domain Name Reservation Considerations
      section</a> [<a class="xref" href="#RFC6761">RFC6761</a>]</span> of <span><a class="xref" href="#RFC7050">the earlier
      prefix discovery
      specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span> with one that more accurately lists the actual
      special properties of the name 'ipv4only.arpa', so that software can
      legitimately implement the correct behavior necessary for better
      performance, better reliability, and correct operation.<a class="pilcrow" href="#section-4-1">¶</a></p>
<p id="section-4-2">These changes affect two bodies of software: (a) the name resolution
      APIs and libraries on client devices, and (b) DNS64 implementations.<a class="pilcrow" href="#section-4-2">¶</a></p>
<p id="section-4-3">The new special rules specified in this document for name resolution
      APIs and libraries
      state how they
      should select which recursive resolver to query to learn the IPv6
      address
      synthesis prefix in use on a particular physical or virtual interface.
      Specifically, when querying for the name 'ipv4only.arpa',
      name resolution APIs and libraries should use the
      recursive resolver recommended by the network for the interface in
      question rather than
      a recursive resolver configured manually,
      a recursive resolver configured by VPN software, or
      a full-service recursive resolver running on the local host.
      Superficially, this might seem like a security issue, since
      the user might have explicitly configured the particular DNS resolver
      they
      wish to use, and rather than using that, the name resolution code
      ignores the user's stated preference and uses untrusted input received
      from the network instead.
      However, the 'ipv4only.arpa' query is not really a DNS query in the
      usual sense;
      even though it may look like a DNS query, it is actually an improvised
      client-to-middlebox communication protocol in disguise.
      For NAT64 to work at all,
      it is necessary for the interface on which NAT64 translation is being
      performed to tell the host the address of the DNS64 recursive resolver
      the host must use to learn the NAT64 prefix being used by that NAT64.
      This is typically done
      via <span><a class="xref" href="#RFC8106">IPv6 Router Advertisement
      Options for DNS Configuration</a> [<a class="xref" href="#RFC8106">RFC8106</a>]</span>
      or via <span><a class="xref" href="#RFC3646">DNS Configuration options
      for DHCPv6</a> [<a class="xref" href="#RFC3646">RFC3646</a>]</span>.<a class="pilcrow" href="#section-4-3">¶</a></p>
<p id="section-4-4">The new special rules specified in this document for DNS64
      implementations recommend that they avoid
      performing run-time network queries for values that are known to be
      fixed by specification.<a class="pilcrow" href="#section-4-4">¶</a></p>
<p id="section-4-5">A useful property of the way <span><a class="xref" href="#RFC7050">NAT64 Prefix Discovery</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span> was originally specified
      was that it allowed for incremental deployment.  Even if existing DNS64
      gateways, that were unaware of the special 'ipv4only.arpa' name, were
      already deployed, once IANA created the appropriate 'ipv4only.arpa'
      records, clients could begin to use the new facility immediately.


      Clients could send their special queries for 'ipv4only.arpa' to an
      ipv4only-unaware DNS64 gateway, and, as a side effect of its usual query
      processing (after a query to IANA's servers), the DNS64 gateway would
      then generate the correct synthesized response.<a class="pilcrow" href="#section-4-5">¶</a></p>
<p id="section-4-6">While this was a useful transition strategy to enable rapid adoption,
      it is not the ideal end situation.
      For better performance, better reliability, and lower load in IANA's
      servers,
      it is preferable for DNS64 gateways to be aware of the special
      'ipv4only.arpa' name so that they can avoid issuing unnecessary queries.
      Network operators who wish to provide reliable, high-performance service
      to
      their customers are motivated to prefer DNS64 gateways that recognize
      the special 'ipv4only.arpa' name and apply the appropriate
      optimizations.<a class="pilcrow" href="#section-4-6">¶</a></p>
</section>
<section id="section-5">
      <h2 id="name-security-considerations">
<a class="section-number selfRef" href="#section-5">5. </a><a class="section-name selfRef" href="#name-security-considerations">Security Considerations</a>
      </h2>
<p id="section-5-1">One of the known concerns with DNS64 is that
      it conflicts with DNSSEC. If DNSSEC is used to assert cryptographically
      that a name
      has no IPv6 AAAA records, then this interferes with using DNS64 address
      synthesis
      to tell a client that those nonexistent IPv6 AAAA records do exist.<a class="pilcrow" href="#section-5-1">¶</a></p>
<p id="section-5-2"><span><a class="relref" href="https://www.rfc-editor.org/rfc/rfc6147#section-3">Section 3</a> of the DNS64
      specification [<a class="xref" href="#RFC6147">RFC6147</a>]</span>
      discusses this:<a class="pilcrow" href="#section-5-2">¶</a></p>
<blockquote id="section-5-3">
... DNS64 receives a query with the DO bit set and the CD bit set. In this
case, the DNS64 is supposed to pass on all the data it gets to the query
initiator. This case will not work with DNS64, unless the validating resolver
is prepared to do DNS64 itself.<a class="pilcrow" href="#section-5-3">¶</a>
</blockquote>
<p id="section-5-4">The <span><a class="xref" href="#RFC7050">NAT64 Prefix Discovery
      specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span> provides the mechanism for the query initiator to
      learn the NAT64 prefix so that it can do its own validation and DNS64
      synthesis as described above.  With this mechanism, the client can (i)
      interrogate the local DNS64/NAT64 gateway (with an 'ipv4only.arpa'
      query)
      to learn the IPv6 address synthesis prefix, (ii) query for the (signed)
      IPv4 address records for the desired hostname and validate the response,
      and then (iii)
      perform its own IPv6 address synthesis locally, combining the IPv6
      address synthesis prefix learned from the local DNS64/NAT64 gateway with
      the validated DNSSEC-signed data learned from the global Domain Name
      System.<a class="pilcrow" href="#section-5-4">¶</a></p>
<p id="section-5-5">It is conceivable that, over time, if DNSSEC adoption continues to
      grow, the
      majority of clients could move to this validate-and-synthesize-locally
      model, which reduces the DNS64 machinery to the vestigial role of
      simply responding to the 'ipv4only.arpa' query to report the local
      IPv6 address synthesis prefix.
      At the time of publication, network operators have been
      observed "in the wild" deploying NAT64 service with DNS
      recursive resolvers that reply to 'ipv4only.arpa' queries
      but otherwise perform no other NAT64 address synthesis.
      In no case does the client care what
      answer(s) the authoritative 'arpa' name servers might give for that
      query.
      The 'ipv4only.arpa' query is being used purely as a local
      client-to-middlebox communication message.<a class="pilcrow" href="#section-5-5">¶</a></p>
<p id="section-5-6">This validate-and-synthesize-locally
      approach is even more attractive if it does not create
      an additional dependency on the authoritative 'arpa' name
      servers to answer a query that is unnecessary
      because the DNS64/NAT64 gateway already knows the answer
      before it even issues the query. Avoiding this unnecessary
      query improves performance and reliability for the client
      and reduces unnecessary load for the authoritative 'arpa' name
      servers.<a class="pilcrow" href="#section-5-6">¶</a></p>
<p id="section-5-7">Hardcoding the known answers for
      'ipv4only.arpa' IPv4 address record queries (DNS qtype "A") in
      recursive resolvers also reduces the risk of malicious devices
      intercepting those queries and returning incorrect answers.
      Because the 'ipv4only.arpa' zone has to be an insecure delegation (see
      below),
      DNSSEC cannot be used to protect these answers from tampering
      by malicious devices on the path.<a class="pilcrow" href="#section-5-7">¶</a></p>
<p id="section-5-8">With respect to the question of whether 'ipv4only.arpa' should be a
      secure or insecure delegation, we need to consider two paths of
      information flow through the network:<a class="pilcrow" href="#section-5-8">¶</a></p>
<ol class="normal type-1" id="section-5-9" start="1" type="1">
        <li id="section-5-9.1">The path from the server authoritative for 'ipv4only.arpa' to the
      DNS64 recursive resolver<a class="pilcrow" href="#section-5-9.1">¶</a>
</li>
        <li id="section-5-9.2">The path from the DNS64 recursive resolver to the ultimate client<a class="pilcrow" href="#section-5-9.2">¶</a>
</li>
      </ol>
<p id="section-5-10">The path from the authoritative server to the DNS64 recursive
      resolver (queries for IPv4 address records) need not be protected by
      DNSSEC, because the DNS64 recursive resolver already knows, by
      specification, what the answers are.  In principle, if this were a
      secure delegation, and 'ipv4only.arpa' were a signed zone, then the path
      from the authoritative server to the DNS64 recursive resolver would
      still work, but DNSSEC is not necessary here.  Run-time cryptographic
      signatures are not needed to verify compile-time constants.  Validating
      the signatures could only serve to introduce potential failures into the
      system for minimal benefit.<a class="pilcrow" href="#section-5-10">¶</a></p>
<p id="section-5-11">The path from the DNS64 recursive resolver to the ultimate client
      (queries for IPv6 address records)
      *cannot* be protected by DNSSEC because the DNS64 recursive resolver
      is synthesizing IPv6 address answers and does not possess the DNSSEC
      secret
      key required to sign those answers.<a class="pilcrow" href="#section-5-11">¶</a></p>
<p id="section-5-12">Consequently, the 'ipv4only.arpa' zone <span class="bcp14">MUST</span> be an
      insecure delegation
      to give DNS64/NAT64 gateways the freedom to synthesize answers to those
      queries at will, without the answers being rejected by DNSSEC-capable
      resolvers.
      DNSSEC-capable resolvers that follow this specification
      <span class="bcp14">MUST NOT</span> attempt to validate answers received in response
      to
      queries for the IPv6 AAAA address records for 'ipv4only.arpa'.
      Note that the name 'ipv4only.arpa' has no use outside of being
      used for this special DNS pseudo-query used to learn the DNS64/NAT64
      address synthesis prefix, so the lack of DNSSEC security for that name
      is not a problem.<a class="pilcrow" href="#section-5-12">¶</a></p>
<p id="section-5-13">The original <span><a class="xref" href="#RFC7050">NAT64 Prefix
      Discovery specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>
      stated, incorrectly:<a class="pilcrow" href="#section-5-13">¶</a></p>
<blockquote id="section-5-14">
A signed "ipv4only.arpa." allows validating DNS64 servers (see [RFC6147]
Section 3, Case 5, for example) to detect malicious AAAA resource records.
Therefore, the zone serving the well-known name has to be protected with
DNSSEC.<a class="pilcrow" href="#section-5-14">¶</a>
</blockquote>
<p id="section-5-15">This document updates <span><a class="xref" href="#RFC7050">the
      previous specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>
      to correct that error. The 'ipv4only.arpa' zone <span class="bcp14">MUST</span> be
      an insecure delegation.<a class="pilcrow" href="#section-5-15">¶</a></p>
</section>
<section id="section-6">
      <h2 id="name-iana-considerations">
<a class="section-number selfRef" href="#section-6">6. </a><a class="section-name selfRef" href="#name-iana-considerations">IANA Considerations</a>
      </h2>
<p id="section-6-1">IANA has created an insecure delegation for 'ipv4only.arpa'
      to allow DNS64 recursive resolvers to create synthesized AAAA answers
      within that zone.<a class="pilcrow" href="#section-6-1">¶</a></p>
<p id="section-6-2">IANA has recorded the following names in the 
      <span><a class="xref" href="#SUDN">Special-Use Domain Names
      registry</a> [<a class="xref" href="#SUDN">SUDN</a>]</span>:<a class="pilcrow" href="#section-6-2">¶</a></p>
<ul class="ulEmpty compact">
<li class="ulEmpty compact" id="section-6-3.1">ipv4only.arpa.<a class="pilcrow" href="#section-6-3.1">¶</a>
</li>
        <li class="ulEmpty compact" id="section-6-3.2">170.0.0.192.in‑addr.arpa.<a class="pilcrow" href="#section-6-3.2">¶</a>
</li>
        <li class="ulEmpty compact" id="section-6-3.3">171.0.0.192.in‑addr.arpa.<a class="pilcrow" href="#section-6-3.3">¶</a>
</li>
      </ul>
<p id="section-6-4">IANA has recorded the following IPv4 addresses in the 
      <span><a class="xref" href="#SUv4">IANA IPv4 Special-Purpose Address
      Registry</a> [<a class="xref" href="#SUv4">SUv4</a>]</span>:<a class="pilcrow" href="#section-6-4">¶</a></p>
<ul class="ulEmpty compact">
<li class="ulEmpty compact" id="section-6-5.1">192.0.0.170<a class="pilcrow" href="#section-6-5.1">¶</a>
</li>
        <li class="ulEmpty compact" id="section-6-5.2">192.0.0.171<a class="pilcrow" href="#section-6-5.2">¶</a>
</li>
      </ul>
</section>
<section id="section-7">
      <h2 id="name-domain-name-reservation-con">
<a class="section-number selfRef" href="#section-7">7. </a><a class="section-name selfRef" href="#name-domain-name-reservation-con">Domain Name Reservation Considerations</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-special-use-domain-name-ipv">
<a class="section-number selfRef" href="#section-7.1">7.1. </a><a class="section-name selfRef" href="#name-special-use-domain-name-ipv">Special Use Domain Name 'ipv4only.arpa'</a>
        </h3>
<p id="section-7.1-1">The name 'ipv4only.arpa' is defined, <span><a class="xref" href="#RFC7050">by IETF specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>, to have
        two IPv4 address records with rdata 192.0.0.170 and 192.0.0.171.<a class="pilcrow" href="#section-7.1-1">¶</a></p>
<p id="section-7.1-2">When queried via a <span><a class="xref" href="#RFC6147">DNS64
 recursive resolver</a> [<a class="xref" href="#RFC6147">RFC6147</a>]</span>, the name
        'ipv4only.arpa' is also defined to have IPv6 AAAA records,
        with rdata synthesized from a combination of the NAT64 IPv6 prefix(es)
        and the IPv4 addresses 192.0.0.170 and 192.0.0.171.
        This can return more than one pair of IPv6 addresses
        if there are multiple NAT64 prefixes.<a class="pilcrow" href="#section-7.1-2">¶</a></p>
<p id="section-7.1-3">The name 'ipv4only.arpa' has no other IPv4 or IPv6 address
 records. 
        There are no subdomains of 'ipv4only.arpa'. All names falling below
        'ipv4only.arpa' are defined to be nonexistent (NXDOMAIN).<a class="pilcrow" href="#section-7.1-3">¶</a></p>
<p id="section-7.1-4">The name 'ipv4only.arpa' is special to<a class="pilcrow" href="#section-7.1-4">¶</a></p>
<ol class="normal type-a" id="section-7.1-5" start="1" type="a">
          <li id="section-7.1-5.1">client software wishing to perform DNS64 address synthesis,<a class="pilcrow" href="#section-7.1-5.1">¶</a>
</li>
          <li id="section-7.1-5.2">APIs responsible for retrieving the correct information, and<a class="pilcrow" href="#section-7.1-5.2">¶</a>
</li>
          <li id="section-7.1-5.3">the DNS64 recursive resolver responding to such requests.<a class="pilcrow" href="#section-7.1-5.3">¶</a>
</li>
        </ol>
<p id="section-7.1-6"> These three considerations are listed in items 2, 3, and 4
       below:<a class="pilcrow" href="#section-7.1-6">¶</a></p>
<ol class="normal type-1" id="section-7.1-7" start="1" type="1">
          <li id="section-7.1-7.1">Normal users should never have reason to encounter the
   'ipv4only.arpa' domain name.
            If they do, they should expect queries for 'ipv4only.arpa' to
     result in
            <span><a class="xref" href="#RFC7050">the answers required by
     the specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>.
            Normal users have no need to know that 'ipv4only.arpa' is
   special.<a class="pilcrow" href="#section-7.1-7.1">¶</a>
</li>
          <li id="section-7.1-7.2">Application software may explicitly use the name 'ipv4only.arpa'
   for DNS64/NAT64
            address synthesis and expect to get
            <span><a class="xref" href="#RFC7050">the answers required by
     the specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>.
            If application software encounters the name 'ipv4only.arpa' in the
     normal
            course of handling user input, the application software should
     resolve
            that name as usual and need not treat it in any special way.<a class="pilcrow" href="#section-7.1-7.2">¶</a>
</li>
          <li id="section-7.1-7.3">
            <p id="section-7.1-7.3.1">Name resolution APIs and libraries <span class="bcp14">MUST</span>
     recognize
            'ipv4only.arpa' as special and <span class="bcp14">MUST</span> give it special
     treatment.<a class="pilcrow" href="#section-7.1-7.3.1">¶</a></p>
<p id="section-7.1-7.3.2">
            Learning a network's NAT64 prefix is, by its nature, an
     interface-specific
            operation, and the special DNS query used to learn this
     interface-specific
            NAT64 prefix <span class="bcp14">MUST</span> be sent to the
            DNS recursive resolver address(es) the client learned via the
     configuration
            machinery for that specific client interface.
            The NAT64 prefix is a per-interface property, not a per-device
     property.<a class="pilcrow" href="#section-7.1-7.3.2">¶</a></p>
<p id="section-7.1-7.3.3">


             
            Regardless of any manual client DNS configuration, DNS overrides
            configured by VPN client software, or any other mechanisms that
            influence the choice of the client's recursive resolver
            address(es) (including client devices that run their own local
            recursive resolver and use the loopback address as their
            configured recursive resolver address), all queries for
            'ipv4only.arpa' and any subdomains of that name
            <span class="bcp14">MUST</span> be sent to the recursive resolver learned from
            the network interface in question via <span><a class="xref" href="#RFC8106">IPv6 Router Advertisement Options for DNS
            Configuration</a> [<a class="xref" href="#RFC8106">RFC8106</a>]</span>, <span><a class="xref" href="#RFC3646">DNS
            Configuration options for DHCPv6</a> [<a class="xref" href="#RFC3646">RFC3646</a>]</span>, or other configuration
            mechanisms.  Because DNS queries for 'ipv4only.arpa' are actually
            a special middlebox communication protocol, it is essential that
            they go to the correct middlebox for the interface in question,
            and failure to honor this requirement would cause failure of the
            <span><a class="xref" href="#RFC7050">NAT64 Prefix Discovery
            mechanism</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>.<a class="pilcrow" href="#section-7.1-7.3.3">¶</a></p>
<p id="section-7.1-7.3.4">
            One implication of this is that, on multihomed devices (devices
            that allow more than one logical or physical IP interface to be
            active at the same time, e.g., cellular data and Wi-Fi, or one
            physical interface plus a VPN connection), clients
            <span class="bcp14">MUST</span> use interface-aware name resolution APIs.  On
            different (logical or physical) interfaces, different DNS64
            answers may be received, and DNS64 answers are only valid for the
            interface on which they were received.  On multihomed devices
            (including devices that support VPN), name resolution APIs that do
            not include interface parameters will not work reliably with
            NAT64.  On single-homed devices, interface-unaware name resolution
            APIs are acceptable since when only one interface can be active at
            a time, there is no need to specify an interface.<a class="pilcrow" href="#section-7.1-7.3.4">¶</a></p>
<p id="section-7.1-7.3.5">
            DNSSEC-capable resolvers <span class="bcp14">MUST NOT</span> attempt to
            validate answers received in response to queries for the IPv6 AAAA
            address records for 'ipv4only.arpa' since, by definition, any
            such answers are generated by the local network's DNS64/NAT64
            gateway, not the authoritative server responsible for that name.<a class="pilcrow" href="#section-7.1-7.3.5">¶</a></p>
</li>
          <li id="section-7.1-7.4">
            <p id="section-7.1-7.4.1">For the purposes of this section, recursive resolvers fall into
     two categories.
            The first category is traditional recursive resolvers, which
     includes
            *forwarding* recursive resolvers, as commonly implemented in
     residential home gateways,
            and *iterative* recursive resolvers, as commonly deployed by ISPs.
            The second category is DNS64 recursive resolvers, whose purpose is
     to synthesize IPv6 address records.
            These may be *forwarding* DNS64 recursive resolvers or *iterative*
     DNS64 recursive resolvers,
            and they work in partnership with a companion NAT64 gateway to
     communicate the appropriate
            NAT64 address synthesis prefix to clients.
            More information on these terms can be found in
            <span><a class="xref" href="#RFC8499">the DNS Terminology
     document</a> [<a class="xref" href="#RFC8499">RFC8499</a>]</span>.<a class="pilcrow" href="#section-7.1-7.4.1">¶</a></p>
<p id="section-7.1-7.4.2">
            Traditional forwarding recursive resolvers <span class="bcp14">SHOULD NOT</span> recognize 'ipv4only.arpa'
            as special or give that name, or subdomains of that name, any
     special treatment.
            The rationale for this is that a traditional forwarding recursive
     resolver,
            such as built in to a residential home gateway, may itself be
     downstream of a DNS64 recursive resolver.
            Passing through the 'ipv4only.arpa' queries to the upstream DNS64
     recursive resolver will allow
            the correct NAT64 prefix to be discovered.<a class="pilcrow" href="#section-7.1-7.4.2">¶</a></p>
<p id="section-7.1-7.4.3">
            Traditional iterative recursive resolvers that are not explicitly
            configured to synthesize IPv6 prefixes on behalf of a companion
     NAT64 gateway
            need not recognize 'ipv4only.arpa' as special or take any special
     action.<a class="pilcrow" href="#section-7.1-7.4.3">¶</a></p>
<p id="section-7.1-7.4.4">
            Forwarding or iterative recursive resolvers that have been
            explicitly configured to perform DNS64 address synthesis in
            support of a companion NAT64 gateway (i.e., "DNS64 recursive
            resolvers") <span class="bcp14">MUST</span> recognize 'ipv4only.arpa' as
            special.  The authoritative name servers for 'ipv4only.arpa'
            cannot be expected to know the local network's NAT64 address
            synthesis prefix, so consulting the authoritative name servers for
            IPv6 address records for 'ipv4only.arpa' is futile.  All DNS64
            recursive resolvers <span class="bcp14">MUST</span> recognize 'ipv4only.arpa'
            (and all of its subdomains) as special, and they <span class="bcp14">MUST NOT</span> attempt to look up NS records for 'ipv4only.arpa' or
            otherwise query authoritative name servers in an attempt to
            resolve this name.  Instead, DNS64 recursive resolvers
            <span class="bcp14">MUST</span> act as authoritative for this zone, by
            generating immediate responses for all queries for 'ipv4only.arpa'
            (and any subdomain of 'ipv4only.arpa'), with the one exception of
            queries for the DS record.  Queries for the DS record are resolved
            the usual way to allow a client to securely verify that the
            'ipv4only.arpa' zone has an insecure delegation.  Note that this
            exception is not expected to receive widespread usage, since any
            client compliant with this specification already knows that
            'ipv4only.arpa' is an insecure delegation and will not attempt
            DNSSEC validation for this name.<a class="pilcrow" href="#section-7.1-7.4.4">¶</a></p>
<p id="section-7.1-7.4.5">
            DNS64 recursive resolvers <span class="bcp14">MUST</span> generate
            the 192.0.0.170 and 192.0.0.171 responses for IPv4 address queries
     (DNS qtype "A"),
            the appropriate synthesized IPv6 address record responses for IPv6
     address queries (DNS qtype "AAAA"),
            and a negative ("no error no answer") response for
     all other query types except DS.<a class="pilcrow" href="#section-7.1-7.4.5">¶</a></p>
<p id="section-7.1-7.4.6">
            For all subdomains of 'ipv4only.arpa', DNS64 recursive resolvers
     <span class="bcp14">MUST</span> generate immediate NXDOMAIN responses.
            All names falling below 'ipv4only.arpa' are defined to be
     nonexistent.<a class="pilcrow" href="#section-7.1-7.4.6">¶</a></p>
<p id="section-7.1-7.4.7">
            An example configuration for BIND 9 showing how to achieve the
     desired result
            is given in <a class="xref" href="#app-a">Appendix A</a>.<a class="pilcrow" href="#section-7.1-7.4.7">¶</a></p>
<p id="section-7.1-7.4.8">
            Note that this is *not* a locally served zone in the usual sense
     of that term
            <span>[<a class="xref" href="#RFC6303">RFC6303</a>]</span> because this rule
     applies *only* to DNS64 recursive resolvers,
            not to traditional forwarding or iterative recursive resolvers.<a class="pilcrow" href="#section-7.1-7.4.8">¶</a></p>
</li>
          <li id="section-7.1-7.5">Authoritative name server software need not recognize
            'ipv4only.arpa' as special or handle it in any special way.<a class="pilcrow" href="#section-7.1-7.5">¶</a>
</li>
          <li id="section-7.1-7.6">Generally speaking, operators of authoritative name servers need
          not know anything about the name 'ipv4only.arpa', just as they do
          not need to know anything about any other names they are not
          responsible for.  Only the administrators of the 'arpa' namespace
          need to be aware of this name's purpose and how it should be
          configured.  In particular, 'ipv4only.arpa' <span class="bcp14">MUST</span> have
          the required records, and <span class="bcp14">MUST</span> be an insecure
          delegation, to allow DNS64 recursive resolvers to create synthesized
          AAAA answers within that zone. Making the 'ipv4only.arpa' zone a
          secure delegation would make it impossible for DNS64 recursive
          resolvers to create synthesized AAAA answers that will be accepted
          by DNSSEC validating clients, thereby defeating the entire purpose
          of the 'ipv4only.arpa' name.<a class="pilcrow" href="#section-7.1-7.6">¶</a>
</li>
          <li id="section-7.1-7.7">DNS Registries/Registrars need not know anything about
            the name 'ipv4only.arpa', just as they do not need to know
            anything about any other name they are not responsible for.<a class="pilcrow" href="#section-7.1-7.7">¶</a>
</li>
        </ol>
</section>
<section id="section-7.2">
        <h3 id="name-names-17000192inaddrarpa-an">
<a class="section-number selfRef" href="#section-7.2">7.2. </a><a class="section-name selfRef" href="#name-names-17000192inaddrarpa-an">Names '170.0.0.192.in‑addr.arpa' and
        '171.0.0.192.in‑addr.arpa'</a>
        </h3>
<p id="section-7.2-1">Since the IPv4 addresses 192.0.0.170 and 192.0.0.171 are defined to
        be special, and are listed in the <span><a class="xref" href="#SUv4">IANA IPv4 Special-Purpose Address Registry</a> [<a class="xref" href="#SUv4">SUv4</a>]</span>,
 the
        corresponding reverse mapping names in the in‑addr.arpa domain
        are similarly special.<a class="pilcrow" href="#section-7.2-1">¶</a></p>
<p id="section-7.2-2">The name '170.0.0.192.in‑addr.arpa' is defined, <span><a class="xref" href="#RFC7050">by IETF specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>, to
        have only one DNS record, type PTR, with rdata 'ipv4only.arpa'.<a class="pilcrow" href="#section-7.2-2">¶</a></p>
<p id="section-7.2-3">The name '171.0.0.192.in‑addr.arpa' is defined, <span><a class="xref" href="#RFC7050">by IETF specification</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span>, to
        have only one DNS record, type PTR, with rdata 'ipv4only.arpa'.<a class="pilcrow" href="#section-7.2-3">¶</a></p>
<p id="section-7.2-4">There are no subdomains of '170.0.0.192.in‑addr.arpa' or
        '171.0.0.192.in‑addr.arpa'.  All names falling below these names
        are defined to be nonexistent (NXDOMAIN).<a class="pilcrow" href="#section-7.2-4">¶</a></p>
<p id="section-7.2-5">Practically speaking, these two names are rarely used, but to the
        extent that they may be, they are special only to resolver APIs and
        libraries, as described in item 3 below:<a class="pilcrow" href="#section-7.2-5">¶</a></p>
<ol class="normal type-1" id="section-7.2-6" start="1" type="1">
          <li id="section-7.2-6.1">Normal users should never have reason to encounter these two
          reverse mapping names.  However, if they do, queries for these
          reverse mapping names should return the expected answer
          'ipv4only.arpa'.  Normal users have no need to know that these
          reverse mapping names are special.<a class="pilcrow" href="#section-7.2-6.1">¶</a>
</li>
          <li id="section-7.2-6.2">
            <p id="section-7.2-6.2.1">Application software <span class="bcp14">SHOULD NOT</span> recognize these
            two reverse mapping names as special and <span class="bcp14">SHOULD NOT</span> treat them differently. For example, if the
            user were to issue the Unix command "host 192.0.0.170", then
            the "host" command should call the name resolution API or library
            as usual and display the result that is returned.<a class="pilcrow" href="#section-7.2-6.2.1">¶</a></p>
</li>
          <li id="section-7.2-6.3">
            <p id="section-7.2-6.3.1">Name resolution APIs and libraries <span class="bcp14">SHOULD</span>
            recognize these two reverse mapping names as special and generate
            the required responses locally.  For the names
            '170.0.0.192.in‑addr.arpa' and
            '171.0.0.192.in‑addr.arpa', PTR queries yield the result
            'ipv4only.arpa'; all other query types yield a negative
            ("no error no answer") response.  For all
            subdomains of these two reverse mapping domains, all queries yield
            an NXDOMAIN response.  All names falling below these two reverse
            mapping domains are defined to be nonexistent.<a class="pilcrow" href="#section-7.2-6.3.1">¶</a></p>
<p id="section-7.2-6.3.2">
            This local self-contained generation of these responses is to
     avoid
            placing unnecessary load on the authoritative 'in‑addr.arpa'
     name servers.<a class="pilcrow" href="#section-7.2-6.3.2">¶</a></p>
</li>
          <li id="section-7.2-6.4">Recursive resolvers <span class="bcp14">SHOULD NOT</span> recognize these
   two reverse mapping
            names as special and <span class="bcp14">SHOULD NOT</span>, by default, give
     them any special treatment.<a class="pilcrow" href="#section-7.2-6.4">¶</a>
</li>
          <li id="section-7.2-6.5">Authoritative name server software need not recognize
            these two reverse mapping names as special or handle them in any
     special way.<a class="pilcrow" href="#section-7.2-6.5">¶</a>
</li>
          <li id="section-7.2-6.6">Generally speaking, most operators of authoritative name servers
   need
            not know anything about these two reverse mapping names, just as
     they do not need
            to know anything about any other names they are not responsible
     for.
            Only the operators of the authoritative name servers for these two
     reverse mapping names
            need to be aware that these names are special, and require fixed
     answers specified by IETF specification.<a class="pilcrow" href="#section-7.2-6.6">¶</a>
</li>
          <li id="section-7.2-6.7">DNS Registries/Registrars need not know anything about
            these two reverse mapping names, just as they do not need to know
            anything about any other name they are not responsible for.<a class="pilcrow" href="#section-7.2-6.7">¶</a>
</li>
        </ol>
<section id="section-7.2.1">
          <h4 id="name-ip6arpa-reverse-mapping-ptr">
<a class="section-number selfRef" href="#section-7.2.1">7.2.1. </a><a class="section-name selfRef" href="#name-ip6arpa-reverse-mapping-ptr">ip6.arpa Reverse Mapping PTR Records</a>
          </h4>
<p id="section-7.2.1-1">For all IPv6 addresses synthesized by a DNS64 recursive resolver,
          the DNS64 recursive resolver is responsible for
          synthesizing the appropriate 'ip6.arpa' reverse mapping PTR records
   too,
          if it chooses to provide reverse mapping PTR records.
          The same applies to the synthesized IPv6 addresses corresponding
          to the IPv4 addresses 192.0.0.170 and 192.0.0.171.<a class="pilcrow" href="#section-7.2.1-1">¶</a></p>
<p id="section-7.2.1-2">Generally, a DNS64 recursive resolver synthesizes
          appropriate 'ip6.arpa' reverse mapping PTR records by extracting
          the embedded IPv4 address from the encoded IPv6 address,
          performing a reverse mapping PTR query for that IPv4 address,
          and then synthesizing a corresponding 'ip6.arpa' reverse mapping
          PTR record containing the same rdata.<a class="pilcrow" href="#section-7.2.1-2">¶</a></p>
<p id="section-7.2.1-3">In the case of synthesized IPv6 addresses corresponding
          to the IPv4 addresses 192.0.0.170 and 192.0.0.171,
          the DNS64 recursive resolver does not issue reverse mapping queries
          for those IPv4 addresses, but instead, according to rule 3 above,
          immediately returns the answer 'ipv4only.arpa'.<a class="pilcrow" href="#section-7.2.1-3">¶</a></p>
<p id="section-7.2.1-4">In the case of a client that uses the 'ipv4only.arpa' query to
   discover the
          IPv6 prefixes in use by the local NAT64 gateway, and then proceeds
   to perform
          its own address synthesis locally (which has benefits such as
   allowing DNSSEC validation),
          that client <span class="bcp14">MUST</span> also synthesize 'ip6.arpa' reverse
   mapping PTR
          records for those discovered prefix(es), according to the rules
   above:
          When a client's name resolution APIs and libraries receive a request
          to look up an 'ip6.arpa' reverse mapping PTR record for an address
   that
          falls within one of the discovered NAT64 address synthesis prefixes,
          the software extracts the embedded IPv4 address and then,
          for IPv4 addresses 192.0.0.170 and 192.0.0.171, returns the fixed
   answer 'ipv4only.arpa',
          and for all other IPv4 addresses, performs a reverse mapping PTR
   query for
          the IPv4 address and then synthesizes a corresponding 'ip6.arpa'
          reverse mapping PTR record containing the same rdata.<a class="pilcrow" href="#section-7.2.1-4">¶</a></p>
</section>
</section>
</section>
<section id="section-8">
      <h2 id="name-references">
<a class="section-number selfRef" href="#section-8">8. </a><a class="section-name selfRef" href="#name-references">References</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-normative-references">
<a class="section-number selfRef" href="#section-8.1">8.1. </a><a class="section-name selfRef" href="#name-normative-references">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time class="refDate" datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3646">[RFC3646]</dt>
        <dd>
<span class="refAuthor">Droms, R., Ed.</span>, <span class="refTitle">"DNS Configuration options for Dynamic Host Configuration Protocol for IPv6 (DHCPv6)"</span>, <span class="seriesInfo">RFC 3646</span>, <span class="seriesInfo">DOI 10.17487/RFC3646</span>, <time class="refDate" datetime="2003-12">December 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3646">https://www.rfc-editor.org/info/rfc3646</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6146">[RFC6146]</dt>
        <dd>
<span class="refAuthor">Bagnulo, M.</span><span class="refAuthor">, Matthews, P.</span><span class="refAuthor">, and I. van Beijnum</span>, <span class="refTitle">"Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers"</span>, <span class="seriesInfo">RFC 6146</span>, <span class="seriesInfo">DOI 10.17487/RFC6146</span>, <time class="refDate" datetime="2011-04">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6146">https://www.rfc-editor.org/info/rfc6146</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6147">[RFC6147]</dt>
        <dd>
<span class="refAuthor">Bagnulo, M.</span><span class="refAuthor">, Sullivan, A.</span><span class="refAuthor">, Matthews, P.</span><span class="refAuthor">, and I. van Beijnum</span>, <span class="refTitle">"DNS64: DNS Extensions for Network Address Translation from IPv6 Clients to IPv4 Servers"</span>, <span class="seriesInfo">RFC 6147</span>, <span class="seriesInfo">DOI 10.17487/RFC6147</span>, <time class="refDate" datetime="2011-04">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6147">https://www.rfc-editor.org/info/rfc6147</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6761">[RFC6761]</dt>
        <dd>
<span class="refAuthor">Cheshire, S.</span><span class="refAuthor"> and M. Krochmal</span>, <span class="refTitle">"Special-Use Domain Names"</span>, <span class="seriesInfo">RFC 6761</span>, <span class="seriesInfo">DOI 10.17487/RFC6761</span>, <time class="refDate" datetime="2013-02">February 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6761">https://www.rfc-editor.org/info/rfc6761</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7050">[RFC7050]</dt>
        <dd>
<span class="refAuthor">Savolainen, T.</span><span class="refAuthor">, Korhonen, J.</span><span class="refAuthor">, and D. Wing</span>, <span class="refTitle">"Discovery of the IPv6 Prefix Used for IPv6 Address Synthesis"</span>, <span class="seriesInfo">RFC 7050</span>, <span class="seriesInfo">DOI 10.17487/RFC7050</span>, <time class="refDate" datetime="2013-11">November 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7050">https://www.rfc-editor.org/info/rfc7050</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8106">[RFC8106]</dt>
        <dd>
<span class="refAuthor">Jeong, J.</span><span class="refAuthor">, Park, S.</span><span class="refAuthor">, Beloeil, L.</span><span class="refAuthor">, and S. Madanapalli</span>, <span class="refTitle">"IPv6 Router Advertisement Options for DNS Configuration"</span>, <span class="seriesInfo">RFC 8106</span>, <span class="seriesInfo">DOI 10.17487/RFC8106</span>, <time class="refDate" datetime="2017-03">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8106">https://www.rfc-editor.org/info/rfc8106</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time class="refDate" datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-informative-references">
<a class="section-number selfRef" href="#section-8.2">8.2. </a><a class="section-name selfRef" href="#name-informative-references">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC6303">[RFC6303]</dt>
        <dd>
<span class="refAuthor">Andrews, M.</span>, <span class="refTitle">"Locally Served DNS Zones"</span>, <span class="seriesInfo">BCP 163</span>, <span class="seriesInfo">RFC 6303</span>, <span class="seriesInfo">DOI 10.17487/RFC6303</span>, <time class="refDate" datetime="2011-07">July 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6303">https://www.rfc-editor.org/info/rfc6303</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8244">[RFC8244]</dt>
        <dd>
<span class="refAuthor">Lemon, T.</span><span class="refAuthor">, Droms, R.</span><span class="refAuthor">, and W. Kumari</span>, <span class="refTitle">"Special-Use Domain Names Problem Statement"</span>, <span class="seriesInfo">RFC 8244</span>, <span class="seriesInfo">DOI 10.17487/RFC8244</span>, <time class="refDate" datetime="2017-10">October 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8244">https://www.rfc-editor.org/info/rfc8244</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8499">[RFC8499]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span><span class="refAuthor">, Sullivan, A.</span><span class="refAuthor">, and K. Fujiwara</span>, <span class="refTitle">"DNS Terminology"</span>, <span class="seriesInfo">BCP 219</span>, <span class="seriesInfo">RFC 8499</span>, <span class="seriesInfo">DOI 10.17487/RFC8499</span>, <time class="refDate" datetime="2019-01">January 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8499">https://www.rfc-editor.org/info/rfc8499</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SUDN">[SUDN]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Special-Use Domain Names"</span>, <span>&lt;<a href="https://www.iana.org/assignments/special-use-domain-names/">https://www.iana.org/assignments/special-use-domain-names/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SUv4">[SUv4]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"IANA IPv4 Special-Purpose Address Registry"</span>, <span>&lt;<a href="https://www.iana.org/assignments/iana-ipv4-special-registry/">https://www.iana.org/assignments/iana-ipv4-special-registry/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DNS1">[DNS1]</dt>
        <dd>
<span class="refAuthor">Cloudflare</span>, <span class="refTitle">"1.1.1.1 - The free app that makes your Internet safer."</span>, <span>&lt;<a href="https://1.1.1.1/">https://1.1.1.1/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DNS8">[DNS8]</dt>
        <dd>
<span class="refAuthor">Google</span>, <span class="refTitle">"Google Public DNS"</span>, <span>&lt;<a href="https://developers.google.com/speed/public-dns/">https://developers.google.com/speed/public-dns/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DNS9">[DNS9]</dt>
      <dd>
<span class="refAuthor">Quad9</span>, <span class="refTitle">"Internet Security and Privacy In a Few Easy Steps"</span>, <span>&lt;<a href="https://quad9.net/">https://quad9.net/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="app-a">
<section id="section-appendix.a">
      <h2 id="name-example-bind-9-configuratio">
<a class="section-number selfRef" href="#section-appendix.a">Appendix A. </a><a class="section-name selfRef" href="#name-example-bind-9-configuratio">Example BIND 9 Configuration</a>
      </h2>
<p id="section-appendix.a-1">A BIND 9 recursive resolver can be configured to
      act as authoritative for the necessary DNS64 names as described
      below.<a class="pilcrow" href="#section-appendix.a-1">¶</a></p>
<p id="section-appendix.a-2">In /etc/named.conf, the following line is added:<a class="pilcrow" href="#section-appendix.a-2">¶</a></p>
<div class="artwork art-text alignLeft" id="section-appendix.a-3">
<pre>   zone "ipv4only.arpa"            { type master; file "ipv4only"; };</pre><a class="pilcrow" href="#section-appendix.a-3">¶</a>
</div>
<p id="section-appendix.a-4">The file /var/named/ipv4only is created with the following content:<a class="pilcrow" href="#section-appendix.a-4">¶</a></p>
<div class="artwork art-text alignLeft" id="section-appendix.a-5">
<pre>   $TTL 86400               ; Default TTL 24 hours
   @ IN SOA nameserver.example. admin.nameserver.example. (
            2016052400      ; Serial
            7200            ; Refresh ( 7200 = 2 hours)
            3600            ; Retry   ( 3600 = 1 hour)
            15724800        ; Expire  (15724800 = 6 months)
            60              ; Minimum
            )
   @ IN NS  nameserver.example.

   @ IN A    192.0.0.170
   @ IN A    192.0.0.171
   @ IN AAAA 64:ff9b::192.0.0.170 ; If not using Well-Known Prefix
   @ IN AAAA 64:ff9b::192.0.0.171 ; place chosen NAT64 prefix here</pre><a class="pilcrow" href="#section-appendix.a-5">¶</a>
</div>
</section>
</div>
<div id="Acknowledgements">
<section id="section-appendix.b">
      <h2 id="name-acknowledgements">
<a class="section-name selfRef" href="#name-acknowledgements">Acknowledgements</a>
      </h2>
<p id="section-appendix.b-1">Thanks to <span class="contact-name">Jouni Korhonen</span>, <span class="contact-name">Teemu Savolainen</span>, and <span class="contact-name">Dan Wing</span>, for
      devising the <span><a class="xref" href="#RFC7050">NAT64 Prefix Discovery
      mechanism</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span> and for their feedback on this document.<a class="pilcrow" href="#section-appendix.b-1">¶</a></p>
<p id="section-appendix.b-2">Thanks to <span class="contact-name">Geoff Huston</span> for his feedback on this
      document.<a class="pilcrow" href="#section-appendix.b-2">¶</a></p>
<p id="section-appendix.b-3">Thanks to <span class="contact-name">Erik Kline</span> for pointing out that the
      in‑addr.arpa names are special, too.<a class="pilcrow" href="#section-appendix.b-3">¶</a></p>
<p id="section-appendix.b-4">Thanks to <span class="contact-name">Mark Andrews</span> for conclusively
      pointing out the reasons why the 'ipv4only.arpa' zone must be an
      insecure delegation in order for the <span><a class="xref" href="#RFC7050">NAT64 Prefix Discovery mechanism</a> [<a class="xref" href="#RFC7050">RFC7050</a>]</span> to
      work and for
      many other very helpful comments.<a class="pilcrow" href="#section-appendix.b-4">¶</a></p>
<p id="section-appendix.b-5">Thanks particularly to <span class="contact-name">Lorenzo Colitti</span> for an
      especially spirited hallway discussion at IETF 96 in Berlin, which lead
      directly to significant improvements in how this document presents the
      issues.<a class="pilcrow" href="#section-appendix.b-5">¶</a></p>
<p id="section-appendix.b-6">Thanks to <span class="contact-name">Scott Bradner</span>, <span class="contact-name">Bernie Volz</span>, <span class="contact-name">Barry Leiba</span>, <span class="contact-name">Mirja Kuehlewind</span>, <span class="contact-name">Suresh Krishnan</span>,
      <span class="contact-name">Benjamin Kaduk</span>, <span class="contact-name">Roman       Danyliw</span>, <span class="contact-name">Eric Vyncke</span>, and the
      other IESG reviewers for their thoughtful feedback.<a class="pilcrow" href="#section-appendix.b-6">¶</a></p>
<p id="section-appendix.b-7">Thanks to <span class="contact-name">Dave Thaler</span> and <span class="contact-name">Warren Kumari</span> for generously helping shepherd this document
      through the publication process.<a class="pilcrow" href="#section-appendix.b-7">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.c">
      <h2 id="name-authors-addresses">
<a class="section-name selfRef" href="#name-authors-addresses">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">Stuart Cheshire</span></div>
<div class="left" dir="auto"><span class="org">Apple Inc.</span></div>
<div class="left" dir="auto"><span class="street-address">One Apple Park Way</span></div>
<div class="left" dir="auto">
<span class="locality">Cupertino</span>, <span class="region">California</span> <span class="postal-code">95014</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a class="tel" href="tel:+1%20(408)%20996-1010">+1 (408) 996-1010</a>
</div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:cheshire@apple.com">cheshire@apple.com</a>
</div>
</address>
<address class="vcard">
        <div class="left" dir="auto"><span class="fn nameRole">David Schinazi</span></div>
<div class="left" dir="auto"><span class="org">Google LLC</span></div>
<div class="left" dir="auto"><span class="street-address">1600 Amphitheatre Parkway</span></div>
<div class="left" dir="auto">
<span class="locality">Mountain View</span>, <span class="region">California</span> <span class="postal-code">94043</span>
</div>
<div class="left" dir="auto"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a class="email" href="mailto:dschinazi.ietf@gmail.com">dschinazi.ietf@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>


</body></html>